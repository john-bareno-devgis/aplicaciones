{"version":3,"file":"node_modules_arcgis_core_layers_graphics_sources_support_MemorySourceWorker_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/layers/graphics/sources/support/MemorySourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{getJsonType as t,isPoint as i}from\"../../../../geometry/support/jsonUtils.js\";import{WGS84 as s}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{convertFromFeatures as n,convertToFeature as r,convertFromFeature as a}from\"../../featureConversionUtils.js\";import{initialObjectId as o,findLastObjectIdFromFeatures as l}from\"../../objectIdUtils.js\";import u from\"../../data/FeatureStore.js\";import{checkProjectionSupport as d,project as p}from\"../../data/projectionSupport.js\";import{QueryEngine as f}from\"../../data/QueryEngine.js\";import{createDefaultAttributesFunction as c,createDrawingInfo as m,createDefaultTemplate as y}from\"./clientSideDefaults.js\";import{loadGeometryEngineForSimplify as h,createFeatureEditErrorResult as g,mixAttributes as I,createFeatureEditSuccessResult as F,simplify as b}from\"./sourceUtils.js\";import j from\"../../../support/FieldsIndex.js\";import{kebabDict as E}from\"../../../support/fieldType.js\";import{getFieldDefaultLength as T,getFieldDefaultValue as _}from\"../../../support/fieldUtils.js\";import{utc as x}from\"../../../../time/timeZoneUtils.js\";const R=s,q={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:s},D={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};function O(e){return i(e)?null!=e.z:!!e.hasZ}function w(e){return i(e)?null!=e.m:!!e.hasM}class S{constructor(){this._queryEngine=null,this._nextObjectId=null}destroy(){this._queryEngine?.destroy(),this._queryEngine=this._createDefaultAttributes=null}async load(t){const i=[],{features:s}=t,n=this._inferLayerProperties(s,t.fields),r=t.fields||[],a=null!=t.hasM?t.hasM:!!n.hasM,p=null!=t.hasZ?t.hasZ:!!n.hasZ,h=!t.spatialReference&&!n.spatialReference,g=h?R:t.spatialReference||n.spatialReference,I=h?q:null,F=t.geometryType||n.geometryType,b=!F;let O=t.objectIdField||n.objectIdField,w=t.timeInfo;const S=new j(r);if(!b&&(h&&i.push({name:\"feature-layer:spatial-reference-not-found\",message:\"Spatial reference not provided or found in features. Defaults to WGS84\"}),!F))throw new e(\"feature-layer:missing-property\",\"geometryType not set and couldn't be inferred from the provided features\");if(!O)throw new e(\"feature-layer:missing-property\",\"objectIdField not set and couldn't be found in the provided fields\");if(n.objectIdField&&O!==n.objectIdField&&(i.push({name:\"feature-layer:duplicated-oid-field\",message:`Provided objectIdField \"${O}\" doesn't match the field name \"${n.objectIdField}\", found in the provided fields`}),O=n.objectIdField),O&&!n.objectIdField){const e=S.get(O);e?(O=e.name,e.type=\"esriFieldTypeOID\",e.editable=!1,e.nullable=!1):r.unshift({alias:O,name:O,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}for(const o of r){if(null==o.name&&(o.name=o.alias),null==o.alias&&(o.alias=o.name),!o.name)throw new e(\"feature-layer:invalid-field-name\",\"field name is missing\",{field:o});if(o.name===O&&(o.type=\"esriFieldTypeOID\"),!E.jsonValues.includes(o.type))throw new e(\"feature-layer:invalid-field-type\",`invalid type for field \"${o.name}\"`,{field:o});null==o.length&&(o.length=T(o))}const v={};for(const e of r)if(\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type){const t=_(e);void 0!==t&&(v[e.name]=t)}if(w){if(w.startTimeField){const e=S.get(w.startTimeField);e?(w.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):w.startTimeField=null}if(w.endTimeField){const e=S.get(w.endTimeField);e?(w.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):w.endTimeField=null}if(w.trackIdField){const e=S.get(w.trackIdField);e?w.trackIdField=e.name:(w.trackIdField=null,i.push({name:\"feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:w}}))}w.startTimeField||w.endTimeField||(i.push({name:\"feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing or invalid\",details:{timeInfo:w}}),w=null)}const Q=S.dateFields.length?{timeZoneIANA:t.dateFieldsTimeZone??x}:null;this._createDefaultAttributes=c(v,O);const M={warnings:i,featureErrors:[],layerDefinition:{...D,drawingInfo:m(F),templates:y(v),extent:I,geometryType:F,objectIdField:O,fields:r,hasZ:p,hasM:a,timeInfo:w,dateFieldsTimeReference:Q},assignedObjectIds:{}};if(this._queryEngine=new f({fieldsIndex:j.fromLayerJSON({fields:r,timeInfo:w,dateFieldsTimeReference:Q}),geometryType:F,hasM:a,hasZ:p,objectIdField:O,spatialReference:g,featureStore:new u({geometryType:F,hasM:a,hasZ:p}),timeInfo:w,cacheSpatialQueries:!0}),!s?.length)return this._nextObjectId=o,M;const Z=l(O,s);return this._nextObjectId=Z+1,await d(s,g),this._loadInitialFeatures(M,s)}async applyEdits(e){const{spatialReference:t,geometryType:i}=this._queryEngine;return await Promise.all([h(t,i),d(e.adds,t),d(e.updates,t)]),this._applyEdits(e)}queryFeatures(e,t={}){return this._queryEngine.executeQuery(e,t.signal)}queryFeatureCount(e,t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}queryObjectIds(e,t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}queryExtent(e,t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}querySnapping(e,t={}){return this._queryEngine.executeQueryForSnapping(e,t.signal)}_inferLayerProperties(e,i){let s,n,r=null,a=null,o=null;for(const l of e){const e=l.geometry;if(null!=e&&(r||(r=t(e)),a||(a=e.spatialReference),null==s&&(s=O(e)),null==n&&(n=w(e)),r&&a&&null!=s&&null!=n))break}if(i&&i.length){let e=null;i.some((t=>{const i=\"esriFieldTypeOID\"===t.type,s=!t.type&&t.name&&\"objectid\"===t.name.toLowerCase();return e=t,i||s}))&&(o=e.name)}return{geometryType:r,spatialReference:a,objectIdField:o,hasM:n,hasZ:s}}async _loadInitialFeatures(e,i){const{geometryType:s,hasM:r,hasZ:a,objectIdField:o,spatialReference:l,featureStore:u,fieldsIndex:d}=this._queryEngine,f=[];for(const n of i){if(null!=n.uid&&(e.assignedObjectIds[n.uid]=-1),n.geometry&&s!==t(n.geometry)){e.featureErrors.push(g(\"Incorrect geometry type.\"));continue}const i=this._createDefaultAttributes(),r=I(d,i,n.attributes,!0);r?e.featureErrors.push(r):(this._assignObjectId(i,n.attributes,!0),n.attributes=i,null!=n.uid&&(e.assignedObjectIds[n.uid]=n.attributes[o]),null!=n.geometry&&(n.geometry=p(n.geometry,n.geometry.spatialReference,l)),f.push(n))}u.addMany(n([],f,s,a,r,o));const{fullExtent:c,timeExtent:m}=await this._queryEngine.fetchRecomputedExtents();if(e.layerDefinition.extent=c,m){const{start:t,end:i}=m;e.layerDefinition.timeInfo.timeExtent=[t,i]}return e}async _applyEdits(e){const{adds:t,updates:i,deletes:s}=e,n={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t?.length&&this._applyAddEdits(n,t),i?.length&&this._applyUpdateEdits(n,i),s?.length){for(const e of s)n.deleteResults.push(F(e));this._queryEngine.featureStore.removeManyById(s)}const{fullExtent:r,timeExtent:a}=await this._queryEngine.fetchRecomputedExtents();return{extent:r,timeExtent:a,featureEditResults:n}}_applyAddEdits(e,i){const{addResults:s}=e,{geometryType:r,hasM:a,hasZ:o,objectIdField:l,spatialReference:u,featureStore:d,fieldsIndex:f}=this._queryEngine,c=[];for(const n of i){if(n.geometry&&r!==t(n.geometry)){s.push(g(\"Incorrect geometry type.\"));continue}const i=this._createDefaultAttributes(),a=I(f,i,n.attributes);if(a)s.push(a);else{if(this._assignObjectId(i,n.attributes),n.attributes=i,null!=n.uid){const t=n.attributes[l];e.uidToObjectId[n.uid]=t}if(null!=n.geometry){const e=n.geometry.spatialReference??u;n.geometry=p(b(n.geometry,e),e,u)}c.push(n),s.push(F(n.attributes[l]))}}d.addMany(n([],c,r,o,a,l))}_applyUpdateEdits({updateResults:e},i){const{geometryType:s,hasM:n,hasZ:o,objectIdField:l,spatialReference:u,featureStore:d,fieldsIndex:f}=this._queryEngine;for(const c of i){const{attributes:i,geometry:m}=c,y=i?.[l];if(null==y){e.push(g(`Identifier field ${l} missing`));continue}if(!d.has(y)){e.push(g(`Feature with object id ${y} missing`));continue}const h=r(d.getFeature(y),s,o,n);if(null!=m){if(s!==t(m)){e.push(g(\"Incorrect geometry type.\"));continue}const i=m.spatialReference??u;h.geometry=p(b(m,i),i,u)}if(i){const t=I(f,h.attributes,i);if(t){e.push(t);continue}}d.add(a(h,s,o,n,l)),e.push(F(y))}}_assignObjectId(e,t,i=!1){const s=this._queryEngine.objectIdField;i&&t&&isFinite(t[s])?e[s]=t[s]:e[s]=this._nextObjectId++}}export{S as default};\n"],"names":["e","getJsonType","t","isPoint","i","WGS84","s","convertFromFeatures","n","convertToFeature","r","convertFromFeature","a","initialObjectId","o","findLastObjectIdFromFeatures","l","u","checkProjectionSupport","d","project","p","QueryEngine","f","createDefaultAttributesFunction","c","createDrawingInfo","m","createDefaultTemplate","y","loadGeometryEngineForSimplify","h","createFeatureEditErrorResult","g","mixAttributes","I","createFeatureEditSuccessResult","F","simplify","b","j","kebabDict","E","getFieldDefaultLength","T","getFieldDefaultValue","_","utc","x","R","q","xmin","ymin","xmax","ymax","spatialReference","D","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","O","z","hasZ","w","hasM","S","constructor","_queryEngine","_nextObjectId","destroy","_createDefaultAttributes","load","features","_inferLayerProperties","fields","geometryType","objectIdField","timeInfo","push","name","message","get","type","editable","nullable","unshift","alias","field","jsonValues","includes","length","v","startTimeField","endTimeField","trackIdField","details","Q","dateFields","timeZoneIANA","dateFieldsTimeZone","M","warnings","featureErrors","layerDefinition","drawingInfo","templates","extent","dateFieldsTimeReference","assignedObjectIds","fieldsIndex","fromLayerJSON","featureStore","cacheSpatialQueries","Z","_loadInitialFeatures","applyEdits","Promise","all","adds","updates","_applyEdits","queryFeatures","executeQuery","signal","queryFeatureCount","executeQueryForCount","queryObjectIds","executeQueryForIds","queryExtent","executeQueryForExtent","querySnapping","executeQueryForSnapping","geometry","some","toLowerCase","uid","attributes","_assignObjectId","addMany","fullExtent","timeExtent","fetchRecomputedExtents","start","end","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","removeManyById","featureEditResults","has","getFeature","add","isFinite","default"],"sourceRoot":"webpack:///","x_google_ignoreList":[0]}