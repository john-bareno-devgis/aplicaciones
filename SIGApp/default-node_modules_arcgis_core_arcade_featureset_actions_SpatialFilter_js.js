"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["default-node_modules_arcgis_core_arcade_featureset_actions_SpatialFilter_js"],{

/***/ 5769:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/actions/SpatialFilter.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _sources_Empty_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sources/Empty.js */ 24310);
/* harmony import */ var _support_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/errorsupport.js */ 23373);
/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../support/FeatureSet.js */ 7014);
/* harmony import */ var _support_IdSet_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/IdSet.js */ 85708);
/* harmony import */ var _support_shared_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../support/shared.js */ 84940);
/* harmony import */ var _geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../geometry/geometryEngineAsync.js */ 51050);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






class f extends _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__["default"] {
  constructor(e) {
    super(e), this._relation = "", this._relationGeom = null, this._relationString = "", this.declaredClass = "esri.arcade.featureset.actions.SpatialFilter", this._relationString = e.relationString, this._parent = e.parentfeatureset, this._maxProcessing = 40, this._relation = e.relation, this._relationGeom = e.relationGeom;
  }
  _getSet(e) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (null === _this._wset) {
        yield _this._ensureLoaded();
        const t = yield _this._parent._getFilteredSet("esriSpatialRelRelation" !== _this._relation ? _this._relation : _this._relation + ":" + _this._relationString, _this._relationGeom, null, null, e);
        return _this._checkCancelled(e), _this._wset = new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_4__["default"](t._candidates.slice(0), t._known.slice(0), t._ordered, _this._clonePageDefinition(t.pagesDefinition)), _this._wset;
      }
      return _this._wset;
    })();
  }
  _isInFeatureSet(e) {
    let t = this._parent._isInFeatureSet(e);
    return t === _support_shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.NotInFeatureSet ? t : (t = this._idstates[e], void 0 === t ? _support_shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.Unknown : t);
  }
  _getFeature(e, t, i) {
    return this._parent._getFeature(e, t, i);
  }
  _getFeatures(e, t, i, r) {
    return this._parent._getFeatures(e, t, i, r);
  }
  _featureFromCache(e) {
    return this._parent._featureFromCache(e);
  }
  executeSpatialRelationTest(e) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (null === e.geometry) return !1;
      switch (_this2._relation) {
        case "esriSpatialRelEnvelopeIntersects":
          return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_6__.intersects)((0,_support_shared_js__WEBPACK_IMPORTED_MODULE_5__.shapeExtent)(_this2._relationGeom), (0,_support_shared_js__WEBPACK_IMPORTED_MODULE_5__.shapeExtent)(e.geometry));
        case "esriSpatialRelIntersects":
          return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_6__.intersects)(_this2._relationGeom, e.geometry);
        case "esriSpatialRelContains":
          return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_6__.contains)(_this2._relationGeom, e.geometry);
        case "esriSpatialRelOverlaps":
          return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_6__.overlaps)(_this2._relationGeom, e.geometry);
        case "esriSpatialRelWithin":
          return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_6__.within)(_this2._relationGeom, e.geometry);
        case "esriSpatialRelTouches":
          return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_6__.touches)(_this2._relationGeom, e.geometry);
        case "esriSpatialRelCrosses":
          return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_6__.crosses)(_this2._relationGeom, e.geometry);
        case "esriSpatialRelRelation":
          return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_6__.relate)(_this2._relationGeom, e.geometry, _this2._relationString ?? "");
      }
    })();
  }
  _fetchAndRefineFeatures(e, t, i) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const r = new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_4__["default"]([], e, !1, null),
        s = Math.min(t, e.length);
      yield _this3._parent?._getFeatures(r, -1, s, i), _this3._checkCancelled(i);
      const l = [];
      for (let n = 0; n < s; n++) {
        const t = _this3._parent._featureFromCache(e[n]);
        l.push(yield _this3.executeSpatialRelationTest(t));
      }
      for (let n = 0; n < t; n++) !0 === l[n] ? _this3._idstates[e[n]] = _support_shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.InFeatureSet : _this3._idstates[e[n]] = _support_shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.NotInFeatureSet;
      return "success";
    })();
  }
  _getFilteredSet(e, t, i, r, a) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this4._ensureLoaded();
      const s = yield _this4._parent._getFilteredSet("esriSpatialRelRelation" !== _this4._relation ? _this4._relation : _this4._relation + ":" + _this4._relationString, _this4._relationGeom, i, r, a);
      let l;
      return _this4._checkCancelled(a), l = null !== t ? new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_4__["default"](s._candidates.slice(0).concat(s._known.slice(0)), [], s._ordered, _this4._clonePageDefinition(s.pagesDefinition)) : new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_4__["default"](s._candidates.slice(0), s._known.slice(0), s._ordered, _this4._clonePageDefinition(s.pagesDefinition)), l;
    })();
  }
  _stat(e, t, i, r, n, a, s) {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if ("" !== i) return {
        calculated: !1
      };
      const l = yield _this5._parent._stat(e, t, "esriSpatialRelRelation" !== _this5._relation ? _this5._relation : _this5._relation + ":" + _this5._relationString, _this5._relationGeom, n, a, s);
      return !1 === l.calculated ? null === n && "" === i && null === r ? _this5._manualStat(e, t, a, s) : {
        calculated: !1
      } : l;
    })();
  }
  _canDoAggregates(e, t, i, r, n) {
    var _this6 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return "" === i && null === r && null !== _this6._parent && _this6._parent._canDoAggregates(e, t, "esriSpatialRelRelation" !== _this6._relation ? _this6._relation : _this6._relation + ":" + _this6._relationString, _this6._relationGeom, n);
    })();
  }
  _getAggregatePagesDataSourceDefinition(e, r, n, a, s, l, o) {
    var _this7 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (null === _this7._parent) throw new _support_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_support_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NeverReach);
      return _this7._parent._getAggregatePagesDataSourceDefinition(e, r, "esriSpatialRelRelation" !== _this7._relation ? _this7._relation : _this7._relation + ":" + _this7._relationString, _this7._relationGeom, s, l, o);
    })();
  }
  static registerAction() {
    _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]._featuresetFunctions.intersects = function (t) {
      return null == t ? new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_1__["default"]({
        parentfeatureset: this
      }) : new f({
        parentfeatureset: this,
        relation: "esriSpatialRelIntersects",
        relationGeom: t
      });
    }, _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]._featuresetFunctions.envelopeIntersects = function (t) {
      return null == t ? new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_1__["default"]({
        parentfeatureset: this
      }) : new f({
        parentfeatureset: this,
        relation: "esriSpatialRelEnvelopeIntersects",
        relationGeom: t
      });
    }, _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]._featuresetFunctions.contains = function (t) {
      return null == t ? new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_1__["default"]({
        parentfeatureset: this
      }) : new f({
        parentfeatureset: this,
        relation: "esriSpatialRelContains",
        relationGeom: t
      });
    }, _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]._featuresetFunctions.overlaps = function (t) {
      return null == t ? new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_1__["default"]({
        parentfeatureset: this
      }) : new f({
        parentfeatureset: this,
        relation: "esriSpatialRelOverlaps",
        relationGeom: t
      });
    }, _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]._featuresetFunctions.within = function (t) {
      return null == t ? new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_1__["default"]({
        parentfeatureset: this
      }) : new f({
        parentfeatureset: this,
        relation: "esriSpatialRelWithin",
        relationGeom: t
      });
    }, _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]._featuresetFunctions.touches = function (t) {
      return null == t ? new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_1__["default"]({
        parentfeatureset: this
      }) : new f({
        parentfeatureset: this,
        relation: "esriSpatialRelTouches",
        relationGeom: t
      });
    }, _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]._featuresetFunctions.crosses = function (t) {
      return null == t ? new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_1__["default"]({
        parentfeatureset: this
      }) : new f({
        parentfeatureset: this,
        relation: "esriSpatialRelCrosses",
        relationGeom: t
      });
    }, _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]._featuresetFunctions.relate = function (t, i) {
      return null == t ? new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_1__["default"]({
        parentfeatureset: this
      }) : new f({
        parentfeatureset: this,
        relation: "esriSpatialRelRelation",
        relationGeom: t,
        relationString: i
      });
    };
  }
  getFieldsIndex() {
    return this._parent.getFieldsIndex();
  }
}


/***/ }),

/***/ 24310:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/sources/Empty.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _support_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../support/errorsupport.js */ 23373);
/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/FeatureSet.js */ 7014);
/* harmony import */ var _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../support/IdSet.js */ 85708);
/* harmony import */ var _support_shared_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/shared.js */ 84940);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




class u extends _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"] {
  constructor(e) {
    super(e), this.declaredClass = "esri.layers.featureset.sources.Empty", this._maxProcessing = 1e3, this._wset = new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]([], [], !1, null), this._parent = e.parentfeatureset, this._databaseType = _support_shared_js__WEBPACK_IMPORTED_MODULE_4__.FeatureServiceDatabaseType.Standardised;
  }
  _getSet() {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this._wset;
    })();
  }
  optimisePagingFeatureQueries() {}
  _isInFeatureSet() {
    return _support_shared_js__WEBPACK_IMPORTED_MODULE_4__.IdState.NotInFeatureSet;
  }
  _getFeature() {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      throw new _support_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetError(_support_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetErrorCodes.NeverReach);
    })();
  }
  queryAttachments() {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return [];
    })();
  }
  _getFeatures() {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return "success";
    })();
  }
  _featureFromCache() {
    return null;
  }
  _fetchAndRefineFeatures() {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      throw new _support_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetError(_support_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetErrorCodes.NeverReach);
    })();
  }
  _getFilteredSet() {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]([], [], !1, null);
    })();
  }
  _stat(e, t, r, s, a, n, u) {
    return this._manualStat(e, t, n, u);
  }
  _canDoAggregates() {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return !1;
    })();
  }
}


/***/ }),

/***/ 7014:
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/FeatureSet.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cache.js */ 83865);
/* harmony import */ var _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errorsupport.js */ 23373);
/* harmony import */ var _FeatureSetIterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetIterator.js */ 28981);
/* harmony import */ var _IdSet_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./IdSet.js */ 85708);
/* harmony import */ var _shared_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shared.js */ 84940);
/* harmony import */ var _stats_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./stats.js */ 61709);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/sql/WhereClause.js */ 63981);
/* harmony import */ var _geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/geometryEngineAsync.js */ 51050);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ 68230);
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../layers/support/FieldsIndex.js */ 19346);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/











class x {
  constructor(e) {
    this.recentlyUsedQueries = null, this.featureSetQueryInterceptor = null, this._idstates = [], this._parent = null, this._wset = null, this._mainSetInUse = null, this._maxProcessing = 200, this._maxQuery = 500, this._totalCount = -1, this._databaseType = _shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.NotEvaluated, this._databaseTypeProbed = null, this.declaredRootClass = "esri.arcade.featureset.support.FeatureSet", this._featureCache = [], this.typeIdField = null, this.types = null, this.fields = null, this.geometryType = "", this.objectIdField = "", this.globalIdField = "", this.spatialReference = null, this.hasM = !1, this.hasZ = !1, this._transparent = !1, this.loaded = !1, this._loadPromise = null, this._fieldsIndex = null, this.fsetInfo = null, e?.lrucache && (this.recentlyUsedQueries = e.lrucache), e?.interceptor && (this.featureSetQueryInterceptor = e.interceptor);
  }
  optimisePagingFeatureQueries(e) {
    this._parent && this._parent.optimisePagingFeatureQueries(e);
  }
  _hasMemorySource() {
    return !0;
  }
  prop(e, t) {
    return void 0 === t ? this[e] : (void 0 !== this[e] && (this[e] = t), this);
  }
  end() {
    return null !== this._parent && !0 === this._parent._transparent ? this._parent.end() : this._parent;
  }
  _ensureLoaded() {
    return this.load();
  }
  load() {
    return null === this._loadPromise && (this._loadPromise = this.loadImpl()), this._loadPromise;
  }
  loadImpl() {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return !0 === _this._parent?.loaded ? (_this._initialiseFeatureSet(), _this) : (yield _this._parent?.load(), _this._initialiseFeatureSet(), _this);
    })();
  }
  _initialiseFeatureSet() {
    null !== this._parent ? (this.fields = this._parent.fields.slice(0), this.geometryType = this._parent.geometryType, this.objectIdField = this._parent.objectIdField, this.globalIdField = this._parent.globalIdField, this.spatialReference = this._parent.spatialReference, this.hasM = this._parent.hasM, this.hasZ = this._parent.hasZ, this.typeIdField = this._parent.typeIdField, this.types = this._parent.types) : (this.fields = [], this.typeIdField = "", this.objectIdField = "", this.globalIdField = "", this.spatialReference = new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_10__["default"]({
      wkid: 4326
    }), this.geometryType = _shared_js__WEBPACK_IMPORTED_MODULE_5__.layerGeometryEsriConstants.point);
  }
  getField(e, t) {
    let s;
    return (t = t || this.fields) && (e = e.toLowerCase(), t.some(t => (t && t.name.toLowerCase() === e && (s = t), !!s))), s;
  }
  getFieldsIndex() {
    return null === this._fieldsIndex && (this._fieldsIndex = _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromLayer({
      timeInfo: this.timeInfo,
      editFieldsInfo: this.editFieldsInfo,
      dateFieldsTimeZone: this.dateFieldsTimeZone,
      datesInUnknownTimezone: this.datesInUnknownTimezone,
      fields: this.fields
    })), this._fieldsIndex;
  }
  _maxProcessingRate() {
    return null !== this._parent ? Math.min(this._maxProcessing, this._parent._maxProcessingRate()) : Math.min(this._maxProcessing, this._maxQueryRate());
  }
  _maxQueryRate() {
    return null !== this._parent ? Math.max(this._maxQuery, this._parent._maxQueryRate()) : this._maxQuery;
  }
  _checkCancelled(e) {
    if (null != e && e.aborted) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.Cancelled);
  }
  nativeCapabilities() {
    return this._parent.nativeCapabilities();
  }
  _canDoAggregates(e, t, s, n, i) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return null !== _this2._parent && _this2._parent._canDoAggregates(e, t, s, n, i);
    })();
  }
  _getAggregatePagesDataSourceDefinition(e, n, i, a, r, l, u) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (null === _this3._parent) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NeverReach);
      return _this3._parent._getAggregatePagesDataSourceDefinition(e, n, i, a, r, l, u);
    })();
  }
  _getAgregagtePhysicalPage(e, n, i) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (null === _this4._parent) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NeverReach);
      return _this4._parent._getAgregagtePhysicalPage(e, n, i);
    })();
  }
  databaseType() {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this5._databaseType === _shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.NotEvaluated) {
        if (null !== _cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache) {
          const t = _cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache.getDatabaseType(_this5._cacheableFeatureSetSourceKey());
          if (null !== t) return t;
        }
        if (null !== _this5._databaseTypeProbed) return _this5._databaseTypeProbed;
        try {
          _this5._databaseTypeProbed = _this5._getDatabaseTypeImpl(), null !== _cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache && _cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache.setDatabaseType(_this5._cacheableFeatureSetSourceKey(), _this5._databaseTypeProbed);
        } catch (t) {
          throw null !== _cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache && _cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache.clearDatabaseType(_this5._cacheableFeatureSetSourceKey()), t;
        }
        return _this5._databaseTypeProbed;
      }
      return _this5._databaseType;
    })();
  }
  _getDatabaseTypeImpl() {
    var _this6 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const e = [{
        thetype: _shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.SqlServer,
        testwhere: "(CAST( '2015-01-01' as DATETIME) = CAST( '2015-01-01' as DATETIME)) AND OBJECTID<0"
      }, {
        thetype: _shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.Oracle,
        testwhere: "(TO_DATE('2003-11-18','YYYY-MM-DD') = TO_DATE('2003-11-18','YYYY-MM-DD')) AND OBJECTID<0"
      }, {
        thetype: _shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.StandardisedNoInterval,
        testwhere: "(date '2015-01-01 10:10:10' = date '2015-01-01 10:10:10') AND OBJECTID<0"
      }];
      for (const t of e) {
        if (!0 === (yield _this6._runDatabaseProbe(t.testwhere))) return t.thetype;
      }
      return _shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.StandardisedNoInterval;
    })();
  }
  _cacheableFeatureSetSourceKey() {
    return "MUSTBESET";
  }
  _runDatabaseProbe(e) {
    var _this7 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (null !== _this7._parent) return _this7._parent._runDatabaseProbe(e);
      throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NotImplemented);
    })();
  }
  isTable() {
    return this._parent?.isTable() ?? !1;
  }
  _featureFromCache(e) {
    if (void 0 !== this._featureCache[e]) return this._featureCache[e];
  }
  _isInFeatureSet(e) {
    return _shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.Unknown;
  }
  _getSet(e) {
    throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NotImplemented);
  }
  _getFeature(e, n, i) {
    var _this8 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this8._checkCancelled(i), void 0 !== _this8._featureFromCache(n)) return _this8._featureFromCache(n);
      if (yield _this8._getFeatures(e, n, _this8._maxProcessingRate(), i), _this8._checkCancelled(i), void 0 !== _this8._featureFromCache(n)) return _this8._featureFromCache(n);
      throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.MissingFeatures);
    })();
  }
  _getFeatureBatch(e, t) {
    var _this9 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this9._checkCancelled(t);
      const s = new _IdSet_js__WEBPACK_IMPORTED_MODULE_4__["default"]([], e, !1, null),
        n = [];
      yield _this9._getFeatures(s, -1, e.length, t), _this9._checkCancelled(t);
      for (const i of e) void 0 !== _this9._featureFromCache(i) && n.push(_this9._featureFromCache(i));
      return n;
    })();
  }
  _getFeatures(e, t, s, n) {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return "success";
    })();
  }
  _getFilteredSet(e, n, i, a, r) {
    throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NotImplemented);
  }
  _refineSetBlock(e, t, s) {
    var _this10 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!0 === _this10._checkIfNeedToExpandCandidatePage(e, _this10._maxQueryRate())) return yield _this10._expandPagedSet(e, _this10._maxQueryRate(), 0, 0, s), _this10._refineSetBlock(e, t, s);
      _this10._checkCancelled(s);
      const n = e._candidates.length;
      _this10._refineKnowns(e, t);
      let i = n - e._candidates.length;
      if (0 === e._candidates.length) return e;
      if (i >= t) return e;
      if (yield _this10._refineIfParentKnown(e, t - i, s), _this10._checkCancelled(s), _this10._refineKnowns(e, t - i), i = n - e._candidates.length, i < t && e._candidates.length > 0) {
        const n = t - i,
          a = _this10._prepareFetchAndRefineSet(e._candidates);
        return yield _this10._fetchAndRefineFeatures(a, a.length > n ? n : e._candidates.length, s), _this10._checkCancelled(s), _this10._refineKnowns(e, t - i), e;
      }
      return e;
    })();
  }
  _fetchAndRefineFeatures(e, t, s) {
    return null;
  }
  _prepareFetchAndRefineSet(e) {
    const t = [];
    for (let s = 0; s < e.length; s++) this._isPhysicalFeature(e[s]) && t.push(e[s]);
    return t;
  }
  _isPhysicalFeature(e) {
    return null === this._parent || this._parent._isPhysicalFeature(e);
  }
  _refineKnowns(e, t) {
    let s = 0,
      n = null;
    const i = [];
    t = this._maxQueryRate();
    for (let a = 0; a < e._candidates.length && "GETPAGES" !== e._candidates[a]; a++) {
      let r = !1;
      const u = this._candidateIdTransform(e._candidates[a]);
      u !== e._candidates[a] && (r = !0);
      const h = this._isInFeatureSet(u);
      if (h === _shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.InFeatureSet) !0 === r ? e._known.includes(u) || (e._known.push(u), s += 1) : (e._known.push(e._candidates[a]), s += 1), null === n ? n = {
        start: a,
        end: a
      } : n.end === a - 1 ? n.end = a : (i.push(n), n = {
        start: a,
        end: a
      });else if (h === _shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.NotInFeatureSet) null === n ? n = {
        start: a,
        end: a
      } : n.end === a - 1 ? n.end = a : (i.push(n), n = {
        start: a,
        end: a
      }), s += 1;else if (h === _shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.Unknown && (s += 1, !0 === e._ordered)) break;
      if (s >= t) break;
    }
    null !== n && i.push(n);
    for (let a = i.length - 1; a >= 0; a--) e._candidates.splice(i[a].start, i[a].end - i[a].start + 1);
  }
  _refineIfParentKnown(e, t, s) {
    const n = new _IdSet_js__WEBPACK_IMPORTED_MODULE_4__["default"]([], [], e._ordered, null);
    return n._candidates = e._candidates.slice(0), this._parent._refineSetBlock(n, t, s);
  }
  _candidateIdTransform(e) {
    return this._parent._candidateIdTransform(e);
  }
  _checkIfNeedToExpandKnownPage(e, t) {
    if (null === e.pagesDefinition) return !1;
    let s = 0;
    for (let n = e._lastFetchedIndex; n < e._known.length; n++) {
      if ("GETPAGES" === e._known[n]) return !0;
      if (void 0 === this._featureCache[e._known[n]] && (s += 1, s >= t)) break;
    }
    return !1;
  }
  _checkIfNeedToExpandCandidatePage(e, t) {
    if (null === e.pagesDefinition) return !1;
    let s = 0;
    for (let n = 0; n < e._candidates.length; n++) {
      if ("GETPAGES" === e._candidates[n]) return !0;
      if (s += 1, s >= t) break;
    }
    return !1;
  }
  _expandPagedSet(e, n, i, a, r) {
    var _this11 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (null === _this11._parent) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NotImplemented);
      return _this11._parent._expandPagedSet(e, n, i, a, r);
    })();
  }
  _expandPagedSetFeatureSet(e, t, s, n, i) {
    var _this12 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (e._known.length > 0 && "GETPAGES" === e._known[e._known.length - 1] && (n = 1), 0 === n && e._candidates.length > 0 && "GETPAGES" === e._candidates[e._candidates.length - 1] && (n = 2), 0 === n) return "finished";
      const a = yield _this12._getPage(e, n, i);
      return s + a < t ? _this12._expandPagedSet(e, t, s + a, 0, i) : "success";
    })();
  }
  _getPage(e, t, s) {
    var _this13 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const n = 1 === t ? e._known : e._candidates;
      if (e.pagesDefinition.internal.set.length > e.pagesDefinition.resultOffset || !0 === e.pagesDefinition.internal.fullyResolved) {
        n.length = n.length - 1;
        let t = 0;
        for (let i = 0; i < e.pagesDefinition.resultRecordCount && !(e.pagesDefinition.resultOffset + i >= e.pagesDefinition.internal.set.length); i++) n[n.length] = e.pagesDefinition.internal.set[e.pagesDefinition.resultOffset + i], t++;
        e.pagesDefinition.resultOffset += t;
        let s = !1;
        return !0 === e.pagesDefinition.internal.fullyResolved && e.pagesDefinition.internal.set.length <= e.pagesDefinition.resultOffset && (s = !0), !1 === s && n.push("GETPAGES"), t;
      }
      return yield _this13._getPhysicalPage(e, t, s), _this13._getPage(e, t, s);
    })();
  }
  _getPhysicalPage(e, t, s) {
    return null;
  }
  _clonePageDefinition(e) {
    return null === this._parent ? null : this._parent._clonePageDefinition(e);
  }
  _first(e) {
    return this.iterator(e).next();
  }
  first(e) {
    return this._first(e);
  }
  calculateStatistic(e, t, s, n) {
    var _this14 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this14._ensureLoaded();
      let i = yield _this14._stat(e, t, "", null, null, s, n);
      return !1 === i.calculated && (i = yield _this14._manualStat(e, t, s, n)), i.result;
    })();
  }
  _manualStat(e, t, s, n) {
    var _this15 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let i = null;
      switch (e.toLowerCase()) {
        case "count":
          return i = yield (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.count)(_this15, n), {
            calculated: !0,
            result: i
          };
        case "distinct":
          return i = yield (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.distinct)(_this15, t, s, n), {
            calculated: !0,
            result: i
          };
        case "avg":
        case "mean":
          return i = yield (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.mean)(_this15, t, n), {
            calculated: !0,
            result: i
          };
        case "stdev":
          return i = yield (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.stdev)(_this15, t, n), {
            calculated: !0,
            result: i
          };
        case "variance":
          return i = yield (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.variance)(_this15, t, n), {
            calculated: !0,
            result: i
          };
        case "sum":
          return i = yield (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.sum)(_this15, t, n), {
            calculated: !0,
            result: i
          };
        case "min":
          return i = yield (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.min)(_this15, t, n), {
            calculated: !0,
            result: i
          };
        case "max":
          return i = yield (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.max)(_this15, t, n), {
            calculated: !0,
            result: i
          };
        default:
          return {
            calculated: !0,
            result: 0
          };
      }
    })();
  }
  _stat(e, t, s, n, i, a, r) {
    var _this16 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const l = yield _this16._parent._stat(e, t, s, n, i, a, r);
      return !1 === l.calculated ? null === i && "" === s && null === n ? _this16._manualStat(e, t, a, r) : {
        calculated: !1
      } : l;
    })();
  }
  _unionAllGeomSelf(e) {
    const t = this.iterator(this._defaultTracker(e)),
      s = [];
    return new Promise((e, n) => {
      this._unionShapeInBatches(s, t, e, n);
    });
  }
  _unionAllGeom(e) {
    return new Promise((t, s) => {
      const n = this.iterator(this._defaultTracker(e)),
        i = [];
      this._unionShapeInBatches(i, n, t, s);
    });
  }
  _unionShapeInBatches(e, t, s, n) {
    t.next().then(i => {
      try {
        null !== i && null !== i.geometry && e.push(i.geometry), e.length > 30 || null === i && e.length > 1 ? (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__.union)(e).then(a => {
          try {
            null === i ? s(a) : (e = [a], this._unionShapeInBatches(e, t, s, n));
          } catch (r) {
            n(r);
          }
        }, n) : null === i ? 1 === e.length ? s(e[0]) : s(null) : this._unionShapeInBatches(e, t, s, n);
      } catch (a) {
        n(a);
      }
    }, n);
  }
  iterator(e) {
    return new _FeatureSetIterator_js__WEBPACK_IMPORTED_MODULE_3__["default"](this, e);
  }
  intersection(e, t = !1) {
    return x._featuresetFunctions.intersection.bind(this)(e, t);
  }
  difference(e, t = !1, s = !0) {
    return x._featuresetFunctions.difference.bind(this)(e, t, s);
  }
  symmetricDifference(e, t = !1, s = !0) {
    return x._featuresetFunctions.symmetricDifference.bind(this)(e, t, s);
  }
  morphShape(e, t, s = "unknown", n = null) {
    return x._featuresetFunctions.morphShape.bind(this)(e, t, s, n);
  }
  morphShapeAndAttributes(e, t, s = "unknown") {
    return x._featuresetFunctions.morphShapeAndAttributes.bind(this)(e, t, s);
  }
  union(e, t = !1) {
    return x._featuresetFunctions.union.bind(this)(e, t);
  }
  intersects(e) {
    return x._featuresetFunctions.intersects.bind(this)(e);
  }
  envelopeIntersects(e) {
    return x._featuresetFunctions.envelopeIntersects.bind(this)(e);
  }
  contains(e) {
    return x._featuresetFunctions.contains.bind(this)(e);
  }
  overlaps(e) {
    return x._featuresetFunctions.overlaps.bind(this)(e);
  }
  relate(e, t) {
    return x._featuresetFunctions.relate.bind(this)(e, t);
  }
  within(e) {
    return x._featuresetFunctions.within.bind(this)(e);
  }
  touches(e) {
    return x._featuresetFunctions.touches.bind(this)(e);
  }
  top(e) {
    return x._featuresetFunctions.top.bind(this)(e);
  }
  crosses(e) {
    return x._featuresetFunctions.crosses.bind(this)(e);
  }
  buffer(e, t, s, n = !0) {
    return x._featuresetFunctions.buffer.bind(this)(e, t, s, n);
  }
  filter(e, t = null) {
    return x._featuresetFunctions.filter.bind(this)(e, t);
  }
  orderBy(e) {
    return x._featuresetFunctions.orderBy.bind(this)(e);
  }
  dissolve(e, t) {
    return x._featuresetFunctions.dissolve.bind(this)(e, t);
  }
  groupby(e, t) {
    return x._featuresetFunctions.groupby.bind(this)(e, t);
  }
  reduce(e, t = null, s) {
    return new Promise((n, i) => {
      this._reduceImpl(this.iterator(this._defaultTracker(s)), e, t, 0, n, i, 0);
    });
  }
  _reduceImpl(e, t, s, n, i, a, r) {
    try {
      if (++r > 1e3) return void setTimeout(() => {
        r = 0, this._reduceImpl(e, t, s, n, i, a, r);
      });
      e.next().then(l => {
        try {
          if (null === l) i(s);else {
            const u = t(s, l, n, this);
            (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPromiseLike)(u) ? u.then(s => {
              this._reduceImpl(e, t, s, n + 1, i, a, r);
            }, a) : this._reduceImpl(e, t, u, n + 1, i, a, r);
          }
        } catch (u) {
          a(u);
        }
      }, a);
    } catch (l) {
      a(l);
    }
  }
  removeField(e) {
    return x._featuresetFunctions.removeField.bind(this)(e);
  }
  addField(e, t, s = null) {
    return x._featuresetFunctions.addField.bind(this)(e, t, s);
  }
  sumArea(e, t = !1, s) {
    const n = (0,_shared_js__WEBPACK_IMPORTED_MODULE_5__.convertSquareUnitsToCode)(e);
    return this.reduce((e, s) => null === s.geometry ? 0 : t ? (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__.geodesicArea)(s.geometry, n).then(t => e + t) : (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__.planarArea)(s.geometry, n).then(t => e + t), 0, s);
  }
  sumLength(e, t = !1, s) {
    const n = (0,_shared_js__WEBPACK_IMPORTED_MODULE_5__.convertLinearUnitsToCode)(e);
    return this.reduce((e, s) => null === s.geometry ? 0 : t ? (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__.geodesicLength)(s.geometry, n).then(t => e + t) : (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__.planarLength)(s.geometry, n).then(t => e + t), 0, s);
  }
  _substituteVars(e, t) {
    if (null !== t) {
      const s = {};
      for (const e in t) s[e.toLowerCase()] = t[e];
      e.parameters = s;
    }
  }
  distinct(e, t = 1e3, s = null, n) {
    var _this17 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this17.load();
      const i = _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e, _this17.getFieldsIndex(), _this17.dateFieldsTimeZoneDefaultUTC);
      return _this17._substituteVars(i, s), _this17.calculateStatistic("distinct", i, t, _this17._defaultTracker(n));
    })();
  }
  min(e, t = null, s) {
    var _this18 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this18.load();
      const n = _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e, _this18.getFieldsIndex(), _this18.dateFieldsTimeZoneDefaultUTC);
      return _this18._substituteVars(n, t), _this18.calculateStatistic("min", n, -1, _this18._defaultTracker(s));
    })();
  }
  max(e, t = null, s) {
    var _this19 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this19.load();
      const n = _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e, _this19.getFieldsIndex(), _this19.dateFieldsTimeZoneDefaultUTC);
      return _this19._substituteVars(n, t), _this19.calculateStatistic("max", n, -1, _this19._defaultTracker(s));
    })();
  }
  avg(e, t = null, s) {
    var _this20 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this20.load();
      const n = _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e, _this20.getFieldsIndex(), _this20.dateFieldsTimeZoneDefaultUTC);
      return _this20._substituteVars(n, t), _this20.calculateStatistic("avg", n, -1, _this20._defaultTracker(s));
    })();
  }
  sum(e, t = null, s) {
    var _this21 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this21.load();
      const n = _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e, _this21.getFieldsIndex(), _this21.dateFieldsTimeZoneDefaultUTC);
      return _this21._substituteVars(n, t), _this21.calculateStatistic("sum", n, -1, _this21._defaultTracker(s));
    })();
  }
  stdev(e, t = null, s) {
    var _this22 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this22.load();
      const n = _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e, _this22.getFieldsIndex(), _this22.dateFieldsTimeZoneDefaultUTC);
      return _this22._substituteVars(n, t), _this22.calculateStatistic("stdev", n, -1, _this22._defaultTracker(s));
    })();
  }
  variance(e, t = null, s) {
    var _this23 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this23.load();
      const n = _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e, _this23.getFieldsIndex(), _this23.dateFieldsTimeZoneDefaultUTC);
      return _this23._substituteVars(n, t), _this23.calculateStatistic("variance", n, -1, _this23._defaultTracker(s));
    })();
  }
  count(e) {
    var _this24 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this24.load(), _this24.calculateStatistic("count", _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create("1", _this24.getFieldsIndex(), _this24.dateFieldsTimeZoneDefaultUTC), -1, _this24._defaultTracker(e));
    })();
  }
  _defaultTracker(e) {
    return e ?? {
      aborted: !1
    };
  }
  forEach(e, t) {
    return new Promise((s, n) => {
      this._forEachImpl(this.iterator(this._defaultTracker(t)), e, this, s, n, 0);
    });
  }
  _forEachImpl(e, t, s, n, i, a) {
    try {
      if (++a > 1e3) return void setTimeout(() => {
        a = 0, this._forEachImpl(e, t, s, n, i, a);
      }, 0);
      e.next().then(r => {
        try {
          if (null === r) n(s);else {
            const l = t(r);
            null == l ? this._forEachImpl(e, t, s, n, i, a) : (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPromiseLike)(l) ? l.then(() => {
              try {
                this._forEachImpl(e, t, s, n, i, a);
              } catch (r) {
                i(r);
              }
            }, i) : this._forEachImpl(e, t, s, n, i, a);
          }
        } catch (l) {
          i(l);
        }
      }, i);
    } catch (r) {
      i(r);
    }
  }
  convertToJSON(e) {
    const t = {
      layerDefinition: {
        geometryType: this.geometryType,
        fields: []
      },
      featureSet: {
        features: [],
        geometryType: this.geometryType
      }
    };
    for (let s = 0; s < this.fields.length; s++) t.layerDefinition.fields.push((0,_shared_js__WEBPACK_IMPORTED_MODULE_5__.esriFieldToJson)(this.fields[s]));
    return this.reduce((e, s) => {
      const n = {
        geometry: s.geometry?.toJSON(),
        attributes: {}
      };
      for (const t in s.attributes) n.attributes[t] = s.attributes[t];
      return t.featureSet.features.push(n), 1;
    }, 0, e).then(() => t);
  }
  castToText(e = !1) {
    return "object, FeatureSet";
  }
  queryAttachments(e, t, s, n, i) {
    return this._parent.queryAttachments(e, t, s, n, i);
  }
  serviceUrl() {
    return this._parent.serviceUrl();
  }
  subtypes() {
    return this.typeIdField ? {
      subtypeField: this.typeIdField,
      subtypes: this.types ? this.types.map(e => ({
        name: e.name,
        code: e.id
      })) : []
    } : null;
  }
  relationshipMetaData() {
    return this._parent.relationshipMetaData();
  }
  get gdbVersion() {
    return this._parent ? this._parent.gdbVersion : "";
  }
  schema() {
    const e = [];
    for (const t of this.fields) e.push((0,_shared_js__WEBPACK_IMPORTED_MODULE_5__.esriFieldToJson)(t));
    return {
      objectIdField: this.objectIdField,
      globalIdField: this.globalIdField,
      geometryType: void 0 === _shared_js__WEBPACK_IMPORTED_MODULE_5__.layerGeometryEsriRestConstants[this.geometryType] ? "esriGeometryNull" : _shared_js__WEBPACK_IMPORTED_MODULE_5__.layerGeometryEsriRestConstants[this.geometryType],
      fields: e
    };
  }
  convertToText(e, t) {
    var _this25 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if ("schema" === e) return yield _this25._ensureLoaded(), JSON.stringify(_this25.schema());
      if ("featureset" === e) {
        yield _this25._ensureLoaded();
        const e = [];
        yield _this25.reduce((t, s) => {
          const n = {
            geometry: s.geometry ? s.geometry.toJSON() : null,
            attributes: s.attributes
          };
          return null !== n.geometry && n.geometry.spatialReference && delete n.geometry.spatialReference, e.push(n), 1;
        }, 0, t);
        const s = _this25.schema();
        return s.features = e, s.spatialReference = _this25.spatialReference.toJSON(), JSON.stringify(s);
      }
      return _this25.castToText();
    })();
  }
  getFeatureByObjectId(e, t) {
    return this._parent.getFeatureByObjectId(e, t);
  }
  getOwningSystemUrl() {
    return this._parent.getOwningSystemUrl();
  }
  getIdentityUser() {
    return this._parent.getIdentityUser();
  }
  getRootFeatureSet() {
    return null !== this._parent ? this._parent.getRootFeatureSet() : this;
  }
  getDataSourceFeatureSet() {
    return null !== this._parent ? this._parent.getDataSourceFeatureSet() : this;
  }
  castAsJson(e = null) {
    return "keeptype" === e?.featureset ? this : "none" === e?.featureset ? null : {
      type: "FeatureSet"
    };
  }
  castAsJsonAsync(e = null, t = null) {
    var _this26 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if ("keeptype" === t?.featureset) return _this26;
      if ("schema" === t?.featureset) return yield _this26._ensureLoaded(), JSON.parse(JSON.stringify(_this26.schema()));
      if ("none" === t?.featureset) return null;
      yield _this26._ensureLoaded();
      const s = [];
      yield _this26.reduce((e, n) => {
        const i = {
          geometry: n.geometry ? !0 === t?.keepGeometryType ? n.geometry : n.geometry.toJSON() : null,
          attributes: n.attributes
        };
        return null !== i.geometry && i.geometry.spatialReference && !0 !== t?.keepGeometryType && delete i.geometry.spatialReference, s.push(i), 1;
      }, 0, e);
      const n = _this26.schema();
      return n.features = s, n.spatialReference = !0 === t?.keepGeometryType ? _this26.spatialReference : _this26.spatialReference?.toJSON(), n;
    })();
  }
  fieldTimeZone(e) {
    return this.getFieldsIndex().getTimeZone(e);
  }
  get preferredTimeZone() {
    return this._parent?.preferredTimeZone ?? null;
  }
  get dateFieldsTimeZone() {
    return this._parent?.dateFieldsTimeZone ?? null;
  }
  get dateFieldsTimeZoneDefaultUTC() {
    if (this.datesInUnknownTimezone) return "unknown";
    const e = this.dateFieldsTimeZone ?? "UTC";
    return "" === e ? "UTC" : e;
  }
  get datesInUnknownTimezone() {
    return this._parent.datesInUnknownTimezone;
  }
  get editFieldsInfo() {
    return this._parent?.editFieldsInfo ?? null;
  }
  get timeInfo() {
    return this._parent?.timeInfo ?? null;
  }
  set featureSetInfo(e) {
    this.fsetInfo = e;
  }
  getFeatureSetInfo() {
    var _this27 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this27.fsetInfo ?? (yield _this27._parent?.getFeatureSetInfo()) ?? null;
    })();
  }
}
x._featuresetFunctions = {};


/***/ }),

/***/ 28981:
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/FeatureSetIterator.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _Feature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Feature.js */ 26214);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class e {
  constructor(t, e) {
    this._lastId = -1, this._progress = e, this._parent = t;
  }
  reset() {
    this._lastId = -1;
  }
  nextBatchAsArcadeFeatures(e, s) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const n = yield _this.nextBatch(e);
      return null === n ? n : n.map(e => _Feature_js__WEBPACK_IMPORTED_MODULE_1__["default"].createFromGraphicLikeObject(e.geometry, e.attributes, _this._parent, s));
    })();
  }
  nextBatch(t) {
    if (null !== this._parent._mainSetInUse) return this._parent._mainSetInUse.then(e => this.nextBatch(t), e => this.nextBatch(t));
    const e = {
        returnpromise: null,
        hasset: !1
      },
      s = [];
    return e.returnpromise = new Promise((n, a) => {
      this._parent._getSet(this._progress).then(r => {
        const i = r._known;
        let h = i.length - 1;
        if ("GETPAGES" === i[i.length - 1] && (h -= 1), this._lastId + t > h && i.length > 0 && "GETPAGES" === i[i.length - 1]) return void this._parent._expandPagedSet(r, this._parent._maxQueryRate(), 0, 0, this._progress).then(s => {
          e.hasset = !0, this._parent._mainSetInUse = null, this.nextBatch(t).then(n, a);
        }, t => {
          e.hasset = !0, this._parent._mainSetInUse = null, a(t);
        });
        const _ = r._candidates;
        if (h >= this._lastId + t || 0 === _.length) {
          for (let e = 0; e < t; e++) {
            const t = e + this._lastId + 1;
            if (t >= i.length) break;
            s[e] = i[t];
          }
          return this._lastId += s.length, 0 === s.length && (e.hasset = !0, this._parent._mainSetInUse = null, n([])), void this._parent._getFeatureBatch(s, this._progress).then(t => {
            e.hasset = !0, this._parent._mainSetInUse = null, n(t);
          }, t => {
            e.hasset = !0, this._parent._mainSetInUse = null, a(t);
          });
        }
        this._parent._refineSetBlock(r, this._parent._maxProcessingRate(), this._progress).then(() => {
          e.hasset = !0, this._parent._mainSetInUse = null, this.nextBatch(t).then(n, a);
        }, t => {
          e.hasset = !0, this._parent._mainSetInUse = null, a(t);
        });
      }, t => {
        e.hasset = !0, this._parent._mainSetInUse = null, a(t);
      });
    }), !1 === e.hasset && (this._parent._mainSetInUse = e.returnpromise, e.hasset = !0), e.returnpromise;
  }
  next() {
    if (null !== this._parent._mainSetInUse) return this._parent._mainSetInUse.then(t => this.next(), t => this.next());
    const t = {
      returnpromise: null,
      hasset: !1
    };
    return t.returnpromise = new Promise((e, s) => {
      this._parent._getSet(this._progress).then(n => {
        const a = n._known;
        if (this._lastId < a.length - 1) "GETPAGES" === a[this._lastId + 1] ? this._parent._expandPagedSet(n, this._parent._maxQueryRate(), 0, 0, this._progress).then(e => (t.hasset = !0, this._parent._mainSetInUse = null, this.next())).then(e, s) : (this._lastId += 1, this._parent._getFeature(n, a[this._lastId], this._progress).then(s => {
          t.hasset = !0, this._parent._mainSetInUse = null, e(s);
        }, e => {
          t.hasset = !0, this._parent._mainSetInUse = null, s(e);
        }));else {
          n._candidates.length > 0 ? this._parent._refineSetBlock(n, this._parent._maxProcessingRate(), this._progress).then(() => {
            t.hasset = !0, this._parent._mainSetInUse = null, this.next().then(e, s);
          }, e => {
            t.hasset = !0, this._parent._mainSetInUse = null, s(e);
          }) : (t.hasset = !0, this._parent._mainSetInUse = null, e(null));
        }
      }, e => {
        t.hasset = !0, this._parent._mainSetInUse = null, s(e);
      });
    }), !1 === t.hasset && (this._parent._mainSetInUse = t.returnpromise, t.hasset = !0), t.returnpromise;
  }
  count() {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (-1 !== _this2._parent._totalCount) return _this2._parent._totalCount;
      const t = yield _this2._parent._getSet(_this2._progress),
        e = yield _this2._refineAllSets(t);
      return _this2._parent._totalCount = e._known.length, _this2._parent._totalCount;
    })();
  }
  _refineAllSets(t) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (t._known.length > 0 && "GETPAGES" === t._known[t._known.length - 1]) return yield _this3._parent._expandPagedSet(t, _this3._parent._maxQueryRate(), 0, 1, _this3._progress), _this3._refineAllSets(t);
      if (t._candidates.length > 0) {
        if ("GETPAGES" === t._known[t._candidates.length - 1]) return yield _this3._parent._expandPagedSet(t, _this3._parent._maxQueryRate(), 0, 2, _this3._progress), _this3._refineAllSets(t);
        const e = yield _this3._parent._refineSetBlock(t, _this3._parent._maxProcessingRate(), _this3._progress);
        return e._candidates.length > 0 ? _this3._refineAllSets(e) : e;
      }
      return t;
    })();
  }
}


/***/ }),

/***/ 85708:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/IdSet.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t {
  constructor(t, s, e, i) {
    this._lastFetchedIndex = 0, this._ordered = !1, this.pagesDefinition = null, this._candidates = t, this._known = s, this._ordered = e, this.pagesDefinition = i;
  }
}


/***/ }),

/***/ 83865:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/cache.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class a {
  constructor() {
    this._databaseTypeMetaData = {}, this._layerInfo = {};
  }
  clearDatabaseType(a) {
    void 0 === this._databaseTypeMetaData[a] && delete this._databaseTypeMetaData[a];
  }
  getDatabaseType(a) {
    return "MUSTBESET" === a || void 0 === this._databaseTypeMetaData[a] ? null : this._databaseTypeMetaData[a];
  }
  setDatabaseType(a, e) {
    this._databaseTypeMetaData[a] = e;
  }
  getLayerInfo(a) {
    return void 0 === this._layerInfo[a] ? null : this._layerInfo[a];
  }
  setLayerInfo(a, e) {
    this._layerInfo[a] = e;
  }
  clearLayerInfo(a) {
    void 0 !== this._layerInfo[a] && delete this._layerInfo[a];
  }
}
a.applicationCache = null;


/***/ }),

/***/ 48697:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/sqlUtils.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "arcadeDateOnlyToSqlString": () => (/* binding */ S),
/* harmony export */   "arcadeDateToSqlString": () => (/* binding */ T),
/* harmony export */   "combine": () => (/* binding */ g),
/* harmony export */   "convertIntervalToSql": () => (/* binding */ F),
/* harmony export */   "isSingleField": () => (/* binding */ D),
/* harmony export */   "makeSqlFromDateTimeParameter": () => (/* binding */ w),
/* harmony export */   "makeTimeString": () => (/* binding */ E),
/* harmony export */   "makeToday": () => (/* binding */ L),
/* harmony export */   "predictType": () => (/* binding */ I),
/* harmony export */   "reformulateWithoutField": () => (/* binding */ m),
/* harmony export */   "scanForField": () => (/* binding */ v),
/* harmony export */   "toWhereClause": () => (/* binding */ f),
/* harmony export */   "toWhereClauseFromTree": () => (/* binding */ p),
/* harmony export */   "translateFunctionToDatabaseSpecific": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ArcadeDate.js */ 82734);
/* harmony import */ var _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errorsupport.js */ 23373);
/* harmony import */ var _shared_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shared.js */ 84940);
/* harmony import */ var _core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/sql/TimeOnly.js */ 41843);
/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/sql/WhereClause.js */ 63981);
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! luxon */ 20020);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






function f(e, r) {
  return h(e?.parseTree, r, e?.parameters);
}
function p(e, r, t) {
  return h(e, r, t);
}
function m(e, r, t, s) {
  return _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause.create(h(e.parseTree, _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Standardised, e.parameters, r, t), s, e.timeZone);
}
function g(e, r, t = "AND") {
  return _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause.create("((" + f(e, _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Standardised) + ")" + t + "(" + f(r, _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Standardised) + "))", e.fieldsIndex, e.timeZone);
}
function h(e, l, u, d = null, f = null) {
  let p, m, g, I;
  switch (e.type) {
    case "interval":
      return F(h(e.value, l, u, d, f), e.qualifier, e.op);
    case "case-expression":
      {
        let r = " CASE ";
        "simple" === e.format && (r += h(e.operand, l, u, d, f));
        for (let t = 0; t < e.clauses.length; t++) r += " WHEN " + h(e.clauses[t].operand, l, u, d, f) + " THEN " + h(e.clauses[t].value, l, u, d, f);
        return null !== e.else && (r += " ELSE " + h(e.else, l, u, d, f)), r += " END ", r;
      }
    case "parameter":
      {
        const r = u[e.value.toLowerCase()];
        if ("string" == typeof r) {
          return "'" + u[e.value.toLowerCase()].toString().replaceAll("'", "''") + "'";
        }
        if ((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isDate)(r)) return w(r, l);
        if ((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isLuxonDate)(r)) return w(r, l);
        if ((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isArcadeTime)(r)) return E(r, l);
        if ((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isArcadeDate)(r)) return T(r, l);
        if ((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isArcadeDateOnly)(r)) return S(r, l);
        if (r instanceof Array) {
          const e = [];
          for (let t = 0; t < r.length; t++) "string" == typeof r[t] ? e.push("'" + r[t].toString().replaceAll("'", "''") + "'") : (0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isDate)(r[t]) || (0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isLuxonDate)(r[t]) ? e.push(w(r[t], l)) : (0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isArcadeTime)(r[t]) ? e.push(E(r[t], l)) : (0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isArcadeDate)(r[t]) ? e.push(T(r[t], l)) : (0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isArcadeDateOnly)(r[t]) ? e.push(S(r[t], l)) : e.push(r[t].toString());
          return e;
        }
        return r.toString();
      }
    case "expression-list":
      m = [];
      for (const r of e.value) m.push(h(r, l, u, d, f));
      return m;
    case "unary-expression":
      return " ( NOT " + h(e.expr, l, u, d, f) + " ) ";
    case "binary-expression":
      switch (e.operator) {
        case "AND":
          return " (" + h(e.left, l, u, d, f) + " AND " + h(e.right, l, u, d, f) + ") ";
        case "OR":
          return " (" + h(e.left, l, u, d, f) + " OR " + h(e.right, l, u, d, f) + ") ";
        case "IS":
          if ("null" !== e.right.type) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.UnsupportedIsRhs);
          return " (" + h(e.left, l, u, d, f) + " IS NULL )";
        case "ISNOT":
          if ("null" !== e.right.type) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.UnsupportedIsRhs);
          return " (" + h(e.left, l, u, d, f) + " IS NOT NULL )";
        case "IN":
          return p = [], "expression-list" === e.right.type ? (p = h(e.right, l, u, d, f), " (" + h(e.left, l, u, d, f) + " IN (" + p.join(",") + ")) ") : (I = h(e.right, l, u, d, f), I instanceof Array ? " (" + h(e.left, l, u, d, f) + " IN (" + I.join(",") + ")) " : " (" + h(e.left, l, u, d, f) + " IN (" + I + ")) ");
        case "NOT IN":
          return p = [], "expression-list" === e.right.type ? (p = h(e.right, l, u, d, f), " (" + h(e.left, l, u, d, f) + " NOT IN (" + p.join(",") + ")) ") : (I = h(e.right, l, u, d, f), I instanceof Array ? " (" + h(e.left, l, u, d, f) + " NOT IN (" + I.join(",") + ")) " : " (" + h(e.left, l, u, d, f) + " NOT IN (" + I + ")) ");
        case "BETWEEN":
          return g = h(e.right, l, u, d, f), " (" + h(e.left, l, u, d, f) + " BETWEEN " + g[0] + " AND " + g[1] + " ) ";
        case "NOTBETWEEN":
          return g = h(e.right, l, u, d, f), " (" + h(e.left, l, u, d, f) + " NOT BETWEEN " + g[0] + " AND " + g[1] + " ) ";
        case "LIKE":
          return "" !== e.escape ? " (" + h(e.left, l, u, d, f) + " LIKE " + h(e.right, l, u, d, f) + " ESCAPE '" + e.escape + "') " : " (" + h(e.left, l, u, d, f) + " LIKE " + h(e.right, l, u, d, f) + ") ";
        case "NOT LIKE":
          return "" !== e.escape ? " (" + h(e.left, l, u, d, f) + " NOT LIKE " + h(e.right, l, u, d, f) + " ESCAPE '" + e.escape + "') " : " (" + h(e.left, l, u, d, f) + " NOT LIKE " + h(e.right, l, u, d, f) + ") ";
        case "<>":
        case "<":
        case ">":
        case ">=":
        case "<=":
        case "=":
        case "*":
        case "-":
        case "+":
        case "/":
          return " (" + h(e.left, l, u, d, f) + " " + e.operator + " " + h(e.right, l, u, d, f) + ") ";
        case "||":
          return " (" + h(e.left, l, u, d, f) + " " + (l === _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.SqlServer ? "+" : e.operator) + " " + h(e.right, l, u, d, f) + ") ";
      }
      throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.UnsupportedOperator, {
        operator: e.operator
      });
    case "null":
      return "null";
    case "boolean":
      return !0 === e.value ? "1" : "0";
    case "string":
      return "'" + e.value.toString().replaceAll("'", "''") + "'";
    case "timestamp":
      return `timestamp '${e.value}'`;
    case "date":
      return `date '${e.value}'`;
    case "time":
      return `time '${e.value}'`;
    case "number":
      return e.value.toString();
    case "current-time":
      return L("date" === e.mode, l);
    case "column-reference":
      return d ? d.toLowerCase() === e.column.toLowerCase() ? "(" + f + ")" : !0 === e.delimited ? `"${e.column.split('"').join('""')}"` : e.column : e.column;
    case "data-type":
      return e.value;
    case "function":
      {
        const r = h(e.args, l, u, d, f);
        return y(e.name, r, l);
      }
  }
  throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.UnsupportedSyntax, {
    node: e.type
  });
}
function y(e, s, n) {
  switch (e.toLowerCase().trim()) {
    case "cos":
    case "sin":
    case "tan":
    case "cosh":
    case "tanh":
    case "sinh":
    case "acos":
    case "asin":
    case "atan":
    case "floor":
    case "log10":
    case "log":
    case "abs":
      if (1 !== s.length) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.InvalidFunctionParameters, {
        function: e.toLowerCase().trim()
      });
      return `${e.toUpperCase().trim()}(${s[0]})`;
    case "ceiling":
    case "ceil":
      if (1 !== s.length) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.InvalidFunctionParameters, {
        function: "ceiling"
      });
      switch (n) {
        case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Standardised:
        case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.StandardisedNoInterval:
      }
      return "CEILING(" + s[0] + ")";
    case "mod":
    case "power":
    case "nullif":
      if (2 !== s.length) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.InvalidFunctionParameters, {
        function: e.toLowerCase().trim()
      });
      return `${e.toUpperCase().trim()}(${s[0]},${s[1]})`;
    case "round":
      if (2 === s.length) return "ROUND(" + s[0] + "," + s[1] + ")";
      if (1 === s.length) return "ROUND(" + s[0] + ")";
      throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.InvalidFunctionParameters, {
        function: "round"
      });
    case "truncate":
      if (s.length < 1 || s.length > 2) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.InvalidFunctionParameters, {
        function: "truncate"
      });
      return n === _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.SqlServer ? "ROUND(" + s[0] + (1 === s.length ? "0" : "," + s[1]) + ",1)" : "TRUNCATE(" + s[0] + (1 === s.length ? ")" : "," + s[1] + ")");
    case "char_length":
    case "len":
      if (1 !== s.length) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.InvalidFunctionParameters, {
        function: "char_length"
      });
      switch (n) {
        case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.SqlServer:
          return "LEN(" + s[0] + ")";
        case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Oracle:
          return "LENGTH(" + s[0] + ")";
        default:
          return "CHAR_LENGTH(" + s[0] + ")";
      }
    case "coalesce":
    case "concat":
      {
        if (s.length < 1) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.InvalidFunctionParameters, {
          function: e.toLowerCase()
        });
        let a = e.toUpperCase().trim() + "(";
        for (let e = 0; e < s.length; e++) 0 !== e && (a += ","), a += s[e];
        return a += ")", a;
      }
    case "lower":
    case "lcase":
      if (1 !== s.length) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.InvalidFunctionParameters, {
        function: "lower"
      });
      return "LOWER(" + s[0] + ")";
    case "upper":
    case "ucase":
      if (1 !== s.length) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.InvalidFunctionParameters, {
        function: "upper"
      });
      return "UPPER(" + s[0] + ")";
    case "substring":
      {
        let e = "";
        switch (n) {
          case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Oracle:
            return e = "SUBSTR(" + s[0] + "," + s[1], 3 === s.length && (e += "," + s[2]), e += ")", e;
          case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.SqlServer:
            return e = 3 === s.length ? "SUBSTRING(" + s[0] + "," + s[1] + "," + s[2] + ")" : "SUBSTRING(" + s[0] + ",  " + s[1] + ", LEN(" + s[0] + ") - " + s[1] + ")", e;
          default:
            return e = "SUBSTRING(" + s[0] + " FROM " + s[1], 3 === s.length && (e += " FOR " + s[2]), e += ")", e;
        }
      }
    case "extract":
      return "EXTRACT(" + s[0].replaceAll("'", "") + " FROM " + s[1] + ")";
    case "cast":
      {
        let e = "";
        switch (n) {
          case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Oracle:
            switch (s[1].type) {
              case "date":
                e = "DATE";
                break;
              case "float":
                e = "DOUBLE";
                break;
              case "integer":
                e = "INTEGER";
                break;
              case "real":
                e = "REAL";
                break;
              case "smallint":
                e = "SMALLINT";
                break;
              case "timestamp":
                e = "TIMESTAMP";
                break;
              case "varchar":
                e = "VARCHAR(" + s[1].size.toString() + ")";
            }
            return `CAST(${s[0]} AS ${e})`;
          case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Postgres:
            switch (s[1].type) {
              case "date":
                e = "DATE";
                break;
              case "float":
                e = "DOUBLE PRECISION";
                break;
              case "integer":
                e = "INT";
                break;
              case "real":
                e = "REAL";
                break;
              case "smallint":
                e = "SMALLINT";
                break;
              case "timestamp":
                e = "TIMESTAMP";
                break;
              case "varchar":
                e = "VARCHAR(" + s[1].size.toString() + ")";
            }
            return `CAST(${s[0]} AS ${e})`;
          case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.SqlServer:
            switch (s[1].type) {
              case "date":
                e = "DATE";
                break;
              case "float":
                e = "FLOAT";
                break;
              case "integer":
                e = "INT";
                break;
              case "real":
                e = "REAL";
                break;
              case "smallint":
                e = "SMALLINT";
                break;
              case "timestamp":
                e = "DATETIME";
                break;
              case "varchar":
                e = "VARCHAR(" + s[1].size.toString() + ")";
            }
            return `CAST(${s[0]} AS ${e})`;
          default:
            switch (s[1].type) {
              case "date":
                e = "DATE";
                break;
              case "float":
                e = "FLOAT";
                break;
              case "integer":
                e = "INTEGER";
                break;
              case "real":
                e = "REAL";
                break;
              case "smallint":
                e = "SMALLINT";
                break;
              case "timestamp":
                e = "TIMESTAMP";
                break;
              case "varchar":
                e = "VARCHAR(" + s[1].size.toString() + ")";
            }
            return `CAST(${s[0]} AS ${e})`;
        }
      }
  }
  throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.InvalidFunctionParameters, {
    function: e
  });
}
function T(e, r) {
  const t = e.toDateTime(),
    s = 0 === t.hour && 0 === t.minute && 0 === t.second && 0 === t.millisecond;
  switch (r) {
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.FILEGDB:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Standardised:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.StandardisedNoInterval:
      return s ? `date '${t.toFormat("yyyy-LL-dd")}'` : `timestamp '${t.toFormat("yyyy-LL-dd HH:mm:ss")}'`;
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Oracle:
      return s ? `TO_DATE('${t.toFormat("yyyy-LL-dd")}','YYYY-MM-DD')` : `TO_DATE('${t.toFormat("yyyy-LL-dd HH:mm:ss")}','YYYY-MM-DD HH24:MI:SS')`;
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.SqlServer:
      return `'${t.toFormat(s ? "yyyy-LL-dd" : "yyyy-LL-dd HH:mm:ss")}'`;
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.PGDB:
      return `#${t.toFormat(s ? "LL-dd-yyyy" : "LL-dd-yyyy HH:mm:ss")}#`;
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Postgres:
      return `TIMESTAMP '${t.toFormat(s ? "yyyy-LL-dd" : "yyyy-LL-dd HH:mm:ss")}'`;
    default:
      return `timestamp '${t.toFormat("yyyy-LL-dd HH:mm:ss")}'`;
  }
}
function S(e, r) {
  switch (r) {
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.FILEGDB:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Standardised:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.StandardisedNoInterval:
      return e.toSQLWithKeyword();
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Oracle:
      return `TO_DATE('${e.toFormat("Y-MM-DD")}'`;
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.SqlServer:
      return `'${e.toFormat("Y-MM-DD")}'`;
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.PGDB:
      return `#${e.toFormat("Y-MM-DD")}#`;
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Postgres:
      return `TIMESTAMP '${e.toFormat("Y-MM-DD")}'`;
    default:
      return e.toSQLWithKeyword();
  }
}
function E(e, r) {
  switch (e instanceof _core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_3__.TimeOnly && (e = e.toStorageString()), r) {
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Oracle:
      return `TO_DATE('${e}', 'HH24:MI:SS')`;
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.SqlServer:
      return `'${e}'`;
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.FILEGDB:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Standardised:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.StandardisedNoInterval:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Postgres:
    default:
      return `time '${e}'`;
  }
}
function w(r, t) {
  return T(_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDate.dateTimeToArcadeDate((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isLuxonDate)(r) ? r : luxon__WEBPACK_IMPORTED_MODULE_5__.DateTime.fromJSDate(r)), t);
}
function L(e, r) {
  switch (r) {
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.FILEGDB:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Standardised:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.StandardisedNoInterval:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Oracle:
      return e ? "CURRENT_DATE" : "CURRENT_TIMESTAMP";
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.SqlServer:
      return e ? "CAST(GETDATE() AS DATE)" : "GETDATE()";
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.PGDB:
    case _shared_js__WEBPACK_IMPORTED_MODULE_2__.FeatureServiceDatabaseType.Postgres:
    default:
      return e ? "CURRENT_DATE" : "CURRENT_TIMESTAMP";
  }
}
function I(e, r, t = {}) {
  const a = {},
    s = {},
    n = {
      esriFieldTypeSmallInteger: "integer",
      esriFieldTypeInteger: "integer",
      esriFieldTypeBigInteger: "integer",
      esriFieldTypeSingle: "double",
      esriFieldTypeDouble: "double",
      esriFieldTypeString: "string",
      esriFieldTypeTimeOnly: "time-only",
      esriFieldTypeDateOnly: "date-only",
      esriFieldTypeTimestampOffset: "timestamp-offset",
      esriFieldTypeDate: "date",
      esriFieldTypeOID: "integer",
      esriFieldTypeGUID: "guid",
      esriFieldTypeGlobalID: "guid",
      oid: "integer",
      long: "integer",
      "small-integer": "integer",
      integer: "integer",
      "big-integer": "integer",
      single: "double",
      "time-only": "time-only",
      "date-only": "date-only",
      "timestamp-offset": "timestemp-offset",
      double: "double",
      date: "date",
      guid: "guid",
      "global-id": "guid",
      string: "string"
    };
  for (const c of r) {
    const e = c.type ? n[c.type] : void 0;
    a[c.name.toLowerCase()] = void 0 === e ? "" : e;
  }
  for (const c in t) {
    const e = n[t[c]];
    s[c.toLowerCase()] = void 0 === e ? "" : e;
  }
  switch (A(a, e.parseTree, e.parameters, s)) {
    case "double":
      return "double";
    case "integer":
      return "integer";
    case "date":
      return "date";
    case "date-only":
      return "date-only";
    case "time-only":
      return "time-only";
    case "timestamp-offset":
      return "timestamp-offset";
    case "string":
      return "string";
    case "global-id":
    case "guid":
      return "guid";
  }
  return "";
}
function A(e, a, n, l) {
  let u;
  switch (a.type) {
    case "interval":
      return "integer";
    case "case-expression":
      {
        const r = [];
        if ("simple" === a.format) {
          for (let t = 0; t < a.clauses.length; t++) r.push(A(e, a.clauses[t].value, n, l));
          null !== a.else && r.push(A(e, a.else, n, l));
        } else {
          for (let t = 0; t < a.clauses.length; t++) r.push(A(e, a.else, n, l));
          null !== a.else && r.push(A(e, a.else, n, l));
        }
        return b(r);
      }
    case "parameter":
      {
        const e = l[a.value.toLowerCase()];
        if (void 0 === e && n) {
          const e = n[a.value.toLowerCase()];
          if (void 0 === e) return "";
          if (null === e) return "";
          if ("string" == typeof e || e instanceof String) return "string";
          if ("boolean" == typeof e) return "boolean";
          if ((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isDate)(e)) return "date";
          if ((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isArcadeDate)(e)) return "date";
          if ((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isArcadeDateOnly)(e)) return "date-only";
          if ((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isArcadeTime)(e)) return "time-only";
          if ("number" == typeof e) return e % 1 == 0 ? "integer" : "double";
        }
        return void 0 === e ? "" : e;
      }
    case "expression-list":
      {
        const r = [];
        for (const t of a.value) r.push(A(e, t, n, l));
        return r;
      }
    case "unary-expression":
      return "boolean";
    case "binary-expression":
      switch (a.operator) {
        case "AND":
        case "OR":
        case "IN":
        case "NOT IN":
        case "BETWEEN":
        case "NOTBETWEEN":
        case "LIKE":
        case "NOT LIKE":
        case "<>":
        case "<":
        case ">":
        case ">=":
        case "<=":
        case "=":
          return "boolean";
        case "IS":
        case "ISNOT":
          if ("null" !== a.right.type) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.UnsupportedIsRhs);
          return "boolean";
        case "*":
        case "-":
        case "+":
        case "/":
          return b([A(e, a.left, n, l), A(e, a.right, n, l)]);
        case "||":
          return "string";
        default:
          throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.UnsupportedOperator, {
            operator: a.operator
          });
      }
    case "null":
      return "";
    case "boolean":
      return "boolean";
    case "string":
      return "string";
    case "number":
      return null === a.value ? "" : a.value % 1 == 0 ? "integer" : "double";
    case "date":
      return "date";
    case "timestamp":
      return a.withtimezone ? "timestamp-offset" : "date";
    case "time":
      return "time-only";
    case "current-time":
      return "date";
    case "column-reference":
      {
        const r = e[a.column.toLowerCase()];
        return void 0 === r ? "" : r;
      }
    case "function":
      switch (a.name.toLowerCase()) {
        case "cast":
          switch (a.args?.value[1]?.value.type ?? "") {
            case "integer":
            case "smallint":
              return "integer";
            case "real":
            case "float":
              return "double";
            case "date":
            case "timestamp":
              return !0 === a.args?.value[1]?.value?.withtimezone ? "timestamp-offset" : "date";
            case "time":
              return "time-only";
            case "varchar":
              return "string";
            default:
              return "";
          }
        case "position":
        case "extract":
        case "char_length":
        case "mod":
          return "integer";
        case "round":
          if (u = A(e, a.args, n, l), u instanceof Array) {
            if (u.length <= 0) return "double";
            u = u[0];
          }
          return u;
        case "sign":
          return "integer";
        case "ceiling":
        case "floor":
        case "abs":
          return u = A(e, a.args, n, l), u instanceof Array && (u = b(u)), "integer" === u || "double" === u ? u : "double";
        case "area":
        case "length":
        case "log":
        case "log10":
        case "sin":
        case "cos":
        case "tan":
        case "asin":
        case "acos":
        case "atan":
        case "cosh":
        case "sinh":
        case "tanh":
        case "power":
          return "double";
        case "substring":
        case "trim":
        case "concat":
        case "lower":
        case "upper":
          return "string";
        case "truncate":
          return "double";
        case "nullif":
        case "coalesce":
          return u = A(e, a.args, n, l), u instanceof Array ? u.length > 0 ? u[0] : "" : u;
      }
      return "";
  }
  throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.SqlErrorCodes.UnsupportedSyntax, {
    node: a.type
  });
}
const N = {
  boolean: 1,
  string: 2,
  integer: 3,
  double: 4,
  date: 5
};
function b(e) {
  if (e) {
    let r = "";
    for (const t of e) "" !== t && (r = "" === r || N[r] < N[t] ? t : r);
    return r;
  }
  return "";
}
function v(e, r) {
  return O(e.parseTree, r);
}
function D(e) {
  return "column-reference" === e?.parseTree.type;
}
function O(e, r) {
  if (null == e) return !1;
  switch (e.type) {
    case "when-clause":
      return O(e.operand, r) || O(e.value, r);
    case "case-expression":
      for (const t of e.clauses) if (O(t, r)) return !0;
      return !("simple" !== e.format || !O(e.operand, r)) || !(null === e.else || !O(e.else, r));
    case "parameter":
    case "null":
    case "boolean":
    case "date":
    case "timestamp":
    case "time":
    case "string":
    case "number":
      return !1;
    case "expression-list":
      for (const t of e.value) if (O(t, r)) return !0;
      return !1;
    case "unary-expression":
      return O(e.expr, r);
    case "binary-expression":
      return O(e.left, r) || O(e.right, r);
    case "column-reference":
      return r.toLowerCase() === e.column.toLowerCase();
    case "function":
      return O(e.args, r);
  }
  return !1;
}
function R(e) {
  let r = "";
  return r += e.period.toUpperCase(), r;
}
function F(e, r, t) {
  let a = "";
  return a = "interval-period" === r.type ? R(r) : R(r.start) + " TO " + R(r.end), "INTERVAL " + t + " " + e + " " + a;
}


/***/ }),

/***/ 61709:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/stats.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "calculateStat": () => (/* binding */ d),
/* harmony export */   "count": () => (/* binding */ q),
/* harmony export */   "decodeStatType": () => (/* binding */ w),
/* harmony export */   "distinct": () => (/* binding */ S),
/* harmony export */   "max": () => (/* binding */ y),
/* harmony export */   "mean": () => (/* binding */ M),
/* harmony export */   "min": () => (/* binding */ v),
/* harmony export */   "stdev": () => (/* binding */ T),
/* harmony export */   "sum": () => (/* binding */ k),
/* harmony export */   "variance": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errorsupport.js */ 23373);
/* harmony import */ var _shared_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shared.js */ 84940);
/* harmony import */ var _sqlUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sqlUtils.js */ 48697);
/* harmony import */ var _core_sql_DateOnly_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/sql/DateOnly.js */ 14458);
/* harmony import */ var _core_sql_SqlTimestampOffset_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/sql/SqlTimestampOffset.js */ 70147);
/* harmony import */ var _core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/sql/TimeOnly.js */ 41843);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






function u(t) {
  return t = +t, isFinite(t) ? t - t % 1 || (t < 0 ? -0 : 0 === t ? t : 0) : t;
}
function f(t) {
  let n = 0;
  for (let e = 0; e < t.length; e++) n += t[e];
  return n / t.length;
}
function h(t) {
  const n = f(t);
  let e = 0;
  for (let r = 0; r < t.length; r++) e += (n - t[r]) ** 2;
  return e / t.length;
}
function m(t) {
  const n = f(t);
  let e = 0;
  for (let r = 0; r < t.length; r++) e += (n - t[r]) ** 2;
  return e / (t.length - 1);
}
function g(t) {
  let n = 0;
  for (let e = 0; e < t.length; e++) n += t[e];
  return n;
}
function p(t, n) {
  const c = [],
    s = {},
    i = [];
  for (let o = 0; o < t.length; o++) {
    if (void 0 !== t[o] && null !== t[o]) {
      const n = t[o];
      if ((0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isNumber)(n) || (0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.isString)(n)) void 0 === s[n] && (c.push(n), s[n] = 1);else {
        let t = !1;
        for (let e = 0; e < i.length; e++) !0 === (0,_shared_js__WEBPACK_IMPORTED_MODULE_2__.equalityTest)(i[e], n) && (t = !0);
        !1 === t && (i.push(n), c.push(n));
      }
    }
    if (c.length >= n && -1 !== n) return c;
  }
  return c;
}
function w(t) {
  switch (t.toLowerCase()) {
    case "distinct":
      return "distinct";
    case "avg":
    case "mean":
      return "avg";
    case "min":
      return "min";
    case "sum":
      return "sum";
    case "max":
      return "max";
    case "stdev":
    case "stddev":
      return "stddev";
    case "var":
    case "variance":
      return "var";
    case "count":
      return "count";
  }
  return "";
}
function d(t, n, e = 1e3) {
  switch (t.toLowerCase()) {
    case "distinct":
      return p(n, e);
    case "avg":
    case "mean":
      return f(n);
    case "min":
      return Math.min.apply(Math, n);
    case "sum":
      return g(n);
    case "max":
      return Math.max.apply(Math, n);
    case "stdev":
    case "stddev":
      return Math.sqrt(h(n));
    case "var":
    case "variance":
      return h(n);
    case "count":
      return n.length;
  }
  return 0;
}
function v(_x, _x2, _x3) {
  return _v.apply(this, arguments);
}
function _v() {
  _v = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, n, e) {
    const r = yield O(t, n, e, !0);
    return 0 === r.length ? null : Math.min.apply(Math, r);
  });
  return _v.apply(this, arguments);
}
function y(_x4, _x5, _x6) {
  return _y.apply(this, arguments);
}
function _y() {
  _y = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, n, e) {
    const r = yield O(t, n, e, !0);
    return 0 === r.length ? null : Math.max.apply(Math, r);
  });
  return _y.apply(this, arguments);
}
function M(_x7, _x8, _x9) {
  return _M.apply(this, arguments);
}
function _M() {
  _M = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, n, e) {
    let r = "";
    n && !(0,_sqlUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSingleField)(n) && (r = (0,_sqlUtils_js__WEBPACK_IMPORTED_MODULE_3__.predictType)(n, t.fields));
    const a = yield O(t, n, e, !0);
    if (0 === a.length) return null;
    const i = f(a);
    return null === i ? i : "integer" === r ? u(i) : i;
  });
  return _M.apply(this, arguments);
}
function x(_x10, _x11, _x12) {
  return _x13.apply(this, arguments);
}
function _x13() {
  _x13 = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, n, e) {
    const r = yield O(t, n, e, !0);
    return 0 === r.length ? null : m(r);
  });
  return _x13.apply(this, arguments);
}
function T(_x14, _x15, _x16) {
  return _T.apply(this, arguments);
}
function _T() {
  _T = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, n, e) {
    const r = yield O(t, n, e, !0);
    return 0 === r.length ? null : Math.sqrt(m(r));
  });
  return _T.apply(this, arguments);
}
function k(_x17, _x18, _x19) {
  return _k.apply(this, arguments);
}
function _k() {
  _k = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, n, e) {
    const r = yield O(t, n, e, !0);
    return 0 === r.length ? null : g(r);
  });
  return _k.apply(this, arguments);
}
function q(_x20, _x21) {
  return _q.apply(this, arguments);
}
function _q() {
  _q = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, n) {
    return t.iterator(n).count();
  });
  return _q.apply(this, arguments);
}
function O(_x22, _x23, _x24) {
  return _O.apply(this, arguments);
}
function _O() {
  _O = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, r, a, c = !1) {
    const s = e.iterator(a),
      u = [],
      f = {
        ticker: 0
      };
    let h = yield s.next();
    for (; null !== h;) {
      if (f.ticker++, a.aborted) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetErrorCodes.Cancelled);
      f.ticker % 100 == 0 && (f.ticker = 0, yield new Promise(t => {
        setTimeout(t, 0);
      }));
      const e = r?.calculateValue(h);
      null === e ? !1 === c && (u[u.length] = e) : u[u.length] = e instanceof _core_sql_DateOnly_js__WEBPACK_IMPORTED_MODULE_4__.DateOnly || e instanceof _core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_6__.TimeOnly ? e.toNumber() : e instanceof _core_sql_SqlTimestampOffset_js__WEBPACK_IMPORTED_MODULE_5__.SqlTimeStampOffset ? e.toMilliseconds() : e, h = yield s.next();
    }
    return u;
  });
  return _O.apply(this, arguments);
}
function S(_x25, _x26) {
  return _S.apply(this, arguments);
}
function _S() {
  _S = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, r, a = 1e3, c = null) {
    const s = e.iterator(c),
      u = [],
      f = {},
      h = {
        ticker: 0
      };
    let m = yield s.next();
    for (; null !== m;) {
      if (h.ticker++, c && c.aborted) throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetErrorCodes.Cancelled);
      h.ticker % 100 == 0 && (h.ticker = 0, yield new Promise(t => {
        setTimeout(t, 0);
      }));
      const e = r?.calculateValue(m);
      let g = e;
      if (e instanceof _core_sql_DateOnly_js__WEBPACK_IMPORTED_MODULE_4__.DateOnly ? g = "!!DATEONLY!!-" + e.toString() : e instanceof _core_sql_SqlTimestampOffset_js__WEBPACK_IMPORTED_MODULE_5__.SqlTimeStampOffset ? g = "!!TSOFFSETONLY!!-" + e.toString() : e instanceof _core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_6__.TimeOnly ? g = "!!TIMEONLY!!-" + e.toString() : e instanceof Date && (g = "!!DATE!!-" + e.toString()), null != e && void 0 === f[g] && (u.push(e), f[g] = 1), u.length >= a && -1 !== a) return u;
      m = yield s.next();
    }
    return u;
  });
  return _S.apply(this, arguments);
}


/***/ })

}]);
//# sourceMappingURL=default-node_modules_arcgis_core_arcade_featureset_actions_SpatialFilter_js.js.map