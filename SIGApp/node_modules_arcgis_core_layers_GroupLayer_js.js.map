{"version":3,"file":"node_modules_arcgis_core_layers_GroupLayer_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/layers/GroupLayer.js","./node_modules/@arcgis/core/portal/support/resourceUtils.js","./node_modules/@arcgis/core/support/tagSymbols.js","./node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/CollectionFlattener.js\";import{loadAll as t}from\"../core/loadAll.js\";import i from\"../core/Logger.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{debounce as o,throwIfAbortError as a}from\"../core/promiseUtils.js\";import{watch as l,syncAndInitial as p,on as n,sync as d}from\"../core/reactiveUtils.js\";import{property as y}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{getProperties as c}from\"../core/accessorSupport/utils.js\";import{reader as h}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as u}from\"../core/accessorSupport/decorators/writer.js\";import{OriginId as b}from\"../core/accessorSupport/PropertyOrigin.js\";import v from\"./Layer.js\";import{BlendLayer as f}from\"./mixins/BlendLayer.js\";import{OperationalLayer as j}from\"./mixins/OperationalLayer.js\";import{PortalLayer as g}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as w}from\"./mixins/ScaleRangeLayer.js\";import{layerLookupMap as L}from\"./support/lazyLayerLoader.js\";import S from\"../portal/PortalItem.js\";import{createFlattenedTablesCollection as _}from\"../support/collectionUtils.js\";import{LayersMixin as I}from\"../support/LayersMixin.js\";import{TablesMixin as O}from\"../support/TablesMixin.js\";import{WebSceneTag as M}from\"../support/tagSymbols.js\";import{SaveOperationType as x}from\"../webdoc/interfaces.js\";import{beforeSave as P}from\"../webdoc/support/saveUtils.js\";import{getLayerJSON as A}from\"../webdoc/support/writeUtils.js\";let V=class extends(f(w(j(g(O(I(s(v)))))))){constructor(e){super(e),this.allLayers=new r({getCollections:()=>[this.layers],getChildrenFunction:e=>\"layers\"in e?e.layers:null}),this.allTables=_(this),this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._debouncedSaveOperations=o((async(e,r,t)=>{const{save:i,saveAs:s}=await import(\"./save/groupLayerUtils.js\");switch(e){case x.SAVE:return i(this,r);case x.SAVE_AS:return s(this,t,r)}}))}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles([l((()=>{let e=this.parent;for(;e&&\"parent\"in e&&e.parent;)e=e.parent;return e&&M in e}),(e=>{const r=\"prevent-adding-tables\";this.removeHandles(r),e&&(this.tables.removeAll(),this.addHandles(n((()=>this.tables),\"before-add\",(e=>{e.preventDefault(),i.getLogger(this).errorOnce(\"tables\",\"tables in group layers in a webscene are not supported. Please move the tables from the group layer to the webscene if you want to persist them.\")})),r))}),p),l((()=>this.visible),this._onVisibilityChange.bind(this),d)])}destroy(){this.allLayers.destroy(),this.allTables.destroy()}get sourceIsPortalItem(){return this.portalItem&&this.originIdOf(\"portalItem\")===b.USER}_writeLayers(e,r,t,i){const s=[];if(!e)return s;e.forEach((e=>{const r=A(e,i.webmap?i.webmap.getLayerJSONFromResourceInfo(e):null,i);r?.layerType&&s.push(r)})),r.layers=s}set portalItem(e){this._set(\"portalItem\",e)}readPortalItem(e,r,t){const{itemId:i,layerType:s}=r;if(\"GroupLayer\"===s&&i)return new S({id:i,portal:t?.portal})}writePortalItem(e,r){e?.id&&(r.itemId=e.id)}set visibilityMode(e){const r=this._get(\"visibilityMode\")!==e;this._set(\"visibilityMode\",e),r&&this._enforceVisibility(e,this.visible)}async beforeSave(){return P(this)}load(e){const r=this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Group Layer\",\"Scene Service\"],layerModuleTypeMap:L},e).catch((e=>{if(a(e),this.sourceIsPortalItem)throw e}));return this.addResolvingPromise(r),Promise.resolve(this)}async loadAll(){return t(this,(e=>{e(this.layers,this.tables)}))}async save(e){return this._debouncedSaveOperations(x.SAVE,e)}async saveAs(e,r){return this._debouncedSaveOperations(x.SAVE_AS,r,e)}layerAdded(e){e.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(e):\"inherited\"===this.visibilityMode&&(e.visible=this.visible),this.hasHandles(e.uid)?console.error(`Layer readded to Grouplayer: uid=${e.uid}`):this.addHandles(l((()=>e.visible),(r=>this._onChildVisibilityChange(e,r)),d),e.uid)}layerRemoved(e){this.removeHandles(e.uid),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(e){this.layers.forEach((r=>{r!==e&&(r.visible=!1)}))}_enforceVisibility(e,r){if(!c(this).initialized)return;const t=this.layers;let i=t.find((e=>e.visible));switch(e){case\"exclusive\":t.length&&!i&&(i=t.at(0),i.visible=!0),this._turnOffOtherLayers(i);break;case\"inherited\":t.forEach((e=>{e.visible=r}))}}_onVisibilityChange(e){\"inherited\"===this.visibilityMode&&this.layers.forEach((r=>{r.visible=e}))}_onChildVisibilityChange(e,r){switch(this.visibilityMode){case\"exclusive\":r?this._turnOffOtherLayers(e):this._isAnyLayerVisible()||(e.visible=!0);break;case\"inherited\":e.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((e=>e.visible))}};e([y({readOnly:!0,dependsOn:[]})],V.prototype,\"allLayers\",void 0),e([y({readOnly:!0})],V.prototype,\"allTables\",void 0),e([y({json:{read:!0,write:!0}})],V.prototype,\"blendMode\",void 0),e([y()],V.prototype,\"fullExtent\",void 0),e([y({readOnly:!0})],V.prototype,\"sourceIsPortalItem\",null),e([y({json:{read:!1,write:{ignoreOrigin:!0}}})],V.prototype,\"layers\",void 0),e([u(\"layers\")],V.prototype,\"_writeLayers\",null),e([y({type:[\"GroupLayer\"]})],V.prototype,\"operationalLayerType\",void 0),e([y({json:{origins:{\"web-map\":{read:!1,write:{overridePolicy(e,r,t){return{enabled:\"Group Layer\"===e?.type&&t?.initiator!==this}}}},\"web-scene\":{read:!1,write:!1}}}})],V.prototype,\"portalItem\",null),e([h(\"web-map\",\"portalItem\",[\"itemId\"])],V.prototype,\"readPortalItem\",null),e([u(\"web-map\",\"portalItem\",{itemId:{type:String}})],V.prototype,\"writePortalItem\",null),e([y()],V.prototype,\"spatialReference\",void 0),e([y({json:{read:!1},readOnly:!0,value:\"group\"})],V.prototype,\"type\",void 0),e([y({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{type:[\"independent\",\"exclusive\"],write:(e,r,t)=>{\"inherited\"!==e&&(r[t]=e)}}}}})],V.prototype,\"visibilityMode\",null),V=e([m(\"esri.layers.GroupLayer\")],V);const E=V;export{E as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as a}from\"../../core/urlUtils.js\";async function o(e,t={},a){await e.load(a);const o=r(e.itemUrl,\"resources\"),{start:s=1,num:n=10,sortOrder:l=\"asc\",sortField:u=\"created\"}=t,c={query:{start:s,num:n,sortOrder:l,sortField:u,token:e.apiKey},signal:a?.signal},i=await e.portal.request(o,c);return{total:i.total,nextStart:i.nextStart,resources:i.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function s(e,a,o,s){if(!e.hasPath())throw new t(`portal-item-resource-${a}:invalid-path`,\"Resource does not have a valid path\");const n=e.portalItem;await n.load(s);const l=r(n.userItemUrl,\"add\"===a?\"addResources\":\"updateResources\"),[c,i]=u(e.path),p=new FormData;return c&&\".\"!==c&&p.append(\"resourcesPrefix\",c),null!=s&&s.compress&&p.append(\"compress\",\"true\"),p.append(\"fileName\",i),p.append(\"file\",o,i),p.append(\"f\",\"json\"),s?.access&&p.append(\"access\",s.access),await n.portal.request(l,{method:\"post\",body:p,signal:s?.signal}),e}async function n(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const s=r(e.userItemUrl,\"removeResources\");await e.portal.request(s,{method:\"post\",query:{resource:a.path},signal:o?.signal}),a.portalItem=null}async function l(e,t){await e.load(t);const a=r(e.userItemUrl,\"removeResources\");return e.portal.request(a,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function u(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function c(e){const[t,r]=i(e),[a,o]=u(t);return[a,o,r]}function i(e){const t=a(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function d(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+o))}function m(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+o))}export{s as addOrUpdateResource,p as contentToBlob,o as fetchResources,d as getSiblingOfSameType,m as getSiblingOfSameTypeI,l as removeAllResources,n as removeResource,c as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst e=Symbol(\"WebScene\");export{e as WebSceneTag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{result as e}from\"../../core/asyncUtils.js\";import r from\"../../core/Error.js\";import{allSettledErrors as o,throwIfAborted as t,eachAlways as s}from\"../../core/promiseUtils.js\";import{generateUUID as a}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as c,contentToBlob as n}from\"../../portal/support/resourceUtils.js\";async function u(e,r,o=null){const t=await i(e,r,o);await h(t,r,o)}async function p(e,r,o,t,s=null){const a=await i(o,t,s);await e.update({data:r}),await h(a,t,s)}async function i(e,s,n=null){if(!s?.resources)return;const u=s.portalItem===e.portalItem?new Set(e.paths):new Set;e.paths.length=0,e.portalItem=s.portalItem;const p=new Set(s.resources.toKeep.map((e=>e.resource.path))),i=new Set,h=[];p.forEach((r=>{u.delete(r),e.paths.push(r)}));for(const r of s.resources.toUpdate)if(u.delete(r.resource.path),p.has(r.resource.path)||i.has(r.resource.path)){const{resource:o,content:t,finish:s,error:u}=r,p=c(o,a());e.paths.push(p.path),h.push(f({resource:p,content:t,compress:r.compress,finish:s,error:u},n))}else e.paths.push(r.resource.path),h.push(l(r,n)),i.add(r.resource.path);for(const r of s.resources.toAdd)e.paths.push(r.resource.path),u.has(r.resource.path)?u.delete(r.resource.path):h.push(f(r,n));if(0===h.length)return u;const m=await o(h);if(t(n),m.length>0)throw new r(\"save:resources\",\"Failed to save one or more resources\",{errors:m});return u}async function h(e,r,o=null){if(!e||!r.portalItem)return;const t=[];for(const s of e){const e=r.portalItem.resourceFromPath(s);t.push(e.portalItem.removeResource(e,o))}await s(t)}async function f(r,o){const t={...null!=o?o:{},compress:r.compress},s=await e(r.resource.portalItem.addResource(r.resource,await n(r.content),t));if(!0!==s.ok)throw r.error?.(s.error),s.error;r.finish?.(r.resource)}async function l(r,o){const t=await e(r.resource.update(await n(r.content),o));if(!0!==t.ok)throw r.error?.(t.error),t.error;r.finish?.(r.resource)}async function m(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}export{m as beforeSave,u as saveResources,p as updateItemWithResources};\n"],"names":["_","e","r","loadAll","t","i","MultiOriginJSONMixin","s","debounce","o","throwIfAbortError","a","watch","l","syncAndInitial","p","on","n","sync","d","property","y","getProperties","c","reader","h","subclass","m","writer","u","OriginId","b","v","BlendLayer","f","OperationalLayer","j","PortalLayer","g","ScaleRangeLayer","w","layerLookupMap","L","S","createFlattenedTablesCollection","LayersMixin","I","TablesMixin","O","WebSceneTag","M","SaveOperationType","x","beforeSave","P","getLayerJSON","A","V","constructor","allLayers","getCollections","layers","getChildrenFunction","allTables","fullExtent","operationalLayerType","spatialReference","type","_debouncedSaveOperations","save","saveAs","SAVE","SAVE_AS","initialize","_enforceVisibility","visibilityMode","visible","addHandles","parent","removeHandles","tables","removeAll","preventDefault","getLogger","errorOnce","_onVisibilityChange","bind","destroy","sourceIsPortalItem","portalItem","originIdOf","USER","_writeLayers","forEach","webmap","getLayerJSONFromResourceInfo","layerType","push","_set","readPortalItem","itemId","id","portal","writePortalItem","_get","load","loadFromPortal","supportedTypes","layerModuleTypeMap","catch","addResolvingPromise","Promise","resolve","layerAdded","_turnOffOtherLayers","hasHandles","uid","console","error","_onChildVisibilityChange","layerRemoved","initialized","find","length","at","_isAnyLayerVisible","some","readOnly","dependsOn","prototype","json","read","write","ignoreOrigin","origins","overridePolicy","enabled","initiator","String","value","E","default","join","getPathExtension","itemUrl","start","num","sortOrder","sortField","query","token","apiKey","signal","request","total","nextStart","resources","map","created","size","resource","Date","resourceFromPath","hasPath","userItemUrl","path","FormData","append","compress","access","method","body","deleteAll","lastIndexOf","slice","blob","Blob","jsonString","url","responseType","data","addOrUpdateResource","contentToBlob","fetchResources","getSiblingOfSameType","getSiblingOfSameTypeI","removeAllResources","removeResource","splitPrefixFileNameAndExtension","Symbol","result","allSettledErrors","throwIfAborted","eachAlways","generateUUID","update","Set","paths","toKeep","delete","toUpdate","has","content","finish","add","toAdd","errors","addResource","ok","allSettled","saveResources","updateItemWithResources"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3]}