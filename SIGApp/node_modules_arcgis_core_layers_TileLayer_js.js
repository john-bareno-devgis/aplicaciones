"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_layers_TileLayer_js"],{

/***/ 2501:
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/TileLayer.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ N)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../request.js */ 1897);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Error.js */ 32995);
/* harmony import */ var _core_loadAll_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/loadAll.js */ 93205);
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ 20635);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/urlUtils.js */ 55050);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/decorators/cast.js */ 36734);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ 66508);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/accessorSupport/decorators/writer.js */ 70425);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ 68230);
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Layer.js */ 51402);
/* harmony import */ var _mixins_APIKeyMixin_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/APIKeyMixin.js */ 450);
/* harmony import */ var _mixins_ArcGISCachedService_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/ArcGISCachedService.js */ 61223);
/* harmony import */ var _mixins_ArcGISMapService_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/ArcGISMapService.js */ 54861);
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ 6363);
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ 29812);
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/CustomParametersMixin.js */ 55123);
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ 82686);
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ 16617);
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ 38437);
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ 72450);
/* harmony import */ var _mixins_SublayersOwner_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./mixins/SublayersOwner.js */ 58336);
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./support/arcgisLayerUrl.js */ 4583);
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/commonProperties.js */ 74256);
/* harmony import */ var _support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/imageBitmapUtils.js */ 57062);
/* harmony import */ var _support_Sublayer_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/Sublayer.js */ 57054);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/































var W;
const I = ["Canvas/World_Dark_Gray_Base", "Canvas/World_Dark_Gray_Reference", "Canvas/World_Light_Gray_Base", "Canvas/World_Light_Gray_Reference", "Elevation/World_Hillshade", "Elevation/World_Hillshade_Dark", "Ocean/World_Ocean_Base", "Ocean/World_Ocean_Reference", "Ocean_Basemap", "Reference/World_Boundaries_and_Places", "Reference/World_Boundaries_and_Places_Alternate", "Reference/World_Transportation", "World_Imagery", "World_Street_Map", "World_Topo_Map"];
let B = W = class extends (0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_21__.BlendLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_26__.ScaleRangeLayer)((0,_mixins_SublayersOwner_js__WEBPACK_IMPORTED_MODULE_27__.SublayersOwner)((0,_mixins_ArcGISCachedService_js__WEBPACK_IMPORTED_MODULE_18__.ArcGISCachedService)((0,_mixins_ArcGISMapService_js__WEBPACK_IMPORTED_MODULE_19__.ArcGISMapService)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_23__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_24__.PortalLayer)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_20__.ArcGISService)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__.MultiOriginJSONMixin)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_25__.RefreshableLayer)((0,_mixins_APIKeyMixin_js__WEBPACK_IMPORTED_MODULE_17__.APIKeyMixin)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_22__.CustomParametersMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_16__["default"])))))))))))) {
  constructor(...e) {
    super(...e), this.listMode = "show", this.isReference = null, this.operationalLayerType = "ArcGISTiledMapServiceLayer", this.resampling = !0, this.sourceJSON = null, this.spatialReference = null, this.path = null, this.sublayers = null, this.type = "tile", this.url = null;
  }
  normalizeCtorArgs(e, r) {
    return "string" == typeof e ? {
      url: e,
      ...r
    } : e;
  }
  load(e) {
    const r = null != e ? e.signal : null;
    return this.addResolvingPromise(this.loadFromPortal({
      supportedTypes: ["Map Service"]
    }, e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAbortError).then(() => this._fetchService(r))), Promise.resolve(this);
  }
  get attributionDataUrl() {
    const e = this.parsedUrl?.path.toLowerCase();
    return e ? this._getDefaultAttribution(this._getMapName(e)) : null;
  }
  readSpatialReference(e, r) {
    return (e = e || r.tileInfo?.spatialReference) && _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromJSON(e);
  }
  writeSublayers(e, r, t, s) {
    if (!this.loaded || !e) return;
    const i = e.slice().reverse().flatten(({
        sublayers: e
      }) => e && e.toArray().reverse()).toArray(),
      o = [],
      a = {
        writeSublayerStructure: !1,
        ...s
      };
    i.forEach(e => {
      const r = e.write({}, a);
      o.push(r);
    });
    o.some(e => Object.keys(e).length > 1) && (r.layers = o);
  }
  get tileServers() {
    return this._getDefaultTileServers(this.parsedUrl?.path);
  }
  castTileServers(e) {
    return Array.isArray(e) ? e.map(e => (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__.urlToObject)(e).path) : null;
  }
  fetchTile(e, t, s, i = {}) {
    const {
        signal: o
      } = i,
      a = this.getTileUrl(e, t, s),
      l = {
        responseType: "image",
        signal: o,
        query: {
          ...this.refreshParameters
        }
      };
    return (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(a, l).then(e => e.data);
  }
  fetchImageBitmapTile(e, t, s, i = {}) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        signal: o
      } = i;
      if (_this.fetchTile !== W.prototype.fetchTile) {
        const r = yield _this.fetchTile(e, t, s, i);
        return (0,_support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_30__.createTileBitmap)(r, e, t, s, o);
      }
      const a = _this.getTileUrl(e, t, s),
        l = {
          responseType: "blob",
          signal: o,
          query: {
            ..._this.refreshParameters
          }
        },
        {
          data: n
        } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(a, l);
      return (0,_support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_30__.createTileBitmap)(n, e, t, s, o);
    })();
  }
  getTileUrl(e, r, t) {
    const s = !this.capabilities.operations.supportsTileMap && this.supportsBlankTile,
      i = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__.objectToQuery)({
        ...this.parsedUrl?.query,
        blankTile: !s && null,
        ...this.customParameters,
        token: this.apiKey
      }),
      o = this.tileServers;
    return `${o && o.length ? o[r % o.length] : this.parsedUrl?.path}/tile/${e}/${r}/${t}${i ? "?" + i : ""}`;
  }
  loadAll() {
    return (0,_core_loadAll_js__WEBPACK_IMPORTED_MODULE_4__.loadAll)(this, e => {
      e(this.allSublayers);
    });
  }
  _fetchService(e) {
    return new Promise((s, i) => {
      if (this.sourceJSON) {
        if (null != this.sourceJSON.bandCount && null != this.sourceJSON.pixelSizeX) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tile-layer:unsupported-url", "use ImageryTileLayer to open a tiled image service");
        return void s({
          data: this.sourceJSON
        });
      }
      if (!this.parsedUrl) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tile-layer:undefined-url", "layer's url is not defined");
      const o = (0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_28__.parse)(this.parsedUrl.path);
      if (null != o && "ImageServer" === o.serverType) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tile-layer:unsupported-url", "use ImageryTileLayer to open a tiled image service");
      (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this.parsedUrl.path, {
        query: {
          f: "json",
          ...this.parsedUrl.query,
          ...this.customParameters,
          token: this.apiKey
        },
        responseType: "json",
        signal: e
      }).then(s, i);
    }).then(r => {
      let t = this.url;
      if (r.ssl && (t = this.url = t.replace(/^http:/i, "https:")), this.sourceJSON = r.data, this.read(r.data, {
        origin: "service",
        url: this.parsedUrl
      }), 10.1 === this.version && !(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_28__.isHostedAgolService)(t)) return this._fetchServerVersion(t, e).then(e => {
        this.read({
          currentVersion: e
        });
      }).catch(() => {});
    });
  }
  _fetchServerVersion(e, s) {
    if (!(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_28__.isArcGISUrl)(e)) return Promise.reject();
    const i = e.replace(/(.*\/rest)\/.*/i, "$1") + "/info";
    return (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(i, {
      query: {
        f: "json",
        ...this.customParameters,
        token: this.apiKey
      },
      responseType: "json",
      signal: s
    }).then(e => {
      if (e.data && e.data.currentVersion) return e.data.currentVersion;
      throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tile-layer:version-not-available");
    });
  }
  _getMapName(e) {
    const r = e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);
    return r ? r[2] : void 0;
  }
  _getDefaultAttribution(e) {
    if (null == e) return null;
    let r;
    e = e.toLowerCase();
    for (let t = 0, s = I.length; t < s; t++) if (r = I[t], r.toLowerCase().includes(e)) return (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__.makeAbsolute)("//static.arcgis.com/attribution/" + r);
    return null;
  }
  _getDefaultTileServers(e) {
    if (null == e) return [];
    const r = -1 !== e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),
      t = -1 !== e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);
    return r || t ? [e, e.replace(r ? /server\.arcgisonline/i : /services\.arcgisonline/i, r ? "services.arcgisonline" : "server.arcgisonline")] : [];
  }
  get hasOverriddenFetchTile() {
    return !this.fetchTile[C];
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  readOnly: !0
})], B.prototype, "attributionDataUrl", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  type: ["show", "hide", "hide-children"]
})], B.prototype, "listMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  json: {
    read: !0,
    write: !0
  }
})], B.prototype, "blendMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  type: Boolean,
  json: {
    read: !1,
    write: {
      enabled: !0,
      overridePolicy: () => ({
        enabled: !1
      })
    }
  }
})], B.prototype, "isReference", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  readOnly: !0,
  type: ["ArcGISTiledMapServiceLayer"]
})], B.prototype, "operationalLayerType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  type: Boolean
})], B.prototype, "resampling", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()], B.prototype, "sourceJSON", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  type: _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__["default"]
})], B.prototype, "spatialReference", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__.reader)("spatialReference", ["spatialReference", "tileInfo"])], B.prototype, "readSpatialReference", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  type: String,
  json: {
    origins: {
      "web-scene": {
        read: !0,
        write: !0
      }
    },
    read: !1
  }
})], B.prototype, "path", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  readOnly: !0
})], B.prototype, "sublayers", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_14__.writer)("sublayers", {
  layers: {
    type: [_support_Sublayer_js__WEBPACK_IMPORTED_MODULE_31__["default"]]
  }
})], B.prototype, "writeSublayers", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  json: {
    read: !1,
    write: !1
  }
})], B.prototype, "popupEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()], B.prototype, "tileServers", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_9__.cast)("tileServers")], B.prototype, "castTileServers", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  readOnly: !0,
  json: {
    read: !1
  }
})], B.prototype, "type", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_29__.url)], B.prototype, "url", void 0), B = W = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.layers.TileLayer")], B);
const C = Symbol("default-fetch-tile");
B.prototype.fetchTile[C] = !0;
const N = B;


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_layers_TileLayer_js.js.map