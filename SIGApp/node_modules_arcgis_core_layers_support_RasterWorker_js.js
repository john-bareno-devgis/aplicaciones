"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_layers_support_RasterWorker_js"],{

/***/ 47605:
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/RasterWorker.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ N)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ 6010);
/* harmony import */ var _geometry_support_GeographicTransformation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry/support/GeographicTransformation.js */ 56314);
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PixelBlock.js */ 53416);
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./rasterFormats/RasterCodec.js */ 43675);
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./rasterFunctions/pixelUtils.js */ 26890);
/* harmony import */ var _rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./rasterFunctions/rasterFunctionHelper.js */ 97835);
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./rasterFunctions/rasterProjectionHelper.js */ 13110);
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./rasterFunctions/stretchUtils.js */ 34589);
/* harmony import */ var _rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./rasterFunctions/vectorFieldUtils.js */ 62265);
/* harmony import */ var _rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./rasterTransforms/utils.js */ 59354);
/* harmony import */ var _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../renderers/support/RasterSymbolizer.js */ 47088);
/* harmony import */ var _views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../views/2d/engine/flow/dataUtils.js */ 45809);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/Extent.js */ 10465);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/Point.js */ 72062);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














class N {
  convertVectorFieldData(r) {
    const t = _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(r.pixelBlock),
      s = (0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_9__.convertVectorFieldData)(t, r.type);
    return Promise.resolve(null != s ? s.toJSON() : null);
  }
  computeStatisticsHistograms(r) {
    const t = _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(r.pixelBlock),
      s = (0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_8__.computeStatisticsHistograms)(t);
    return Promise.resolve(s);
  }
  decode(r) {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const e = yield (0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_4__.decode)(r.data, r.options);
      return e && e.toJSON();
    })();
  }
  symbolize(r) {
    r.pixelBlock = _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(r.pixelBlock), r.extent = r.extent ? _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON(r.extent) : null;
    const t = this.symbolizer.symbolize(r);
    return Promise.resolve(null != t ? t.toJSON() : null);
  }
  updateSymbolizer(r) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.symbolizer = _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(r.symbolizerJSON), r.histograms && "rasterStretch" === _this.symbolizer?.rendererJSON.type && (_this.symbolizer.rendererJSON.histograms = r.histograms);
    })();
  }
  updateRasterFunction(r) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.rasterFunction = (0,_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_6__.create)(r.rasterFunctionJSON);
    })();
  }
  process(r) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const t = _this3.rasterFunction.process({
        extent: _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON(r.extent),
        primaryPixelBlocks: r.primaryPixelBlocks.map(r => null != r ? _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(r) : null),
        primaryPixelSizes: r.primaryPixelSizes?.map(r => null != r ? _geometry_Point_js__WEBPACK_IMPORTED_MODULE_14__["default"].fromJSON(r) : null),
        primaryRasterIds: r.primaryRasterIds
      });
      return null != t ? t.toJSON() : null;
    })();
  }
  stretch(r) {
    const t = this.symbolizer.simpleStretch(_PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(r.srcPixelBlock), r.stretchParams);
    return Promise.resolve(t?.toJSON());
  }
  estimateStatisticsHistograms(r) {
    const t = (0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_8__.estimateStatisticsHistograms)(_PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(r.srcPixelBlock));
    return Promise.resolve(t);
  }
  split(r) {
    const t = (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_5__.split)(_PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(r.srcPixelBlock), r.tileSize, r.maximumPyramidLevel);
    return t && t.forEach((r, e) => {
      t.set(e, r?.toJSON());
    }), Promise.resolve(t);
  }
  mosaicAndTransform(r) {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const t = r.srcPixelBlocks.map(r => r ? new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"](r) : null),
        s = (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_5__.mosaic)(t, r.srcMosaicSize, {
          blockWidths: r.blockWidths,
          alignmentInfo: r.alignmentInfo,
          clipOffset: r.clipOffset,
          clipSize: r.clipSize
        });
      let a,
        l = s;
      return r.coefs && (l = (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_5__.approximateTransform)(s, r.destDimension, r.coefs, r.sampleSpacing, r.interpolation)), r.projectDirections && r.gcsGrid && (a = (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_5__.getLocalArithmeticNorthRotations)(r.destDimension, r.gcsGrid), l = (0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_9__.convertToLocalDirections)(l, r.isUV ? "vector-uv" : "vector-magdir", a)), {
        pixelBlock: l?.toJSON(),
        localNorthDirections: a
      };
    })();
  }
  createFlowMesh(r, e) {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const t = {
          data: new Float32Array(r.flowData.buffer),
          mask: new Uint8Array(r.flowData.maskBuffer),
          width: r.flowData.width,
          height: r.flowData.height
        },
        {
          vertexData: s,
          indexData: o
        } = yield (0,_views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_12__.createFlowMesh)(r.meshType, r.simulationSettings, t, e.signal);
      return {
        result: {
          vertexBuffer: s.buffer,
          indexBuffer: o.buffer
        },
        transferList: [s.buffer, o.buffer]
      };
    })();
  }
  getProjectionOffsetGrid(e) {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const t = _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON(e.projectedExtent),
        s = _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON(e.srcBufferExtent);
      let o = null;
      e.datumTransformationSteps && (o = new _geometry_support_GeographicTransformation_js__WEBPACK_IMPORTED_MODULE_2__["default"]({
        steps: e.datumTransformationSteps
      })), (e.includeGCSGrid || (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_7__.requirePE)(t.spatialReference, s.spatialReference, o)) && (yield (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_7__.load)());
      const i = e.rasterTransform ? (0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_10__.readTransform)(e.rasterTransform) : null;
      return (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_7__.getProjectionOffsetGrid)({
        ...e,
        projectedExtent: t,
        srcBufferExtent: s,
        datumTransformation: o,
        rasterTransform: i
      });
    })();
  }
}


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_layers_support_RasterWorker_js.js.map