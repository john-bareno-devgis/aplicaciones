{"version":3,"file":"default-node_modules_esri_calcite-components_dist_components_floating-ui_js-node_modules_esri-644dca.js","mappings":"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","sources":["./node_modules/@esri/calcite-components/dist/components/floating-ui.js","./node_modules/@esri/calcite-components/dist/components/openCloseComponent.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\nimport { Build } from '@stencil/core/internal/client/index.js';\nimport { b as getElementDir } from './dom.js';\nimport { d as debounce } from './debounce.js';\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition$1 = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n      continue;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center != offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null ? void 0 : (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle$1(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  return getCssDimensions(element);\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle$1(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle$1(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (_ref) {\n  let {\n    reference,\n    floating,\n    strategy\n  } = _ref;\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(reference, await getOffsetParentFn(floating), strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    clearTimeout(timeoutId);\n    io && io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          resizeObserver && resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo && cleanupIo();\n    resizeObserver && resizeObserver.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain CSS positioning\n * strategy.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\n/* eslint-disable @typescript-eslint/ban-types */\nfunction offsetParent(element) {\n    return offsetParentPolyfill(element);\n}\nfunction flatTreeParent(element) {\n    if (element.assignedSlot) {\n        return element.assignedSlot;\n    }\n    if (element.parentNode instanceof ShadowRoot) {\n        return element.parentNode.host;\n    }\n    return element.parentNode;\n}\nfunction offsetParentPolyfill(element) {\n    // Do an initial walk to check for display:none ancestors.\n    for (let ancestor = element; ancestor; ancestor = flatTreeParent(ancestor)) {\n        if (!(ancestor instanceof Element)) {\n            continue;\n        }\n        if (getComputedStyle(ancestor).display === 'none') {\n            return null;\n        }\n    }\n    for (let ancestor = flatTreeParent(element); ancestor; ancestor = flatTreeParent(ancestor)) {\n        if (!(ancestor instanceof Element)) {\n            continue;\n        }\n        const style = getComputedStyle(ancestor);\n        // Display:contents nodes aren't in the layout tree so they should be skipped.\n        if (style.display === 'contents') {\n            continue;\n        }\n        if (style.position !== 'static' || style.filter !== 'none') {\n            return ancestor;\n        }\n        if (ancestor.tagName === 'BODY') {\n            return ancestor;\n        }\n    }\n    return null;\n}\n\n(function setUpFloatingUiForShadowDomPositioning() {\n  if (Build.isBrowser) {\n    const originalGetOffsetParent = platform.getOffsetParent;\n    platform.getOffsetParent = (element) => originalGetOffsetParent(element, offsetParent);\n  }\n})();\n/**\n * Positions the floating element relative to the reference element.\n *\n * **Note:** exported for testing purposes only\n *\n * @param root0\n * @param root0.referenceEl\n * @param root0.floatingEl\n * @param root0.overlayPositioning\n * @param root0.placement\n * @param root0.flipDisabled\n * @param root0.flipPlacements\n * @param root0.offsetDistance\n * @param root0.offsetSkidding\n * @param root0.arrowEl\n * @param root0.type\n * @param component\n * @param root0.referenceEl.referenceEl\n * @param root0.referenceEl.floatingEl\n * @param root0.referenceEl.overlayPositioning\n * @param root0.referenceEl.placement\n * @param root0.referenceEl.flipDisabled\n * @param root0.referenceEl.flipPlacements\n * @param root0.referenceEl.offsetDistance\n * @param root0.referenceEl.offsetSkidding\n * @param root0.referenceEl.arrowEl\n * @param root0.referenceEl.type\n * @param component.referenceEl\n * @param component.floatingEl\n * @param component.overlayPositioning\n * @param component.placement\n * @param component.flipDisabled\n * @param component.flipPlacements\n * @param component.offsetDistance\n * @param component.offsetSkidding\n * @param component.arrowEl\n * @param component.type\n */\nconst positionFloatingUI = \n/* we export arrow function to allow us to spy on it during testing */\nasync (component, { referenceEl, floatingEl, overlayPositioning = \"absolute\", placement, flipDisabled, flipPlacements, offsetDistance, offsetSkidding, arrowEl, type, }) => {\n  if (!referenceEl || !floatingEl) {\n    return null;\n  }\n  const { x, y, placement: effectivePlacement, strategy: position, middlewareData, } = await computePosition(referenceEl, floatingEl, {\n    strategy: overlayPositioning,\n    placement: placement === \"auto\" || placement === \"auto-start\" || placement === \"auto-end\"\n      ? undefined\n      : getEffectivePlacement(floatingEl, placement),\n    middleware: getMiddleware({\n      placement,\n      flipDisabled,\n      flipPlacements,\n      offsetDistance,\n      offsetSkidding,\n      arrowEl,\n      type,\n    }),\n  });\n  if (arrowEl && middlewareData.arrow) {\n    const { x, y } = middlewareData.arrow;\n    const side = effectivePlacement.split(\"-\")[0];\n    const alignment = x != null ? \"left\" : \"top\";\n    const transform = ARROW_CSS_TRANSFORM[side];\n    const reset = { left: \"\", top: \"\", bottom: \"\", right: \"\" };\n    if (\"floatingLayout\" in component) {\n      component.floatingLayout = side === \"left\" || side === \"right\" ? \"horizontal\" : \"vertical\";\n    }\n    Object.assign(arrowEl.style, {\n      ...reset,\n      [alignment]: `${alignment == \"left\" ? x : y}px`,\n      [side]: \"100%\",\n      transform,\n    });\n  }\n  const referenceHidden = middlewareData.hide?.referenceHidden;\n  const visibility = referenceHidden ? \"hidden\" : null;\n  const pointerEvents = visibility ? \"none\" : null;\n  floatingEl.setAttribute(placementDataAttribute, effectivePlacement);\n  const transform = `translate(${Math.round(x)}px,${Math.round(y)}px)`;\n  Object.assign(floatingEl.style, {\n    visibility,\n    pointerEvents,\n    position,\n    top: \"0\",\n    left: \"0\",\n    transform,\n  });\n};\n/**\n * Exported for testing purposes only\n */\nconst placementDataAttribute = \"data-placement\";\n/**\n * Exported for testing purposes only\n */\nconst repositionDebounceTimeout = 100;\nconst effectivePlacements = [\n  \"top\",\n  \"bottom\",\n  \"right\",\n  \"left\",\n  \"top-start\",\n  \"top-end\",\n  \"bottom-start\",\n  \"bottom-end\",\n  \"right-start\",\n  \"right-end\",\n  \"left-start\",\n  \"left-end\",\n];\nconst defaultMenuPlacement = \"bottom-start\";\nconst FloatingCSS = {\n  animation: \"calcite-floating-ui-anim\",\n  animationActive: \"calcite-floating-ui-anim--active\",\n};\nfunction getMiddleware({ placement, flipDisabled, flipPlacements, offsetDistance, offsetSkidding, arrowEl, type, }) {\n  const defaultMiddleware = [shift(), hide()];\n  if (type === \"menu\") {\n    return [\n      ...defaultMiddleware,\n      flip({\n        fallbackPlacements: flipPlacements || [\"top-start\", \"top\", \"top-end\", \"bottom-start\", \"bottom\", \"bottom-end\"],\n      }),\n    ];\n  }\n  if (type === \"popover\" || type === \"tooltip\") {\n    const middleware = [\n      ...defaultMiddleware,\n      offset({\n        mainAxis: typeof offsetDistance === \"number\" ? offsetDistance : 0,\n        crossAxis: typeof offsetSkidding === \"number\" ? offsetSkidding : 0,\n      }),\n    ];\n    if (placement === \"auto\" || placement === \"auto-start\" || placement === \"auto-end\") {\n      middleware.push(autoPlacement({ alignment: placement === \"auto-start\" ? \"start\" : placement === \"auto-end\" ? \"end\" : null }));\n    }\n    else if (!flipDisabled) {\n      middleware.push(flip(flipPlacements ? { fallbackPlacements: flipPlacements } : {}));\n    }\n    if (arrowEl) {\n      middleware.push(arrow({\n        element: arrowEl,\n      }));\n    }\n    return middleware;\n  }\n  return [];\n}\nfunction filterComputedPlacements(placements, el) {\n  const filteredPlacements = placements.filter((placement) => effectivePlacements.includes(placement));\n  if (filteredPlacements.length !== placements.length) {\n    console.warn(`${el.tagName}: Invalid value found in: flipPlacements. Try any of these: ${effectivePlacements\n      .map((placement) => `\"${placement}\"`)\n      .join(\", \")\n      .trim()}`, { el });\n  }\n  return filteredPlacements;\n}\nfunction getEffectivePlacement(floatingEl, placement) {\n  const placements = [\"left\", \"right\"];\n  if (getElementDir(floatingEl) === \"rtl\") {\n    placements.reverse();\n  }\n  return placement.replace(/leading/gi, placements[0]).replace(/trailing/gi, placements[1]);\n}\n/**\n * Convenience function to manage `reposition` calls for FloatingUIComponents that use `positionFloatingUI.\n *\n * Note: this is not needed for components that use `calcite-popover`.\n *\n * @param component - A floating-ui component.\n * @param options - Reposition parameters.\n * @param options.referenceEl - The `referenceElement` used to position the component according to its `placement` value.\n * @param options.floatingEl - The `floatingElement` containing the floating ui.\n * @param options.overlayPositioning - type of positioning to use for the overlaid content.\n * @param options.placement - Determines where the component will be positioned relative to the `referenceElement`.\n * @param options.flipDisabled - Prevents flipping the component's placement when overlapping its `referenceElement`.\n * @param options.flipPlacements - Defines the available placements that can be used when a flip occurs.\n * @param options.offsetDistance - Offsets the position of the popover away from the `referenceElement`.\n * @param options.offsetSkidding - Offsets the position of the component along the `referenceElement`.\n * @param options.arrowEl - A customizable arrow element.\n * @param options.type - The type of floating UI.\n * @param delayed - Reposition the component after a delay.\n * @returns {Promise<void>}\n */\nasync function reposition(component, options, delayed = false) {\n  const positionFunction = delayed ? getDebouncedReposition(component) : positionFloatingUI;\n  return positionFunction(component, options);\n}\nfunction getDebouncedReposition(component) {\n  let debounced = componentToDebouncedRepositionMap.get(component);\n  if (debounced) {\n    return debounced;\n  }\n  debounced = debounce(positionFloatingUI, repositionDebounceTimeout, {\n    leading: true,\n    maxWait: repositionDebounceTimeout,\n  });\n  componentToDebouncedRepositionMap.set(component, debounced);\n  return debounced;\n}\nconst ARROW_CSS_TRANSFORM = {\n  top: \"\",\n  left: \"rotate(-90deg)\",\n  bottom: \"rotate(180deg)\",\n  right: \"rotate(90deg)\",\n};\n/**\n * Exported for testing purposes only\n *\n * @internal\n */\nconst cleanupMap = new WeakMap();\nconst componentToDebouncedRepositionMap = new WeakMap();\n/**\n * Helper to set up floating element interactions on connectedCallback.\n *\n * @param component - A floating-ui component.\n * @param referenceEl - The `referenceElement` used to position the component according to its `placement` value.\n * @param floatingEl - The `floatingElement` containing the floating ui.\n */\nfunction connectFloatingUI(component, referenceEl, floatingEl) {\n  if (!floatingEl || !referenceEl) {\n    return;\n  }\n  disconnectFloatingUI(component, referenceEl, floatingEl);\n  Object.assign(floatingEl.style, {\n    visibility: \"hidden\",\n    pointerEvents: \"none\",\n    // initial positioning based on https://floating-ui.com/docs/computePosition#initial-layout\n    position: component.overlayPositioning,\n    top: \"0\",\n    left: \"0\",\n  });\n  const runAutoUpdate = Build.isBrowser\n    ? autoUpdate\n    : (_refEl, _floatingEl, updateCallback) => {\n      updateCallback();\n      return () => {\n        /* noop */\n      };\n    };\n  cleanupMap.set(component, runAutoUpdate(referenceEl, floatingEl, () => component.reposition()));\n}\n/**\n * Helper to tear down floating element interactions on disconnectedCallback.\n *\n * @param component - A floating-ui component.\n * @param referenceEl - The `referenceElement` used to position the component according to its `placement` value.\n * @param floatingEl - The `floatingElement` containing the floating ui.\n */\nfunction disconnectFloatingUI(component, referenceEl, floatingEl) {\n  if (!floatingEl || !referenceEl) {\n    return;\n  }\n  cleanupMap.get(component)?.();\n  cleanupMap.delete(component);\n  componentToDebouncedRepositionMap.get(component)?.cancel();\n  componentToDebouncedRepositionMap.delete(component);\n}\nconst visiblePointerSize = 4;\n/**\n * Default offset the position of the floating element away from the reference element.\n *\n * @default 6\n */\nconst defaultOffsetDistance = Math.ceil(Math.hypot(visiblePointerSize, visiblePointerSize));\n\nexport { FloatingCSS as F, disconnectFloatingUI as a, defaultOffsetDistance as b, connectFloatingUI as c, defaultMenuPlacement as d, filterComputedPlacements as f, reposition as r };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\nimport { readTask } from '@stencil/core/internal/client/index.js';\n\nfunction isOpen(component) {\n  return \"opened\" in component ? component.opened : component.open;\n}\nfunction emitImmediately(component, nonOpenCloseComponent = false) {\n  (nonOpenCloseComponent ? component[component.transitionProp] : isOpen(component))\n    ? component.onBeforeOpen()\n    : component.onBeforeClose();\n  (nonOpenCloseComponent ? component[component.transitionProp] : isOpen(component))\n    ? component.onOpen()\n    : component.onClose();\n}\n/**\n * Helper to determine globally set transition duration on the given openTransitionProp, which is imported and set in the @Watch(\"open\").\n * Used to emit (before)open/close events both for when the opacity transition is present and when there is none (transition-duration is set to 0).\n *\n * @example\n * import { onToggleOpenCloseComponent, OpenCloseComponent } from \"../../utils/openCloseComponent\";\n *\n * async componentWillLoad() {\n * // When component initially renders, if `open` was set we need to trigger on load as watcher doesn't fire.\n * if (this.open) {\n *    onToggleOpenCloseComponent(this);\n * }\n * @Watch(\"open\")\n * async toggleModal(value: boolean): Promise<void> {\n *    onToggleOpenCloseComponent(this);\n * }\n *\n * @param component - OpenCloseComponent uses `open` prop to emit (before)open/close.\n * @param nonOpenCloseComponent - OpenCloseComponent uses `expanded` prop to emit (before)open/close.\n */\nfunction onToggleOpenCloseComponent(component, nonOpenCloseComponent = false) {\n  readTask(() => {\n    if (component.transitionEl) {\n      const { transitionDuration: allDurations, transitionProperty: allProps } = getComputedStyle(component.transitionEl);\n      const allTransitionDurationsArray = allDurations.split(\",\");\n      const allTransitionPropsArray = allProps.split(\",\");\n      const openTransitionPropIndex = allTransitionPropsArray.indexOf(component.openTransitionProp);\n      const transitionDuration = allTransitionDurationsArray[openTransitionPropIndex] ??\n        /* Safari will have a single transition value if multiple props share it,\n        so we fall back to it if there's no matching prop duration */\n        allTransitionDurationsArray[0];\n      if (transitionDuration === \"0s\") {\n        emitImmediately(component, nonOpenCloseComponent);\n        return;\n      }\n      const fallbackTimeoutId = setTimeout(() => {\n        component.transitionEl.removeEventListener(\"transitionstart\", onStart);\n        component.transitionEl.removeEventListener(\"transitionend\", onEndOrCancel);\n        component.transitionEl.removeEventListener(\"transitioncancel\", onEndOrCancel);\n        emitImmediately(component, nonOpenCloseComponent);\n      }, parseFloat(transitionDuration) * 1000);\n      component.transitionEl.addEventListener(\"transitionstart\", onStart);\n      component.transitionEl.addEventListener(\"transitionend\", onEndOrCancel);\n      component.transitionEl.addEventListener(\"transitioncancel\", onEndOrCancel);\n      function onStart(event) {\n        if (event.propertyName === component.openTransitionProp && event.target === component.transitionEl) {\n          clearTimeout(fallbackTimeoutId);\n          component.transitionEl.removeEventListener(\"transitionstart\", onStart);\n          (nonOpenCloseComponent ? component[component.transitionProp] : isOpen(component))\n            ? component.onBeforeOpen()\n            : component.onBeforeClose();\n        }\n      }\n      function onEndOrCancel(event) {\n        if (event.propertyName === component.openTransitionProp && event.target === component.transitionEl) {\n          (nonOpenCloseComponent ? component[component.transitionProp] : isOpen(component))\n            ? component.onOpen()\n            : component.onClose();\n          component.transitionEl.removeEventListener(\"transitionend\", onEndOrCancel);\n          component.transitionEl.removeEventListener(\"transitioncancel\", onEndOrCancel);\n        }\n      }\n    }\n  });\n}\n\nexport { onToggleOpenCloseComponent as o };\n"],"names":["Build","b","getElementDir","d","debounce","sides","alignments","placements","reduce","acc","side","concat","min","Math","max","round","floor","createCoords","v","x","y","oppositeSideMap","left","right","bottom","top","oppositeAlignmentMap","start","end","clamp","value","evaluate","param","getSide","placement","split","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","includes","getAlignmentAxis","getAlignmentSides","rects","rtl","alignment","alignmentAxis","length","mainAlignmentSide","reference","floating","getOppositePlacement","getExpandedPlacements","oppositePlacement","getOppositeAlignmentPlacement","replace","getSideList","isStart","lr","rl","tb","bt","getOppositeAxisPlacements","flipAlignment","direction","list","map","expandPaddingObject","padding","getPaddingObject","rectToClientRect","rect","width","height","computeCoordsFromPlacement","_ref","sideAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","computePosition$1","config","strategy","middleware","platform","validMiddleware","filter","Boolean","isRTL","getElementRects","statefulPlacement","middlewareData","resetCount","i","name","fn","nextX","nextY","data","reset","initialPlacement","elements","detectOverflow","state","options","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","altContext","element","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","offsetParent","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","arrow","arrowDimensions","getDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","offset","shouldAddOffset","alignmentOffset","centerOffset","getPlacementList","autoAlignment","allowedPlacements","allowedPlacementsSortedByAlignment","autoPlacement","_middlewareData$autoP","_middlewareData$autoP2","_placementsThatFitOnE","crossAxis","detectOverflowOptions","placements$1","undefined","overflow","currentIndex","index","currentPlacement","alignmentSides","currentOverflows","allOverflows","overflows","nextPlacement","placementsSortedByMostSpace","slice","sort","a","placementsThatFitOnEachSide","every","resetPlacement","flip","_middlewareData$arrow","_middlewareData$flip","mainAxis","checkMainAxis","checkCrossAxis","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","isBasePlacement","push","overflowsData","_middlewareData$flip2","_overflowsData$filter","nextIndex","_overflowsData$map$so","getSideOffsets","isAnySideFullyClipped","some","hide","offsets","referenceHiddenOffsets","referenceHidden","escapedOffsets","escaped","convertValueToCoords","mainAxisMulti","crossAxisMulti","rawValue","diffCoords","shift","limiter","mainAxisCoord","crossAxisCoord","minSide","maxSide","limitedCoords","getNodeName","node","isNode","nodeName","toLowerCase","getWindow","_node$ownerDocument","ownerDocument","defaultView","window","document","documentElement","Node","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","isOverflowElement","overflowX","overflowY","display","getComputedStyle$1","test","isTableElement","isContainingBlock","webkit","isWebKit","css","transform","perspective","containerType","backdropFilter","willChange","contain","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","CSS","supports","getComputedStyle","getNodeScroll","scrollLeft","scrollTop","pageXOffset","pageYOffset","result","assignedSlot","parentNode","host","getNearestOverflowAncestor","body","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","visualViewport","frameElement","getCssDimensions","parseFloat","hasOffset","offsetWidth","offsetHeight","shouldFallback","$","unwrapElement","domElement","getBoundingClientRect","Number","isFinite","noOffsets","getVisualOffsets","offsetLeft","offsetTop","shouldAddVisualOffsets","isFixed","floatingOffsetParent","includeScale","isFixedStrategy","clientRect","scale","visualOffsets","offsetWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","isOffsetParentAnElement","scroll","offsetRect","getClientRects","Array","from","getWindowScrollBarX","getDocumentRect","html","scrollWidth","clientWidth","scrollHeight","clientHeight","getViewportRect","visualViewportBased","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","position","getClippingElementAncestors","cache","cachedResult","get","el","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","shouldDropCurrentNode","ancestor","set","elementClippingAncestors","_c","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getRectRelativeToOffsetParent","getTrueOffsetParent","polyfill","getOffsetParentFn","getDimensionsFn","observeMove","onMove","io","timeoutId","root","cleanup","clearTimeout","disconnect","refresh","skip","threshold","insetTop","insetRight","insetBottom","insetLeft","rootMargin","isFirstUpdate","handleObserve","entries","ratio","intersectionRatio","setTimeout","IntersectionObserver","e","observe","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","animationFrame","referenceEl","ancestors","forEach","addEventListener","passive","cleanupIo","reobserveFrame","resizeObserver","firstEntry","target","unobserve","cancelAnimationFrame","requestAnimationFrame","frameId","prevRefRect","frameLoop","nextRefRect","removeEventListener","computePosition","Map","mergedOptions","platformWithCache","offsetParentPolyfill","flatTreeParent","style","tagName","setUpFloatingUiForShadowDomPositioning","isBrowser","originalGetOffsetParent","positionFloatingUI","component","floatingEl","overlayPositioning","flipDisabled","flipPlacements","offsetDistance","offsetSkidding","arrowEl","type","effectivePlacement","getEffectivePlacement","getMiddleware","ARROW_CSS_TRANSFORM","floatingLayout","Object","assign","visibility","pointerEvents","setAttribute","placementDataAttribute","repositionDebounceTimeout","effectivePlacements","defaultMenuPlacement","FloatingCSS","animation","animationActive","defaultMiddleware","filterComputedPlacements","filteredPlacements","console","warn","join","trim","reverse","reposition","delayed","positionFunction","getDebouncedReposition","debounced","componentToDebouncedRepositionMap","leading","maxWait","cleanupMap","WeakMap","connectFloatingUI","disconnectFloatingUI","runAutoUpdate","_refEl","_floatingEl","updateCallback","delete","cancel","visiblePointerSize","defaultOffsetDistance","ceil","hypot","F","c","f","r","readTask","isOpen","opened","open","emitImmediately","nonOpenCloseComponent","transitionProp","onBeforeOpen","onBeforeClose","onOpen","onClose","onToggleOpenCloseComponent","transitionEl","transitionDuration","allDurations","transitionProperty","allProps","allTransitionDurationsArray","allTransitionPropsArray","openTransitionPropIndex","indexOf","openTransitionProp","fallbackTimeoutId","onStart","onEndOrCancel","event","propertyName","o"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1]}