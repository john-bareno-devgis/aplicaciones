{"version":3,"file":"default-node_modules_arcgis_core_layers_mixins_SceneService_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/core/accessorSupport/originUtils.js","./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","./node_modules/@arcgis/core/layers/mixins/SceneService.js","./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","./node_modules/@arcgis/core/layers/support/schemaValidatorLoader.js","./node_modules/@arcgis/core/portal/support/resourceUtils.js","./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js","./node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import o from\"../../core/Logger.js\";import{debounce as i}from\"../../core/promiseUtils.js\";import{urlToObject as s}from\"../../core/urlUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{updateOrigins as c}from\"../../core/accessorSupport/originUtils.js\";import d from\"../../geometry/Extent.js\";import u from\"../../geometry/HeightModelInfo.js\";import m from\"../../geometry/SpatialReference.js\";import{titleFromUrlAndName as h,parse as y,cleanTitle as f,sanitizeUrlWithLayerId as v,writeUrlWithLayerId as S}from\"../support/arcgisLayerUrl.js\";import{id as g,url as w}from\"../support/commonProperties.js\";import{fetchIndexInfo as I}from\"../support/I3SIndexInfo.js\";import{getLoader as x}from\"../support/schemaValidatorLoader.js\";import b from\"../../portal/Portal.js\";import j from\"../../portal/PortalItem.js\";import{validateSaveAPIKey as _}from\"../../webdoc/saveAPIKeyUtils.js\";import{saveResources as R,updateItemWithResources as A}from\"../../webdoc/support/saveUtils.js\";const N=\"esri.layers.mixins.SceneService\",U=o.getLogger(N),E=o=>{let E=class extends o{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=i((async(e,t,r)=>{switch(e){case P.SAVE:return this._save(t);case P.SAVE_AS:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return m.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=o?new m(o):null}}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e){const o=null==e.spatialReference?{...e,spatialReference:this._readSpatialReference(t)}:e;return d.fromJSON(o,r)}const o=t.store,i=this._readSpatialReference(t);return null==i||null==o?.extent||!Array.isArray(o.extent)||o.extent.some((e=>e<T))?null:new d({xmin:o.extent[0],ymin:o.extent[1],xmax:o.extent[2],ymax:o.extent[3],spatialReference:i})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(\".\");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\";return this.parseVersionString(o)}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem?.title;if(\"item-title\"===this.sublayerTitleMode)return h(this.url,t.name);let o=t.name;if(!o&&this.url){const e=y(this.url);null!=e&&(o=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(o=r+\" - \"+o),f(o)}set url(e){const t=v({layer:this,url:e,nonStandardUrlAllowed:!1,logger:U});this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,o){S(this,e,\"layers\",t,o)}get parsedUrl(){const e=this._get(\"url\"),t=s(e);return null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=I(this.parsedUrl.path,this.rootNode,e,this.apiKey,U,t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if(\"page\"===e?.type){const t=e.rootIndex%e.pageSize,o=e.rootPage?.nodes?.[t];if(null==o?.obb?.center||null==o.obb.halfSize)throw new r(\"sceneservice:invalid-node-page\",\"Invalid node page.\");if(o.obb.center[0]<T||null==this.fullExtent||this.fullExtent.hasZ)return;const i=o.obb.halfSize,s=o.obb.center[2],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);this.fullExtent.zmin=s-a,this.fullExtent.zmax=s+a}else if(\"node\"===e?.type){const t=e.rootNode?.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<T)return;const r=t[2],o=t[3],{fullExtent:i}=this;i&&(i.zmin=r-o,i.zmax=r+o)}}async _fetchService(e){if(null==this.url)throw new r(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await t(this.url,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await t(this.parsedUrl?.path??\"\",{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e});r.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));let o=!1;if(r.data.layerType&&\"Voxel\"===r.data.layerType&&(o=!0),o)return this._fetchVoxelServiceLayer();const i=r.data;this.read(i,this._getServiceContext()),this.validateLayer(i)}async _fetchVoxelServiceLayer(e){const r=(await t(this.parsedUrl?.path+\"/layer\",{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,this._getServiceContext()),this.validateLayer(r)}_getServiceContext(){return{origin:\"service\",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const i of o)e.typeKeywords.push(i);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),r===O.newItem&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}async _saveAs(e,t){const o={...L,...t};let i=j.from(e);if(!i)throw new r(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\");_(i),i.id&&(i=i.clone(),i.id=null);const s=i.portal||b.getDefault();await this._ensureLoadBeforeSave(),i.type=K,i.portal=s;const a={origin:\"portal-item\",url:null,messages:[],portal:s,portalItem:i,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(n,a,o),i.url=this.url,i.title||(i.title=this.title),this._updateTypeKeywords(i,o,O.newItem),await s.signIn(),await(s.user?.addItem({item:i,folder:o?.folder,data:n})),await R(this.resourceReferences,a,null),this.portalItem=i,c(a),a.portalItem=i,i}async _save(e){const t={...L,...e};if(!this.portalItem)throw new r(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\");if(_(this.portalItem),this.portalItem.type!==K)throw new r(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${K}\"`);await this._ensureLoadBeforeSave();const o={origin:\"portal-item\",url:this.portalItem.itemUrl&&s(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||b.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},i={layers:[this.write({},o)]};return await Promise.all(o.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(i,o,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,O.existingItem),await A(this.portalItem,i,this.resourceReferences,o,null),c(o),this.portalItem}async _validateAgainstJSONSchema(e,t,o){let i=t.messages?.filter((e=>\"error\"===e.type)).map((e=>new r(e.name,e.message,e.details)))??[];o?.validationOptions?.ignoreUnsupported&&(i=i.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name&&\"scenemodification:unsupported\"!==e.name)));const s=o?.validationOptions,a=s?.enabled,n=x();if(a&&n){const t=(await n()).validate(e,o.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(U.error(`_validateAgainstJSONSchema(): ${e}`),\"throw\"===s.failPolicy){const e=t.map((e=>new r(\"sceneservice:schema-validation\",e))).concat(i);throw new r(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{combined:e})}}}if(i.length>0)throw new r(\"sceneservice:save\",\"Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:i})}};return e([a(g)],E.prototype,\"id\",void 0),e([a({type:m})],E.prototype,\"spatialReference\",void 0),e([n(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],E.prototype,\"readSpatialReference\",null),e([a({type:d})],E.prototype,\"fullExtent\",void 0),e([n(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],E.prototype,\"readFullExtent\",null),e([a({readOnly:!0,type:u})],E.prototype,\"heightModelInfo\",void 0),e([a({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],E.prototype,\"minScale\",void 0),e([a({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],E.prototype,\"maxScale\",void 0),e([a({readOnly:!0})],E.prototype,\"version\",void 0),e([n(\"version\",[\"store.version\"])],E.prototype,\"readVersion\",null),e([a({type:String,json:{read:{source:\"copyrightText\"}}})],E.prototype,\"copyright\",void 0),e([a({type:String,json:{read:!1}})],E.prototype,\"sublayerTitleMode\",void 0),e([a({type:String})],E.prototype,\"title\",void 0),e([n(\"portal-item\",\"title\")],E.prototype,\"readTitlePortalItem\",null),e([n(\"service\",\"title\",[\"name\"])],E.prototype,\"readTitleService\",null),e([a({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],E.prototype,\"layerId\",void 0),e([a(w)],E.prototype,\"url\",null),e([p(\"url\")],E.prototype,\"writeUrl\",null),e([a()],E.prototype,\"parsedUrl\",null),e([a({readOnly:!0})],E.prototype,\"store\",void 0),e([a({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],E.prototype,\"rootNode\",void 0),E=e([l(N)],E),E},T=-1e38;var O;!function(e){e[e.existingItem=0]=\"existingItem\",e[e.newItem=1]=\"newItem\"}(O||(O={}));const K=\"Scene Service\",L={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};var P;!function(e){e[e.SAVE=0]=\"SAVE\",e[e.SAVE_AS=1]=\"SAVE_AS\"}(P||(P={}));export{P as SaveOperationType,E as SceneService,K as sceneServiceItemType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";async function r(r,n,t,s,a,i){let l=null;if(null!=t){const o=`${r}/nodepages/`,n=o+Math.floor(t.rootIndex/t.nodesPerPage);try{return{type:\"page\",rootPage:(await e(n,{query:{f:\"json\",token:s},responseType:\"json\",signal:i})).data,rootIndex:t.rootIndex,pageSize:t.nodesPerPage,lodMetric:t.lodSelectionMetricType,urlPrefix:o}}catch(u){null!=a&&a.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",n,u),l=u}}if(!n)return null;const d=n?.split(\"/\").pop(),p=`${r}/nodes/`,c=p+d;try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:s},responseType:\"json\",signal:i})).data,urlPrefix:p}}catch(u){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:u,url:c})}}export{r as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nlet n=null;function t(t){n=t}function u(){return n}export{u as getLoader,t as registerLoader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as a}from\"../../core/urlUtils.js\";async function o(e,t={},a){await e.load(a);const o=r(e.itemUrl,\"resources\"),{start:s=1,num:n=10,sortOrder:l=\"asc\",sortField:u=\"created\"}=t,c={query:{start:s,num:n,sortOrder:l,sortField:u,token:e.apiKey},signal:a?.signal},i=await e.portal.request(o,c);return{total:i.total,nextStart:i.nextStart,resources:i.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function s(e,a,o,s){if(!e.hasPath())throw new t(`portal-item-resource-${a}:invalid-path`,\"Resource does not have a valid path\");const n=e.portalItem;await n.load(s);const l=r(n.userItemUrl,\"add\"===a?\"addResources\":\"updateResources\"),[c,i]=u(e.path),p=new FormData;return c&&\".\"!==c&&p.append(\"resourcesPrefix\",c),null!=s&&s.compress&&p.append(\"compress\",\"true\"),p.append(\"fileName\",i),p.append(\"file\",o,i),p.append(\"f\",\"json\"),s?.access&&p.append(\"access\",s.access),await n.portal.request(l,{method:\"post\",body:p,signal:s?.signal}),e}async function n(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const s=r(e.userItemUrl,\"removeResources\");await e.portal.request(s,{method:\"post\",query:{resource:a.path},signal:o?.signal}),a.portalItem=null}async function l(e,t){await e.load(t);const a=r(e.userItemUrl,\"removeResources\");return e.portal.request(a,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function u(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function c(e){const[t,r]=i(e),[a,o]=u(t);return[a,o,r]}function i(e){const t=a(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function d(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+o))}function m(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+o))}export{s as addOrUpdateResource,p as contentToBlob,o as fetchResources,d as getSiblingOfSameType,m as getSiblingOfSameTypeI,l as removeAllResources,n as removeResource,c as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport o from\"../config.js\";import r from\"../core/Error.js\";import{supportsApiKey as p}from\"../support/apiKeyUtils.js\";function i(i){if(o.apiKey&&p(i.portal.url))throw new r(\"save-api-key-utils:api-key-not-supported\",`Saving is not supported on ${i.portal.url} when using an api key`)}export{i as validateSaveAPIKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{result as e}from\"../../core/asyncUtils.js\";import r from\"../../core/Error.js\";import{allSettledErrors as o,throwIfAborted as t,eachAlways as s}from\"../../core/promiseUtils.js\";import{generateUUID as a}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as c,contentToBlob as n}from\"../../portal/support/resourceUtils.js\";async function u(e,r,o=null){const t=await i(e,r,o);await h(t,r,o)}async function p(e,r,o,t,s=null){const a=await i(o,t,s);await e.update({data:r}),await h(a,t,s)}async function i(e,s,n=null){if(!s?.resources)return;const u=s.portalItem===e.portalItem?new Set(e.paths):new Set;e.paths.length=0,e.portalItem=s.portalItem;const p=new Set(s.resources.toKeep.map((e=>e.resource.path))),i=new Set,h=[];p.forEach((r=>{u.delete(r),e.paths.push(r)}));for(const r of s.resources.toUpdate)if(u.delete(r.resource.path),p.has(r.resource.path)||i.has(r.resource.path)){const{resource:o,content:t,finish:s,error:u}=r,p=c(o,a());e.paths.push(p.path),h.push(f({resource:p,content:t,compress:r.compress,finish:s,error:u},n))}else e.paths.push(r.resource.path),h.push(l(r,n)),i.add(r.resource.path);for(const r of s.resources.toAdd)e.paths.push(r.resource.path),u.has(r.resource.path)?u.delete(r.resource.path):h.push(f(r,n));if(0===h.length)return u;const m=await o(h);if(t(n),m.length>0)throw new r(\"save:resources\",\"Failed to save one or more resources\",{errors:m});return u}async function h(e,r,o=null){if(!e||!r.portalItem)return;const t=[];for(const s of e){const e=r.portalItem.resourceFromPath(s);t.push(e.portalItem.removeResource(e,o))}await s(t)}async function f(r,o){const t={...null!=o?o:{},compress:r.compress},s=await e(r.resource.portalItem.addResource(r.resource,await n(r.content),t));if(!0!==s.ok)throw r.error?.(s.error),s.error;r.finish?.(r.resource)}async function l(r,o){const t=await e(r.resource.update(await n(r.content),o));if(!0!==t.ok)throw r.error?.(t.error),t.error;r.finish?.(r.resource)}async function m(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}export{m as beforeSave,u as saveResources,p as updateItemWithResources};\n"],"names":["isMultiOriginJSONMixin","r","i","writtenProperties","forEach","target","propName","t","newOrigin","e","originOf","updateOrigin","updateOrigins","_","o","debounce","urlToObject","s","property","a","reader","n","subclass","l","writer","p","c","d","u","m","titleFromUrlAndName","h","parse","y","cleanTitle","f","sanitizeUrlWithLayerId","v","writeUrlWithLayerId","S","id","g","url","w","fetchIndexInfo","I","getLoader","x","b","j","validateSaveAPIKey","saveResources","R","updateItemWithResources","A","N","U","getLogger","E","constructor","arguments","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","Number","NaN","minor","versionString","copyright","sublayerTitleMode","title","layerId","indexInfo","_debouncedSaveOperations","P","SAVE","_save","SAVE_AS","_saveAs","readSpatialReference","_readSpatialReference","fromJSON","store","indexCRS","geographicCRS","parseInt","substring","lastIndexOf","length","readFullExtent","extent","Array","isArray","some","T","xmin","ymin","xmax","ymax","parseVersionString","split","readVersion","toString","readTitlePortalItem","readTitleService","portalItem","name","layer","nonStandardUrlAllowed","logger","_set","writeUrl","parsedUrl","_get","path","_fetchIndexAndUpdateExtent","rootNode","apiKey","hasZ","_updateExtent","type","rootIndex","pageSize","rootPage","nodes","obb","center","halfSize","Math","sqrt","zmin","zmax","mbs","_fetchService","test","_fetchFirstLayerId","_fetchServiceLayer","query","token","responseType","signal","data","layers","ssl","replace","layerType","_fetchVoxelServiceLayer","read","_getServiceContext","validateLayer","origin","portal","_ensureLoadBeforeSave","load","beforeSave","_updateTypeKeywords","typeKeywords","getTypeKeywords","push","filter","indexOf","O","newItem","L","from","clone","getDefault","K","messages","blockedRelativeUrls","resources","toAdd","toUpdate","toKeep","pendingOperations","write","Promise","all","_validateAgainstJSONSchema","signIn","user","addItem","item","folder","resourceReferences","itemUrl","existingItem","map","message","details","validationOptions","ignoreUnsupported","enabled","validate","portalItemLayerType","join","error","failPolicy","concat","combined","errors","prototype","readOnly","json","origins","service","source","String","isRequired","ignoreOrigin","SaveOperationType","SceneService","sceneServiceItemType","floor","nodesPerPage","lodMetric","lodSelectionMetricType","urlPrefix","warn","pop","pageError","nodeError","registerLoader","getPathExtension","start","num","sortOrder","sortField","request","total","nextStart","created","size","resource","Date","resourceFromPath","hasPath","userItemUrl","FormData","append","compress","access","method","body","deleteAll","slice","blob","Blob","jsonString","addOrUpdateResource","contentToBlob","fetchResources","getSiblingOfSameType","getSiblingOfSameTypeI","removeAllResources","removeResource","splitPrefixFileNameAndExtension","supportsApiKey","result","allSettledErrors","throwIfAborted","eachAlways","generateUUID","update","Set","paths","delete","has","content","finish","add","addResource","ok","allLayers","allSettled"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4,5,6,7]}