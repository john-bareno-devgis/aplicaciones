"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_views_interactive_snapping_featureSources_featureServiceSource_Featu-164fbc"],{

/***/ 68557:
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/AsyncSequence.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AsyncSequence": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Accessor.js */ 2299);
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ 20891);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




let r = class extends _Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"] {
  constructor() {
    super(...arguments), this.updating = !1, this._pending = [];
  }
  push(s, t) {
    this._pending.push({
      promise: s,
      callback: t
    }), 1 === this._pending.length && this._process();
  }
  _process() {
    if (!this._pending.length) return void (this.updating = !1);
    this.updating = !0;
    const s = this._pending[0];
    s.promise.then(t => s.callback(t)).catch(() => {}).then(() => {
      this._pending.shift(), this._process();
    });
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()], r.prototype, "updating", void 0), r = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__.subclass)("esri.core.AsyncSequence")], r);


/***/ }),

/***/ 97135:
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BoundsStore": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/rbush/PooledRBush.js */ 52674);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ 6848);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



const d = 5e4,
  n = {
    minX: 0,
    minY: 0,
    maxX: 0,
    maxY: 0
  };
function t(i) {
  n.minX = i[0], n.minY = i[1], n.maxX = i[2], n.maxY = i[3];
}
function e(i, s, d) {
  t(s), i.search(n, d);
}
class o {
  constructor() {
    this._indexInvalid = !1, this._boundsToLoad = [], this._boundsById = new Map(), this._idByBounds = new Map(), this._index = new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__.PooledRBush(9, (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-csp-restrictions") ? i => ({
      minX: i[0],
      minY: i[1],
      maxX: i[2],
      maxY: i[3]
    }) : ["[0]", "[1]", "[2]", "[3]"]), this._loadIndex = () => {
      if (this._indexInvalid) {
        const i = new Array(this._idByBounds.size);
        let s = 0;
        this._idByBounds.forEach((d, n) => {
          i[s++] = n;
        }), this._indexInvalid = !1, this._index.clear(), this._index.load(i);
      } else this._boundsToLoad.length && (this._index.load(Array.from(new Set(this._boundsToLoad.filter(i => this._idByBounds.has(i))))), this._boundsToLoad.length = 0);
    };
  }
  get fullBounds() {
    if (!this._boundsById.size) return null;
    const i = (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.empty)();
    for (const s of this._boundsById.values()) s && (i[0] = Math.min(s[0], i[0]), i[1] = Math.min(s[1], i[1]), i[2] = Math.max(s[2], i[2]), i[3] = Math.max(s[3], i[3]));
    return i;
  }
  get valid() {
    return !this._indexInvalid;
  }
  clear() {
    this._indexInvalid = !1, this._boundsToLoad.length = 0, this._boundsById.clear(), this._idByBounds.clear(), this._index.clear();
  }
  delete(i) {
    const s = this._boundsById.get(i);
    this._boundsById.delete(i), s && (this._idByBounds.delete(s), this._indexInvalid || this._index.remove(s));
  }
  forEachInBounds(i, s) {
    this._loadIndex(), e(this._index, i, i => s(this._idByBounds.get(i)));
  }
  get(i) {
    return this._boundsById.get(i);
  }
  has(i) {
    return this._boundsById.has(i);
  }
  invalidateIndex() {
    this._indexInvalid || (this._indexInvalid = !0, this._boundsToLoad.length = 0);
  }
  set(i, s) {
    if (!this._indexInvalid) {
      const s = this._boundsById.get(i);
      s && (this._index.remove(s), this._idByBounds.delete(s));
    }
    this._boundsById.set(i, s), s && (this._idByBounds.set(s, i), this._indexInvalid || (this._boundsToLoad.push(s), this._boundsToLoad.length > d && this._loadIndex()));
  }
}


/***/ }),

/***/ 92203:
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Evented.js */ 95442);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ 28191);
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ 73327);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../featureConversionUtils.js */ 50805);
/* harmony import */ var _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BoundsStore.js */ 97135);
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./geometryUtils.js */ 11089);
/* harmony import */ var _optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./optimizedFeatureQueryEngineAdapter.js */ 33348);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










const f = (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.create)();
class m {
  constructor(e) {
    this.geometryInfo = e, this._boundsStore = new _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__.BoundsStore(), this._featuresById = new Map(), this._markedIds = new Set(), this.events = new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"](), this.featureAdapter = _optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__.optimizedFeatureQueryEngineAdapter;
  }
  get geometryType() {
    return this.geometryInfo.geometryType;
  }
  get hasM() {
    return this.geometryInfo.hasM;
  }
  get hasZ() {
    return this.geometryInfo.hasZ;
  }
  get numFeatures() {
    return this._featuresById.size;
  }
  get fullBounds() {
    return this._boundsStore.fullBounds;
  }
  get storeStatistics() {
    let e = 0;
    return this._featuresById.forEach(t => {
      null != t.geometry && t.geometry.coords && (e += t.geometry.coords.length);
    }), {
      featureCount: this._featuresById.size,
      vertexCount: e / (this.hasZ ? this.hasM ? 4 : 3 : this.hasM ? 3 : 2)
    };
  }
  getFullExtent(e) {
    if (null == this.fullBounds) return null;
    const [t, r, s, o] = this.fullBounds;
    return {
      xmin: t,
      ymin: r,
      xmax: s,
      ymax: o,
      spatialReference: (0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__.cleanFromGeometryEngine)(e)
    };
  }
  add(e) {
    this._add(e), this._emitChanged();
  }
  addMany(e) {
    for (const t of e) this._add(t);
    this._emitChanged();
  }
  upsertMany(t) {
    const r = t.map(e => this._upsert(e));
    return this._emitChanged(), r.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);
  }
  clear() {
    this._featuresById.clear(), this._boundsStore.clear(), this._emitChanged();
  }
  removeById(e) {
    const t = this._featuresById.get(e);
    return t ? (this._remove(t), this._emitChanged(), t) : null;
  }
  removeManyById(e) {
    this._boundsStore.invalidateIndex();
    for (const t of e) {
      const e = this._featuresById.get(t);
      e && this._remove(e);
    }
    this._emitChanged();
  }
  forEachBounds(e, t) {
    for (const r of e) {
      const e = this._boundsStore.get(r.objectId);
      e && t((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromRect)(f, e));
    }
  }
  getFeature(e) {
    return this._featuresById.get(e);
  }
  has(e) {
    return this._featuresById.has(e);
  }
  forEach(e) {
    this._featuresById.forEach(t => e(t));
  }
  forEachInBounds(e, t) {
    this._boundsStore.forEachInBounds(e, e => {
      t(this._featuresById.get(e));
    });
  }
  startMarkingUsedFeatures() {
    this._boundsStore.invalidateIndex(), this._markedIds.clear();
  }
  sweep() {
    let e = !1;
    this._featuresById.forEach((t, r) => {
      this._markedIds.has(r) || (e = !0, this._remove(t));
    }), this._markedIds.clear(), e && this._emitChanged();
  }
  _emitChanged() {
    this.events.emit("changed", void 0);
  }
  _add(e) {
    if (!e) return;
    const r = e.objectId;
    if (null == r) return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature", "feature id is missing", {
      feature: e
    }));
    const o = this._featuresById.get(r);
    let i;
    if (this._markedIds.add(r), o ? (e.displayId = o.displayId, i = this._boundsStore.get(r), this._boundsStore.delete(r)) : null != this.onFeatureAdd && this.onFeatureAdd(e), !e.geometry?.coords?.length) return this._boundsStore.set(r, null), void this._featuresById.set(r, e);
    i = (0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)(null != i ? i : (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(), e.geometry, this.geometryInfo.hasZ, this.geometryInfo.hasM), null != i && this._boundsStore.set(r, i), this._featuresById.set(r, e);
  }
  _upsert(e) {
    const r = e?.objectId;
    if (null == r) return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature", "feature id is missing", {
      feature: e
    })), null;
    const o = this._featuresById.get(r);
    if (!o) return this._add(e), e;
    this._markedIds.add(r);
    const {
      geometry: i,
      attributes: d
    } = e;
    for (const t in d) o.attributes[t] = d[t];
    return i && (o.geometry = i, this._boundsStore.set(r, (0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(), i, this.geometryInfo.hasZ, this.geometryInfo.hasM) ?? null)), o;
  }
  _remove(e) {
    null != this.onFeatureRemove && this.onFeatureRemove(e);
    const t = e.objectId;
    return this._markedIds.delete(t), this._boundsStore.delete(t), this._featuresById.delete(t), e;
  }
}


/***/ }),

/***/ 58558:
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/operations/urlUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mapParameters": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n) {
  const o = {};
  for (const e in n) {
    if ("declaredClass" === e) continue;
    const r = n[e];
    if (null != r && "function" != typeof r) if (Array.isArray(r)) {
      o[e] = [];
      for (let n = 0; n < r.length; n++) o[e][n] = t(r[n]);
    } else "object" == typeof r ? r.toJSON && (o[e] = JSON.stringify(r)) : o[e] = r;
  }
  return o;
}


/***/ }),

/***/ 78170:
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/operations/query.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "encodeGeometry": () => (/* binding */ m),
/* harmony export */   "executeQuery": () => (/* binding */ c),
/* harmony export */   "executeQueryForCount": () => (/* binding */ S),
/* harmony export */   "executeQueryForExtent": () => (/* binding */ x),
/* harmony export */   "executeQueryForIds": () => (/* binding */ p),
/* harmony export */   "executeQueryPBF": () => (/* binding */ f),
/* harmony export */   "executeQueryPBFBuffer": () => (/* binding */ d),
/* harmony export */   "queryToQueryStringParameters": () => (/* binding */ y),
/* harmony export */   "runQuery": () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../request.js */ 1897);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/urlUtils.js */ 55050);
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ 71182);
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/normalizeUtils.js */ 93136);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ 53492);
/* harmony import */ var _operations_urlUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../operations/urlUtils.js */ 58558);
/* harmony import */ var _pbfQueryUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pbfQueryUtils.js */ 49592);
/* harmony import */ var _queryZScale_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./queryZScale.js */ 59937);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








const s = "Layer does not support extent calculation.";
function m(t, e) {
  if (e && "extent" === t.type) return `${t.xmin},${t.ymin},${t.xmax},${t.ymax}`;
  if (e && "point" === t.type) return `${t.x},${t.y}`;
  const n = t.toJSON();
  return delete n.spatialReference, JSON.stringify(n);
}
function y(t, e) {
  const n = t.geometry,
    i = t.toJSON();
  delete i.compactGeometryEnabled, delete i.defaultSpatialReferenceEnabled;
  const o = i;
  let u, l, s;
  if (null != n && (l = n.spatialReference, s = (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.srToRESTValue)(l), o.geometryType = (0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.getJsonType)(n), o.geometry = m(n, t.compactGeometryEnabled), o.inSR = s), i.groupByFieldsForStatistics && (o.groupByFieldsForStatistics = i.groupByFieldsForStatistics.join(",")), i.objectIds && (o.objectIds = i.objectIds.join(",")), i.orderByFields && (o.orderByFields = i.orderByFields.join(",")), !i.outFields || !i.returnDistinctValues && (e?.returnCountOnly || e?.returnExtentOnly || e?.returnIdsOnly) ? delete o.outFields : i.outFields.includes("*") ? o.outFields = "*" : o.outFields = i.outFields.join(","), i.outSR ? (o.outSR = (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.srToRESTValue)(i.outSR), u = t.outSpatialReference) : n && (i.returnGeometry || i.returnCentroid) && (o.outSR = o.inSR, u = l), i.returnGeometry && delete i.returnGeometry, i.outStatistics && (o.outStatistics = JSON.stringify(i.outStatistics)), i.fullText && (o.fullText = JSON.stringify(i.fullText)), i.pixelSize && (o.pixelSize = JSON.stringify(i.pixelSize)), i.quantizationParameters && (t.defaultSpatialReferenceEnabled && null != l && null != t.quantizationParameters?.extent && l.equals(t.quantizationParameters.extent.spatialReference) && delete i.quantizationParameters.extent.spatialReference, o.quantizationParameters = JSON.stringify(i.quantizationParameters)), i.parameterValues && (o.parameterValues = JSON.stringify(i.parameterValues)), i.rangeValues && (o.rangeValues = JSON.stringify(i.rangeValues)), i.dynamicDataSource && (o.layer = JSON.stringify({
    source: i.dynamicDataSource
  }), delete i.dynamicDataSource), i.timeExtent) {
    const t = i.timeExtent,
      {
        start: e,
        end: n
      } = t;
    null == e && null == n || (o.time = e === n ? e : `${e ?? "null"},${n ?? "null"}`), delete i.timeExtent;
  }
  return t.defaultSpatialReferenceEnabled && null != l && null != u && l.equals(u) && (o.defaultSR = o.inSR, delete o.inSR, delete o.outSR), o;
}
function c(_x, _x2, _x3, _x4) {
  return _c.apply(this, arguments);
}
function _c() {
  _c = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, e, n, r) {
    const i = null != e.timeExtent && e.timeExtent.isEmpty ? {
      data: {
        features: []
      }
    } : yield E(t, e, "json", r);
    return (0,_queryZScale_js__WEBPACK_IMPORTED_MODULE_8__.applyFeatureSetZUnitScaling)(e, n, i.data), i;
  });
  return _c.apply(this, arguments);
}
function f(_x5, _x6, _x7, _x8) {
  return _f.apply(this, arguments);
}
function _f() {
  _f = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, e, n, r) {
    if (null != e.timeExtent && e.timeExtent.isEmpty) return {
      data: n.createFeatureResult()
    };
    const i = yield d(t, e, r),
      a = i;
    return a.data = (0,_pbfQueryUtils_js__WEBPACK_IMPORTED_MODULE_7__.parsePBFFeatureQuery)(i.data, n), a;
  });
  return _f.apply(this, arguments);
}
function d(t, e, n) {
  return E(t, e, "pbf", n);
}
function p(t, e, n) {
  return null != e.timeExtent && e.timeExtent.isEmpty ? Promise.resolve({
    data: {
      objectIds: []
    }
  }) : E(t, e, "json", n, {
    returnIdsOnly: !0
  });
}
function S(t, e, n) {
  return null != e.timeExtent && e.timeExtent.isEmpty ? Promise.resolve({
    data: {
      count: 0
    }
  }) : E(t, e, "json", n, {
    returnIdsOnly: !0,
    returnCountOnly: !0
  });
}
function x(_x9, _x10, _x11) {
  return _x12.apply(this, arguments);
}
function _x12() {
  _x12 = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, e, n) {
    if (null != e.timeExtent && e.timeExtent.isEmpty) return {
      data: {
        count: 0,
        extent: null
      }
    };
    const r = yield E(t, e, "json", n, {
        returnExtentOnly: !0,
        returnCountOnly: !0
      }),
      i = r.data;
    if (i.hasOwnProperty("extent")) return r;
    if (i.features) throw new Error(s);
    if (i.hasOwnProperty("count")) throw new Error(s);
    return r;
  });
  return _x12.apply(this, arguments);
}
function E(_x13, _x14, _x15) {
  return _E.apply(this, arguments);
}
function _E() {
  _E = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (r, a, u, l = {}, s = {}) {
    const m = "string" == typeof r ? (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.urlToObject)(r) : r,
      c = a.geometry ? [a.geometry] : [],
      f = yield (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_4__.normalizeCentralMeridian)(c, null, {
        signal: l.signal
      }),
      d = f?.[0];
    null != d && ((a = a.clone()).geometry = d);
    const p = (0,_operations_urlUtils_js__WEBPACK_IMPORTED_MODULE_6__.mapParameters)({
      ...m.query,
      f: u,
      ...s,
      ...y(a, s)
    });
    return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(m.path, g(a, s) ? "query3d" : "query"), {
      ...l,
      responseType: "pbf" === u ? "array-buffer" : "json",
      query: {
        ...p,
        ...l.query
      }
    });
  });
  return _E.apply(this, arguments);
}
function g(t, e) {
  return null != t.formatOf3DObjects && !(e.returnCountOnly || e.returnExtentOnly || e.returnIdsOnly);
}


/***/ }),

/***/ 54746:
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../geometry.js */ 6010);
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Evented.js */ 95442);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../core/support/UpdatingHandles.js */ 58454);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ 68230);
/* harmony import */ var _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/graphics/data/FeatureStore.js */ 92203);
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngine.js */ 59266);
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../layers/support/TileInfo.js */ 51015);
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ 28665);
/* harmony import */ var _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../symbols/support/ElevationInfo.js */ 29537);
/* harmony import */ var _snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../snappingCandidateElevationAlignment.js */ 50960);
/* harmony import */ var _snappingCandidateElevationFilter_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../snappingCandidateElevationFilter.js */ 61117);
/* harmony import */ var _symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../symbologySnappingCandidates.js */ 8941);
/* harmony import */ var _FeatureServiceTiledFetcher_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./FeatureServiceTiledFetcher.js */ 34294);
/* harmony import */ var _FeatureServiceTileStore_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./FeatureServiceTileStore.js */ 45498);
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ 71182);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/























let w = class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_3__["default"].EventedAccessor {
  constructor() {
    var _this;
    (super(...arguments), _this = this), this._isInitializing = !0, this.remoteClient = null, this._whenSetup = (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.createResolver)(), this._elevationAligner = (0,_snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_18__.getSnappingCandidateElevationAligner)(), this._elevationFilter = (0,_snappingCandidateElevationFilter_js__WEBPACK_IMPORTED_MODULE_19__.getSnappingCandidateElevationFilter)(), this._symbologyCandidatesFetcher = (0,_symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_20__.getSymbologySnappingCandidatesFetcher)(), this._updatingHandles = new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__.UpdatingHandles(), this._editsUpdatingHandles = new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__.UpdatingHandles(), this._pendingApplyEdits = new Map(), this._alignPointsInFeatures = /*#__PURE__*/function () {
      var _ref = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, t) {
        const i = {
            query: e
          },
          r = yield _this.remoteClient.invoke("alignElevation", i, {
            signal: t
          });
        return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t), r;
      });
      return function (_x, _x2) {
        return _ref.apply(this, arguments);
      };
    }(), this._getSymbologyCandidates = /*#__PURE__*/function () {
      var _ref2 = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, t) {
        const i = {
            candidates: e,
            spatialReference: _this._spatialReference.toJSON()
          },
          r = yield _this.remoteClient.invoke("getSymbologyCandidates", i, {
            signal: t
          });
        return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t), r;
      });
      return function (_x3, _x4) {
        return _ref2.apply(this, arguments);
      };
    }();
  }
  get updating() {
    return this.updatingExcludingEdits || this._editsUpdatingHandles.updating || this._featureFetcher.updating;
  }
  get updatingExcludingEdits() {
    return this._featureFetcher.updatingExcludingEdits || this._isInitializing || this._updatingHandles.updating;
  }
  destroy() {
    this._featureFetcher?.destroy(), this._queryEngine?.destroy(), this._featureStore?.clear();
  }
  setup(e) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this2.destroyed) return {
        result: {}
      };
      const {
          geometryType: t,
          objectIdField: i,
          timeInfo: s,
          fieldsIndex: n
        } = e.serviceInfo,
        {
          hasZ: o
        } = e,
        l = _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(e.spatialReference);
      _this2._spatialReference = l, _this2._featureStore = new _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_13__["default"]({
        ...e.serviceInfo,
        hasZ: o,
        hasM: !1
      }), _this2._queryEngine = new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_14__.QueryEngine({
        spatialReference: e.spatialReference,
        featureStore: _this2._featureStore,
        geometryType: t,
        fieldsIndex: n,
        hasZ: o,
        hasM: !1,
        objectIdField: i,
        timeInfo: s
      }), _this2._featureFetcher = new _FeatureServiceTiledFetcher_js__WEBPACK_IMPORTED_MODULE_21__.FeatureServiceTiledFetcher({
        store: new _FeatureServiceTileStore_js__WEBPACK_IMPORTED_MODULE_22__.FeatureServiceTileStore({
          featureStore: _this2._featureStore
        }),
        url: e.serviceInfo.url,
        objectIdField: e.serviceInfo.objectIdField,
        globalIdField: e.serviceInfo.globalIdField,
        capabilities: e.serviceInfo.capabilities,
        spatialReference: l,
        sourceSpatialReference: _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(e.serviceInfo.spatialReference)
      });
      const d = "3d" === e.configuration.viewType;
      return _this2._elevationAligner = (0,_snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_18__.getSnappingCandidateElevationAligner)(d, {
        elevationInfo: null != e.elevationInfo ? _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_17__["default"].fromJSON(e.elevationInfo) : null,
        alignPointsInFeatures: _this2._alignPointsInFeatures
      }), _this2._elevationFilter = (0,_snappingCandidateElevationFilter_js__WEBPACK_IMPORTED_MODULE_19__.getSnappingCandidateElevationFilter)(d), _this2.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)(() => _this2._featureFetcher.availability, e => _this2.emit("notify-availability", {
        availability: e
      }), _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.sync), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)(() => _this2.updating, () => _this2._notifyUpdating())]), _this2._whenSetup.resolve(), _this2._isInitializing = !1, _this2.configure(e.configuration);
    })();
  }
  configure(e) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this3._updatingHandles.addPromise(_this3._whenSetup.promise), _this3._updateFeatureFetcherConfiguration(e), j;
    })();
  }
  setSuspended(e, t) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this4._updatingHandles.addPromise(_this4._whenSetup.promise), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t), _this4._featureFetcher.suspended = e, j;
    })();
  }
  updateOutFields(e, t) {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this5._updatingHandles.addPromise(_this5._whenSetup.promise), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t), _this5._featureFetcher.outFields = new Set(e ?? []), j;
    })();
  }
  fetchCandidates(e, t) {
    var _this6 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this6._whenSetup.promise, (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t);
      const i = b(e),
        r = t?.signal,
        n = yield _this6._queryEngine.executeQueryForSnapping(i, r);
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(r);
      const a = yield _this6._elevationAligner.alignCandidates(n.candidates, _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(e.point.spatialReference) ?? _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].WGS84, r);
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(r);
      const o = yield _this6._symbologyCandidatesFetcher.fetch(a, r);
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(r);
      const l = 0 === o.length ? a : a.concat(o);
      return {
        result: {
          candidates: _this6._elevationFilter.filter(i, l)
        }
      };
    })();
  }
  updateTiles(e, t) {
    var _this7 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this7._updatingHandles.addPromise(_this7._whenSetup.promise), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t), _this7._featureFetcher.tileSize = e.tileSize, _this7._featureFetcher.tilesOfInterest = e.tiles, _this7._featureFetcher.tileInfo = null != e.tileInfo ? _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromJSON(e.tileInfo) : null, j;
    })();
  }
  refresh(e, t) {
    var _this8 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this8._updatingHandles.addPromise(_this8._whenSetup.promise), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t), _this8._featureFetcher.refresh(), j;
    })();
  }
  whenNotUpdating(e, t) {
    var _this9 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this9._updatingHandles.addPromise(_this9._whenSetup.promise), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t), yield (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)(() => !_this9.updatingExcludingEdits, t), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t), j;
    })();
  }
  getDebugInfo(e, t) {
    var _this10 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t), {
        result: _this10._featureFetcher.debugInfo
      };
    })();
  }
  beginApplyEdits(e, t) {
    var _this11 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this11._updatingHandles.addPromise(_this11._whenSetup.promise), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t);
      const r = (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.createResolver)();
      return _this11._pendingApplyEdits.set(e.id, r), _this11._featureFetcher.applyEdits(r.promise), _this11._editsUpdatingHandles.addPromise(r.promise), j;
    })();
  }
  endApplyEdits(e, t) {
    var _this12 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const i = _this12._pendingApplyEdits.get(e.id);
      return i && i.resolve(e.edits), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t), j;
    })();
  }
  notifyElevationSourceChange(e, t) {
    var _this13 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this13._elevationAligner.notifyElevationSourceChange(), j;
    })();
  }
  notifySymbologyChange(e, t) {
    var _this14 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this14._symbologyCandidatesFetcher.notifySymbologyChange(), j;
    })();
  }
  setSymbologySnappingSupported(e) {
    var _this15 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this15._symbologyCandidatesFetcher = (0,_symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_20__.getSymbologySnappingCandidatesFetcher)(e, _this15._getSymbologyCandidates), j;
    })();
  }
  _updateFeatureFetcherConfiguration(e) {
    this._featureFetcher.filter = null != e.filter ? _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_16__["default"].fromJSON(e.filter) : null, this._featureFetcher.customParameters = e.customParameters;
  }
  _notifyUpdating() {
    this.emit("notify-updating", {
      updating: this.updating
    });
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  readOnly: !0
})], w.prototype, "updating", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  readOnly: !0
})], w.prototype, "updatingExcludingEdits", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], w.prototype, "_isInitializing", void 0), w = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker")], w);
const I = w;
function b(e) {
  if (!e.filter) return {
    ...e,
    query: {
      where: "1=1"
    }
  };
  const {
      distance: t,
      units: i,
      spatialRel: s,
      where: r,
      timeExtent: n,
      objectIds: a
    } = e.filter,
    o = {
      geometry: e.filter.geometry ? (0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_23__.fromJSON)(e.filter.geometry) : void 0,
      distance: t,
      units: i,
      spatialRel: s,
      timeExtent: n,
      objectIds: a,
      where: r ?? "1=1"
    };
  return {
    ...e,
    query: o
  };
}
const j = {
  result: {}
};


/***/ }),

/***/ 45471:
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureServiceTileCache": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t {
  constructor() {
    this._store = new Map(), this._byteSize = 0;
  }
  set(t, e) {
    this.delete(t), this._store.set(t, e), this._byteSize += e.byteSize;
  }
  delete(t) {
    const e = this._store.get(t);
    return !!this._store.delete(t) && (null != e && (this._byteSize -= e.byteSize), !0);
  }
  get(t) {
    return this._used(t), this._store.get(t);
  }
  has(t) {
    return this._used(t), this._store.has(t);
  }
  clear() {
    this._store.clear();
  }
  applyByteSizeLimit(t, e) {
    for (const [s, r] of this._store) {
      if (this._byteSize <= t) break;
      this.delete(s), e(r);
    }
  }
  values() {
    return this._store.values();
  }
  [Symbol.iterator]() {
    return this._store[Symbol.iterator]();
  }
  _used(t) {
    const e = this._store.get(t);
    e && (this._store.delete(t), this._store.set(t, e));
  }
}


/***/ }),

/***/ 45498:
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureServiceTileStore": () => (/* binding */ v),
/* harmony export */   "ProcessResult": () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ 2299);
/* harmony import */ var _core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/byteSizeEstimations.js */ 84625);
/* harmony import */ var _core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/ByteSizeUnit.js */ 55662);
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/SetUtils.js */ 75502);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ 50805);
/* harmony import */ var _layers_graphics_data_BoundsStore_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/graphics/data/BoundsStore.js */ 97135);
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../layers/support/TileInfo.js */ 51015);
/* harmony import */ var _layers_support_TileKey_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../layers/support/TileKey.js */ 45933);
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../rest/query/operations/query.js */ 78170);
/* harmony import */ var _FeatureServiceTileCache_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./FeatureServiceTileCache.js */ 45471);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

















let v = class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"] {
  constructor(e) {
    super(e), this.tileInfo = null, this.extent = null, this.maximumByteSize = 10 * _core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_4__.ByteSizeUnit.MEGABYTES, this._tileBounds = new _layers_graphics_data_BoundsStore_js__WEBPACK_IMPORTED_MODULE_13__.BoundsStore(), this._tiles = new _FeatureServiceTileCache_js__WEBPACK_IMPORTED_MODULE_17__.FeatureServiceTileCache(), this._refCounts = new Map(), this._tileFeatureCounts = new Map(), this._tmpBoundingRect = (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.create)();
  }
  add(e, t) {
    for (const r of t) this._referenceFeature(r.objectId);
    const s = this.featureStore.upsertMany(t),
      i = s.map(e => new Set(Object.keys(e.attributes))).reduce((e, t) => (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_5__.intersection)(e, t), new Set(Object.keys(s[0]?.attributes ?? [])));
    this._addTileStorage(e, new Set(s.map(e => e.objectId)), C(s), i), this._tiles.applyByteSizeLimit(this.maximumByteSize, e => this._removeTileStorage(e));
  }
  getAttributesForTile(e) {
    return e ? this._tiles.get(e)?.attributeKeys : null;
  }
  destroy() {
    this.clear(), this._tileFeatureCounts.clear();
  }
  clear() {
    this.featureStore.clear(), this._tileBounds.clear(), this._tiles.clear(), this._refCounts.clear();
  }
  refresh() {
    this.clear(), this._tileFeatureCounts.clear();
  }
  processEdits(e, t, s) {
    return this._processEditsDelete(e.deletedFeatures.concat(e.updatedFeatures)), this._processEditsRefetch(e.addedFeatures.concat(e.updatedFeatures), t, s);
  }
  _addTileStorage(e, t, s, i) {
    const r = e.id;
    this._tiles.set(r, new E(e, t, s, i)), this._tileBounds.set(r, e.extent), this._tileFeatureCounts.set(r, t.size);
  }
  _remove({
    id: e
  }) {
    const t = this._tiles.get(e);
    t && this._removeTileStorage(t);
  }
  _removeTileStorage(e) {
    const t = [];
    for (const i of e.objectIds) this._unreferenceFeature(i) === A.REMOVED && t.push(i);
    this.featureStore.removeManyById(t);
    const s = e.data.id;
    this._tiles.delete(s), this._tileBounds.delete(s);
  }
  _processEditsDelete(e) {
    this.featureStore.removeManyById(e);
    for (const [, t] of this._tiles) {
      for (const s of e) t.objectIds.delete(s);
      this._tileFeatureCounts.set(t.data.id, t.objectIds.size);
    }
    for (const t of e) this._refCounts.delete(t);
  }
  _processEditsRefetch(e, t, s) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const i = (yield t(e, s)).features,
        {
          hasZ: r,
          hasM: o
        } = _this.featureStore;
      for (const n of i) {
        const e = (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_12__.getBoundsOptimizedGeometry)(_this._tmpBoundingRect, n.geometry, r, o);
        null != e && _this._tileBounds.forEachInBounds(e, e => {
          const t = _this._tiles.get(e);
          _this.featureStore.add(n);
          const s = n.objectId;
          t.objectIds.has(s) || (t.objectIds.add(s), _this._referenceFeature(s), _this._tileFeatureCounts.set(t.data.id, t.objectIds.size));
        });
      }
    })();
  }
  process(e, t = () => !0, s) {
    if (null == this.tileInfo || !e.extent || null != this.extent && !(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.intersects)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.fromExtent)(this.extent, this._tmpBoundingRect), e.extent)) return new F(e);
    const i = this.getAttributesForTile(e.id);
    if ((0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_5__.isSubsetOf)(s, i)) return new F(e);
    const r = this._createTileTree(e, this.tileInfo);
    return this._simplify(r, t, null, 0, 1), this._collectMissingTiles(e, r, this.tileInfo, s);
  }
  get debugInfo() {
    return Array.from(this._tiles.values()).map(({
      data: e
    }) => ({
      data: e,
      featureCount: this._tileFeatureCounts.get(e.id) || 0
    }));
  }
  getFeatureCount(e) {
    return this._tileFeatureCounts.get(e.id) ?? 0;
  }
  fetchCount(e, t, s, i) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const r = _this2._tileFeatureCounts.get(e.id);
      if (null != r) return r;
      const o = yield (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_16__.executeQueryForCount)(t, s, i);
      return _this2._tileFeatureCounts.set(e.id, o.data.count), o.data.count;
    })();
  }
  _createTileTree(e, t) {
    const s = new w(e.level, e.row, e.col);
    return t.updateTileInfo(s, _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_14__["default"].ExtrapolateOptions.POWER_OF_TWO), this._tileBounds.forEachInBounds(e.extent, i => {
      const r = this._tiles.get(i)?.data;
      r && this._tilesAreRelated(e, r) && this._populateChildren(s, r, t, this._tileFeatureCounts.get(r.id) || 0);
    }), s;
  }
  _tilesAreRelated(e, t) {
    if (!e || !t) return !1;
    if (e.level === t.level) return e.row === t.row && e.col === t.col;
    const s = e.level < t.level,
      i = s ? e : t,
      r = s ? t : e,
      o = 1 << r.level - i.level;
    return Math.floor(r.row / o) === i.row && Math.floor(r.col / o) === i.col;
  }
  _populateChildren(e, t, s, i) {
    const r = t.level - e.level - 1;
    if (r < 0) return void (e.isLeaf = !0);
    const o = t.row >> r,
      n = t.col >> r,
      l = e.row << 1,
      u = n - (e.col << 1) + (o - l << 1),
      a = e.children[u];
    if (null != a) this._populateChildren(a, t, s, i);else {
      const r = new w(e.level + 1, o, n);
      s.updateTileInfo(r, _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_14__["default"].ExtrapolateOptions.POWER_OF_TWO), e.children[u] = r, this._populateChildren(r, t, s, i);
    }
  }
  _simplify(e, t, s, i, r) {
    const o = r * r;
    if (e.isLeaf) return t(this.getFeatureCount(e), r) ? 0 : (this._remove(e), null != s && (s.children[i] = null), o);
    const n = r / 2,
      l = n * n;
    let u = 0;
    for (let a = 0; a < e.children.length; a++) {
      const s = e.children[a];
      u += null != s ? this._simplify(s, t, e, a, n) : l;
    }
    return 0 === u ? this._mergeChildren(e) : 1 - u / o < b && (this._purge(e), null != s && (s.children[i] = null), u = o), u;
  }
  _mergeChildren(e) {
    const t = new Set();
    let s,
      i = 0;
    this._forEachLeaf(e, e => {
      const r = this._tiles.get(e.id);
      if (r) {
        s = s ? (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_5__.intersection)(s, r.attributeKeys) : new Set(r.attributeKeys), i += r.byteSize;
        for (const e of r.objectIds) t.has(e) || (t.add(e), this._referenceFeature(e));
        this._remove(e);
      }
    }), this._addTileStorage(e, t, i, s ?? new Set()), e.isLeaf = !0, e.children[0] = e.children[1] = e.children[2] = e.children[3] = null, this._tileFeatureCounts.set(e.id, t.size);
  }
  _forEachLeaf(e, t) {
    for (const s of e.children) null != s && (s.isLeaf ? t(s) : this._forEachLeaf(s, t));
  }
  _purge(e) {
    if (null != e) if (e.isLeaf) this._remove(e);else for (let t = 0; t < e.children.length; t++) {
      const s = e.children[t];
      this._purge(s), e.children[t] = null;
    }
  }
  _collectMissingTiles(e, t, s, i) {
    const r = new j(s, e, this.extent);
    return this._collectMissingTilesRecurse(t, r, 1, i), r.info;
  }
  _collectMissingTilesRecurse(e, t, s, i) {
    const r = this.getAttributesForTile(e.id),
      o = r && !(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_5__.isSubsetOf)(i, r);
    if (o && t.addMissing(e.level, e.row, e.col, s), e.isLeaf) return;
    if (!e.hasChildren) return void (o || t.addMissing(e.level, e.row, e.col, s));
    const l = s / 2;
    for (let n = 0; n < e.children.length; n++) {
      const s = e.children[n];
      null == s ? t.addMissing(e.level + 1, (e.row << 1) + ((2 & n) >> 1), (e.col << 1) + (1 & n), l) : this._collectMissingTilesRecurse(s, t, l, i);
    }
  }
  _referenceFeature(e) {
    const t = (this._refCounts.get(e) || 0) + 1;
    return this._refCounts.set(e, t), 1 === t ? A.ADDED : A.UNCHANGED;
  }
  _unreferenceFeature(e) {
    const t = (this._refCounts.get(e) || 0) - 1;
    return 0 === t ? (this._refCounts.delete(e), A.REMOVED) : (t > 0 && this._refCounts.set(e, t), A.UNCHANGED);
  }
  get test() {
    return {
      tiles: Array.from(this._tiles.values()).map(e => `${e.data.id}:[${Array.from(e.objectIds)}]`),
      featureReferences: Array.from(this._refCounts.keys()).map(e => `${e}:${this._refCounts.get(e)}`)
    };
  }
};
function C(e) {
  return e.reduce((e, t) => e + S(t), 0);
}
function S(e) {
  return 32 + T(e.geometry) + (0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateAttributesObjectSize)(e.attributes);
}
function T(e) {
  if (null == e) return 0;
  const t = (0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateFixedArraySize)(e.lengths, 4);
  return 32 + (0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateFixedArraySize)(e.coords, 8) + t;
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  constructOnly: !0
})], v.prototype, "featureStore", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], v.prototype, "tileInfo", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], v.prototype, "extent", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], v.prototype, "maximumByteSize", void 0), v = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore")], v);
class E {
  constructor(e, t, s, i) {
    this.data = e, this.objectIds = t, this.byteSize = s, this.attributeKeys = i;
  }
}
class w {
  constructor(e, t, s) {
    this.level = e, this.row = t, this.col = s, this.isLeaf = !1, this.extent = null, this.children = [null, null, null, null];
  }
  get hasChildren() {
    return !this.isLeaf && (null != this.children[0] || null != this.children[1] || null != this.children[2] || null != this.children[3]);
  }
}
class F {
  constructor(e, t = []) {
    this.missingTiles = t, this.fullArea = 0, this.coveredArea = 0, this.fullArea = (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.area)(e.extent), this.coveredArea = this.fullArea;
  }
  prepend(e) {
    this.missingTiles = e.missingTiles.concat(this.missingTiles), this.coveredArea += e.coveredArea, this.fullArea += e.fullArea;
  }
}
class j {
  constructor(e, t, s) {
    this._tileInfo = e, this._extent = null, this.info = new F(t), null != s && (this._extent = (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.fromExtent)(s));
  }
  addMissing(e, t, s, i) {
    const r = new _layers_support_TileKey_js__WEBPACK_IMPORTED_MODULE_15__.TileKey(null, e, t, s);
    this._tileInfo.updateTileInfo(r, _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_14__["default"].ExtrapolateOptions.POWER_OF_TWO), null == r.extent || null != this._extent && !(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.intersects)(this._extent, r.extent) || (this.info.missingTiles.push({
      data: r,
      resolution: i
    }), this.info.coveredArea -= (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.area)(r.extent));
  }
}
const b = .18751;
var A;
!function (e) {
  e[e.ADDED = 0] = "ADDED", e[e.REMOVED = 1] = "REMOVED", e[e.UNCHANGED = 2] = "UNCHANGED";
}(A || (A = {}));


/***/ }),

/***/ 34294:
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureServiceTiledFetcher": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ 2299);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_AsyncSequence_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/AsyncSequence.js */ 68557);
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/asyncUtils.js */ 11823);
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ 70120);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/Logger.js */ 28191);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/SetUtils.js */ 75502);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../core/support/UpdatingHandles.js */ 58454);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ 10465);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ 50805);
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../layers/support/arcgisLayerUrl.js */ 4583);
/* harmony import */ var _rest_query_operations_pbfOptimizedFeatureSet_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../rest/query/operations/pbfOptimizedFeatureSet.js */ 36621);
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../rest/query/operations/query.js */ 78170);
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ 28665);
/* harmony import */ var _PendingFeatureTile_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./PendingFeatureTile.js */ 7064);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/























let j = class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"] {
  get _minimumVerticesPerFeature() {
    switch (this.store?.featureStore.geometryType) {
      case "esriGeometryPoint":
      case "esriGeometryMultipoint":
        return 1;
      case "esriGeometryPolygon":
        return 4;
      case "esriGeometryPolyline":
        return 2;
    }
  }
  get _mandatoryOutFields() {
    const e = new Set();
    return this.objectIdField && e.add(this.objectIdField), this.globalIdField && e.add(this.globalIdField), e;
  }
  set outFields(e) {
    const t = this._get("outFields"),
      i = (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_10__.union)(e, this._mandatoryOutFields);
    (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_10__.equals)(i, t) || (this._set("outFields", i), (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_10__.isSubsetOf)(i, t) || this.refresh());
  }
  get outFields() {
    return this._get("outFields") ?? this._mandatoryOutFields;
  }
  set filter(e) {
    const t = this._get("filter"),
      i = this._filterProperties(e);
    JSON.stringify(t) !== JSON.stringify(i) && this._set("filter", i);
  }
  set customParameters(e) {
    const t = this._get("customParameters");
    JSON.stringify(t) !== JSON.stringify(e) && this._set("customParameters", e);
  }
  get _configuration() {
    return {
      filter: this.filter,
      customParameters: this.customParameters,
      tileInfo: this.tileInfo,
      tileSize: this.tileSize
    };
  }
  set tileInfo(e) {
    const t = this._get("tileInfo");
    t !== e && (null != e && null != t && JSON.stringify(e) === JSON.stringify(t) || (this._set("tileInfo", e), this.store.tileInfo = e));
  }
  set tileSize(e) {
    this._get("tileSize") !== e && this._set("tileSize", e);
  }
  get updating() {
    return this.updatingExcludingEdits || this._pendingEdits.updating;
  }
  get updatingExcludingEdits() {
    return this._updatingHandles.updating;
  }
  get hasZ() {
    return this.store.featureStore.hasZ;
  }
  constructor(e) {
    super(e), this.suspended = !0, this.tilesOfInterest = [], this.availability = 0, this._pendingTiles = new Map(), this._updatingHandles = new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__.UpdatingHandles(), this._pendingEdits = new _core_AsyncSequence_js__WEBPACK_IMPORTED_MODULE_4__.AsyncSequence(), this._pendingEditsAbortController = new AbortController();
  }
  initialize() {
    this._initializeFetchExtent(), this._updatingHandles.add(() => this._configuration, () => this.refresh()), this._updatingHandles.add(() => this.tilesOfInterest, (e, t) => {
      (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.equals)(e, t, ({
        id: e
      }, {
        id: t
      }) => e === t) || this._process();
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.sync), this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.when)(() => !this.suspended, () => this._process()));
  }
  destroy() {
    this._pendingTiles.forEach(e => this._deletePendingTile(e)), this._pendingTiles.clear(), this.store.destroy(), this.tilesOfInterest.length = 0, this._pendingEditsAbortController.abort(), this._pendingEditsAbortController = null, this._updatingHandles.destroy();
  }
  refresh() {
    this.store.refresh(), this._pendingTiles.forEach(e => this._deletePendingTile(e)), this._process();
  }
  applyEdits(e) {
    var _this = this;
    this._pendingEdits.push(e, /*#__PURE__*/function () {
      var _ref = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e) {
        if (0 === e.addedFeatures.length && 0 === e.updatedFeatures.length && 0 === e.deletedFeatures.length) return;
        for (const [, i] of _this._pendingTiles) i.reset();
        const t = {
          ...e,
          deletedFeatures: e.deletedFeatures.map(({
            objectId: e,
            globalId: t
          }) => e && -1 !== e ? e : _this._lookupObjectIdByGlobalId(t))
        };
        yield _this._updatingHandles.addPromise(_this.store.processEdits(t, (e, t) => _this._queryFeaturesById(e, t), _this._pendingEditsAbortController.signal)), _this._processPendingTiles();
      });
      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());
  }
  _initializeFetchExtent() {
    var _this2 = this;
    if (!this.capabilities.query.supportsExtent || !(0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_19__.isHostedAgolService)(this.url)) return;
    const e = (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_5__.createTask)( /*#__PURE__*/function () {
      var _ref2 = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e) {
        try {
          const t = yield (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_21__.executeQueryForExtent)(_this2.url, new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_22__["default"]({
            where: "1=1",
            outSpatialReference: _this2.spatialReference,
            cacheHint: _this2.capabilities.query.supportsCacheHint ?? void 0
          }), {
            query: _this2._configuration.customParameters,
            signal: e
          });
          _this2.store.extent = _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__["default"].fromJSON(t.data?.extent);
        } catch (t) {
          (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(t), _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(_this2).warn("Failed to fetch data extent", t);
        }
      });
      return function (_x2) {
        return _ref2.apply(this, arguments);
      };
    }());
    this._updatingHandles.addPromise(e.promise.then(() => this._process())), this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_6__.makeHandle)(() => e.abort()));
  }
  get debugInfo() {
    return {
      numberOfFeatures: this.store.featureStore.numFeatures,
      tilesOfInterest: this.tilesOfInterest,
      pendingTiles: Array.from(this._pendingTiles.values()).map(e => e.debugInfo),
      storedTiles: this.store.debugInfo
    };
  }
  _process() {
    this._markTilesNotAlive(), this._createPendingTiles(), this._deletePendingTiles(), this._processPendingTiles();
  }
  _markTilesNotAlive() {
    for (const [, e] of this._pendingTiles) e.alive = !1;
  }
  _createPendingTiles() {
    if (this.suspended) return;
    const e = this._collectMissingTilesInfo();
    if (this._setAvailability(null == e ? 1 : e.coveredArea / e.fullArea), null != e) for (const {
      data: t,
      resolution: i
    } of e.missingTiles) {
      const e = this._pendingTiles.get(t.id);
      e ? (e.resolution = i, e.alive = !0) : this._createPendingTile(t, i);
    }
  }
  _collectMissingTilesInfo() {
    let e = null;
    for (let t = this.tilesOfInterest.length - 1; t >= 0; t--) {
      const i = this.tilesOfInterest[t],
        s = this.store.process(i, (e, t) => this._verifyTileComplexity(e, t), this.outFields);
      null == e ? e = s : e.prepend(s);
    }
    return e;
  }
  _deletePendingTiles() {
    for (const [, e] of this._pendingTiles) e.alive || this._deletePendingTile(e);
  }
  _processPendingTiles() {
    const e = {
      fetchCount: (e, t) => this._fetchCount(e, t),
      fetchFeatures: (e, t, i) => this._fetchFeatures(e, t, i),
      finish: (e, t) => this._finishPendingTile(e, t),
      resume: () => this._processPendingTiles()
    };
    if (this._ensureFetchAllCounts(e)) for (const [, t] of this._pendingTiles) this._verifyTileComplexity(this.store.getFeatureCount(t.data), t.resolution) && this._updatingHandles.addPromise(t.process(e));
  }
  _verifyTileComplexity(e, t) {
    return this._verifyVertexComplexity(e) && this._verifyFeatureDensity(e, t);
  }
  _verifyVertexComplexity(e) {
    return e * this._minimumVerticesPerFeature < q;
  }
  _verifyFeatureDensity(e, t) {
    if (null == this.tileInfo) return !1;
    const i = this.tileSize * t;
    return e * (A / (i * i)) < H;
  }
  _ensureFetchAllCounts(e) {
    let t = !0;
    for (const [, i] of this._pendingTiles) i.state.type < _PendingFeatureTile_js__WEBPACK_IMPORTED_MODULE_23__.StateType.FETCHED_COUNT && this._updatingHandles.addPromise(i.process(e)), i.state.type <= _PendingFeatureTile_js__WEBPACK_IMPORTED_MODULE_23__.StateType.FETCH_COUNT && (t = !1);
    return t;
  }
  _finishPendingTile(e, t) {
    this.store.add(e.data, t), this._deletePendingTile(e), this._updateAvailability();
  }
  _updateAvailability() {
    const e = this._collectMissingTilesInfo();
    this._setAvailability(null == e ? 1 : e.coveredArea / e.fullArea);
  }
  _setAvailability(e) {
    this._set("availability", e);
  }
  _createPendingTile(e, t) {
    const i = new _PendingFeatureTile_js__WEBPACK_IMPORTED_MODULE_23__.PendingFeatureTile(e, t);
    return this._pendingTiles.set(e.id, i), i;
  }
  _deletePendingTile(e) {
    e.reset(), this._pendingTiles.delete(e.data.id);
  }
  _fetchCount(e, t) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this3.store.fetchCount(e.data, _this3.url, _this3._createCountQuery(e), {
        query: _this3.customParameters,
        timeout: w,
        signal: t
      });
    })();
  }
  _fetchFeatures(e, t, i) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let s = 0;
      const r = [];
      let o = 0,
        n = t;
      for (;;) {
        const a = _this4._createFeaturesQuery(e),
          l = _this4._setPagingParameters(a, s, n),
          {
            features: u,
            exceededTransferLimit: d
          } = yield _this4._queryFeatures(a, i);
        l && (s += a.num), o += u.length;
        for (const e of u) r.push(e);
        if (n = t - o, !l || !d || n <= 0) return r;
      }
    })();
  }
  _filterProperties(e) {
    return null == e ? {
      where: "1=1",
      gdbVersion: void 0,
      timeExtent: void 0
    } : {
      where: e.where || "1=1",
      timeExtent: e.timeExtent,
      gdbVersion: e.gdbVersion
    };
  }
  _lookupObjectIdByGlobalId(e) {
    const t = this.globalIdField,
      i = this.objectIdField;
    if (null == t) throw new Error("Expected globalIdField to be defined");
    let s = null;
    if (this.store.featureStore.forEach(r => {
      e === r.attributes[t] && (s = r.objectId ?? r.attributes[i]);
    }), null == s) throw new Error(`Expected to find a feature with globalId ${e}`);
    return s;
  }
  _queryFeaturesById(e, t) {
    const i = this._createFeaturesQuery();
    return i.objectIds = e, this._queryFeatures(i, t);
  }
  _queryFeatures(e, t) {
    return this.capabilities.query.supportsFormatPBF ? this._queryFeaturesPBF(e, t) : this._queryFeaturesJSON(e, t);
  }
  _queryFeaturesPBF(e, t) {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          sourceSpatialReference: i
        } = _this5,
        {
          data: s
        } = yield (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_21__.executeQueryPBF)(_this5.url, e, new _rest_query_operations_pbfOptimizedFeatureSet_js__WEBPACK_IMPORTED_MODULE_20__.OptimizedFeatureSetParserContext({
          sourceSpatialReference: i
        }), {
          query: _this5._configuration.customParameters,
          timeout: w,
          signal: t
        });
      return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_18__.unquantizeOptimizedFeatureSet)(s);
    })();
  }
  _queryFeaturesJSON(e, t) {
    var _this6 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          sourceSpatialReference: i
        } = _this6,
        {
          data: s
        } = yield (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_21__.executeQuery)(_this6.url, e, i, {
          query: _this6._configuration.customParameters,
          timeout: w,
          signal: t
        });
      return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_18__.convertFromFeatureSet)(s, _this6.objectIdField);
    })();
  }
  _createCountQuery(e) {
    const t = this._createBaseQuery(e);
    return this.capabilities.query.supportsCacheHint && (t.cacheHint = !0), t;
  }
  _createFeaturesQuery(e = null) {
    const t = this._createBaseQuery(e),
      i = null != e?.data ? this.store.getAttributesForTile(e?.data?.id) : null,
      s = (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_10__.union)((0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_10__.difference)(this.outFields, i ?? new Set()), this._mandatoryOutFields);
    return t.outFields = Array.from(s), t.returnGeometry = !0, null != e && (this.capabilities.query.supportsResultType ? t.resultType = "tile" : this.capabilities.query.supportsCacheHint && (t.cacheHint = !0)), t;
  }
  _createBaseQuery(e) {
    const t = new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_22__["default"]({
        returnZ: this.hasZ,
        returnM: !1,
        geometry: null != this.tileInfo && null != e ? (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_17__.toExtent)(e.data.extent, this.tileInfo.spatialReference) : void 0
      }),
      i = this._configuration.filter;
    return null != i && (t.where = i.where, t.gdbVersion = i.gdbVersion, t.timeExtent = i.timeExtent), t.outSpatialReference = this.spatialReference, t;
  }
  _setPagingParameters(e, t, i) {
    if (!this.capabilities.query.supportsPagination) return !1;
    const {
        supportsMaxRecordCountFactor: s,
        supportsCacheHint: r,
        tileMaxRecordCount: o,
        maxRecordCount: n,
        supportsResultType: a
      } = this.capabilities.query,
      l = s ? _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_22__["default"].MAX_MAX_RECORD_COUNT_FACTOR : 1,
      u = l * ((a || r) && o ? o : n || x);
    return e.start = t, s ? (e.maxRecordCountFactor = Math.min(l, Math.ceil(i / u)), e.num = Math.min(i, e.maxRecordCountFactor * u)) : e.num = Math.min(i, u), !0;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  constructOnly: !0
})], j.prototype, "url", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  constructOnly: !0
})], j.prototype, "objectIdField", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  constructOnly: !0
})], j.prototype, "globalIdField", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  constructOnly: !0
})], j.prototype, "capabilities", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  constructOnly: !0
})], j.prototype, "sourceSpatialReference", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  constructOnly: !0
})], j.prototype, "spatialReference", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  constructOnly: !0
})], j.prototype, "store", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  readOnly: !0
})], j.prototype, "_minimumVerticesPerFeature", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()], j.prototype, "_mandatoryOutFields", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()], j.prototype, "outFields", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()], j.prototype, "suspended", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()], j.prototype, "filter", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()], j.prototype, "customParameters", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  readOnly: !0
})], j.prototype, "_configuration", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()], j.prototype, "tileInfo", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()], j.prototype, "tileSize", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()], j.prototype, "tilesOfInterest", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  readOnly: !0
})], j.prototype, "updating", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  readOnly: !0
})], j.prototype, "updatingExcludingEdits", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({
  readOnly: !0
})], j.prototype, "availability", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()], j.prototype, "hasZ", null), j = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__.subclass)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher")], j);
const x = 2e3,
  w = 6e5,
  q = 1e6,
  A = 25,
  H = 1;


/***/ }),

/***/ 7064:
/*!************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PendingFeatureTile": () => (/* binding */ r),
/* harmony export */   "StateType": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/asyncUtils.js */ 11823);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ 6848);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class r {
  constructor(t, e) {
    this.data = t, this.resolution = e, this.state = {
      type: u.CREATED
    }, this.alive = !0;
  }
  process(t) {
    switch (this.state.type) {
      case u.CREATED:
        return this.state = this._gotoFetchCount(this.state, t), this.state.task.promise.then(t.resume, t.resume);
      case u.FETCH_COUNT:
        break;
      case u.FETCHED_COUNT:
        return this.state = this._gotoFetchFeatures(this.state, t), this.state.task.promise.then(t.resume, t.resume);
      case u.FETCH_FEATURES:
        break;
      case u.FETCHED_FEATURES:
        this.state = this._goToDone(this.state, t);
      case u.DONE:
    }
    return null;
  }
  get debugInfo() {
    return {
      data: this.data,
      featureCount: this._featureCount,
      state: this._stateToString
    };
  }
  get _featureCount() {
    switch (this.state.type) {
      case u.CREATED:
      case u.FETCH_COUNT:
        return 0;
      case u.FETCHED_COUNT:
        return this.state.featureCount;
      case u.FETCH_FEATURES:
        return this.state.previous.featureCount;
      case u.FETCHED_FEATURES:
        return this.state.features.length;
      case u.DONE:
        return this.state.previous.features.length;
    }
  }
  get _stateToString() {
    switch (this.state.type) {
      case u.CREATED:
        return "created";
      case u.FETCH_COUNT:
        return "fetch-count";
      case u.FETCHED_COUNT:
        return "fetched-count";
      case u.FETCH_FEATURES:
        return "fetch-features";
      case u.FETCHED_FEATURES:
        return "fetched-features";
      case u.DONE:
        return "done";
    }
  }
  _gotoFetchCount(s, a) {
    var _this = this;
    return {
      type: u.FETCH_COUNT,
      previous: s,
      task: (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.createTask)( /*#__PURE__*/function () {
        var _ref = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t) {
          const s = yield (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.resultOrAbort)(a.fetchCount(_this, t));
          _this.state.type === u.FETCH_COUNT && (_this.state = _this._gotoFetchedCount(_this.state, s.ok ? s.value : 1 / 0));
        });
        return function (_x) {
          return _ref.apply(this, arguments);
        };
      }())
    };
  }
  _gotoFetchedCount(t, e) {
    return {
      type: u.FETCHED_COUNT,
      featureCount: e,
      previous: t
    };
  }
  _gotoFetchFeatures(s, a) {
    var _this2 = this;
    return {
      type: u.FETCH_FEATURES,
      previous: s,
      task: (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.createTask)( /*#__PURE__*/function () {
        var _ref2 = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t) {
          const E = yield (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.resultOrAbort)(a.fetchFeatures(_this2, s.featureCount, t));
          _this2.state.type === u.FETCH_FEATURES && (_this2.state = _this2._gotoFetchedFeatures(_this2.state, E.ok ? E.value : []));
        });
        return function (_x2) {
          return _ref2.apply(this, arguments);
        };
      }())
    };
  }
  _gotoFetchedFeatures(t, e) {
    return {
      type: u.FETCHED_FEATURES,
      previous: t,
      features: e
    };
  }
  _goToDone(t, e) {
    return e.finish(this, t.features), {
      type: u.DONE,
      previous: t
    };
  }
  reset() {
    const t = this.state;
    switch (this.state = {
      type: u.CREATED
    }, t.type) {
      case u.CREATED:
      case u.FETCHED_COUNT:
      case u.FETCHED_FEATURES:
      case u.DONE:
        break;
      case u.FETCH_COUNT:
      case u.FETCH_FEATURES:
        t.task.abort();
    }
  }
  intersects(t) {
    return null == t || !this.data.extent || ((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.fromExtent)(t, T), (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.intersects)(this.data.extent, T));
  }
}
var u;
!function (t) {
  t[t.CREATED = 0] = "CREATED", t[t.FETCH_COUNT = 1] = "FETCH_COUNT", t[t.FETCHED_COUNT = 2] = "FETCHED_COUNT", t[t.FETCH_FEATURES = 3] = "FETCH_FEATURES", t[t.FETCHED_FEATURES = 4] = "FETCHED_FEATURES", t[t.DONE = 5] = "DONE";
}(u || (u = {}));
const T = (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)();


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_views_interactive_snapping_featureSources_featureServiceSource_Featu-164fbc.js.map