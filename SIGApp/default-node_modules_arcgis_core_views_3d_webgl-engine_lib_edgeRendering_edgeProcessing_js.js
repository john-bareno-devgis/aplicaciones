"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["default-node_modules_arcgis_core_views_3d_webgl-engine_lib_edgeRendering_edgeProcessing_js"],{

/***/ 3584:
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deduplicate": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ 93142);
/* harmony import */ var _Indices_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Indices.js */ 8064);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


function e(e, s, u) {
  const c = Array.isArray(e),
    a = c ? e.length / s : e.byteLength / (4 * s),
    h = c ? e : new Uint32Array(e, 0, a * s),
    y = u?.minReduction ?? 0,
    A = u?.originalIndices || null,
    g = A ? A.length : 0,
    m = u?.componentOffsets || null;
  let w = 0;
  if (m) for (let t = 0; t < m.length - 1; t++) {
    const n = m[t + 1] - m[t];
    n > w && (w = n);
  } else w = a;
  const U = Math.floor(1.1 * w) + 1;
  (null == i || i.length < 2 * U) && (i = new Uint32Array((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.nextHighestPowerOfTwo)(2 * U)));
  for (let t = 0; t < 2 * U; t++) i[t] = 0;
  let b = 0;
  const d = !!m && !!A,
    p = d ? g : a;
  let M = (0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.newIndexArray)(a);
  const j = new Uint32Array(g),
    q = 1.96;
  let I = 0 !== y ? Math.ceil(4 * q * q / (y * y) * y * (1 - y)) : p,
    k = 1,
    x = m ? m[1] : p;
  for (let t = 0; t < p; t++) {
    if (t === I) {
      const n = 1 - b / t;
      if (n + q * Math.sqrt(n * (1 - n) / t) < y) return null;
      I *= 2;
    }
    if (t === x) {
      for (let t = 0; t < 2 * U; t++) i[t] = 0;
      if (A) for (let t = m[k - 1]; t < m[k]; t++) j[t] = M[A[t]];
      x = m[++k];
    }
    const n = d ? A[t] : t,
      r = n * s,
      e = f(h, r, s);
    let o = e % U,
      u = b;
    for (; 0 !== i[2 * o + 1];) {
      if (i[2 * o] === e) {
        const t = i[2 * o + 1] - 1;
        if (l(h, r, t * s, s)) {
          u = M[t];
          break;
        }
      }
      o++, o >= U && (o -= U);
    }
    u === b && (i[2 * o] = e, i[2 * o + 1] = n + 1, b++), M[n] = u;
  }
  if (0 !== y && 1 - b / a < y) return null;
  if (d) {
    for (let t = m[k - 1]; t < j.length; t++) j[t] = M[A[t]];
    M = (0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.compactIndices)(j);
  }
  const C = c ? new Array(b) : new Uint32Array(b * s);
  b = 0;
  for (let t = 0; t < p; t++) if (M[t] === b) {
    o(h, (d ? A[t] : t) * s, C, b * s, s), b++;
  }
  if (A && !d) {
    const t = new Uint32Array(g);
    for (let n = 0; n < t.length; n++) t[n] = M[A[n]];
    M = (0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.compactIndices)(t);
  }
  return {
    buffer: Array.isArray(C) ? C : C.buffer,
    indices: M,
    uniqueCount: b
  };
}
function l(t, n, r, e) {
  for (let l = 0; l < e; l++) if (t[n + l] !== t[r + l]) return !1;
  return !0;
}
function o(t, n, r, e, l) {
  for (let o = 0; o < l; o++) r[e + o] = t[n + o];
}
function f(t, n, r) {
  let e = 0;
  for (let l = 0; l < r; l++) e = t[n + l] + e | 0, e = e + (e << 11) + (e >>> 2) | 0;
  return e >>> 0;
}
let i = null;


/***/ }),

/***/ 90890:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/meshProcessing.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "computeNeighbors": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t, o, n) {
  const r = o / 3,
    c = new Uint32Array(n + 1),
    e = new Uint32Array(n + 1),
    s = (t, o) => {
      t < o ? c[t + 1]++ : e[o + 1]++;
    };
  for (let x = 0; x < r; x++) {
    const o = t[3 * x],
      n = t[3 * x + 1],
      r = t[3 * x + 2];
    s(o, n), s(n, r), s(r, o);
  }
  let f = 0,
    l = 0;
  for (let x = 0; x < n; x++) {
    const t = c[x + 1],
      o = e[x + 1];
    c[x + 1] = f, e[x + 1] = l, f += t, l += o;
  }
  const i = new Uint32Array(6 * r),
    a = c[n],
    w = (t, o, n) => {
      if (t < o) {
        const r = c[t + 1]++;
        i[2 * r] = o, i[2 * r + 1] = n;
      } else {
        const r = e[o + 1]++;
        i[2 * a + 2 * r] = t, i[2 * a + 2 * r + 1] = n;
      }
    };
  for (let x = 0; x < r; x++) {
    const o = t[3 * x],
      n = t[3 * x + 1],
      r = t[3 * x + 2];
    w(o, n, x), w(n, r, x), w(r, o, x);
  }
  const y = (t, o) => {
    const n = 2 * t,
      r = o - t;
    for (let c = 1; c < r; c++) {
      const t = i[n + 2 * c],
        o = i[n + 2 * c + 1];
      let r = c - 1;
      for (; r >= 0 && i[n + 2 * r] > t; r--) i[n + 2 * r + 2] = i[n + 2 * r], i[n + 2 * r + 3] = i[n + 2 * r + 1];
      i[n + 2 * r + 2] = t, i[n + 2 * r + 3] = o;
    }
  };
  for (let x = 0; x < n; x++) y(c[x], c[x + 1]), y(a + e[x], a + e[x + 1]);
  const A = new Int32Array(3 * r),
    U = (o, n) => o === t[3 * n] ? 0 : o === t[3 * n + 1] ? 1 : o === t[3 * n + 2] ? 2 : -1,
    u = (t, o) => {
      const n = U(t, o);
      A[3 * o + n] = -1;
    },
    p = (t, o, n, r) => {
      const c = U(t, o);
      A[3 * o + c] = r;
      const e = U(n, r);
      A[3 * r + e] = o;
    };
  for (let x = 0; x < n; x++) {
    let t = c[x];
    const o = c[x + 1];
    let n = e[x];
    const r = e[x + 1];
    for (; t < o && n < r;) {
      const o = i[2 * t],
        r = i[2 * a + 2 * n];
      o === r ? (p(x, i[2 * t + 1], r, i[2 * a + 2 * n + 1]), t++, n++) : o < r ? (u(x, i[2 * t + 1]), t++) : (u(r, i[2 * a + 2 * n + 1]), n++);
    }
    for (; t < o;) u(x, i[2 * t + 1]), t++;
    for (; n < r;) {
      u(i[2 * a + 2 * n], i[2 * a + 2 * n + 1]), n++;
    }
  }
  return A;
}


/***/ }),

/***/ 25417:
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EdgeInputBufferLayout": () => (/* binding */ T),
/* harmony export */   "EdgeShaderAttributeLocations": () => (/* binding */ r),
/* harmony export */   "RegularEdgeInstancesLayout": () => (/* binding */ e),
/* harmony export */   "SilhouetteEdgeInstancesLayout": () => (/* binding */ S),
/* harmony export */   "VertexLayout": () => (/* binding */ A),
/* harmony export */   "glVertexLayout": () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../support/buffer/glUtil.js */ 36475);
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../support/buffer/InterleavedLayout.js */ 61462);
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



const T = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__.newLayout)().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION).u16(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.COMPONENTINDEX),
  A = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__.newLayout)().vec2u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.SIDENESS),
  E = (0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_0__.glLayout)(A),
  e = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__.newLayout)().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION0).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION1).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMAL).u16(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.COMPONENTINDEX).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTOFFSET, {
    glNormalized: !0
  }).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTSTROKE).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTEXTENSION, {
    glNormalized: !0
  }),
  S = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__.newLayout)().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION0).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION1).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMALA).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMALB).u16(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.COMPONENTINDEX).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTOFFSET, {
    glNormalized: !0
  }).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTSTROKE).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTEXTENSION, {
    glNormalized: !0
  }),
  r = new Map([[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION0, 0], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION1, 1], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.COMPONENTINDEX, 2], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTOFFSET, 3], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTSTROKE, 4], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTEXTENSION, 5], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMAL, 6], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMALA, 6], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMALB, 7], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.SIDENESS, 8]]);


/***/ }),

/***/ 60446:
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CommonBufferWriter": () => (/* binding */ a),
/* harmony export */   "RegularEdgeBufferWriter": () => (/* binding */ d),
/* harmony export */   "SilhouetteEdgeBufferWriter": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ 37313);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../support/buffer/glUtil.js */ 36475);
/* harmony import */ var _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bufferLayouts.js */ 25417);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class a {
  updateSettings(t) {
    this.settings = t, this._edgeHashFunction = t.reducedPrecision ? f : p;
  }
  write(t, o, e) {
    const n = this._edgeHashFunction(e);
    y.seed = n;
    const i = y.getIntRange(0, 255),
      r = y.getIntRange(0, this.settings.variants - 1),
      s = .7,
      a = y.getFloat(),
      c = 255 * (.5 * g(-(1 - Math.min(a / s, 1)) + Math.max(0, a - s) / (1 - s), 1.2) + .5);
    t.position0.setVec(o, e.position0), t.position1.setVec(o, e.position1), t.componentIndex.set(o, e.componentIndex), t.variantOffset.set(o, i), t.variantStroke.set(o, r), t.variantExtension.set(o, c);
  }
  trim(t, o) {
    return t.slice(0, o);
  }
}
const c = new Float32Array(6),
  m = new Uint32Array(c.buffer),
  u = new Uint32Array(1);
function p(t) {
  const o = c;
  o[0] = t.position0[0], o[1] = t.position0[1], o[2] = t.position0[2], o[3] = t.position1[0], o[4] = t.position1[1], o[5] = t.position1[2], u[0] = 5381;
  for (let e = 0; e < m.length; e++) u[0] = 31 * u[0] + m[e];
  return u[0];
}
function f(t) {
  const o = c;
  o[0] = h(t.position0[0]), o[1] = h(t.position0[1]), o[2] = h(t.position0[2]), o[3] = h(t.position1[0]), o[4] = h(t.position1[1]), o[5] = h(t.position1[2]), u[0] = 5381;
  for (let e = 0; e < m.length; e++) u[0] = 31 * u[0] + m[e];
  return u[0];
}
const l = 1e4;
function h(t) {
  return Math.round(t * l) / l;
}
function g(t, o) {
  const e = t < 0 ? -1 : 1;
  return Math.abs(t) ** o * e;
}
class d {
  constructor() {
    this._commonWriter = new a();
  }
  updateSettings(t) {
    this._commonWriter.updateSettings(t);
  }
  allocate(t) {
    return _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.RegularEdgeInstancesLayout.createBuffer(t);
  }
  write(t, n, i) {
    this._commonWriter.write(t, n, i), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.g)(_, i.faceNormal0, i.faceNormal1), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.n)(_, _), t.normal.setVec(n, _);
  }
  trim(t, o) {
    return this._commonWriter.trim(t, o);
  }
}
d.Layout = _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.RegularEdgeInstancesLayout, d.glLayout = (0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__.glLayout)(_bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.RegularEdgeInstancesLayout, 1);
class w {
  constructor() {
    this._commonWriter = new a();
  }
  updateSettings(t) {
    this._commonWriter.updateSettings(t);
  }
  allocate(t) {
    return _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.SilhouetteEdgeInstancesLayout.createBuffer(t);
  }
  write(t, o, e) {
    this._commonWriter.write(t, o, e), t.normalA.setVec(o, e.faceNormal0), t.normalB.setVec(o, e.faceNormal1);
  }
  trim(t, o) {
    return this._commonWriter.trim(t, o);
  }
}
w.Layout = _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.SilhouetteEdgeInstancesLayout, w.glLayout = (0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__.glLayout)(_bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.SilhouetteEdgeInstancesLayout, 1);
const _ = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  y = new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_0__["default"]();


/***/ }),

/***/ 34627:
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EdgeType": () => (/* binding */ u),
/* harmony export */   "extractEdges": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ 93142);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ 77765);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




const m = -1;
var u;
function p(n, a, i, l = V) {
  const f = n.vertices.position,
    g = n.vertices.componentIndex,
    u = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.deg2rad)(l.anglePlanar),
    p = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.deg2rad)(l.angleSignificantEdge),
    y = Math.cos(p),
    E = Math.cos(u),
    N = I.edge,
    S = N.position0,
    j = N.position1,
    x = N.faceNormal0,
    D = N.faceNormal1,
    F = w(n),
    C = d(n),
    L = C.length / 4,
    b = a.allocate(L);
  let k = 0;
  const H = L,
    K = i.allocate(H);
  let M = 0,
    O = 0,
    P = 0;
  const T = (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.range)(0, L),
    U = new Float32Array(L);
  U.forEach((e, t, n) => {
    f.getVec(C[4 * t], S), f.getVec(C[4 * t + 1], j), n[t] = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.o)(S, j);
  }), T.sort((e, t) => U[t] - U[e]);
  const q = new Array(),
    z = new Array();
  for (let e = 0; e < L; e++) {
    const t = T[e],
      n = U[t],
      o = C[4 * t],
      l = C[4 * t + 1],
      p = C[4 * t + 2],
      d = C[4 * t + 3],
      w = d === m;
    if (f.getVec(o, S), f.getVec(l, j), w) (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(x, F[3 * p], F[3 * p + 1], F[3 * p + 2]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(D, x), N.componentIndex = g.get(o), N.cosAngle = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)(x, D);else {
      if ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(x, F[3 * p], F[3 * p + 1], F[3 * p + 2]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(D, F[3 * d], F[3 * d + 1], F[3 * d + 2]), N.componentIndex = g.get(o), N.cosAngle = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)(x, D), v(N, E)) continue;
      N.cosAngle < -.9999 && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(D, x);
    }
    O += n, P++, w || h(N, y) ? (a.write(b, k++, N), q.push(n)) : A(N, u) && (i.write(K, M++, N), z.push(n));
  }
  const B = new Float32Array(q.reverse()),
    G = new Float32Array(z.reverse());
  return {
    regular: {
      instancesData: a.trim(b, k),
      lodInfo: {
        lengths: B
      }
    },
    silhouette: {
      instancesData: i.trim(K, M),
      lodInfo: {
        lengths: G
      }
    },
    averageEdgeLength: O / P
  };
}
function h(e, t) {
  return e.cosAngle < t;
}
function v(e, t) {
  return e.cosAngle > t;
}
function A(e, t) {
  const o = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.acosClamped)(e.cosAngle),
    c = I.fwd,
    r = I.ortho;
  (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.C)(c, e.position1, e.position0);
  return o * ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.b)(r, e.faceNormal0, e.faceNormal1), c) > 0 ? -1 : 1) > t;
}
function d(e) {
  const t = e.faces.length / 3,
    n = e.faces,
    o = e.neighbors;
  let c = 0;
  for (let a = 0; a < t; a++) {
    const e = o[3 * a],
      t = o[3 * a + 1],
      r = o[3 * a + 2],
      s = n[3 * a],
      i = n[3 * a + 1],
      l = n[3 * a + 2];
    c += e === m || s < i ? 1 : 0, c += t === m || i < l ? 1 : 0, c += r === m || l < s ? 1 : 0;
  }
  const r = new Int32Array(4 * c);
  let s = 0;
  for (let a = 0; a < t; a++) {
    const e = o[3 * a],
      t = o[3 * a + 1],
      c = o[3 * a + 2],
      i = n[3 * a],
      l = n[3 * a + 1],
      f = n[3 * a + 2];
    (e === m || i < l) && (r[s++] = i, r[s++] = l, r[s++] = a, r[s++] = e), (t === m || l < f) && (r[s++] = l, r[s++] = f, r[s++] = a, r[s++] = t), (c === m || f < i) && (r[s++] = f, r[s++] = i, r[s++] = a, r[s++] = c);
  }
  return r;
}
function w(e) {
  const t = e.faces.length / 3,
    n = e.vertices.position,
    o = e.faces,
    c = y.v0,
    r = y.v1,
    s = y.v2,
    a = new Float32Array(3 * t);
  for (let g = 0; g < t; g++) {
    const e = o[3 * g],
      t = o[3 * g + 1],
      m = o[3 * g + 2];
    n.getVec(e, c), n.getVec(t, r), n.getVec(m, s), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(r, r, c), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(s, s, c), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.b)(c, r, s), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.n)(c, c), a[3 * g] = c[0], a[3 * g + 1] = c[1], a[3 * g + 2] = c[2];
  }
  return a;
}
!function (e) {
  e[e.SOLID = 0] = "SOLID", e[e.SKETCH = 1] = "SKETCH";
}(u || (u = {}));
const I = {
    edge: {
      position0: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
      position1: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
      faceNormal0: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
      faceNormal1: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
      componentIndex: 0,
      cosAngle: 0
    },
    ortho: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
    fwd: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()
  },
  y = {
    v0: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
    v1: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
    v2: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()
  },
  V = {
    anglePlanar: 4,
    angleSignificantEdge: 35
  };


/***/ }),

/***/ 71931:
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "extract": () => (/* binding */ f),
/* harmony export */   "extractComponentsEdgeLocationsLayout": () => (/* binding */ m),
/* harmony export */   "extractEdgeInformation": () => (/* binding */ u),
/* harmony export */   "extractEdgeLocationsLayout": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _geometry_support_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry/support/meshUtils/deduplicate.js */ 3584);
/* harmony import */ var _support_meshProcessing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../support/meshProcessing.js */ 90890);
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../support/buffer/InterleavedLayout.js */ 61462);
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../VertexAttribute.js */ 51663);
/* harmony import */ var _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bufferLayouts.js */ 25417);
/* harmony import */ var _edgeBufferWriters_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./edgeBufferWriters.js */ 60446);
/* harmony import */ var _edgePreprocessing_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./edgePreprocessing.js */ 34627);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







function f(e) {
  const t = u(e.data, e.skipDeduplicate, e.indices, e.indicesLength);
  return g.updateSettings(e.writerSettings), a.updateSettings(e.writerSettings), (0,_edgePreprocessing_js__WEBPACK_IMPORTED_MODULE_6__.extractEdges)(t, g, a);
}
function u(r, i, n, o) {
  if (i) {
    const e = (0,_support_meshProcessing_js__WEBPACK_IMPORTED_MODULE_1__.computeNeighbors)(n, o, r.count);
    return new p(n, o, e, r);
  }
  const c = (0,_geometry_support_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_0__.deduplicate)(r.buffer, r.stride / 4, {
      originalIndices: n,
      originalIndicesLength: o
    }),
    f = (0,_support_meshProcessing_js__WEBPACK_IMPORTED_MODULE_1__.computeNeighbors)(c.indices, o, c.uniqueCount);
  return {
    faces: c.indices,
    facesLength: c.indices.length,
    neighbors: f,
    vertices: _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.EdgeInputBufferLayout.createView(c.buffer)
  };
}
class p {
  constructor(e, t, r, i) {
    this.faces = e, this.facesLength = t, this.neighbors = r, this.vertices = i;
  }
}
const g = new _edgeBufferWriters_js__WEBPACK_IMPORTED_MODULE_5__.RegularEdgeBufferWriter(),
  a = new _edgeBufferWriters_js__WEBPACK_IMPORTED_MODULE_5__.SilhouetteEdgeBufferWriter(),
  d = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__.newLayout)().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.POSITION0).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.POSITION1),
  m = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__.newLayout)().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.POSITION0).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.POSITION1).u16(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.COMPONENTINDEX);


/***/ })

}]);
//# sourceMappingURL=default-node_modules_arcgis_core_views_3d_webgl-engine_lib_edgeRendering_edgeProcessing_js.js.map