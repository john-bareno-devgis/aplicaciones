"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_views_interactive_snapping_featureSources_FeatureCollectionSnappingS-995406"],{

/***/ 59032:
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/core/memoize.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "memoize": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t) {
  let r,
    e,
    i = [],
    u = !1;
  function f(...f) {
    return u && r === this && n(f, i) || (e = t.apply(this, f), r = this, i = f, u = !0), e;
  }
  return f;
}
function n(t, n) {
  if (t.length !== n.length) return !1;
  for (let r = 0; r < t.length; ++r) if (t[r] !== n[r]) return !1;
  return !0;
}


/***/ }),

/***/ 52015:
/*!****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureCollectionSnappingSource.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureCollectionSnappingSource": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ 2299);
/* harmony import */ var _core_memoize_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/memoize.js */ 59032);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ 64316);
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../snappingUtils.js */ 72189);
/* harmony import */ var _queryEngineUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./queryEngineUtils.js */ 17028);
/* harmony import */ var _snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./snappingCandidateElevationAlignment.js */ 50960);
/* harmony import */ var _snappingCandidateElevationFilter_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./snappingCandidateElevationFilter.js */ 61117);
/* harmony import */ var _symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./symbologySnappingCandidates.js */ 8941);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
















let S = class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"] {
  get availability() {
    return 1;
  }
  get updating() {
    return this.layerSource.updating;
  }
  get _snappingElevationAligner() {
    const {
        view: e
      } = this,
      {
        layer: t
      } = this.layerSource,
      i = null != e && "3d" === e.type;
    if (!i || "subtype-group" === t.type) return (0,_snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_14__.getSnappingCandidateElevationAligner)();
    const o = /*#__PURE__*/function () {
      var _ref = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (i, _o) {
        return (yield (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOrAbort)(e.whenLayerView(t), _o)).elevationAlignPointsInFeatures(i, _o);
      });
      return function o(_x, _x2) {
        return _ref.apply(this, arguments);
      };
    }();
    return (0,_snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_14__.getSnappingCandidateElevationAligner)(i, {
      elevationInfo: t.elevationInfo,
      alignPointsInFeatures: o
    });
  }
  get _snappingElevationFilter() {
    const {
        view: e
      } = this,
      t = null != e && "3d" === e.type && "subtype-group" !== this.layerSource.layer.type;
    return (0,_snappingCandidateElevationFilter_js__WEBPACK_IMPORTED_MODULE_15__.getSnappingCandidateElevationFilter)(t);
  }
  get _symbologySnappingFetcher() {
    const {
        view: e
      } = this,
      {
        layer: t
      } = this.layerSource;
    return null != e && "3d" === e.type && "subtype-group" !== t.type ? (0,_symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_16__.getSymbologySnappingCandidatesFetcher)(this._symbologySnappingSupported, /*#__PURE__*/function () {
      var _ref2 = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (i, n) {
        const r = yield e.whenLayerView(t);
        return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(n), r.queryForSymbologySnapping({
          candidates: i,
          spatialReference: e.spatialReference
        }, n);
      });
      return function (_x3, _x4) {
        return _ref2.apply(this, arguments);
      };
    }()) : (0,_symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_16__.getSymbologySnappingCandidatesFetcher)();
  }
  get _symbologySnappingSupported() {
    return null != this._layerView3D && this._layerView3D.symbologySnappingSupported;
  }
  initialize() {
    const {
        view: e
      } = this,
      {
        layer: t
      } = this.layerSource;
    null != e && "3d" === e.type && "subtype-group" !== t.type && (e.whenLayerView(t).then(e => this._layerView3D = e), this.addHandles([e.elevationProvider.on("elevation-change", ({
      context: e
    }) => {
      const {
        elevationInfo: i
      } = t;
      (0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_11__.elevationContextAffectsAlignment)(e, i) && this._snappingElevationAligner.notifyElevationSourceChange();
    }), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)(() => t.elevationInfo, () => this._snappingElevationAligner.notifyElevationSourceChange(), _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)(() => null != this._layerView3D ? this._layerView3D.processor?.renderer : null, () => this._symbologySnappingFetcher.notifySymbologyChange(), _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.on)(() => this._layerView3D?.layer, ["edits", "apply-edits", "graphic-update"], () => this._symbologySnappingFetcher.notifySymbologyChange())]));
  }
  constructor(e) {
    super(e), this.view = null, this._layerView3D = null, this._memoizedMakeGetGroundElevation = (0,_core_memoize_js__WEBPACK_IMPORTED_MODULE_3__.memoize)(_queryEngineUtils_js__WEBPACK_IMPORTED_MODULE_13__.makeGetGroundElevation);
  }
  refresh() {}
  fetchCandidates(e, t) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          layer: i
        } = _this.layerSource,
        n = i.source;
      if (!n?.querySnapping) return [];
      const r = (0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_12__.makeFilter)(i),
        a = (0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_12__.makeSnappingQuery)(e, _this.view?.type ?? "2d", r),
        s = yield n.querySnapping(a, {
          signal: t
        });
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t);
      const p = e.coordinateHelper.spatialReference,
        l = yield _this._snappingElevationAligner.alignCandidates(s.candidates, p, t);
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t);
      const y = yield _this._symbologySnappingFetcher.fetch(l, t);
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t);
      const h = 0 === y.length ? l : [...l, ...y],
        m = _this._snappingElevationFilter.filter(a, h),
        d = _this._memoizedMakeGetGroundElevation(_this.view, p);
      return m.map(e => (0,_queryEngineUtils_js__WEBPACK_IMPORTED_MODULE_13__.convertSnappingCandidate)(e, d));
    })();
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  constructOnly: !0
})], S.prototype, "layerSource", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  constructOnly: !0
})], S.prototype, "view", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], S.prototype, "_snappingElevationAligner", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], S.prototype, "_snappingElevationFilter", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], S.prototype, "_symbologySnappingFetcher", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], S.prototype, "_layerView3D", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], S.prototype, "_symbologySnappingSupported", null), S = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.interactive.snapping.featureSources.FeatureCollectionSnappingSource")], S);


/***/ }),

/***/ 57755:
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointSnappingHint": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _SnappingHint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SnappingHint.js */ 54315);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class n extends _SnappingHint_js__WEBPACK_IMPORTED_MODULE_1__.SnappingHint {
  constructor(t, s, n) {
    super(s, n), this.point = t;
  }
  equals(s) {
    return s instanceof n && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.point, s.point);
  }
}


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_views_interactive_snapping_featureSources_FeatureCollectionSnappingS-995406.js.map