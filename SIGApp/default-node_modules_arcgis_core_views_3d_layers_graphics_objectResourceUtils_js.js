"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["default-node_modules_arcgis_core_views_3d_layers_graphics_objectResourceUtils_js"],{

/***/ 29864:
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/DefaultMaterial.glsl.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "D": () => (/* binding */ J),
/* harmony export */   "b": () => (/* binding */ H)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js */ 74891);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Offset_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js */ 88026);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ 56877);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ 2847);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_InstancedDoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js */ 66948);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js */ 20315);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_PositionAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js */ 13321);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_SymbolColor_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js */ 72457);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ 49549);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js */ 83817);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js */ 16568);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VerticalOffset_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js */ 773);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_default_DefaultMaterialAuxiliaryPasses_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js */ 91452);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_ComputeNormalTexture_glsl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js */ 21187);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientOcclusion_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js */ 91941);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js */ 63079);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js */ 98805);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ 57895);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js */ 5395);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js */ 58870);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ 85950);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js */ 28207);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_TextureTransformUV_glsl_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/TextureTransformUV.glsl.js */ 77679);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js */ 44147);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ 63855);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js */ 98895);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_MixExternalColor_glsl_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js */ 33122);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ 19349);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js */ 26615);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ 94391);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





































function H(H) {
  const J = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_33__.ShaderBuilder(),
    {
      vertex: K,
      fragment: Q,
      varyings: X
    } = J;
  if ((0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_28__.addProjViewLocalOrigin)(K, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_PositionAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PositionAttribute), X.add("vpos", "vec3"), J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_24__.VisualVariables, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_InstancedDoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_5__.InstancedDoublePrecision, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VerticalOffset_glsl_js__WEBPACK_IMPORTED_MODULE_12__.VerticalOffset, H), H.hasColorTextureTransform && J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TextureTransformUV_glsl_js__WEBPACK_IMPORTED_MODULE_23__.colorTextureUV), H.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Color || H.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Alpha) {
    H.hasNormalTextureTransform && J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TextureTransformUV_glsl_js__WEBPACK_IMPORTED_MODULE_23__.normalTextureUV), H.hasEmissionTextureTransform && J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TextureTransformUV_glsl_js__WEBPACK_IMPORTED_MODULE_23__.emissiveTextureUV), H.hasOcclusionTextureTransform && J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TextureTransformUV_glsl_js__WEBPACK_IMPORTED_MODULE_23__.occlusionTextureUV), H.hasMetallicRoughnessTextureTransform && J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TextureTransformUV_glsl_js__WEBPACK_IMPORTED_MODULE_23__.metallicRoughnessTextureUV), (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_28__.addCameraPosition)(K, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__.NormalAttribute, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_4__.Transform, H);
    const o = H.normalType === _views_3d_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__.NormalType.Attribute || H.normalType === _views_3d_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__.NormalType.Compressed;
    o && H.offsetBackfaces && J.include(_views_3d_webgl_engine_core_shaderLibrary_Offset_glsl_js__WEBPACK_IMPORTED_MODULE_1__.Offset), J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_ComputeNormalTexture_glsl_js__WEBPACK_IMPORTED_MODULE_14__.ComputeNormalTexture, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_11__.VertexNormal, H), H.instancedColor && J.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_36__.VertexAttribute.INSTANCECOLOR, "vec4"), X.add("vPositionLocal", "vec3"), J.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_9__.TextureCoordinateAttribute, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ForwardLinearDepth, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_SymbolColor_glsl_js__WEBPACK_IMPORTED_MODULE_8__.SymbolColor, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_10__.VertexColor, H), K.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_30__.Float4PassUniform("externalColor", e => e.externalColor)), X.add("vcolorExt", "vec4"), H.multipassEnabled && X.add("depth", "float"), K.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
      void main(void) {
        forwardNormalizedVertexColor();
        vcolorExt = externalColor;
        ${H.instancedColor ? "vcolorExt *= instanceColor * 0.003921568627451;" : ""}
        vcolorExt *= vvColor();
        vcolorExt *= getSymbolColor();
        forwardColorMixMode();

        if (vcolorExt.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_25__.symbolAlphaCutoff)}) {
          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
        } else {
          vpos = getVertexInLocalOriginSpace();
          vPositionLocal = vpos - view[3].xyz;
          vpos = subtractOrigin(vpos);
          ${o ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`vNormalWorld = dpNormal(vvLocalNormal(normalModel()));` : ""}
          vpos = addVerticalOffset(vpos, localOrigin);
          ${H.hasVertexTangents ? "vTangent = dpTransformVertexTangent(tangent);" : ""}
          gl_Position = transformPosition(proj, view, vpos);
          ${o && H.offsetBackfaces ? "gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, cameraPosition);" : ""}
        }

        ${H.multipassEnabled ? "depth = (view * vec4(vpos, 1.0)).z;" : ""}
        forwardLinearDepth();
        forwardTextureCoordinates();
        ${H.hasColorTextureTransform ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`forwardColorUV();` : ""}
        ${H.hasNormalTextureTransform ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`forwardNormalUV();` : ""}
        ${H.hasEmissionTextureTransform ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`forwardEmissiveUV();` : ""}
        ${H.hasOcclusionTextureTransform ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`forwardOcclusionUV();` : ""}
        ${H.hasMetallicRoughnessTextureTransform ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`forwardMetallicRoughnessUV();` : ""}
      }
    `);
  }
  switch (H.output) {
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Alpha:
      J.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__.SliceDraw, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_26__.DiscardOrAdjustAlphaPass, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_18__.multipassTerrainTest, H), Q.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_31__.FloatPassUniform("opacity", e => e.opacity), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_31__.FloatPassUniform("layerOpacity", e => e.layerOpacity)), H.hasColorTexture && Q.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_34__.Texture2DPassUniform("tex", e => e.texture)), Q.include(_views_3d_webgl_engine_core_shaderLibrary_util_MixExternalColor_glsl_js__WEBPACK_IMPORTED_MODULE_27__.MixExternalColor), Q.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
      void main() {
        discardBySlice(vpos);
        ${H.multipassEnabled ? "terrainDepthTest(depth);" : ""}
        ${H.hasColorTexture ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
                vec4 texColor = texture(tex, ${H.hasColorTextureTransform ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`colorUV` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`vuv0`});
                ${H.textureAlphaPremultiplied ? "texColor.rgb /= texColor.a;" : ""}
                discardOrAdjustAlpha(texColor);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`vec4 texColor = vec4(1.0);`}
        ${H.hasVertexColors ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));`}
        fragColor = vec4(opacity_);
      }
    `);
      break;
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Color:
      J.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__.SliceDraw, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_16__.EvaluateSceneLighting, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientOcclusion_glsl_js__WEBPACK_IMPORTED_MODULE_15__.EvaluateAmbientOcclusion, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_26__.DiscardOrAdjustAlphaPass, H), J.include(H.instancedDoublePrecision ? _views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_22__.ReadShadowMapPass : _views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_22__.ReadShadowMapDraw, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_18__.multipassTerrainTest, H), (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_28__.addCameraPosition)(Q, H), Q.uniforms.add(K.uniforms.get("localOrigin"), new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_29__.Float3PassUniform("ambient", e => e.ambient), new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_29__.Float3PassUniform("diffuse", e => e.diffuse), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_31__.FloatPassUniform("opacity", e => e.opacity), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_31__.FloatPassUniform("layerOpacity", e => e.layerOpacity)), H.hasColorTexture && Q.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_34__.Texture2DPassUniform("tex", e => e.texture)), J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_21__.PhysicallyBasedRenderingParameters, H), J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_20__.PhysicallyBasedRendering, H), Q.include(_views_3d_webgl_engine_core_shaderLibrary_util_MixExternalColor_glsl_js__WEBPACK_IMPORTED_MODULE_27__.MixExternalColor), J.include(_views_3d_webgl_engine_core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_19__.Normals, H), (0,_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addAmbientBoostFactor)(Q), (0,_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addLightingGlobalFactor)(Q), (0,_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_17__.addMainLightIntensity)(Q), Q.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
      void main() {
        discardBySlice(vpos);
        ${H.multipassEnabled ? "terrainDepthTest(depth);" : ""}
        ${H.hasColorTexture ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
                vec4 texColor = texture(tex, ${H.hasColorTextureTransform ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`colorUV` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`vuv0`});
                ${H.textureAlphaPremultiplied ? "texColor.rgb /= texColor.a;" : ""}
                discardOrAdjustAlpha(texColor);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`vec4 texColor = vec4(1.0);`}
        shadingParams.viewDirection = normalize(vpos - cameraPosition);
        ${H.normalType === _views_3d_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__.NormalType.ScreenDerivative ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
                vec3 normal = screenDerivativeNormal(vPositionLocal);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
                shadingParams.normalView = vNormalWorld;
                vec3 normal = shadingNormal(shadingParams);`}
        ${H.pbrMode === _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_21__.PBRMode.Normal ? "applyPBRFactors();" : ""}
        float ssao = evaluateAmbientOcclusionInverse();
        ssao *= getBakedOcclusion();

        vec3 posWorld = vpos + localOrigin;

        float additionalAmbientScale = additionalDirectedAmbientLight(posWorld);
        float shadow = ${H.receiveShadows ? "readShadowMap(vpos, linearDepth)" : H.spherical ? "lightingGlobalFactor * (1.0 - additionalAmbientScale)" : "0.0"};

        vec3 matColor = max(ambient, diffuse);
        ${H.hasVertexColors ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
                vec3 albedo = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));
                float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
                vec3 albedo = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));
                float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));`}
        ${H.hasNormalTexture ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
                mat3 tangentSpace = ${H.hasVertexTangents ? "computeTangentSpace(normal);" : "computeTangentSpace(normal, vpos, vuv0);"}
                vec3 shadingNormal = computeTextureNormal(tangentSpace, ${H.hasNormalTextureTransform ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`normalUV` : "vuv0"});` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`vec3 shadingNormal = normal;`}
        vec3 normalGround = ${H.spherical ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`normalize(posWorld);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`vec3(0.0, 0.0, 1.0);`}

        ${H.snowCover ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
                float snow = smoothstep(0.5, 0.55, dot(normal, normalGround));
                albedo = mix(albedo, vec3(1), snow);
                shadingNormal = mix(shadingNormal, normal, snow);
                ssao = mix(ssao, 1.0, snow);` : ""}

        vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;

        ${H.pbrMode === _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_21__.PBRMode.Normal || H.pbrMode === _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_21__.PBRMode.Schematic ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
                float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];
                ${H.snowCover ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`
                        mrr = mix(mrr, vec3(0.0, 1.0, 0.04), snow);
                        emission = mix(emission, vec3(0.0), snow);` : ""}

                vec3 shadedColor = evaluateSceneLightingPBR(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`vec3 shadedColor = evaluateSceneLighting(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight);`}
        fragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);
        ${H.transparencyPassType === _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_35__.TransparencyPassType.Color ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.glsl`fragColor = premultiplyAlpha(fragColor);` : ""}
      }
    `);
  }
  return J.include(_views_3d_webgl_engine_core_shaderLibrary_default_DefaultMaterialAuxiliaryPasses_glsl_js__WEBPACK_IMPORTED_MODULE_13__.DefaultMaterialAuxiliaryPasses, H), J;
}
const J = Object.freeze(Object.defineProperty({
  __proto__: null,
  build: H
}, Symbol.toStringTag, {
  value: "Module"
}));


/***/ }),

/***/ 48647:
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/RealisticTree.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "R": () => (/* binding */ R),
/* harmony export */   "b": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js */ 74891);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Offset_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js */ 88026);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ 56877);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ 2847);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_InstancedDoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js */ 66948);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js */ 20315);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_PositionAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js */ 13321);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_SymbolColor_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js */ 72457);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ 49549);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js */ 83817);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VerticalOffset_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js */ 773);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_default_DefaultMaterialAuxiliaryPasses_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js */ 91452);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientOcclusion_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js */ 91941);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js */ 63079);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js */ 98805);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ 57895);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js */ 58870);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ 85950);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js */ 28207);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js */ 44147);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ 63855);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js */ 98895);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_MixExternalColor_glsl_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js */ 33122);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ 19349);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js */ 26615);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ 94391);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

































function I(I) {
  const R = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_29__.ShaderBuilder(),
    {
      vertex: z,
      fragment: k,
      varyings: U
    } = R;
  return (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_24__.addProjViewLocalOrigin)(z, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_PositionAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PositionAttribute), U.add("vpos", "vec3"), R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_20__.VisualVariables, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_InstancedDoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_5__.InstancedDoublePrecision, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VerticalOffset_glsl_js__WEBPACK_IMPORTED_MODULE_11__.VerticalOffset, I), I.output !== _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Color && I.output !== _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Alpha || ((0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_24__.addCameraPosition)(R.vertex, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__.NormalAttribute, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_4__.Transform, I), I.offsetBackfaces && R.include(_views_3d_webgl_engine_core_shaderLibrary_Offset_glsl_js__WEBPACK_IMPORTED_MODULE_1__.Offset), I.instancedColor && R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_32__.VertexAttribute.INSTANCECOLOR, "vec4"), U.add("vNormalWorld", "vec3"), U.add("localvpos", "vec3"), I.multipassEnabled && U.add("depth", "float"), R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_9__.TextureCoordinateAttribute, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ForwardLinearDepth, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_SymbolColor_glsl_js__WEBPACK_IMPORTED_MODULE_8__.SymbolColor, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_10__.VertexColor, I), z.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_26__.Float4PassUniform("externalColor", e => e.externalColor)), U.add("vcolorExt", "vec4"), z.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`
        void main(void) {
          forwardNormalizedVertexColor();
          vcolorExt = externalColor;
          ${I.instancedColor ? "vcolorExt *= instanceColor * 0.003921568627451;" : ""}
          vcolorExt *= vvColor();
          vcolorExt *= getSymbolColor();
          forwardColorMixMode();

          if (vcolorExt.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_21__.symbolAlphaCutoff)}) {
            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
          } else {
            vpos = getVertexInLocalOriginSpace();
            localvpos = vpos - view[3].xyz;
            vpos = subtractOrigin(vpos);
            vNormalWorld = dpNormal(vvLocalNormal(normalModel()));
            vpos = addVerticalOffset(vpos, localOrigin);
            gl_Position = transformPosition(proj, view, vpos);
            ${I.offsetBackfaces ? "gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, cameraPosition);" : ""}
          }
          ${I.multipassEnabled ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`depth = (view * vec4(vpos, 1.0)).z;` : ""}
          forwardLinearDepth();
          forwardTextureCoordinates();
        }
      `)), I.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Alpha && (R.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__.SliceDraw, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_22__.DiscardOrAdjustAlphaPass, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_16__.multipassTerrainTest, I), k.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_27__.FloatPassUniform("opacity", e => e.opacity), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_27__.FloatPassUniform("layerOpacity", e => e.layerOpacity)), I.hasColorTexture && k.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_30__.Texture2DPassUniform("tex", e => e.texture)), k.include(_views_3d_webgl_engine_core_shaderLibrary_util_MixExternalColor_glsl_js__WEBPACK_IMPORTED_MODULE_23__.MixExternalColor), k.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`
      void main() {
        discardBySlice(vpos);
        ${I.multipassEnabled ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`terrainDepthTest(depth);` : ""}
        ${I.hasColorTexture ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`
                vec4 texColor = texture(tex, ${I.hasColorTextureTransform ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`colorUV` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`vuv0`});
                ${I.textureAlphaPremultiplied ? "texColor.rgb /= texColor.a;" : ""}
                discardOrAdjustAlpha(texColor);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`vec4 texColor = vec4(1.0);`}
        ${I.hasVertexColors ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));`}

        fragColor = vec4(opacity_);
      }
    `)), I.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Color && (R.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__.SliceDraw, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_14__.EvaluateSceneLighting, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientOcclusion_glsl_js__WEBPACK_IMPORTED_MODULE_13__.EvaluateAmbientOcclusion, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_22__.DiscardOrAdjustAlphaPass, I), R.include(I.instancedDoublePrecision ? _views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_19__.ReadShadowMapPass : _views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_19__.ReadShadowMapDraw, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_16__.multipassTerrainTest, I), (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_24__.addCameraPosition)(R.fragment, I), (0,_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_15__.addMainLightDirection)(k), (0,_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_14__.addAmbientBoostFactor)(k), (0,_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_14__.addLightingGlobalFactor)(k), k.uniforms.add(z.uniforms.get("localOrigin"), z.uniforms.get("view"), new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_25__.Float3PassUniform("ambient", e => e.ambient), new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_25__.Float3PassUniform("diffuse", e => e.diffuse), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_27__.FloatPassUniform("opacity", e => e.opacity), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_27__.FloatPassUniform("layerOpacity", e => e.layerOpacity)), I.hasColorTexture && k.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_30__.Texture2DPassUniform("tex", e => e.texture)), R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_18__.PhysicallyBasedRenderingParameters, I), R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_17__.PhysicallyBasedRendering, I), k.include(_views_3d_webgl_engine_core_shaderLibrary_util_MixExternalColor_glsl_js__WEBPACK_IMPORTED_MODULE_23__.MixExternalColor), (0,_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_15__.addMainLightIntensity)(k), k.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`
      void main() {
        discardBySlice(vpos);
        ${I.multipassEnabled ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`terrainDepthTest(depth);` : ""}
        ${I.hasColorTexture ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`
                vec4 texColor = texture(tex, ${I.hasColorTextureTransform ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`colorUV` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`vuv0`});
                ${I.textureAlphaPremultiplied ? "texColor.rgb /= texColor.a;" : ""}
                discardOrAdjustAlpha(texColor);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`vec4 texColor = vec4(1.0);`}
        vec3 viewDirection = normalize(vpos - cameraPosition);
        ${I.pbrMode === _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_18__.PBRMode.Normal ? "applyPBRFactors();" : ""}
        float ssao = evaluateAmbientOcclusionInverse();
        ssao *= getBakedOcclusion();

        float additionalAmbientScale = additionalDirectedAmbientLight(vpos + localOrigin);
        vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;
        ${I.receiveShadows ? "float shadow = readShadowMap(vpos, linearDepth);" : I.spherical ? "float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);" : "float shadow = 0.0;"}
        vec3 matColor = max(ambient, diffuse);
        ${I.hasVertexColors ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`
                vec3 albedo = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));
                float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`
                vec3 albedo = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));
                float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));`}
        ${I.snowCover ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`albedo = mix(albedo, vec3(1), 0.9);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl``}
        ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`
            vec3 shadingNormal = normalize(vNormalWorld);
            albedo *= 1.2;
            vec3 viewForward = vec3(view[0][2], view[1][2], view[2][2]);
            float alignmentLightView = clamp(dot(viewForward, -mainLightDirection), 0.0, 1.0);
            float transmittance = 1.0 - clamp(dot(viewForward, shadingNormal), 0.0, 1.0);
            float treeRadialFalloff = vColor.r;
            float backLightFactor = 0.5 * treeRadialFalloff * alignmentLightView * transmittance * (1.0 - shadow);
            additionalLight += backLightFactor * mainLightIntensity;`}
        ${I.pbrMode === _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_18__.PBRMode.Normal || I.pbrMode === _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_18__.PBRMode.Schematic ? I.spherical ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`vec3 normalGround = normalize(vpos + localOrigin);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`vec3 normalGround = vec3(0.0, 0.0, 1.0);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl``}
        ${I.pbrMode === _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_18__.PBRMode.Normal || I.pbrMode === _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_18__.PBRMode.Schematic ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`
                float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];
                ${I.snowCover ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`
                        mrr = vec3(0.0, 1.0, 0.04);
                        emission = vec3(0.0);` : ""}

                vec3 shadedColor = evaluateSceneLightingPBR(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight, viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`vec3 shadedColor = evaluateSceneLighting(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight);`}
        fragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);
        ${I.transparencyPassType === _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_31__.TransparencyPassType.Color ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl`fragColor = premultiplyAlpha(fragColor);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_28__.glsl``}
      }
    `)), R.include(_views_3d_webgl_engine_core_shaderLibrary_default_DefaultMaterialAuxiliaryPasses_glsl_js__WEBPACK_IMPORTED_MODULE_12__.DefaultMaterialAuxiliaryPasses, I), R;
}
const R = Object.freeze(Object.defineProperty({
  __proto__: null,
  build: I
}, Symbol.toStringTag, {
  value: "Module"
}));


/***/ }),

/***/ 30265:
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/SSAO.glsl.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "S": () => (/* binding */ p),
/* harmony export */   "b": () => (/* binding */ f),
/* harmony export */   "g": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vec2.js */ 80775);
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vec2f64.js */ 83457);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ 93249);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js */ 46018);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js */ 14302);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ 71882);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ 94391);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










const u = 16;
function f() {
  const r = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_8__.ShaderBuilder(),
    f = r.fragment;
  return r.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_2__.ScreenSpacePass), f.include(_views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_3__.ReadLinearDepth), r.include(_views_3d_webgl_engine_core_shaderLibrary_util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_4__.CameraSpace), f.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("radius", (e, r) => d(r.camera))), f.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl`vec3 sphere[16];
void fillSphere() {
sphere[0] = vec3(0.186937, 0.0, 0.0);
sphere[1] = vec3(0.700542, 0.0, 0.0);
sphere[2] = vec3(-0.864858, -0.481795, -0.111713);
sphere[3] = vec3(-0.624773, 0.102853, -0.730153);
sphere[4] = vec3(-0.387172, 0.260319, 0.007229);
sphere[5] = vec3(-0.222367, -0.642631, -0.707697);
sphere[6] = vec3(-0.01336, -0.014956, 0.169662);
sphere[7] = vec3(0.122575, 0.1544, -0.456944);
sphere[8] = vec3(-0.177141, 0.85997, -0.42346);
sphere[9] = vec3(-0.131631, 0.814545, 0.524355);
sphere[10] = vec3(-0.779469, 0.007991, 0.624833);
sphere[11] = vec3(0.308092, 0.209288,0.35969);
sphere[12] = vec3(0.359331, -0.184533, -0.377458);
sphere[13] = vec3(0.192633, -0.482999, -0.065284);
sphere[14] = vec3(0.233538, 0.293706, -0.055139);
sphere[15] = vec3(0.417709, -0.386701, 0.442449);
}
float fallOffFunction(float vv, float vn, float bias) {
float f = max(radius * radius - vv, 0.0);
return f * f * f * max(vn - bias, 0.0);
}`), f.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl`float aoValueFromPositionsAndNormal(vec3 C, vec3 n_C, vec3 Q) {
vec3 v = Q - C;
float vv = dot(v, v);
float vn = dot(normalize(v), n_C);
return fallOffFunction(vv, vn, 0.1);
}`), f.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Float2PassUniform("nearFar", (e, r) => r.camera.nearFar), new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Texture2DPassUniform("normalMap", e => e.normalTexture), new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Texture2DPassUniform("depthMap", e => e.depthTexture), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("projScale", e => e.projScale), new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Texture2DPassUniform("rnm", e => e.noiseTexture), new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Float2PassUniform("rnmScale", (r, t) => (0,_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(m, t.camera.fullWidth / r.noiseTexture.descriptor.width, t.camera.fullHeight / r.noiseTexture.descriptor.height)), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("intensity", e => e.intensity), new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Float2PassUniform("screenSize", (r, t) => (0,_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(m, t.camera.fullWidth, t.camera.fullHeight))), r.outputs.add("fragOcclusion", "float"), f.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl`
    void main(void) {
      fillSphere();
      vec3 fres = normalize(2.0 * texture(rnm, uv * rnmScale).xyz - 1.0);
      float currentPixelDepth = linearDepthFromTexture(depthMap, uv, nearFar);

      if (-currentPixelDepth > nearFar.y || -currentPixelDepth < nearFar.x) {
        fragOcclusion = 0.0;
        return;
      }

      vec3 currentPixelPos = reconstructPosition(gl_FragCoord.xy, currentPixelDepth);

      // get the normal of current fragment
      vec4 norm4 = texture(normalMap, uv);
      vec3 norm = vec3(-1.0) + 2.0 * norm4.xyz;
      bool isTerrain = norm4.w < 0.5;

      float sum = 0.0;
      vec3 tapPixelPos;

      // note: the factor 2.0 should not be necessary, but makes ssao much nicer.
      // bug or deviation from CE somewhere else?
      float ps = projScale / (2.0 * currentPixelPos.z * zScale.x + zScale.y);

      for(int i = 0; i < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl.int(u)}; ++i) {
        vec2 unitOffset = reflect(sphere[i], fres).xy;
        vec2 offset = vec2(-unitOffset * radius * ps);

        //don't use current or very nearby samples
        if( abs(offset.x) < 2.0 || abs(offset.y) < 2.0){
          continue;
        }

        vec2 tc = vec2(gl_FragCoord.xy + offset);
        if (tc.x < 0.0 || tc.y < 0.0 || tc.x > screenSize.x || tc.y > screenSize.y) continue;
        vec2 tcTap = tc / screenSize;
        float occluderFragmentDepth = linearDepthFromTexture(depthMap, tcTap, nearFar);

        if (isTerrain) {
          if (texture(normalMap, tcTap).w < 0.5) {
            continue;
          }
        }

        tapPixelPos = reconstructPosition(tc, occluderFragmentDepth);

        sum += aoValueFromPositionsAndNormal(currentPixelPos, norm, tapPixelPos);
      }

      // output the result
      float A = max(1.0 - sum * intensity / float(${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl.int(u)}), 0.0);

      // Anti-tone map to reduce contrast and drag dark region farther: (x^0.2 + 1.2 * x^4) / 2.2
      A = (pow(A, 0.2) + 1.2 * A*A*A*A) / 2.2;

      fragOcclusion = A;
    }
  `), r;
}
function d(e) {
  return Math.max(10, 20 * e.computeScreenPixelSizeAtDist(Math.abs(4 * e.relativeElevation)));
}
const m = (0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),
  p = Object.freeze(Object.defineProperty({
    __proto__: null,
    build: f,
    getRadius: d
  }, Symbol.toStringTag, {
    value: "Module"
  }));


/***/ }),

/***/ 38694:
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/SSAOBlur.glsl.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "S": () => (/* binding */ c),
/* harmony export */   "b": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vec3.js */ 92950);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ 93249);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js */ 46018);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js */ 85634);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ 71882);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js */ 89548);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ 94391);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










const f = 4;
function u() {
  const u = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_7__.ShaderBuilder(),
    c = u.fragment;
  u.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__.ScreenSpacePass);
  const m = (f + 1) / 2,
    p = 1 / (2 * m * m);
  return c.include(_views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_2__.ReadLinearDepth), c.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Texture2DPassUniform("depthMap", e => e.depthTexture), new _views_3d_webgl_engine_core_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_8__.Texture2DDrawUniform("tex", e => e.colorTexture), new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float2DrawUniform("blurSize", e => e.blurSize), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.FloatPassUniform("projScale", (r, o) => {
    const t = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_0__.o)(o.camera.eye, o.camera.center);
    return t > 5e4 ? Math.max(0, r.projScale - (t - 5e4)) : r.projScale;
  }), new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_4__.Float2PassUniform("nearFar", (e, r) => r.camera.nearFar)), c.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl`
    void blurFunction(vec2 uv, float r, float center_d, float sharpness, inout float wTotal, inout float bTotal) {
      float c = texture(tex, uv).r;
      float d = linearDepthFromTexture(depthMap, uv, nearFar);

      float ddiff = d - center_d;

      float w = exp(-r * r * ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl.float(p)} - ddiff * ddiff * sharpness);
      wTotal += w;
      bTotal += w * c;
    }
  `), u.outputs.add("fragBlur", "float"), c.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl`
    void main(void) {
      float b = 0.0;
      float w_total = 0.0;

      float center_d = linearDepthFromTexture(depthMap, uv, nearFar);

      float sharpness = -0.05 * projScale / center_d;
      for (int r = -${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl.int(f)}; r <= ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl.int(f)}; ++r) {
        float rf = float(r);
        vec2 uvOffset = uv + rf * blurSize;
        blurFunction(uvOffset, rf, center_d, sharpness, w_total, b);
      }

      fragBlur = b / w_total;
    }
  `), u;
}
const c = Object.freeze(Object.defineProperty({
  __proto__: null,
  build: u
}, Symbol.toStringTag, {
  value: "Module"
}));


/***/ }),

/***/ 27548:
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/TextureTransformUtils.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTransformMatrix": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/mat3f32.js */ 40334);
/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec2f32.js */ 12288);
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat3.js */ 38974);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



function r(r) {
  if (null == r) return null;
  const f = null != r.offset ? r.offset : _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_1__.Z,
    l = null != r.rotation ? r.rotation : 0,
    c = null != r.scale ? r.scale : _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_1__.O,
    u = (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.f)(1, 0, 0, 0, 1, 0, f[0], f[1], 1),
    i = (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.f)(Math.cos(l), -Math.sin(l), 0, Math.sin(l), Math.cos(l), 0, 0, 0, 1),
    m = (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.f)(c[0], 0, 0, 0, c[1], 0, 0, 0, 1),
    e = (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)();
  return (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.m)(e, i, m), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.m)(e, u, e), e;
}


/***/ }),

/***/ 16010:
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/ProcessedObjectResource.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProcessedObjectResource": () => (/* binding */ t),
/* harmony export */   "ProcessedObjectStageResources": () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s {
  constructor() {
    this.geometries = new Array(), this.materials = new Array(), this.textures = new Array();
  }
}
class t {
  constructor(t, e, r) {
    this.name = t, this.lodThreshold = e, this.pivotOffset = r, this.stageResources = new s(), this.numberOfVertices = 0;
  }
}


/***/ }),

/***/ 66763:
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetch": () => (/* binding */ X),
/* harmony export */   "gltfToEngineResources": () => (/* binding */ Z),
/* harmony export */   "parseUrl": () => (/* binding */ Y)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/devEnvironmentUtils.js */ 29322);
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat3.js */ 38974);
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/mat3f64.js */ 53251);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ 73327);
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ 21214);
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ 97498);
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ 72507);
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../chunks/vec42.js */ 41859);
/* harmony import */ var _chunks_vec22_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/vec22.js */ 88948);
/* harmony import */ var _chunks_vec33_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../chunks/vec33.js */ 93916);
/* harmony import */ var _chunks_vec43_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../chunks/vec43.js */ 57986);
/* harmony import */ var _glTF_DefaultLoadingContext_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../glTF/DefaultLoadingContext.js */ 45981);
/* harmony import */ var _glTF_loader_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../glTF/loader.js */ 38849);
/* harmony import */ var _glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../glTF/internal/indexUtils.js */ 44229);
/* harmony import */ var _glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../glTF/internal/resourceUtils.js */ 67894);
/* harmony import */ var _glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../glTF/internal/TextureTransformUtils.js */ 27548);
/* harmony import */ var _ProcessedObjectResource_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ProcessedObjectResource.js */ 16010);
/* harmony import */ var _wosrLoader_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./wosrLoader.js */ 17985);
/* harmony import */ var _webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js */ 20315);
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ 49197);
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ 2754);
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ 4674);
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../webgl-engine/lib/Texture.js */ 31825);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ 51663);
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial.js */ 36897);
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js */ 5205);
/* harmony import */ var _webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/materials/pbrUtils.js */ 58945);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/































function X(_x, _x2) {
  return _X.apply(this, arguments);
}
function _X() {
  _X = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, r) {
    const o = Y((0,_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_1__.adjustStaticAGOUrl)(t));
    if ("wosr" === o.fileType) {
      const e = yield r.cache ? r.cache.loadWOSR(o.url, r) : (0,_wosrLoader_js__WEBPACK_IMPORTED_MODULE_22__.load)(o.url, r),
        {
          engineResources: t,
          referenceBoundingBox: s
        } = (0,_wosrLoader_js__WEBPACK_IMPORTED_MODULE_22__.processLoadResult)(e, r);
      return {
        lods: t,
        referenceBoundingBox: s,
        isEsriSymbolResource: !1,
        isWosr: !0
      };
    }
    const s = yield r.cache ? r.cache.loadGLTF(o.url, r, !!r.usePBR) : (0,_glTF_loader_js__WEBPACK_IMPORTED_MODULE_17__.loadGLTF)(new _glTF_DefaultLoadingContext_js__WEBPACK_IMPORTED_MODULE_16__.DefaultLoadingContext(r.streamDataRequester), o.url, r, r.usePBR),
      i = s.model.meta?.ESRI_proxyEllipsoid,
      n = s.meta.isEsriSymbolResource && null != i && s.meta.uri.includes("/RealisticTrees/");
    n && !s.customMeta.esriTreeRendering && (s.customMeta.esriTreeRendering = !0, se(s, i));
    const l = !!r.usePBR,
      a = s.meta.isEsriSymbolResource ? {
        usePBR: l,
        isSchematic: !1,
        treeRendering: n,
        mrrFactors: [..._webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_31__.defaultEsriSymbologyMRRFactors]
      } : {
        usePBR: l,
        isSchematic: !1,
        treeRendering: !1,
        mrrFactors: [..._webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_31__.defaultAdvancedMRRFactors]
      },
      u = {
        ...r.materialParameters,
        treeRendering: n
      },
      {
        engineResources: c,
        referenceBoundingBox: m
      } = Z(s, a, u, r.skipHighLods && null == o.specifiedLodIndex ? {
        skipHighLods: !0
      } : {
        skipHighLods: !1,
        singleLodIndex: o.specifiedLodIndex
      });
    return {
      lods: c,
      referenceBoundingBox: m,
      isEsriSymbolResource: s.meta.isEsriSymbolResource,
      isWosr: !1
    };
  });
  return _X.apply(this, arguments);
}
function Y(e) {
  const t = e.match(/(.*\.(gltf|glb))(\?lod=([0-9]+))?$/);
  if (t) return {
    fileType: "gltf",
    url: t[1],
    specifiedLodIndex: null != t[4] ? Number(t[4]) : null
  };
  return e.match(/(.*\.(json|json\.gz))$/) ? {
    fileType: "wosr",
    url: e,
    specifiedLodIndex: null
  } : {
    fileType: "unknown",
    url: e,
    specifiedLodIndex: null
  };
}
function Z(e, t, r, o) {
  const s = e.model,
    i = new Array(),
    n = new Map(),
    l = new Map(),
    a = s.lods.length,
    u = (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__.empty)();
  return s.lods.forEach((e, c) => {
    const m = !0 === o.skipHighLods && (a > 1 && 0 === c || a > 3 && 1 === c) || !1 === o.skipHighLods && null != o.singleLodIndex && c !== o.singleLodIndex;
    if (m && 0 !== c) return;
    const f = new _ProcessedObjectResource_js__WEBPACK_IMPORTED_MODULE_21__.ProcessedObjectResource(e.name, e.lodThreshold, [0, 0, 0]);
    e.parts.forEach(e => {
      const o = m ? new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_29__.DefaultMaterial({}) : ee(s, e, f, t, r, n, l),
        {
          geometry: i,
          vertexCount: a
        } = te(e, null != o ? o : new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_29__.DefaultMaterial({})),
        p = i.boundingInfo;
      null != p && 0 === c && ((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__.expandWithVec3)(u, p.bbMin), (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__.expandWithVec3)(u, p.bbMax)), null != o && (f.stageResources.geometries.push(i), f.numberOfVertices += a);
    }), m || i.push(f);
  }), {
    engineResources: i,
    referenceBoundingBox: u
  };
}
function ee(e, t, r, o, s, i, n) {
  const l = t.material + (t.attributes.normal ? "_normal" : "") + (t.attributes.color ? "_color" : "") + (t.attributes.texCoord0 ? "_texCoord0" : "") + (t.attributes.tangent ? "_tangent" : ""),
    a = e.materials.get(t.material),
    u = null != t.attributes.texCoord0,
    c = null != t.attributes.normal;
  if (null == a) return null;
  const m = oe(a.alphaMode);
  if (!i.has(l)) {
    if (u) {
      const t = (t, r = !1) => {
        if (null != t && !n.has(t)) {
          const o = e.textures.get(t);
          if (null != o) {
            const e = o.data;
            n.set(t, new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_27__.Texture((0,_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__.isEncodedMeshTexture)(e) ? e.data : e, {
              ...o.parameters,
              preMultiplyAlpha: !(0,_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__.isEncodedMeshTexture)(e) && r,
              encoding: (0,_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__.isEncodedMeshTexture)(e) && null != e.encoding ? e.encoding : void 0
            }));
          }
        }
      };
      t(a.textureColor, m !== _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.AlphaDiscardMode.Opaque), t(a.textureNormal), t(a.textureOcclusion), t(a.textureEmissive), t(a.textureMetallicRoughness);
    }
    const r = a.color[0] ** (1 / _webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),
      f = a.color[1] ** (1 / _webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),
      d = a.color[2] ** (1 / _webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),
      p = a.emissiveFactor[0] ** (1 / _webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),
      g = a.emissiveFactor[1] ** (1 / _webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),
      x = a.emissiveFactor[2] ** (1 / _webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),
      b = null != a.textureColor && u ? n.get(a.textureColor) : null,
      h = (0,_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_31__.useSchematicPBR)({
        normalTexture: a.textureNormal,
        metallicRoughnessTexture: a.textureMetallicRoughness,
        metallicFactor: a.metallicFactor,
        roughnessFactor: a.roughnessFactor,
        emissiveTexture: a.textureEmissive,
        emissiveFactor: a.emissiveFactor,
        occlusionTexture: a.textureOcclusion
      });
    i.set(l, new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_29__.DefaultMaterial({
      ...o,
      transparent: m === _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.AlphaDiscardMode.Blend,
      customDepthTest: _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.DepthTestFunction.Lequal,
      textureAlphaMode: m,
      textureAlphaCutoff: a.alphaCutoff,
      diffuse: [r, f, d],
      ambient: [r, f, d],
      opacity: a.opacity,
      doubleSided: a.doubleSided,
      doubleSidedType: "winding-order",
      cullFace: a.doubleSided ? _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.CullFaceOptions.None : _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.CullFaceOptions.Back,
      hasVertexColors: !!t.attributes.color,
      hasVertexTangents: !!t.attributes.tangent,
      normalType: c ? _webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_23__.NormalType.Attribute : _webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_23__.NormalType.ScreenDerivative,
      castShadows: !0,
      textureId: null != b ? b.id : void 0,
      colorMixMode: a.colorMixMode,
      normalTextureId: null != a.textureNormal && u ? n.get(a.textureNormal).id : void 0,
      textureAlphaPremultiplied: null != b && !!b.parameters.preMultiplyAlpha,
      occlusionTextureId: null != a.textureOcclusion && u ? n.get(a.textureOcclusion).id : void 0,
      emissiveTextureId: null != a.textureEmissive && u ? n.get(a.textureEmissive).id : void 0,
      metallicRoughnessTextureId: null != a.textureMetallicRoughness && u ? n.get(a.textureMetallicRoughness).id : void 0,
      emissiveFactor: [p, g, x],
      mrrFactors: h ? [..._webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_31__.defaultSchematicMRRFactors] : [a.metallicFactor, a.roughnessFactor, o.mrrFactors[2]],
      isSchematic: h,
      colorTextureTransformMatrix: (0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__.getTransformMatrix)(a.colorTextureTransform),
      normalTextureTransformMatrix: (0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__.getTransformMatrix)(a.normalTextureTransform),
      occlusionTextureTransformMatrix: (0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__.getTransformMatrix)(a.occlusionTextureTransform),
      emissiveTextureTransformMatrix: (0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__.getTransformMatrix)(a.emissiveTextureTransform),
      metallicRoughnessTextureTransformMatrix: (0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__.getTransformMatrix)(a.metallicRoughnessTextureTransform),
      ...s
    }));
  }
  const f = i.get(l);
  if (r.stageResources.materials.push(f), u) {
    const e = e => {
      null != e && r.stageResources.textures.push(n.get(e));
    };
    e(a.textureColor), e(a.textureNormal), e(a.textureOcclusion), e(a.textureEmissive), e(a.textureMetallicRoughness);
  }
  return f;
}
function te(e, r) {
  const o = e.attributes.position.count,
    s = (0,_glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_18__.convertPrimitiveToTriangles)(e.indices || o, e.primitiveType),
    i = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_9__.newFloatArray)(3 * o),
    {
      typedBuffer: n,
      typedBufferStride: l
    } = e.attributes.position;
  (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.t)(i, n, e.transform, 3, l);
  const a = [[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__.VertexAttribute.POSITION, new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__.Attribute(i, s, 3, !0)]];
  if (null != e.attributes.normal) {
    const r = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_9__.newFloatArray)(3 * o),
      {
        typedBuffer: i,
        typedBufferStride: n
      } = e.attributes.normal;
    (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.n)(re, e.transform), (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.a)(r, i, re, 3, n), a.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__.VertexAttribute.NORMAL, new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__.Attribute(r, s, 3, !0)]);
  }
  if (null != e.attributes.tangent) {
    const r = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_9__.newFloatArray)(4 * o),
      {
        typedBuffer: i,
        typedBufferStride: n
      } = e.attributes.tangent;
    (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.n)(re, e.transform), (0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_12__.t)(r, i, re, 4, n), a.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__.VertexAttribute.TANGENT, new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__.Attribute(r, s, 4, !0)]);
  }
  if (null != e.attributes.texCoord0) {
    const t = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_9__.newFloatArray)(2 * o),
      {
        typedBuffer: r,
        typedBufferStride: i
      } = e.attributes.texCoord0;
    (0,_chunks_vec22_js__WEBPACK_IMPORTED_MODULE_13__.n)(t, r, 2, i), a.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__.VertexAttribute.UV0, new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__.Attribute(t, s, 2, !0)]);
  }
  if (null != e.attributes.color) {
    const t = new Uint8Array(4 * o);
    4 === e.attributes.color.elementCount ? e.attributes.color instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4f ? (0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_12__.s)(t, e.attributes.color, 255) : e.attributes.color instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4u8 ? (0,_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_15__.c)(t, e.attributes.color) : e.attributes.color instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4u16 && (0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_12__.s)(t, e.attributes.color, 1 / 256) : (t.fill(255), e.attributes.color instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3f ? (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.s)(t, e.attributes.color, 255, 4) : e.attributes.color instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3u8 ? (0,_chunks_vec33_js__WEBPACK_IMPORTED_MODULE_14__.c)(t, e.attributes.color.typedBuffer, 4, e.attributes.color.typedBufferStride) : e.attributes.color instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3u16 && (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.s)(t, e.attributes.color, 1 / 256, 4)), a.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__.VertexAttribute.COLOR, new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__.Attribute(t, s, 4, !0)]);
  }
  return {
    geometry: new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_26__.Geometry(r, a),
    vertexCount: o
  };
}
const re = (0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__.a)();
function oe(e) {
  switch (e) {
    case "BLEND":
      return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.AlphaDiscardMode.Blend;
    case "MASK":
      return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.AlphaDiscardMode.Mask;
    case "OPAQUE":
    case null:
    case void 0:
      return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.AlphaDiscardMode.Opaque;
  }
}
function se(e, t) {
  for (let r = 0; r < e.model.lods.length; ++r) {
    const f = e.model.lods[r];
    for (const d of f.parts) {
      const f = d.attributes.normal;
      if (null == f) return;
      const p = d.attributes.position,
        g = p.count,
        b = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),
        T = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),
        y = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),
        w = new Uint8Array(4 * g),
        R = new Float64Array(3 * g),
        v = (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.i)((0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(), d.transform);
      let j = 0,
        B = 0;
      for (let o = 0; o < g; o++) {
        p.getVec(o, T), f.getVec(o, b), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__.e)(T, T, d.transform), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__.f)(y, T, t.center), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__.B)(y, y, t.radius);
        const s = y[2],
          m = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__.l)(y),
          g = Math.min(.45 + .55 * m * m, 1);
        (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__.B)(y, y, t.radius), null !== v && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__.e)(y, y, v), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__.n)(y, y), r + 1 !== e.model.lods.length && e.model.lods.length > 1 && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__.p)(y, y, b, s > -1 ? .2 : Math.min(-4 * s - 3.8, 1)), R[j] = y[0], R[j + 1] = y[1], R[j + 2] = y[2], j += 3, w[B] = 255 * g, w[B + 1] = 255 * g, w[B + 2] = 255 * g, w[B + 3] = 255, B += 4;
      }
      d.attributes.normal = new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3f(R), d.attributes.color = new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4u8(w);
    }
  }
}


/***/ }),

/***/ 17985:
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/wosrLoader.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createTextureResources": () => (/* binding */ E),
/* harmony export */   "load": () => (/* binding */ A),
/* harmony export */   "processLoadResult": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../request.js */ 1897);
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ 11823);
/* harmony import */ var _core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/byteSizeEstimations.js */ 84625);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Error.js */ 32995);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ 28191);
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/NestedMap.js */ 22043);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_Version_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/Version.js */ 66914);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ 73327);
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ 8064);
/* harmony import */ var _support_requestImageUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../support/requestImageUtils.js */ 78987);
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ 49197);
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ 2754);
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ 4674);
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/lib/Texture.js */ 31825);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ 51663);
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial.js */ 36897);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



















const v = _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger("esri.views.3d.layers.graphics.objectResourceUtils");
function A(_x, _x2) {
  return _A.apply(this, arguments);
}
function _A() {
  _A = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, t) {
    const n = yield j(e, t),
      s = yield E(n.textureDefinitions ?? {}, t);
    let a = 0;
    for (const r in s) if (s.hasOwnProperty(r)) {
      const e = s[r];
      a += e?.image ? e.image.width * e.image.height * 4 : 0;
    }
    return {
      resource: n,
      textures: s,
      size: a + (0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateNestedObjectSize)(n)
    };
  });
  return _A.apply(this, arguments);
}
function j(_x3, _x4) {
  return _j.apply(this, arguments);
}
function _j() {
  _j = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (r, n) {
    const s = n?.streamDataRequester;
    if (s) return I(r, s, n);
    const a = yield (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.result)((0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(r, n));
    if (!0 === a.ok) return a.value.data;
    (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.throwIfAbortError)(a.error), P(a.error);
  });
  return _j.apply(this, arguments);
}
function I(_x5, _x6, _x7) {
  return _I.apply(this, arguments);
}
function _I() {
  _I = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, r, n) {
    const s = yield (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.result)(r.request(e, "json", n));
    if (!0 === s.ok) return s.value;
    (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.throwIfAbortError)(s.error), P(s.error.details.url);
  });
  return _I.apply(this, arguments);
}
function P(e) {
  throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("", `Request for object resource failed: ${e}`);
}
function M(e) {
  const t = e.params,
    r = t.topology;
  let n = !0;
  switch (t.vertexAttributes || (v.warn("Geometry must specify vertex attributes"), n = !1), t.topology) {
    case "PerAttributeArray":
      break;
    case "Indexed":
    case null:
    case void 0:
      {
        const e = t.faces;
        if (e) {
          if (t.vertexAttributes) for (const r in t.vertexAttributes) {
            const t = e[r];
            t?.values ? (null != t.valueType && "UInt32" !== t.valueType && (v.warn(`Unsupported indexed geometry indices type '${t.valueType}', only UInt32 is currently supported`), n = !1), null != t.valuesPerElement && 1 !== t.valuesPerElement && (v.warn(`Unsupported indexed geometry values per element '${t.valuesPerElement}', only 1 is currently supported`), n = !1)) : (v.warn(`Indexed geometry does not specify face indices for '${r}' attribute`), n = !1);
          }
        } else v.warn("Indexed geometries must specify faces"), n = !1;
        break;
      }
    default:
      v.warn(`Unsupported topology '${r}'`), n = !1;
  }
  e.params.material || (v.warn("Geometry requires material"), n = !1);
  const s = e.params.vertexAttributes;
  for (const a in s) {
    s[a].values || (v.warn("Geometries with externally defined attributes are not yet supported"), n = !1);
  }
  return n;
}
function T(e, t) {
  const r = new Array(),
    n = new Array(),
    s = new Array(),
    o = new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_6__.NestedMap(),
    u = e.resource,
    c = _core_Version_js__WEBPACK_IMPORTED_MODULE_8__.Version.parse(u.version || "1.0", "wosr");
  q.validate(c);
  const m = u.model.name,
    g = u.model.geometries,
    h = u.materialDefinitions ?? {},
    v = e.textures;
  let A = 0;
  const j = new Map();
  for (let a = 0; a < g.length; a++) {
    const e = g[a];
    if (!M(e)) continue;
    const i = k(e),
      u = e.params.vertexAttributes,
      c = [],
      m = t => {
        if ("PerAttributeArray" === e.params.topology) return null;
        const r = e.params.faces;
        for (const e in r) if (e === t) return r[e].values;
        return null;
      },
      I = u[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION],
      P = I.values.length / I.valuesPerElement;
    for (const t in u) {
      const e = u[t],
        r = e.values,
        n = m(t) ?? (0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_11__.getContinuousIndexArray)(P);
      c.push([t, new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_13__.Attribute(r, n, e.valuesPerElement, !0)]);
    }
    const T = i.texture,
      U = v && v[T];
    if (U && !j.has(T)) {
      const {
          image: e,
          parameters: t
        } = U,
        r = new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_16__.Texture(e, t);
      n.push(r), j.set(T, r);
    }
    const E = j.get(T),
      q = E ? E.id : void 0,
      R = i.material;
    let B = o.get(R, T);
    if (null == B) {
      const e = h[R.substring(R.lastIndexOf("/") + 1)].params;
      1 === e.transparency && (e.transparency = 0);
      const r = U && U.alphaChannelUsage,
        n = e.transparency > 0 || "transparency" === r || "maskAndTransparency" === r,
        s = U ? O(U.alphaChannelUsage) : void 0,
        a = {
          ambient: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.e)(e.diffuse),
          diffuse: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.e)(e.diffuse),
          opacity: 1 - (e.transparency || 0),
          transparent: n,
          textureAlphaMode: s,
          textureAlphaCutoff: .33,
          textureId: q,
          initTextureTransparent: !0,
          doubleSided: !0,
          cullFace: _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_14__.CullFaceOptions.None,
          colorMixMode: e.externalColorMixMode || "tint",
          textureAlphaPremultiplied: U?.parameters.preMultiplyAlpha ?? !1
        };
      t?.materialParameters && Object.assign(a, t.materialParameters), B = new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_18__.DefaultMaterial(a), o.set(R, T, B);
    }
    s.push(B);
    const C = new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_15__.Geometry(B, c);
    A += c.find(e => e[0] === _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION)?.[1]?.indices.length ?? 0, r.push(C);
  }
  return {
    engineResources: [{
      name: m,
      stageResources: {
        textures: n,
        materials: s,
        geometries: r
      },
      pivotOffset: u.model.pivotOffset,
      numberOfVertices: A,
      lodThreshold: null
    }],
    referenceBoundingBox: U(r)
  };
}
function U(e) {
  const t = (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__.empty)();
  return e.forEach(e => {
    const r = e.boundingInfo;
    null != r && ((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__.expandWithVec3)(t, r.bbMin), (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__.expandWithVec3)(t, r.bbMax));
  }), t;
}
function E(_x8, _x9) {
  return _E.apply(this, arguments);
}
function _E() {
  _E = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, t) {
    const r = new Array();
    for (const a in e) {
      const n = e[a],
        s = n.images[0].data;
      if (!s) {
        v.warn("Externally referenced texture data is not yet supported");
        continue;
      }
      const o = n.encoding + ";base64," + s,
        i = "/textureDefinitions/" + a,
        l = "rgba" === n.channels ? n.alphaChannelUsage || "transparency" : "none",
        u = {
          noUnpackFlip: !0,
          wrap: {
            s: _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureWrapMode.REPEAT,
            t: _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureWrapMode.REPEAT
          },
          preMultiplyAlpha: O(l) !== _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_14__.AlphaDiscardMode.Opaque
        },
        c = null != t && t.disableTextures ? Promise.resolve(null) : (0,_support_requestImageUtils_js__WEBPACK_IMPORTED_MODULE_12__.requestImage)(o, t);
      r.push(c.then(e => ({
        refId: i,
        image: e,
        parameters: u,
        alphaChannelUsage: l
      })));
    }
    const n = yield Promise.all(r),
      s = {};
    for (const a of n) s[a.refId] = a;
    return s;
  });
  return _E.apply(this, arguments);
}
function O(e) {
  switch (e) {
    case "mask":
      return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_14__.AlphaDiscardMode.Mask;
    case "maskAndTransparency":
      return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_14__.AlphaDiscardMode.MaskBlend;
    case "none":
      return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_14__.AlphaDiscardMode.Opaque;
    default:
      return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_14__.AlphaDiscardMode.Blend;
  }
}
function k(e) {
  const t = e.params;
  return {
    id: 1,
    material: t.material,
    texture: t.texture,
    region: t.texture
  };
}
const q = new _core_Version_js__WEBPACK_IMPORTED_MODULE_8__.Version(1, 2, "wosr");


/***/ }),

/***/ 61090:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ColorMixModeEnum": () => (/* binding */ n),
/* harmony export */   "encodeSymbolColor": () => (/* binding */ r),
/* harmony export */   "parseColorMixMode": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ 93142);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

var n;
function e(t) {
  switch (t) {
    case "multiply":
    default:
      return n.Multiply;
    case "ignore":
      return n.Ignore;
    case "replace":
      return n.Replace;
    case "tint":
      return n.Tint;
  }
}
function r(e, r, a) {
  if (null == e || r === n.Ignore) return a[0] = 255, a[1] = 255, a[2] = 255, void (a[3] = 255);
  const c = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(e[3] * i), 0, i),
    p = 0 === c || r === n.Tint ? 0 : r === n.Replace ? u : l;
  a[0] = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(e[0] * o), 0, o), a[1] = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(e[1] * o), 0, o), a[2] = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(e[2] * o), 0, o), a[3] = c + p;
}
!function (t) {
  t[t.Multiply = 1] = "Multiply", t[t.Ignore = 2] = "Ignore", t[t.Replace = 3] = "Replace", t[t.Tint = 4] = "Tint";
}(n || (n = {}));
const o = 255,
  i = 85,
  u = i,
  l = 2 * i;


/***/ }),

/***/ 67533:
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DecodeSymbolColor": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/support/symbolColorUtils.js */ 61090);
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


function e(e) {
  e.vertex.code.add(_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`
    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {
      float symbolAlpha = 0.0;

      const float maxTint = 85.0;
      const float maxReplace = 170.0;
      const float scaleAlpha = 3.0;

      if (symbolColor.a > maxReplace) {
        colorMixMode = ${_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Multiply)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);
      } else if (symbolColor.a > maxTint) {
        colorMixMode = ${_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Replace)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);
      } else if (symbolColor.a > 0.0) {
        colorMixMode = ${_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Tint)};
        symbolAlpha = scaleAlpha * symbolColor.a;
      } else {
        colorMixMode = ${_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Multiply)};
        symbolAlpha = 0.0;
      }

      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);
    }
  `);
}


/***/ }),

/***/ 88026:
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Offset": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function e(e) {
  e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl`vec4 offsetBackfacingClipPosition(vec4 posClip, vec3 posWorld, vec3 normalWorld, vec3 camPosWorld) {
vec3 camToVert = posWorld - camPosWorld;
bool isBackface = dot(camToVert, normalWorld) > 0.0;
if (isBackface) {
posClip.z += 0.0000003 * posClip.w;
}
return posClip;
}`);
}


/***/ }),

/***/ 72457:
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SymbolColor": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _collections_Component_Material_shader_DecodeSymbolColor_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../collections/Component/Material/shader/DecodeSymbolColor.glsl.js */ 67533);
/* harmony import */ var _shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/IntegerPassUniform.js */ 29402);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/VertexAttribute.js */ 51663);
/* harmony import */ var _materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../materials/internal/MaterialUtil.js */ 87578);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





function i(i, t) {
  t.hasSymbolColors ? (i.include(_collections_Component_Material_shader_DecodeSymbolColor_glsl_js__WEBPACK_IMPORTED_MODULE_0__.DecodeSymbolColor), i.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.SYMBOLCOLOR, "vec4"), i.varyings.add("colorMixMode", "mediump float"), i.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl`int symbolColorMixMode;
vec4 getSymbolColor() {
return decodeSymbolColor(symbolColor, symbolColorMixMode) * 0.003921568627451;
}
void forwardColorMixMode() {
colorMixMode = float(symbolColorMixMode) + 0.5;
}`)) : (i.fragment.uniforms.add(new _shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.IntegerPassUniform("colorMixMode", o => _materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_4__.colorMixModes[o.colorMixMode])), i.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl`vec4 getSymbolColor() { return vec4(1.0); }
void forwardColorMixMode() {}`));
}


/***/ }),

/***/ 91452:
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DefaultMaterialAuxiliaryPasses": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ForwardLinearDepth.glsl.js */ 74891);
/* harmony import */ var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ShaderOutput.js */ 26573);
/* harmony import */ var _Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Slice.glsl.js */ 56877);
/* harmony import */ var _Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Transform.glsl.js */ 2847);
/* harmony import */ var _attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../attributes/NormalAttribute.glsl.js */ 20315);
/* harmony import */ var _attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../attributes/ObjectAndLayerIdColor.glsl.js */ 19307);
/* harmony import */ var _attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../attributes/TextureCoordinateAttribute.glsl.js */ 49549);
/* harmony import */ var _attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../attributes/VertexNormal.glsl.js */ 16568);
/* harmony import */ var _output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../output/OutputDepth.glsl.js */ 78991);
/* harmony import */ var _output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../output/OutputHighlight.glsl.js */ 43386);
/* harmony import */ var _shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../shading/VisualVariables.glsl.js */ 44147);
/* harmony import */ var _util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../util/AlphaDiscard.glsl.js */ 98895);
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../util/View.glsl.js */ 19349);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ 94391);
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../lib/basicInterfaces.js */ 2754);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
















function h(h, x) {
  const {
      vertex: j,
      fragment: O
    } = h,
    w = x.hasColorTexture && x.alphaDiscardMode !== _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_15__.AlphaDiscardMode.Opaque;
  switch (x.output) {
    case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth:
    case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Shadow:
    case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ShadowHighlight:
    case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ShadowExcludeHighlight:
    case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor:
      (0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_12__.addProjViewLocalOrigin)(j, x), h.include(_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform, x), h.include(_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__.TextureCoordinateAttribute, x), h.include(_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_10__.VisualVariables, x), h.include(_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_8__.OutputDepth, x), h.include(_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw, x), h.include(_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_5__.ObjectAndLayerIdColor, x), (0,_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addNearFar)(h), h.varyings.add("depth", "float"), w && O.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Texture2DPassUniform("tex", o => o.texture)), j.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`void main(void) {
vpos = getVertexInLocalOriginSpace();
vpos = subtractOrigin(vpos);
vpos = addVerticalOffset(vpos, localOrigin);
gl_Position = transformPositionWithDepth(proj, view, vpos, nearFar, depth);
forwardTextureCoordinates();
forwardObjectAndLayerIdColor();
}`), h.include(_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_11__.DiscardOrAdjustAlphaPass, x), O.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`
          void main(void) {
            discardBySlice(vpos);
            ${w ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`
                    vec4 texColor = texture(tex, ${x.hasColorTextureTransform ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`colorUV` : _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`vuv0`});
                    discardOrAdjustAlpha(texColor);` : ""}
            ${x.output === _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`outputObjectAndLayerIdColor();` : _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`outputDepth(depth);`}
          }
        `);
      break;
    case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Normal:
      {
        (0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_12__.addProjViewLocalOrigin)(j, x), h.include(_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform, x), h.include(_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_4__.NormalAttribute, x), h.include(_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_7__.VertexNormal, x), h.include(_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__.TextureCoordinateAttribute, x), h.include(_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_10__.VisualVariables, x), w && O.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Texture2DPassUniform("tex", o => o.texture)), x.normalType === _attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_4__.NormalType.ScreenDerivative && h.varyings.add("vPositionView", "vec3");
        const o = x.normalType === _attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_4__.NormalType.Attribute || x.normalType === _attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_4__.NormalType.Compressed;
        j.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`
          void main(void) {
            vpos = getVertexInLocalOriginSpace();

            ${o ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));` : _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`
                  // Get vertex position in camera space for screen-space derivative normals
                  vPositionView = (view * vec4(vpos, 1.0)).xyz;
                `}
            vpos = subtractOrigin(vpos);
            vpos = addVerticalOffset(vpos, localOrigin);
            gl_Position = transformPosition(proj, view, vpos);
            forwardTextureCoordinates();
          }
        `), h.include(_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw, x), h.include(_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_11__.DiscardOrAdjustAlphaPass, x), O.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`
          void main() {
            discardBySlice(vpos);
            ${w ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`
                    vec4 texColor = texture(tex, ${x.hasColorTextureTransform ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`colorUV` : _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`vuv0`});
                    discardOrAdjustAlpha(texColor);` : ""}

            ${x.normalType === _attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_4__.NormalType.ScreenDerivative ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`vec3 normal = screenDerivativeNormal(vPositionView);` : _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`
                  vec3 normal = normalize(vNormalWorld);
                  if (gl_FrontFacing == false){
                    normal = -normal;
                  }`}
            fragColor = vec4(0.5 + 0.5 * normal, 1.0);
          }
        `);
        break;
      }
    case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight:
      (0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_12__.addProjViewLocalOrigin)(j, x), h.include(_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform, x), h.include(_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__.TextureCoordinateAttribute, x), h.include(_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_10__.VisualVariables, x), w && O.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Texture2DPassUniform("tex", o => o.texture)), j.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`void main(void) {
vpos = getVertexInLocalOriginSpace();
vpos = subtractOrigin(vpos);
vpos = addVerticalOffset(vpos, localOrigin);
gl_Position = transformPosition(proj, view, vpos);
forwardTextureCoordinates();
}`), h.include(_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw, x), h.include(_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_11__.DiscardOrAdjustAlphaPass, x), h.include(_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_9__.OutputHighlight, x), O.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`
          void main() {
            discardBySlice(vpos);
            ${w ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`
                    vec4 texColor = texture(tex, ${x.hasColorTextureTransform ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`colorUV` : _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl`vuv0`});
                    discardOrAdjustAlpha(texColor);` : ""}
            outputHighlight();
          }
        `);
  }
}


/***/ }),

/***/ 21187:
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ComputeNormalTexture": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../attributes/TextureCoordinateAttribute.glsl.js */ 49549);
/* harmony import */ var _attributes_VertexTextureCoordinates_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributes/VertexTextureCoordinates.glsl.js */ 43193);
/* harmony import */ var _Normals_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Normals.glsl.js */ 5395);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/Texture2DDrawUniform.js */ 89548);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ 94391);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shaderTechnique/BindType.js */ 30428);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








function m(m, c) {
  const i = m.fragment;
  c.hasVertexTangents ? (m.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.TANGENT, "vec4"), m.varyings.add("vTangent", "vec4"), c.doubleSidedMode === _Normals_glsl_js__WEBPACK_IMPORTED_MODULE_2__.NormalsDoubleSidedMode.WindingOrder ? i.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`mat3 computeTangentSpace(vec3 normal) {
float tangentHeadedness = gl_FrontFacing ? vTangent.w : -vTangent.w;
vec3 tangent = normalize(gl_FrontFacing ? vTangent.xyz : -vTangent.xyz);
vec3 bitangent = cross(normal, tangent) * tangentHeadedness;
return mat3(tangent, bitangent, normal);
}`) : i.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`mat3 computeTangentSpace(vec3 normal) {
float tangentHeadedness = vTangent.w;
vec3 tangent = normalize(vTangent.xyz);
vec3 bitangent = cross(normal, tangent) * tangentHeadedness;
return mat3(tangent, bitangent, normal);
}`)) : i.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`mat3 computeTangentSpace(vec3 normal, vec3 pos, vec2 st) {
vec3 Q1 = dFdx(pos);
vec3 Q2 = dFdy(pos);
vec2 stx = dFdx(st);
vec2 sty = dFdy(st);
float det = stx.t * sty.s - sty.t * stx.s;
vec3 T = stx.t * Q2 - sty.t * Q1;
T = T - normal * dot(normal, T);
T *= inversesqrt(max(dot(T,T), 1.e-10));
vec3 B = sign(det) * cross(normal, T);
return mat3(T, B, normal);
}`), c.textureCoordinateType !== _attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_0__.TextureCoordinateAttributeType.None && (m.include(_attributes_VertexTextureCoordinates_glsl_js__WEBPACK_IMPORTED_MODULE_1__.VertexTextureCoordinates, c), i.uniforms.add(c.pbrTextureBindType === _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__.BindType.Pass ? new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("normalTexture", e => e.textureNormal) : new _shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_4__.Texture2DDrawUniform("normalTexture", e => e.textureNormal)), i.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`vec3 computeTextureNormal(mat3 tangentSpace, vec2 uv) {
vec3 rawNormal = textureLookup(normalTexture, uv).rgb * 2.0 - 1.0;
return tangentSpace * rawNormal;
}`));
}


/***/ }),

/***/ 91941:
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EvaluateAmbientOcclusion": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ 94391);
/* harmony import */ var _effects_ssao_SSAO_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../effects/ssao/SSAO.js */ 11175);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



function t(t, o) {
  const a = t.fragment;
  o.receiveAmbientOcclusion ? (a.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Texture2DPassUniform("ssaoTex", (e, s) => s.ssao?.colorTexture)), a.constants.add("blurSizePixelsInverse", "float", 1 / _effects_ssao_SSAO_js__WEBPACK_IMPORTED_MODULE_2__.blurSizePixels), a.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl`float evaluateAmbientOcclusionInverse() {
vec2 ssaoTextureSizeInverse = 1.0 / vec2(textureSize(ssaoTex, 0));
return texture(ssaoTex, gl_FragCoord.xy * blurSizePixelsInverse * ssaoTextureSizeInverse).r;
}
float evaluateAmbientOcclusion() {
return 1.0 - evaluateAmbientOcclusionInverse();
}`)) : a.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl`float evaluateAmbientOcclusionInverse() { return 1.0; }
float evaluateAmbientOcclusion() { return 0.0; }`);
}


/***/ }),

/***/ 63079:
/*!******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EvaluateSceneLighting": () => (/* binding */ p),
/* harmony export */   "addAmbientBoostFactor": () => (/* binding */ u),
/* harmony export */   "addLightingGlobalFactor": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/compilerUtils.js */ 31385);
/* harmony import */ var _EvaluateAmbientLighting_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EvaluateAmbientLighting.glsl.js */ 45334);
/* harmony import */ var _EvaluateAmbientOcclusion_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EvaluateAmbientOcclusion.glsl.js */ 91941);
/* harmony import */ var _MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MainLighting.glsl.js */ 98805);
/* harmony import */ var _PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PhysicallyBasedRendering.glsl.js */ 58870);
/* harmony import */ var _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PhysicallyBasedRenderingParameters.glsl.js */ 85950);
/* harmony import */ var _PiUtils_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PiUtils.glsl.js */ 23329);
/* harmony import */ var _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shaderModules/BooleanPassUniform.js */ 59464);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../lighting/SceneLighting.js */ 18642);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/











function u(i) {
  i.constants.add("ambientBoostFactor", "float", _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_10__.ambientBoost);
}
function h(i) {
  i.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("lightingGlobalFactor", (i, n) => n.lighting.globalFactor));
}
function p(g, p) {
  const v = g.fragment;
  switch (g.include(_EvaluateAmbientOcclusion_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EvaluateAmbientOcclusion, p), p.pbrMode !== _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.Disabled && g.include(_PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_4__.PhysicallyBasedRendering, p), g.include(_EvaluateAmbientLighting_glsl_js__WEBPACK_IMPORTED_MODULE_1__.EvaluateAmbientLighting, p), g.include(_PiUtils_glsl_js__WEBPACK_IMPORTED_MODULE_6__.PiUtils), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`
    const float GAMMA_SRGB = 2.1;
    const float INV_GAMMA_SRGB = 0.4761904;
    ${p.pbrMode === _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.Disabled ? "" : "const vec3 GROUND_REFLECTANCE = vec3(0.2);"}
  `), u(v), h(v), (0,_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_3__.addMainLightDirection)(v), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`
    float additionalDirectedAmbientLight(vec3 vPosWorld) {
      float vndl = dot(${p.spherical ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`normalize(vPosWorld)` : _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec3(0.0, 0.0, 1.0)`}, mainLightDirection);
      return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));
    }
  `), (0,_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_3__.addMainLightIntensity)(v), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec3 evaluateAdditionalLighting(float ambientOcclusion, vec3 vPosWorld) {
float additionalAmbientScale = additionalDirectedAmbientLight(vPosWorld);
return (1.0 - ambientOcclusion) * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor * mainLightIntensity;
}`), p.pbrMode) {
    case _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.Disabled:
    case _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.WaterOnIntegratedMesh:
    case _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.Water:
      g.include(_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_3__.MainLighting), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec3 evaluateSceneLighting(vec3 normalWorld, vec3 albedo, float shadow, float ssao, vec3 additionalLight)
{
vec3 mainLighting = evaluateMainLighting(normalWorld, shadow);
vec3 ambientLighting = calculateAmbientIrradiance(normalWorld, ssao);
vec3 albedoLinear = pow(albedo, vec3(GAMMA_SRGB));
vec3 totalLight = mainLighting + ambientLighting + additionalLight;
totalLight = min(totalLight, vec3(PI));
vec3 outColor = vec3((albedoLinear / PI) * totalLight);
return pow(outColor, vec3(INV_GAMMA_SRGB));
}`);
      break;
    case _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.Normal:
    case _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.Schematic:
      v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`const float fillLightIntensity = 0.25;
const float horizonLightDiffusion = 0.4;
const float additionalAmbientIrradianceFactor = 0.02;
vec3 evaluateSceneLightingPBR(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight, vec3 viewDir, vec3 normalGround, vec3 mrr, vec3 _emission, float additionalAmbientIrradiance)
{
vec3 viewDirection = -viewDir;
vec3 h = normalize(viewDirection + mainLightDirection);
PBRShadingInfo inputs;
inputs.NdotL = clamp(dot(normal, mainLightDirection), 0.001, 1.0);
inputs.NdotV = clamp(abs(dot(normal, viewDirection)), 0.001, 1.0);
inputs.NdotH = clamp(dot(normal, h), 0.0, 1.0);
inputs.VdotH = clamp(dot(viewDirection, h), 0.0, 1.0);
inputs.NdotNG = clamp(dot(normal, normalGround), -1.0, 1.0);
vec3 reflectedView = normalize(reflect(viewDirection, normal));
inputs.RdotNG = clamp(dot(reflectedView, normalGround), -1.0, 1.0);
inputs.albedoLinear = pow(albedo, vec3(GAMMA_SRGB));
inputs.ssao = ssao;
inputs.metalness = mrr[0];
inputs.roughness = clamp(mrr[1] * mrr[1], 0.001, 0.99);`), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`inputs.f0 = (0.16 * mrr[2] * mrr[2]) * (1.0 - inputs.metalness) + inputs.albedoLinear * inputs.metalness;
inputs.f90 = vec3(clamp(dot(inputs.f0, vec3(50.0 * 0.33)), 0.0, 1.0));
inputs.diffuseColor = inputs.albedoLinear * (vec3(1.0) - inputs.f0) * (1.0 - inputs.metalness);`), p.useFillLights ? v.uniforms.add(new _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.BooleanPassUniform("hasFillLights", (i, n) => n.enableFillLights)) : v.constants.add("hasFillLights", "bool", !1), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec3 ambientDir = vec3(5.0 * normalGround[1] - normalGround[0] * normalGround[2], - 5.0 * normalGround[0] - normalGround[2] * normalGround[1], normalGround[1] * normalGround[1] + normalGround[0] * normalGround[0]);
ambientDir = ambientDir != vec3(0.0) ? normalize(ambientDir) : normalize(vec3(5.0, -1.0, 0.0));
inputs.NdotAmbDir = hasFillLights ? abs(dot(normal, ambientDir)) : 1.0;
vec3 mainLightIrradianceComponent = inputs.NdotL * (1.0 - shadow) * mainLightIntensity;
vec3 fillLightsIrradianceComponent = inputs.NdotAmbDir * mainLightIntensity * fillLightIntensity;
vec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(normal, ssao) + additionalLight;
inputs.skyIrradianceToSurface = ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;
inputs.groundIrradianceToSurface = GROUND_REFLECTANCE * ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;`), v.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("lightingSpecularStrength", (i, n) => n.lighting.mainLight.specularStrength), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("lightingEnvironmentStrength", (i, n) => n.lighting.mainLight.environmentStrength)), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec3 horizonRingDir = inputs.RdotNG * normalGround - reflectedView;
vec3 horizonRingH = normalize(viewDirection + horizonRingDir);
inputs.NdotH_Horizon = dot(normal, horizonRingH);
vec3 mainLightRadianceComponent = lightingSpecularStrength * normalDistribution(inputs.NdotH, inputs.roughness) * mainLightIntensity * (1.0 - shadow);
vec3 horizonLightRadianceComponent = lightingEnvironmentStrength * normalDistribution(inputs.NdotH_Horizon, min(inputs.roughness + horizonLightDiffusion, 1.0)) * mainLightIntensity * fillLightIntensity;
vec3 ambientLightRadianceComponent = lightingEnvironmentStrength * calculateAmbientRadiance(ssao) + additionalLight;
float normalDirectionModifier = mix(1., min(mix(0.1, 2.0, (inputs.NdotNG + 1.) * 0.5), 1.0), clamp(inputs.roughness * 5.0, 0.0 , 1.0));
inputs.skyRadianceToSurface = (ambientLightRadianceComponent + horizonLightRadianceComponent) * normalDirectionModifier + mainLightRadianceComponent;
inputs.groundRadianceToSurface = 0.5 * GROUND_REFLECTANCE * (ambientLightRadianceComponent + horizonLightRadianceComponent) * normalDirectionModifier + mainLightRadianceComponent;
inputs.averageAmbientRadiance = ambientLightIrradianceComponent[1] * (1.0 + GROUND_REFLECTANCE[1]);`), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`
        vec3 reflectedColorComponent = evaluateEnvironmentIllumination(inputs);
        vec3 additionalMaterialReflectanceComponent = inputs.albedoLinear * additionalAmbientIrradiance;
        vec3 emissionComponent = _emission == vec3(0.0) ? _emission : pow(_emission, vec3(GAMMA_SRGB));
        vec3 outColorLinear = reflectedColorComponent + additionalMaterialReflectanceComponent + emissionComponent;
        ${p.pbrMode !== _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.Schematic || p.hasColorTexture ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec3 outColor = pow(blackLevelSoftCompression(outColorLinear, inputs), vec3(INV_GAMMA_SRGB));` : _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec3 outColor = pow(max(vec3(0.0), outColorLinear - 0.005 * inputs.averageAmbientRadiance), vec3(INV_GAMMA_SRGB));`}
        return outColor;
      }
    `);
      break;
    case _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.Terrain:
    case _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.TerrainWithWater:
      g.include(_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_3__.MainLighting), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`const float roughnessTerrain = 0.5;
const float specularityTerrain = 0.5;
const vec3 fresnelReflectionTerrain = vec3(0.04);
vec3 evaluateTerrainLighting(vec3 n, vec3 c, float shadow, float ssao, vec3 al, vec3 vd, vec3 nup) {
vec3 viewDirection = -vd;
vec3 h = normalize(viewDirection + mainLightDirection);
float NdotL = clamp(dot(n, mainLightDirection), 0.001, 1.0);
float NdotV = clamp(abs(dot(n, viewDirection)), 0.001, 1.0);
float NdotH = clamp(dot(n, h), 0.0, 1.0);
float NdotNG = clamp(dot(n, nup), -1.0, 1.0);
vec3 albedoLinear = pow(c, vec3(GAMMA_SRGB));
float lightness = 0.3 * albedoLinear[0] + 0.5 * albedoLinear[1] + 0.2 * albedoLinear[2];
vec3 f0 = (0.85 * lightness + 0.15) * fresnelReflectionTerrain;
vec3 f90 =  vec3(clamp(dot(f0, vec3(50.0 * 0.33)), 0.0, 1.0));
vec3 mainLightIrradianceComponent = (1. - shadow) * NdotL * mainLightIntensity;
vec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(n, ssao) + al;
vec3 ambientSky = ambientLightIrradianceComponent + mainLightIrradianceComponent;
vec3 indirectDiffuse = ((1.0 - NdotNG) * mainLightIrradianceComponent + (1.0 + NdotNG ) * ambientSky) * 0.5;
vec3 outDiffColor = albedoLinear * (1.0 - f0) * indirectDiffuse / PI;
vec3 mainLightRadianceComponent = normalDistribution(NdotH, roughnessTerrain) * mainLightIntensity;
vec2 dfg = prefilteredDFGAnalytical(roughnessTerrain, NdotV);
vec3 specularColor = f0 * dfg.x + f90 * dfg.y;
vec3 specularComponent = specularityTerrain * specularColor * mainLightRadianceComponent;
vec3 outColorLinear = outDiffColor + specularComponent;
vec3 outColor = pow(outColorLinear, vec3(INV_GAMMA_SRGB));
return outColor;
}`);
      break;
    default:
      (0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.neverReached)(p.pbrMode);
    case _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.COUNT:
  }
}


/***/ }),

/***/ 5395:
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Normals": () => (/* binding */ e),
/* harmony export */   "NormalsDoubleSidedMode": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/compilerUtils.js */ 31385);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


function e(e, o) {
  const n = e.fragment;
  switch (n.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`struct ShadingNormalParameters {
vec3 normalView;
vec3 viewDirection;
} shadingParams;`), o.doubleSidedMode) {
    case i.None:
      n.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`vec3 shadingNormal(ShadingNormalParameters params) {
return normalize(params.normalView);
}`);
      break;
    case i.View:
      n.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`vec3 shadingNormal(ShadingNormalParameters params) {
return dot(params.normalView, params.viewDirection) > 0.0 ? normalize(-params.normalView) : normalize(params.normalView);
}`);
      break;
    case i.WindingOrder:
      n.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`vec3 shadingNormal(ShadingNormalParameters params) {
return gl_FrontFacing ? normalize(params.normalView) : normalize(-params.normalView);
}`);
      break;
    default:
      (0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.neverReached)(o.doubleSidedMode);
    case i.COUNT:
  }
}
var i;
!function (a) {
  a[a.None = 0] = "None", a[a.View = 1] = "View", a[a.WindingOrder = 2] = "WindingOrder", a[a.COUNT = 3] = "COUNT";
}(i || (i = {}));


/***/ }),

/***/ 77679:
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TextureTransformUV.glsl.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "colorTextureUV": () => (/* binding */ a),
/* harmony export */   "emissiveTextureUV": () => (/* binding */ i),
/* harmony export */   "metallicRoughnessTextureUV": () => (/* binding */ t),
/* harmony export */   "normalTextureUV": () => (/* binding */ s),
/* harmony export */   "occlusionTextureUV": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/mat3f32.js */ 40334);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/Matrix3PassUniform.js */ 43790);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



function a(a) {
  a.vertex.uniforms.add(new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Matrix3PassUniform("colorTextureTransformMatrix", e => null != e.colorTextureTransformMatrix ? e.colorTextureTransformMatrix : (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)())), a.varyings.add("colorUV", "vec2"), a.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`void forwardColorUV(){
colorUV = (colorTextureTransformMatrix * vec3(vuv0, 1.0)).xy;
}`);
}
function s(a) {
  a.vertex.uniforms.add(new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Matrix3PassUniform("normalTextureTransformMatrix", e => null != e.normalTextureTransformMatrix ? e.normalTextureTransformMatrix : (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)())), a.varyings.add("normalUV", "vec2"), a.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`void forwardNormalUV(){
normalUV = (normalTextureTransformMatrix * vec3(vuv0, 1.0)).xy;
}`);
}
function i(a) {
  a.vertex.uniforms.add(new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Matrix3PassUniform("emissiveTextureTransformMatrix", e => null != e.emissiveTextureTransformMatrix ? e.emissiveTextureTransformMatrix : (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)())), a.varyings.add("emissiveUV", "vec2"), a.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`void forwardEmissiveUV(){
emissiveUV = (emissiveTextureTransformMatrix * vec3(vuv0, 1.0)).xy;
}`);
}
function n(a) {
  a.vertex.uniforms.add(new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Matrix3PassUniform("occlusionTextureTransformMatrix", e => null != e.occlusionTextureTransformMatrix ? e.occlusionTextureTransformMatrix : (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)())), a.varyings.add("occlusionUV", "vec2"), a.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`void forwardOcclusionUV(){
occlusionUV = (occlusionTextureTransformMatrix * vec3(vuv0, 1.0)).xy;
}`);
}
function t(a) {
  a.vertex.uniforms.add(new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Matrix3PassUniform("metallicRoughnessTextureTransformMatrix", e => null != e.metallicRoughnessTextureTransformMatrix ? e.metallicRoughnessTextureTransformMatrix : (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)())), a.varyings.add("metallicRoughnessUV", "vec2"), a.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`void forwardMetallicRoughnessUV(){
metallicRoughnessUV = (metallicRoughnessTextureTransformMatrix * vec3(vuv0, 1.0)).xy;
}`);
}


/***/ }),

/***/ 98895:
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DiscardOrAdjustAlphaDraw": () => (/* binding */ t),
/* harmony export */   "DiscardOrAdjustAlphaPass": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _DiscardOrAdjustAlphaBlend_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DiscardOrAdjustAlphaBlend.glsl.js */ 81228);
/* harmony import */ var _shaderModules_FloatDrawUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/FloatDrawUniform.js */ 97857);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/basicInterfaces.js */ 2754);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





function s(a, e) {
  l(a, e, new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("textureAlphaCutoff", a => a.textureAlphaCutoff));
}
function t(a, r) {
  l(a, r, new _shaderModules_FloatDrawUniform_js__WEBPACK_IMPORTED_MODULE_1__.FloatDrawUniform("textureAlphaCutoff", a => a.textureAlphaCutoff));
}
function l(e, r, s) {
  const t = e.fragment;
  switch (r.alphaDiscardMode !== _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.AlphaDiscardMode.Mask && r.alphaDiscardMode !== _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.AlphaDiscardMode.MaskBlend || t.uniforms.add(s), r.alphaDiscardMode) {
    case _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.AlphaDiscardMode.Blend:
      return e.include(_DiscardOrAdjustAlphaBlend_glsl_js__WEBPACK_IMPORTED_MODULE_0__.DiscardOrAdjustAlphaBlend);
    case _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.AlphaDiscardMode.Opaque:
      t.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`void discardOrAdjustAlpha(inout vec4 color) {
color.a = 1.0;
}`);
      break;
    case _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.AlphaDiscardMode.Mask:
      t.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } else { color.a = 1.0; } }`);
      break;
    case _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.AlphaDiscardMode.MaskBlend:
      e.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } }`);
  }
}


/***/ }),

/***/ 81228:
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlphaBlend.glsl.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DiscardOrAdjustAlphaBlend": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlphaCutoff.js */ 63855);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


function d(d) {
  d.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`
    #define discardOrAdjustAlpha(color) { if (color.a < ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.float(_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_0__.symbolAlphaCutoff)}) { discard; } }
  `);
}


/***/ }),

/***/ 33122:
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MixExternalColor": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../layers/support/symbolColorUtils.js */ 61090);
/* harmony import */ var _ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ColorConversion.glsl.js */ 54983);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



function i(i) {
  i.include(_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_1__.ColorConversion), i.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl`
    vec3 mixExternalColor(vec3 internalColor, vec3 textureColor, vec3 externalColor, int mode) {
      // workaround for artifacts in OSX using Intel Iris Pro
      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475
      vec3 internalMixed = internalColor * textureColor;
      vec3 allMixed = internalMixed * externalColor;

      if (mode == ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Multiply)}) {
        return allMixed;
      }
      if (mode == ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Ignore)}) {
        return internalMixed;
      }
      if (mode == ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Replace)}) {
        return externalColor;
      }

      // tint (or something invalid)
      float vIn = rgb2v(internalMixed);
      vec3 hsvTint = rgb2hsv(externalColor);
      vec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);
      return hsv2rgb(hsvOut);
    }

    float mixExternalOpacity(float internalOpacity, float textureOpacity, float externalOpacity, int mode) {
      // workaround for artifacts in OSX using Intel Iris Pro
      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475
      float internalMixed = internalOpacity * textureOpacity;
      float allMixed = internalMixed * externalOpacity;

      if (mode == ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Ignore)}) {
        return internalMixed;
      }
      if (mode == ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Replace)}) {
        return externalOpacity;
      }

      // multiply or tint (or something invalid)
      return allMixed;
    }
  `);
}


/***/ }),

/***/ 85634:
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Float2DrawUniform": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Uniform.js */ 21160);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderTechnique/BindType.js */ 30428);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class o extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.Uniform {
  constructor(r, o) {
    super(r, "vec2", _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.BindType.Draw, (e, s, t, i) => e.setUniform2fv(r, o(s, t, i)));
  }
}


/***/ }),

/***/ 97857:
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatDrawUniform.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FloatDrawUniform": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Uniform.js */ 21160);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderTechnique/BindType.js */ 30428);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.Uniform {
  constructor(r, e) {
    super(r, "float", _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.BindType.Draw, (o, s, t) => o.setUniform1f(r, e(s, t)));
  }
}


/***/ }),

/***/ 11175:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAO.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SSAO": () => (/* binding */ y),
/* harmony export */   "blurSizePixels": () => (/* binding */ R)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/maybe.js */ 53661);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/time.js */ 69354);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../chunks/vec2.js */ 80775);
/* harmony import */ var _core_FBOCache_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/FBOCache.js */ 32245);
/* harmony import */ var _RenderPlugin_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../RenderPlugin.js */ 44122);
/* harmony import */ var _SSAOBlurTechnique_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./SSAOBlurTechnique.js */ 93559);
/* harmony import */ var _SSAONoiseData_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./SSAONoiseData.js */ 85382);
/* harmony import */ var _SSAOParameters_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./SSAOParameters.js */ 83784);
/* harmony import */ var _SSAOTechnique_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./SSAOTechnique.js */ 54181);
/* harmony import */ var _lib_RenderFeature_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../lib/RenderFeature.js */ 32855);
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../lib/RenderSlot.js */ 66176);
/* harmony import */ var _chunks_SSAO_glsl_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../chunks/SSAO.glsl.js */ 30265);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






















const R = 2;
let y = class extends _RenderPlugin_js__WEBPACK_IMPORTED_MODULE_11__.SyncRenderPlugin {
  constructor(e) {
    super(e), this._context = null, this._passParameters = new _SSAOParameters_js__WEBPACK_IMPORTED_MODULE_14__.SSAOPassParameters(), this._drawParameters = new _SSAOParameters_js__WEBPACK_IMPORTED_MODULE_14__.BlurDrawParameters(), this.produces = new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_17__.RenderSlot.SSAO, () => this._produces()]]);
  }
  _produces() {
    return null != this._enableTime && null != this._context;
  }
  consumes() {
    return this._produces() ? _RenderPlugin_js__WEBPACK_IMPORTED_MODULE_11__.ConsumesDepthNormal : _RenderPlugin_js__WEBPACK_IMPORTED_MODULE_11__.ConsumesNone;
  }
  initializeRenderContext(e) {
    this._context = e, this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)(() => this.view.qualitySettings.ambientOcclusion || this._context?.isFeatureEnabled(_lib_RenderFeature_js__WEBPACK_IMPORTED_MODULE_16__.RenderFeature.SSAO), e => e ? this._enable() : this._disable(), _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.syncAndInitial)]);
  }
  uninitializeRenderContext() {
    this._disable(), this._context = null;
  }
  _disable() {
    this._passParameters.noiseTexture = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._passParameters.noiseTexture), this._enableTime = null;
  }
  destroy() {
    this._disable();
  }
  _enable() {
    if (null != this._enableTime || !this._context) return;
    const e = Uint8Array.from(atob(_SSAONoiseData_js__WEBPACK_IMPORTED_MODULE_13__.noiseData), e => e.charCodeAt(0)),
      t = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_21__.TextureDescriptor();
    t.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureWrapMode.CLAMP_TO_EDGE, t.pixelFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.PixelFormat.RGB, t.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureWrapMode.REPEAT, t.hasMipmap = !0, t.width = 32, t.height = 32, this._passParameters.noiseTexture = new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_20__.Texture(this._context.renderContext.rctx, t, e), null == this._ssaoTechnique && (this._ssaoTechnique = this._context.techniqueRepository.acquire(_SSAOTechnique_js__WEBPACK_IMPORTED_MODULE_15__.SSAOTechnique)), null == this._blurTechnique && (this._blurTechnique = this._context.techniqueRepository.acquire(_SSAOBlurTechnique_js__WEBPACK_IMPORTED_MODULE_12__.SSAOBlurTechnique)), this._enableTime = (0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.Milliseconds)(0), this._context?.requestRender();
  }
  renderNode(e, t, r) {
    const s = e.bindParameters,
      i = s.linearDepth?.colorTexture,
      o = r?.normal?.colorTexture;
    if (null == this._enableTime || null == this._context || null == i || !o) return;
    if (!this._ssaoTechnique.compiled || !this._blurTechnique.compiled) return this._enableTime = e.time, void this._context.requestRender();
    0 === this._enableTime && (this._enableTime = e.time);
    const a = e.rctx,
      m = s.camera,
      u = this.view.qualitySettings.fadeDuration,
      l = u > 0 ? Math.min(u, e.time - this._enableTime) / u : 1;
    this._passParameters.normalTexture = o, this._passParameters.depthTexture = i, this._passParameters.projScale = 1 / m.computeScreenPixelSizeAtDist(1), this._passParameters.intensity = 4 * O / (0,_chunks_SSAO_glsl_js__WEBPACK_IMPORTED_MODULE_18__.g)(m) ** 6 * l;
    const h = m.fullViewport[2],
      p = m.fullViewport[3],
      _ = Math.round(h / R),
      d = Math.round(p / R),
      b = this._context.fbos,
      f = b.acquire(_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_10__.ColorFormat.RED, h, p);
    a.bindFramebuffer(f.fbo), a.setViewport(0, 0, h, p);
    a.bindTechnique(this._ssaoTechnique, this._passParameters, s).bindDraw(this._drawParameters, s, this._passParameters), a.screen.draw();
    const w = a.bindTechnique(this._blurTechnique, this._passParameters, s);
    a.setViewport(0, 0, _, d);
    const x = b.acquire(_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_10__.ColorFormat.RED, _, d);
    a.bindFramebuffer(x.fbo), this._drawParameters.colorTexture = f.colorTexture, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_9__.s)(this._drawParameters.blurSize, 0, R / p), w.bindDraw(this._drawParameters, s, this._passParameters), a.setViewport(0, 0, _, d), a.screen.draw(), f.release();
    const P = b.acquire(_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_10__.ColorFormat.RED, _, d);
    return a.bindFramebuffer(P.fbo), a.setViewport(0, 0, h, p), a.setClearColor(1, 1, 1, 0), a.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.ClearBufferBit.COLOR_BUFFER_BIT), a.setViewport(0, 0, _, d), this._drawParameters.colorTexture = x.colorTexture, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_9__.s)(this._drawParameters.blurSize, R / h, 0), w.bindDraw(this._drawParameters, s, this._passParameters), a.screen.draw(), a.setViewport4fv(m.fullViewport), x.release(), l < 1 && this._context.requestRender(), P;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({
  constructOnly: !0
})], y.prototype, "view", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()], y.prototype, "_context", void 0), y = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.webgl-engine.effects.ssao.SSAO")], y);
const O = .5;


/***/ }),

/***/ 93559:
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOBlurTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SSAOBlurTechnique": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/DefaultVertexAttributeLocations.js */ 61089);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/Program.js */ 44505);
/* harmony import */ var _chunks_SSAOBlur_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../chunks/SSAOBlur.glsl.js */ 38694);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






class a extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique {
  initializeProgram(r) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_3__.Program(r.rctx, a.shader.get().build(), _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__.Default3D);
  }
  initializePipeline() {
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__.makePipelineState)({
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__.defaultColorWriteParams
    });
  }
}
a.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_SSAOBlur_glsl_js__WEBPACK_IMPORTED_MODULE_4__.S, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_SSAOBlur_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/SSAOBlur.glsl.js */ 80033)));


/***/ }),

/***/ 85382:
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAONoiseData.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "noiseData": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e = "eXKEvZaUc66cjIKElE1jlJ6MjJ6Ufkl+jn2fcXp5jBx7c6KEflSGiXuXeW6OWs+tfqZ2Yot2Y7Zzfo2BhniEj3xoiXuXj4eGZpqEaHKDWjSMe7palFlzc3BziYOGlFVzg6Zzg7CUY5JrjFF7eYJ4jIKEcyyEonSXe7qUfqZ7j3xofqZ2c4R5lFZ5Y0WUbppoe1l2cIh2ezyUho+BcHN2cG6DbpqJhqp2e1GcezhrdldzjFGUcyxjc3aRjDyEc1h7Sl17c6aMjH92pb6Mjpd4dnqBjMOEhqZleIOBYzB7gYx+fnqGjJuEkWlwnCx7fGl+c4hjfGyRe5qMlNOMfnqGhIWHc6OMi4GDc6aMfqZuc6aMzqJzlKZ+lJ6Me3qRfoFue0WUhoR5UraEa6qMkXiPjMOMlJOGe7JrUqKMjK6MeYRzdod+Sl17boiPc6qEeYBlcIh2c1WEe7GDiWCDa0WMjEmMdod+Y0WcdntzhmN8WjyMjKJjiXtzgYxYaGd+a89zlEV7e2GJfnd+lF1rcK5zc4p5cHuBhL6EcXp5eYB7fnh8iX6HjIKEeaxuiYOGc66RfG2Ja5hzjlGMjEmMe9OEgXuPfHyGhPeEdl6JY02McGuMfnqGhFiMa3WJfnx2l4hwcG1uhmN8c0WMc39og1GBbrCEjE2EZY+JcIh2cIuGhIWHe0mEhIVrc09+gY5+eYBlnCyMhGCDl3drfmmMgX15aGd+gYx+fnuRfnhzY1SMsluJfnd+hm98WtNrcIuGh4SEj0qPdkqOjFF7jNNjdnqBgaqUjMt7boeBhnZ4jDR7c5pze4GGjEFrhLqMjHyMc0mUhKZze4WEa117kWlwbpqJjHZ2eX2Bc09zeId+e0V7WlF7jHJ2l72BfId8l3eBgXyBe897jGl7c66cgW+Xc76EjKNbgaSEjGx4fId8jFFjgZB8cG6DhlFziZhrcIh2fH6HgUqBgXiPY8dahGFzjEmMhEFre2dxhoBzc5SGfleGe6alc7aUeYBlhKqUdlp+cH5za4OEczxza0Gcc4J2jHZ5iXuXjH2Jh5yRjH2JcFx+hImBjH+MpddCl3dreZeJjIt8ZW18bm1zjoSEeIOBlF9oh3N7hlqBY4+UeYFwhLJjeYFwaGd+gUqBYxiEYot2fqZ2ondzhL6EYyiEY02Ea0VjgZB8doaGjHxoc66cjEGEiXuXiXWMiZhreHx8frGMe75rY02Ec5pzfnhzlEp4a3VzjM+EhFFza3mUY7Zza1V5e2iMfGyRcziEhDyEkXZ2Y4OBnCx7g5t2eyBjgV6EhEFrcIh2dod+c4Z+nJ5zjm15jEmUeYxijJp7nL6clIpjhoR5WrZraGd+fnuRa6pzlIiMg6ZzfHx5foh+eX1ufnB5eX1ufnB5aJt7UqKMjIh+e3aBfm5lbYSBhGFze6J4c39oc0mUc4Z+e0V7fKFVe0WEdoaGY02Ec4Z+Y02EZYWBfH6HgU1+gY5+hIWUgW+XjJ57ebWRhFVScHuBfJ6PhBx7WqJzlM+Ujpd4gHZziX6HjHmEgZN+lJt5boiPe2GJgX+GjIGJgHZzeaxufnB5hF2JtdN7jJ57hp57hK6ElFVzg6ZzbmiEbndzhIWHe3uJfoFue3qRhJd2j3xoc65zlE1jc3p8lE1jhniEgXJ7e657vZaUc3qBh52BhIF4aHKDa9drgY5+c52GWqZzbpqJe8tjnM+UhIeMfo2BfGl+hG1zSmmMjKJjZVaGgX15c1lze0mEp4OHa3mUhIWHhDyclJ6MeYOJkXiPc0VzhFiMlKaEboSJa5Jze41re3qRhn+HZYWBe0mEc4p5fnORbox5lEp4hGFjhGGEjJuEc1WEhLZjeHeGa7KlfHx2hLaMeX1ugY5+hIWHhKGPjMN7c1WEho1zhoBzZYx7fnhzlJt5exyUhFFziXtzfmmMa6qMYyiEiXxweV12kZSMeWqXSl17fnhzxmmMrVGEe1mcc4p5eHeGjK6MgY5+doaGa6pzlGV7g1qBh4KHkXiPeW6OaKqafqZ2eXZ5e1V7jGd7boSJc3BzhJd2e0mcYot2h1RoY8dahK6EQmWEWjx7e1l2lL6UgXyBdnR4eU9zc0VreX1umqaBhld7fo2Bc6KEc5Z+hDyEcIeBWtNrfHyGe5qMhMuMe5qMhEGEbVVupcNzg3aHhIF4boeBe0mEdlptc39ofFl5Y8uUlJOGiYt2UmGEcyxjjGx4jFF7a657ZYWBnElzhp57iXtrgZN+tfOEhIOBjE2HgU1+e8tjjKNbiWCDhE15gUqBgYN7fnqGc66ce9d7iYSBj0qPcG6DnGGcT3eGa6qMZY+JlIiMl4hwc3aRdnqBlGV7eHJ2hLZjfnuRhDyEeX6MSk17g6Z+c6aUjHmEhIF4gXyBc76EZW18fGl+fkl+jCxrhoVwhDyUhIqGlL2DlI6EhJd2tdN7eYORhEGMa2Faa6pzc3Bzc4R5lIRznM+UY9eMhDycc5Z+c4p5c4iGY117pb6MgXuPrbJafnx2eYOJeXZ5e657hDyEcziElKZjfoB5eHeGj4WRhGGEe6KGeX1utTStc76EhFGJnCyMa5hzfH6HnNeceYB7hmN8gYuMhIVrczSMgYF8h3N7c5pza5hzjJqEYIRdgYuMlL2DeYRzhGGEeX1uhLaEc4iGeZ1zdl6JhrVteX6Me2iMfm5lWqJzSpqEa6pzdnmchHx2c6OMhNdrhoR5g3aHczxzeW52gV6Ejm15frGMc0Vzc4Z+l3drfniJe+9rWq5rlF1rhGGEhoVwe9OEfoh+e7pac09+c3qBY0lrhDycdnp2lJ6MiYOGhGCDc3aRlL2DlJt5doaGdnp2gYF8gWeOjF2Uc4R5c5Z+jEmMe7KEc4mEeYJ4dmyBe0mcgXiPbqJ7eYB7fmGGiYSJjICGlF1reZ2PnElzbpqJfH6Hc39oe4WEc5eJhK6EhqyJc3qBgZB8c09+hEmEaHKDhFGJc5SGiXWMUpaEa89zc6OMnCyMiXtrho+Be5qMc7KEjJ57dmN+hKGPjICGbmiEe7prdod+hGCDdnmchBx7eX6MkXZ2hGGEa657hm98jFFjY5JreYOJgY2EjHZ2a295Y3FajJ6Mc1J+YzB7e4WBjF2Uc4R5eV12gYxzg1qBeId+c9OUc5pzjFFjgY5+hFiMlIaPhoR5lIpjjIKBlNdSe7KEeX2BfrGMhIqGc65zjE2UhK6EklZ+QmWEeziMWqZza3VzdnR4foh+gYF8n3iJiZhrnKp7gYF8eId+lJ6Me1lrcIuGjKJjhmN8c66MjFF7a6prjJ6UnJ5zezyUfruRWlF7nI5zfHyGe657h4SEe8tjhBx7jFFjc09+c39ojICMeZeJeXt+YzRzjHZ2c0WEcIeBeXZ5onSXkVR+gYJ+eYFwdldzgYF7eX2BjJ6UiXuXlE1jh4SEe1mchLJjc4Z+hqZ7eXZ5bm1zlL6Ue5p7iWeGhKqUY5pzjKJjcIeBe8t7gXyBYIRdlEp4a3mGnK6EfmmMZpqEfFl5gYxzjKZuhGFjhoKGhHx2fnx2eXuMe3aBiWeGvbKMe6KGa5hzYzB7gZOBlGV7hmN8hqZlYot2Y117a6pzc6KEfId8foB5rctrfneJfJ6PcHN2hFiMc5pzjH92c0VzgY2EcElzdmCBlFVzg1GBc65zY4OBboeBcHiBeYJ4ewxzfHx5lIRzlEmEnLKEbk1zfJ6PhmN8eYBljBiEnMOEiXxwezyUcIeBe76EdsKEeX2BdnR4jGWUrXWMjGd7fkl+j4WRlEGMa5Jzho+BhDyEfnqMeXt+g3aHlE1jczClhNN7ZW18eHx8hGFjZW18iXWMjKJjhH57gYuMcIuGWjyMe4ZtjJuExmmMj4WRdntzi4GDhFFzYIRdnGGcjJp7Y0F7e4WEkbCGiX57fnSHa657a6prhBCMe3Z+SmmMjH92eHJ2hK6EY1FzexhrvbKMnI5za4OEfnd+eXuMhImBe897hLaMjN+EfG+BeIOBhF1+eZeJi4GDkXZ2eXKEgZ6Ejpd4c2GHa1V5e5KUfqZuhCx7jKp7lLZrg11+hHx2hFWUoot2nI5zgbh5mo9zvZaUe3qRbqKMfqZ2kbCGhFiM";


/***/ }),

/***/ 83784:
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOParameters.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BlurDrawParameters": () => (/* binding */ o),
/* harmony export */   "BlurPassParameters": () => (/* binding */ r),
/* harmony export */   "SSAODrawParameters": () => (/* binding */ c),
/* harmony export */   "SSAOPassParameters": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/vec2f64.js */ 83457);
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class r extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.NoParameters {
  constructor() {
    super(...arguments), this.projScale = 1;
  }
}
class t extends r {
  constructor() {
    super(...arguments), this.intensity = 1;
  }
}
class c extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.NoParameters {}
class o extends c {
  constructor() {
    super(...arguments), this.blurSize = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__.a)();
  }
}


/***/ }),

/***/ 54181:
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOTechnique.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SSAOTechnique": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/DefaultVertexAttributeLocations.js */ 61089);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/Program.js */ 44505);
/* harmony import */ var _chunks_SSAO_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../chunks/SSAO.glsl.js */ 30265);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






class l extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique {
  initializeProgram(e) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_3__.Program(e.rctx, l.shader.get().build(), _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__.Default3D);
  }
  initializePipeline() {
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__.makePipelineState)({
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__.defaultColorWriteParams
    });
  }
}
l.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_SSAO_glsl_js__WEBPACK_IMPORTED_MODULE_4__.S, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_SSAO_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/SSAO.glsl.js */ 52476)));


/***/ }),

/***/ 32855:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderFeature.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RenderFeature": () => (/* binding */ o),
/* harmony export */   "setupFeatureDefaults": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/NestedMap.js */ 22043);
/* harmony import */ var _support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../support/RenderState.js */ 20758);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



var o;
function t(t = !(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("disable-feature:high-quality-idle"), s = null) {
  const n = new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_1__.NestedMap();
  return t ? (n.set(_support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__.RenderState.IDLE, o.Antialiasing, "low" !== s), n.set(_support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__.RenderState.IDLE, o.HighResolutionAtmosphere, "low" !== s), n.set(_support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__.RenderState.IDLE, o.HighQualityTransparency, !0), n.set(_support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__.RenderState.IDLE, o.SSAO, !0), n.set(_support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__.RenderState.IDLE, o.WaterReflection, !0), n.set(_support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__.RenderState.IDLE, o.PhysicalPixelRendering, !0)) : (n.set(_support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__.RenderState.ANIMATING, o.HighResolutionShadows, !0), n.set(_support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__.RenderState.INTERACTING, o.HighResolutionShadows, !0)), n.set(_support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__.RenderState.IDLE, o.HighResolutionShadows, !0), n.set(_support_RenderState_js__WEBPACK_IMPORTED_MODULE_2__.RenderState.IDLE, o.HighResolutionVoxel, !0), n;
}
!function (e) {
  e[e.Antialiasing = 0] = "Antialiasing", e[e.HighQualityTransparency = 1] = "HighQualityTransparency", e[e.HighResolutionVoxel = 2] = "HighResolutionVoxel", e[e.HighResolutionAtmosphere = 3] = "HighResolutionAtmosphere", e[e.SSAO = 4] = "SSAO", e[e.WaterReflection = 5] = "WaterReflection", e[e.HighResolutionShadows = 6] = "HighResolutionShadows", e[e.PhysicalPixelRendering = 7] = "PhysicalPixelRendering";
}(o || (o = {}));


/***/ }),

/***/ 36897:
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DefaultGLMaterial": () => (/* binding */ E),
/* harmony export */   "DefaultMaterial": () => (/* binding */ I),
/* harmony export */   "DefaultMaterialParameters": () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../ViewingMode.js */ 56108);
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ 61462);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/NormalAttribute.glsl.js */ 20315);
/* harmony import */ var _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/shaderLibrary/shading/Normals.glsl.js */ 5395);
/* harmony import */ var _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ 85950);
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ 2754);
/* harmony import */ var _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/GLTextureMaterial.js */ 65894);
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/Material.js */ 32051);
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ 31700);
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../lib/RenderSlot.js */ 66176);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ 51663);
/* harmony import */ var _lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../lib/verticalOffsetUtils.js */ 62442);
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ 55718);
/* harmony import */ var _internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./internal/MaterialUtil.js */ 87578);
/* harmony import */ var _shaders_DefaultMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../shaders/DefaultMaterialTechnique.js */ 66594);
/* harmony import */ var _shaders_DefaultMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../shaders/DefaultMaterialTechniqueConfiguration.js */ 37991);
/* harmony import */ var _shaders_RealisticTreeTechnique_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../shaders/RealisticTreeTechnique.js */ 41729);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





















class I extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_11__.Material {
  constructor(e) {
    super(e, j), this.supportsEdges = !0, this._configuration = new _shaders_DefaultMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_19__.DefaultMaterialTechniqueConfiguration(), this._vertexBufferLayout = L(this.parameters);
  }
  isVisibleForOutput(e) {
    return e !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Shadow && e !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ShadowExcludeHighlight && e !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ShadowHighlight || this.parameters.castShadows;
  }
  isVisible() {
    const e = this.parameters;
    if (!super.isVisible() || 0 === e.layerOpacity) return !1;
    const {
        hasInstancedColor: t,
        hasVertexColors: r,
        hasSymbolColors: s,
        vvColor: a
      } = e,
      i = "replace" === e.colorMixMode,
      o = e.opacity > 0,
      n = e.externalColor && e.externalColor[3] > 0,
      h = t || a || s;
    return r && h ? i || o : r ? i ? n : o : h ? i || o : i ? n : o;
  }
  getConfiguration(e, t) {
    return this._configuration.output = e, this._configuration.hasNormalTexture = !!this.parameters.normalTextureId, this._configuration.hasColorTexture = !!this.parameters.textureId, this._configuration.hasVertexTangents = this.parameters.hasVertexTangents, this._configuration.instanced = this.parameters.isInstanced, this._configuration.instancedDoublePrecision = this.parameters.instancedDoublePrecision, this._configuration.vvSize = !!this.parameters.vvSize, this._configuration.hasVerticalOffset = null != this.parameters.verticalOffset, this._configuration.hasScreenSizePerspective = null != this.parameters.screenSizePerspective, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.hasSliceHighlight = this.parameters.hasSliceHighlight, this._configuration.alphaDiscardMode = this.parameters.textureAlphaMode, this._configuration.normalType = this.parameters.normalType, this._configuration.transparent = this.parameters.transparent, this._configuration.writeDepth = this.parameters.writeDepth, null != this.parameters.customDepthTest && (this._configuration.customDepthTest = this.parameters.customDepthTest), this._configuration.hasOccludees = this.parameters.hasOccludees, this._configuration.cullFace = this.parameters.hasSlicePlane ? _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_9__.CullFaceOptions.None : this.parameters.cullFace, this._configuration.multipassEnabled = t.multipassEnabled, this._configuration.cullAboveGround = t.multipassTerrain.cullAboveGround, this._configuration.hasModelTransformation = null != this.parameters.modelTransformation, e !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Color && e !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Alpha || (this._configuration.hasVertexColors = this.parameters.hasVertexColors, this._configuration.hasSymbolColors = this.parameters.hasSymbolColors, this.parameters.treeRendering ? this._configuration.doubleSidedMode = _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_7__.NormalsDoubleSidedMode.WindingOrder : this._configuration.doubleSidedMode = this.parameters.doubleSided && "normal" === this.parameters.doubleSidedType ? _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_7__.NormalsDoubleSidedMode.View : this.parameters.doubleSided && "winding-order" === this.parameters.doubleSidedType ? _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_7__.NormalsDoubleSidedMode.WindingOrder : _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_7__.NormalsDoubleSidedMode.None, this._configuration.instancedColor = this.parameters.hasInstancedColor, this._configuration.receiveShadows = this.parameters.receiveShadows && this.parameters.shadowMappingEnabled, this._configuration.receiveAmbientOcclusion = null != t.ssao, this._configuration.vvColor = !!this.parameters.vvColor, this._configuration.textureAlphaPremultiplied = !!this.parameters.textureAlphaPremultiplied, this._configuration.pbrMode = this.parameters.usePBR ? this.parameters.isSchematic ? _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_8__.PBRMode.Schematic : _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_8__.PBRMode.Normal : _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_8__.PBRMode.Disabled, this._configuration.hasMetallicRoughnessTexture = !!this.parameters.metallicRoughnessTextureId, this._configuration.hasEmissionTexture = !!this.parameters.emissiveTextureId, this._configuration.hasOcclusionTexture = !!this.parameters.occlusionTextureId, this._configuration.offsetBackfaces = !(!this.parameters.transparent || !this.parameters.offsetTransparentBackfaces), this._configuration.transparencyPassType = t.transparencyPassType, this._configuration.enableOffset = t.camera.relativeElevation < _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_12__.OITPolygonOffsetLimit, this._configuration.snowCover = this.hasSnowCover(t), this._configuration.hasColorTextureTransform = !!this.parameters.colorTextureTransformMatrix, this._configuration.hasNormalTextureTransform = !!this.parameters.normalTextureTransformMatrix, this._configuration.hasEmissionTextureTransform = !!this.parameters.emissiveTextureTransformMatrix, this._configuration.hasOcclusionTextureTransform = !!this.parameters.occlusionTextureTransformMatrix, this._configuration.hasMetallicRoughnessTextureTransform = !!this.parameters.metallicRoughnessTextureTransformMatrix), this._configuration;
  }
  hasSnowCover(e) {
    return null != e.weather && e.weatherVisible && "snowy" === e.weather.type && "enabled" === e.weather.snowCover;
  }
  intersect(h, l, u, m, p, d) {
    if (null != this.parameters.verticalOffset) {
      const h = u.camera;
      (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.s)(z, l[12], l[13], l[14]);
      let d = null;
      switch (u.viewingMode) {
        case _ViewingMode_js__WEBPACK_IMPORTED_MODULE_3__.ViewingMode.Global:
          d = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.n)(B, z);
          break;
        case _ViewingMode_js__WEBPACK_IMPORTED_MODULE_3__.ViewingMode.Local:
          d = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(B, V);
      }
      let f = 0;
      const g = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(G, z, h.eye),
        T = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.l)(g),
        _ = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.i)(g, g, 1 / T);
      let x = null;
      this.parameters.screenSizePerspective && (x = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)(d, _)), f += (0,_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_17__.verticalOffsetAtDistance)(h, T, this.parameters.verticalOffset, x ?? 0, this.parameters.screenSizePerspective), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.i)(d, d, f), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.t)(H, d, u.transform.inverseRotation), m = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(D, m, H), p = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(N, p, H);
    }
    (0,_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_17__.intersectTriangleGeometry)(h, u, m, p, (0,_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_15__.getVerticalOffsetObject3D)(u.verticalOffset), d);
  }
  produces(e, t) {
    if (t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Color || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Alpha || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Depth || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Normal || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Shadow || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ShadowHighlight || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ShadowExcludeHighlight || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Highlight || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ObjectAndLayerIdColor) {
      return e === (this.parameters.transparent ? this.parameters.writeDepth ? _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_13__.RenderSlot.TRANSPARENT_MATERIAL : _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_13__.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL : _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_13__.RenderSlot.OPAQUE_MATERIAL) || e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_13__.RenderSlot.DRAPED_MATERIAL;
    }
    return !1;
  }
  createGLMaterial(e) {
    return new E(e);
  }
  createBufferWriter() {
    return new _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_16__.DefaultBufferWriter(this._vertexBufferLayout);
  }
}
class E extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_10__.GLTextureMaterial {
  constructor(e) {
    super({
      ...e,
      ...e.material.parameters
    });
  }
  _updateShadowState(e) {
    e.shadowMap.enabled !== this._material.parameters.shadowMappingEnabled && this._material.setParameters({
      shadowMappingEnabled: e.shadowMap.enabled
    });
  }
  _updateOccludeeState(e) {
    e.hasOccludees !== this._material.parameters.hasOccludees && this._material.setParameters({
      hasOccludees: e.hasOccludees
    });
  }
  beginSlot(t) {
    this._output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Color && this._output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Alpha || (this._updateShadowState(t), this._updateOccludeeState(t));
    const r = this._material.parameters;
    this.updateTexture(r.textureId);
    const s = t.camera.viewInverseTransposeMatrix;
    return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.s)(r.origin, s[3], s[7], s[11]), this._material.setParameters(this.textureBindParameters), this.ensureTechnique(r.treeRendering ? _shaders_RealisticTreeTechnique_js__WEBPACK_IMPORTED_MODULE_20__.RealisticTreeTechnique : _shaders_DefaultMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_18__.DefaultMaterialTechnique, t);
  }
}
class P extends _shaders_DefaultMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_18__.DefaultMaterialPassParameters {
  constructor() {
    super(...arguments), this.initTextureTransparent = !1, this.treeRendering = !1, this.hasVertexTangents = !1;
  }
}
const j = new P();
function L(e) {
  const t = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.POSITION);
  e.normalType === _core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_6__.NormalType.Compressed ? t.vec2i16(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.NORMALCOMPRESSED, {
    glNormalized: !0
  }) : t.vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.NORMAL), e.hasVertexTangents && t.vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.TANGENT);
  return (e.textureId || e.normalTextureId || e.metallicRoughnessTextureId || e.emissiveTextureId || e.occlusionTextureId) && t.vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.UV0), e.hasVertexColors && t.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.COLOR), e.hasSymbolColors && t.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.SYMBOLCOLOR), (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("enable-feature:objectAndLayerId-rendering") && t.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.OBJECTANDLAYERIDCOLOR), t;
}
const D = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  N = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  V = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(0, 0, 1),
  B = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  H = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  z = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  G = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();


/***/ }),

/***/ 58945:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/pbrUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultAdvancedMRRFactors": () => (/* binding */ n),
/* harmony export */   "defaultEsriSymbologyMRRFactors": () => (/* binding */ s),
/* harmony export */   "defaultSchematicMRRFactors": () => (/* binding */ r),
/* harmony export */   "useSchematicPBR": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


function u({
  normalTexture: u,
  metallicRoughnessTexture: n,
  metallicFactor: r,
  roughnessFactor: s,
  emissiveTexture: o,
  emissiveFactor: t,
  occlusionTexture: c
}) {
  return null == u && null == n && null == o && (null == t || (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.h)(t, _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.Z)) && null == c && (null == s || 1 === s) && (null == r || 1 === r || 0 === r);
}
const n = [1, 1, .5],
  r = [0, .6, .2],
  s = [0, 1, .2];


/***/ }),

/***/ 66594:
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DefaultMaterialDrawParameters": () => (/* binding */ N),
/* harmony export */   "DefaultMaterialPassParameters": () => (/* binding */ k),
/* harmony export */   "DefaultMaterialTechnique": () => (/* binding */ q)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../ViewingMode.js */ 56108);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/NormalAttribute.glsl.js */ 20315);
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ 49549);
/* harmony import */ var _core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/VertexNormal.glsl.js */ 16568);
/* harmony import */ var _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/shaderLibrary/util/AlphaCutoff.js */ 63855);
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ 2754);
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ 61089);
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../lib/Material.js */ 32051);
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ 31700);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../lib/Program.js */ 44505);
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../lib/StencilUtils.js */ 20247);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../materials/pbrUtils.js */ 58945);
/* harmony import */ var _chunks_DefaultMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../chunks/DefaultMaterial.glsl.js */ 29864);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





















class k extends _core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_6__.VertexNormalPassParameters {
  constructor() {
    super(...arguments), this.isSchematic = !1, this.usePBR = !1, this.mrrFactors = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.e)(_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_17__.defaultAdvancedMRRFactors), this.hasVertexColors = !1, this.hasSymbolColors = !1, this.doubleSided = !1, this.doubleSidedType = "normal", this.cullFace = _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_10__.CullFaceOptions.Back, this.isInstanced = !1, this.hasInstancedColor = !1, this.emissiveFactor = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(0, 0, 0), this.instancedDoublePrecision = !1, this.normalType = _core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_4__.NormalType.Attribute, this.receiveShadows = !0, this.castShadows = !0, this.shadowMappingEnabled = !1, this.ambient = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(.2, .2, .2), this.diffuse = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(.8, .8, .8), this.externalColor = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__.f)(1, 1, 1, 1), this.colorMixMode = "multiply", this.opacity = 1, this.layerOpacity = 1, this.origin = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(), this.hasSlicePlane = !1, this.hasSliceHighlight = !0, this.offsetTransparentBackfaces = !1, this.vvSize = null, this.vvColor = null, this.vvOpacity = null, this.vvSymbolAnchor = null, this.vvSymbolRotationMatrix = null, this.modelTransformation = null, this.transparent = !1, this.writeDepth = !0, this.customDepthTest = _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_10__.DepthTestFunction.Less, this.textureAlphaMode = _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_10__.AlphaDiscardMode.Blend, this.textureAlphaCutoff = _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_7__.defaultMaskAlphaCutoff, this.textureAlphaPremultiplied = !1, this.hasOccludees = !1, this.renderOccluded = _lib_Material_js__WEBPACK_IMPORTED_MODULE_12__.RenderOccludedFlag.Occlude, this.isDecoration = !1;
  }
}
class N extends _core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_6__.VertexNormalDrawParameters {
  constructor() {
    super(...arguments), this.origin = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(), this.slicePlaneLocalOrigin = this.origin;
  }
}
class q extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_9__.ShaderTechnique {
  initializeConfiguration(e, t) {
    t.spherical = e.viewingMode === _ViewingMode_js__WEBPACK_IMPORTED_MODULE_2__.ViewingMode.Global, t.doublePrecisionRequiresObfuscation = e.rctx.driverTest.doublePrecisionRequiresObfuscation.result, t.textureCoordinateType = t.hasColorTexture || t.hasMetallicRoughnessTexture || t.hasEmissionTexture || t.hasOcclusionTexture || t.hasNormalTexture ? _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_5__.TextureCoordinateAttributeType.Default : _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_5__.TextureCoordinateAttributeType.None, t.objectAndLayerIdColorInstanced = t.instanced;
  }
  initializeProgram(e) {
    return this._initializeProgram(e, q.shader);
  }
  _initializeProgram(e, t) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_14__.Program(e.rctx, t.get().build(this.configuration), _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_11__.Default3D);
  }
  _convertDepthTestFunction(e) {
    return e === _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_10__.DepthTestFunction.Lequal ? _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.CompareFunction.LEQUAL : _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.CompareFunction.LESS;
  }
  _makePipeline(e, t) {
    const i = this.configuration,
      r = e === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_16__.TransparencyPassType.NONE,
      s = e === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_16__.TransparencyPassType.FrontFace;
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_20__.makePipelineState)({
      blending: i.output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color && i.output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Alpha || !i.transparent ? null : r ? _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_13__.blendingDefault : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_13__.oitBlending)(e),
      culling: z(i) ? (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_20__.cullingParams)(i.cullFace) : null,
      depthTest: {
        func: (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_13__.oitDepthTest)(e, this._convertDepthTestFunction(i.customDepthTest))
      },
      depthWrite: (r || s) && i.writeDepth ? _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_20__.defaultDepthWriteParams : null,
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_20__.defaultColorWriteParams,
      stencilWrite: i.hasOccludees ? _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_15__.stencilWriteMaskOn : null,
      stencilTest: i.hasOccludees ? t ? _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_15__.stencilToolMaskBaseParams : _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_15__.stencilBaseAllZerosParams : null,
      polygonOffset: r || s ? null : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_13__.getOITPolygonOffset)(i.enableOffset)
    });
  }
  initializePipeline() {
    return this._occludeePipelineState = this._makePipeline(this.configuration.transparencyPassType, !0), this._makePipeline(this.configuration.transparencyPassType, !1);
  }
  getPipeline(e) {
    return e ? this._occludeePipelineState : super.getPipeline();
  }
}
function z(e) {
  return e.cullFace !== _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_10__.CullFaceOptions.None || !e.hasSlicePlane && !e.transparent && !e.doubleSidedMode;
}
q.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_8__.ReloadableShaderModule(_chunks_DefaultMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_18__.D, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_DefaultMaterial_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./DefaultMaterial.glsl.js */ 77893)));


/***/ }),

/***/ 37991:
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechniqueConfiguration.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DefaultMaterialTechniqueConfiguration": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/NormalAttribute.glsl.js */ 20315);
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ 49549);
/* harmony import */ var _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/shading/Normals.glsl.js */ 5395);
/* harmony import */ var _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ 85950);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ 88721);
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ 2754);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ 58396);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










class c extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_9__.DefaultTechniqueConfiguration {
  constructor() {
    super(...arguments), this.output = _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color, this.alphaDiscardMode = _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__.AlphaDiscardMode.Opaque, this.doubleSidedMode = _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_4__.NormalsDoubleSidedMode.None, this.pbrMode = _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.Disabled, this.cullFace = _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__.CullFaceOptions.None, this.transparencyPassType = _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__.TransparencyPassType.NONE, this.normalType = _core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_2__.NormalType.Attribute, this.textureCoordinateType = _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__.TextureCoordinateAttributeType.None, this.customDepthTest = _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__.DepthTestFunction.Less, this.spherical = !1, this.hasVertexColors = !1, this.hasSymbolColors = !1, this.hasVerticalOffset = !1, this.hasSlicePlane = !1, this.hasSliceHighlight = !0, this.hasColorTexture = !1, this.hasMetallicRoughnessTexture = !1, this.hasEmissionTexture = !1, this.hasOcclusionTexture = !1, this.hasNormalTexture = !1, this.hasScreenSizePerspective = !1, this.hasVertexTangents = !1, this.hasOccludees = !1, this.multipassEnabled = !1, this.hasModelTransformation = !1, this.offsetBackfaces = !1, this.vvSize = !1, this.vvColor = !1, this.receiveShadows = !1, this.receiveAmbientOcclusion = !1, this.textureAlphaPremultiplied = !1, this.instanced = !1, this.instancedColor = !1, this.objectAndLayerIdColorInstanced = !1, this.instancedDoublePrecision = !1, this.doublePrecisionRequiresObfuscation = !1, this.writeDepth = !0, this.transparent = !1, this.enableOffset = !0, this.cullAboveGround = !1, this.snowCover = !1, this.hasColorTextureTransform = !1, this.hasEmissionTextureTransform = !1, this.hasNormalTextureTransform = !1, this.hasOcclusionTextureTransform = !1, this.hasMetallicRoughnessTextureTransform = !1;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  count: _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT
})], c.prototype, "output", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  count: _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__.AlphaDiscardMode.COUNT
})], c.prototype, "alphaDiscardMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  count: _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_4__.NormalsDoubleSidedMode.COUNT
})], c.prototype, "doubleSidedMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  count: _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PBRMode.COUNT
})], c.prototype, "pbrMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  count: _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__.CullFaceOptions.COUNT
})], c.prototype, "cullFace", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  count: _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__.TransparencyPassType.COUNT
})], c.prototype, "transparencyPassType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  count: _core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_2__.NormalType.COUNT
})], c.prototype, "normalType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  count: _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__.TextureCoordinateAttributeType.COUNT
})], c.prototype, "textureCoordinateType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  count: _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__.DepthTestFunction.COUNT
})], c.prototype, "customDepthTest", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "spherical", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasVertexColors", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasSymbolColors", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasVerticalOffset", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasSlicePlane", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasSliceHighlight", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasColorTexture", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasMetallicRoughnessTexture", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasEmissionTexture", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasOcclusionTexture", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasNormalTexture", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasScreenSizePerspective", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasVertexTangents", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasOccludees", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "multipassEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasModelTransformation", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "offsetBackfaces", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "vvSize", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "vvColor", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "receiveShadows", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "receiveAmbientOcclusion", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "textureAlphaPremultiplied", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "instanced", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "instancedColor", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "objectAndLayerIdColorInstanced", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "instancedDoublePrecision", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "doublePrecisionRequiresObfuscation", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "writeDepth", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "transparent", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "enableOffset", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "cullAboveGround", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "snowCover", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasColorTextureTransform", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasEmissionTextureTransform", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasNormalTextureTransform", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasOcclusionTextureTransform", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)()], c.prototype, "hasMetallicRoughnessTextureTransform", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  constValue: !1
})], c.prototype, "occlusionPass", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  constValue: !0
})], c.prototype, "hasVvInstancing", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  constValue: !1
})], c.prototype, "useCustomDTRExponentForWater", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  constValue: !1
})], c.prototype, "supportsTextureAtlas", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.parameter)({
  constValue: !0
})], c.prototype, "useFillLights", void 0);


/***/ }),

/***/ 41729:
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RealisticTreeTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RealisticTreeTechnique": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/NormalAttribute.glsl.js */ 20315);
/* harmony import */ var _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/shading/Normals.glsl.js */ 5395);
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _DefaultMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DefaultMaterialTechnique.js */ 66594);
/* harmony import */ var _chunks_RealisticTree_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/RealisticTree.glsl.js */ 48647);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class t extends _DefaultMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_3__.DefaultMaterialTechnique {
  initializeConfiguration(i, a) {
    super.initializeConfiguration(i, a), a.hasMetallicRoughnessTexture = !1, a.hasEmissionTexture = !1, a.hasOcclusionTexture = !1, a.hasNormalTexture = !1, a.hasModelTransformation = !1, a.normalType = _core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_0__.NormalType.Attribute, a.doubleSidedMode = _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_1__.NormalsDoubleSidedMode.WindingOrder, a.hasVertexTangents = !1;
  }
  initializeProgram(e) {
    return this._initializeProgram(e, t.shader);
  }
}
t.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__.ReloadableShaderModule(_chunks_RealisticTree_glsl_js__WEBPACK_IMPORTED_MODULE_4__.R, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_RealisticTree_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./RealisticTree.glsl.js */ 11369)));


/***/ })

}]);
//# sourceMappingURL=default-node_modules_arcgis_core_views_3d_layers_graphics_objectResourceUtils_js.js.map