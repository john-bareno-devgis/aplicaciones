"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_layers_ImageryTileLayer_js"],{

/***/ 38726:
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ImageryTileLayer.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PopupTemplate.js */ 95459);
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Clonable.js */ 94904);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/Error.js */ 32995);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Logger.js */ 28191);
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ 20635);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/enumeration.js */ 4139);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Layer.js */ 51402);
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ 6363);
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ 29812);
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/CustomParametersMixin.js */ 55123);
/* harmony import */ var _mixins_ImageryTileMixin_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/ImageryTileMixin.js */ 73582);
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ 82686);
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ 16617);
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ 38437);
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ 72450);
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ 37302);
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./support/commonProperties.js */ 74256);
/* harmony import */ var _support_Field_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./support/Field.js */ 23973);
/* harmony import */ var _support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./support/rasterEnums.js */ 92016);
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./support/RasterFunction.js */ 53403);
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/rasterDatasets/FunctionRaster.js */ 65451);
/* harmony import */ var _support_rasterDatasets_RasterFactory_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/rasterDatasets/RasterFactory.js */ 7586);
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/rasterFunctions/rasterFunctionHelper.js */ 97835);
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../support/popupUtils.js */ 67056);
/* harmony import */ var _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../webdoc/interfaces.js */ 95279);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

































let E = class extends (0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_17__.BlendLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_23__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_20__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_21__.PortalLayer)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_18__.CustomParametersMixin)((0,_mixins_ImageryTileMixin_js__WEBPACK_IMPORTED_MODULE_19__.ImageryTileMixin)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_24__.TemporalLayer)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_16__.ArcGISService)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_22__.RefreshableLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_6__.MultiOriginJSONMixin)((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_3__.ClonableMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_15__["default"]))))))))))) {
  constructor(...e) {
    var _this;
    (super(...e), _this = this), this._primaryRasters = [], this.bandIds = null, this.interpolation = null, this.legendEnabled = !0, this.isReference = null, this.listMode = "show", this.sourceJSON = null, this.version = null, this.type = "imagery-tile", this.operationalLayerType = "ArcGISTiledImageServiceLayer", this.popupEnabled = !0, this.popupTemplate = null, this.fields = null, this._debouncedSaveOperations = (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.debounce)( /*#__PURE__*/function () {
      var _ref = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, r, t) {
        const {
          save: s,
          saveAs: i
        } = yield Promise.all(/*! import() */[__webpack_require__.e("common"), __webpack_require__.e("node_modules_arcgis_core_core_accessorSupport_originUtils_js-node_modules_arcgis_core_layers_-42849b")]).then(__webpack_require__.bind(__webpack_require__, /*! ./save/imageryUtils.js */ 14615));
        switch (e) {
          case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_33__.SaveOperationType.SAVE:
            return s(_this, r);
          case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_33__.SaveOperationType.SAVE_AS:
            return i(_this, t, r);
        }
      });
      return function (_x, _x2, _x3) {
        return _ref.apply(this, arguments);
      };
    }());
  }
  normalizeCtorArgs(e, r) {
    return "string" == typeof e ? {
      url: e,
      ...r
    } : e;
  }
  load(e) {
    const r = null != e ? e.signal : null;
    return this.addResolvingPromise(this.loadFromPortal({
      supportedTypes: ["Image Service"]
    }, e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.throwIfAbortError).then(() => this._openRaster(r))), Promise.resolve(this);
  }
  get defaultPopupTemplate() {
    return this.createPopupTemplate();
  }
  get rasterFields() {
    const e = [new _support_Field_js__WEBPACK_IMPORTED_MODULE_26__["default"]({
        name: "Raster.ServicePixelValue",
        alias: "Pixel Value",
        domain: null,
        editable: !1,
        length: 50,
        type: "string"
      }), new _support_Field_js__WEBPACK_IMPORTED_MODULE_26__["default"]({
        name: "Raster.ServicePixelValue.Raw",
        alias: "Raw Pixel Value",
        domain: null,
        editable: !1,
        length: 50,
        type: "string"
      })],
      {
        rasterInfo: r
      } = this,
      t = r?.attributeTable,
      s = null != t ? t.fields : null,
      i = "Raster.";
    if (s) {
      const r = s.filter(e => "oid" !== e.type && "value" !== e.name.toLowerCase()).map(e => {
        const r = e.clone();
        return r.name = i + e.name, r;
      });
      e.push(...r);
    }
    const o = r?.dataType,
      a = r?.multidimensionalInfo;
    if (("vector-magdir" === o || "vector-uv" === o) && null != a) {
      const r = a.variables[0].unit?.trim(),
        t = "Magnitude" + (r ? ` (${r})` : "");
      e.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_26__["default"]({
        name: "Raster.Magnitude",
        alias: t,
        domain: null,
        editable: !1,
        type: "double"
      })), e.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_26__["default"]({
        name: "Raster.Direction",
        alias: "Direction (Â°)",
        domain: null,
        editable: !1,
        type: "double"
      }));
    }
    return e;
  }
  createPopupTemplate(e) {
    const {
        rasterFields: r
      } = this,
      t = new Set(r.map(({
        name: e
      }) => e).filter(e => "raster.servicepixelvalue.raw" !== e.toLowerCase()));
    return (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_32__.createPopupTemplate)({
      fields: r,
      title: this.title
    }, {
      ...e,
      visibleFieldNames: t
    });
  }
  generateRasterInfo(e, r) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!(e = (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__.ensureClass)(_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_28__["default"], e))) return _this2.rasterInfo;
      try {
        const t = {
          raster: _this2._primaryRasters[0]
        };
        _this2._primaryRasters.length > 1 && _this2._primaryRasters.forEach(e => t[e.url] = e);
        const s = (0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_31__.create)(e.functionDefinition?.toJSON() ?? e.toJSON(), t),
          i = new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_29__["default"]({
            rasterFunction: s
          });
        return yield i.open(r), i.rasterInfo;
      } catch (t) {
        if (t instanceof _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]) throw t;
        throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-layer", "the given raster function is not supported");
      }
    })();
  }
  save(e) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this3._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_33__.SaveOperationType.SAVE, e);
    })();
  }
  saveAs(e, r) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this4._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_33__.SaveOperationType.SAVE_AS, r, e);
    })();
  }
  write(e, r) {
    const t = this._primaryRasters[0] ?? this.raster;
    if (this.loaded ? "RasterTileServer" === t.datasetFormat && ("Raster" === t.tileType || "Map" === t.tileType) : this.url && /\/ImageServer(\/|\/?$)/i.test(this.url)) return super.write(e, r);
    if (r?.messages) {
      const e = `${r.origin}/${r.layerContainerType || "operational-layers"}`;
      r.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("layer:unsupported", `Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`, {
        layer: this
      }));
    }
    return null;
  }
  _openRaster(e) {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let r = !1;
      if (_this5.raster) _this5.raster.rasterInfo || (yield _this5.raster.open()), "Function" === _this5.raster.datasetFormat ? (r = !0, _this5._primaryRasters = _this5.raster.primaryRasters.rasters) : _this5._primaryRasters = [_this5.raster], _this5.url = _this5.raster.url;else {
        const {
            rasterFunction: r
          } = _this5,
          t = [_this5.url];
        r && (0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_31__.getPrimaryRasterUrls)(r.toJSON(), t);
        const a = yield Promise.all(t.map(r => _support_rasterDatasets_RasterFactory_js__WEBPACK_IMPORTED_MODULE_30__["default"].open({
            url: r,
            sourceJSON: _this5.sourceJSON,
            ioConfig: {
              sampling: "closest",
              ..._this5.ioConfig,
              customFetchParameters: _this5.customParameters
            },
            signal: e
          }))),
          n = a.findIndex(e => null == e);
        if (n > -1) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-layer:open", `cannot open raster: ${t[n]}`);
        if (_this5._primaryRasters = a, r) {
          const e = {
            raster: _this5._primaryRasters[0]
          };
          _this5._primaryRasters.length > 1 && _this5._primaryRasters.forEach(r => e[r.url] = r);
          const t = (0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_31__.create)(r.functionDefinition?.toJSON() ?? r.toJSON(), e),
            n = new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_29__["default"]({
              rasterFunction: t
            });
          try {
            yield n.open(), _this5.raster = n;
          } catch (o) {
            const e = _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(_this5);
            o instanceof _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"] && e.error("imagery-tile-layer:open", o.message), e.warn("imagery-tile-layer:open", "the raster function cannot be applied and is removed"), _this5._set("rasterFunction", null), _this5.raster = a[0];
          }
        } else _this5.raster = a[0];
      }
      const t = _this5.raster.rasterInfo;
      if (!t) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-layer:load", "cannot load resources on " + _this5.url);
      if (_this5._set("rasterInfo", r ? t : _this5._primaryRasters[0].rasterInfo), _this5._set("spatialReference", t.spatialReference), _this5.sourceJSON = _this5.sourceJSON || _this5.raster.sourceJSON, null != _this5.sourceJSON) {
        const e = "Map" === _this5.raster.tileType && null != _this5.sourceJSON.minLOD && null != _this5.sourceJSON.maxLOD ? _this5.sourceJSON : {
          ..._this5.sourceJSON,
          minScale: 0,
          maxScale: 0
        };
        _this5.read(e, {
          origin: "service"
        });
      } else _this5.read({
        tileInfo: _this5.rasterInfo.storageInfo.tileInfo.toJSON()
      }, {
        origin: "service"
      });
      _this5.title || (_this5.title = _this5.raster.datasetName), "Map" === _this5.raster.tileType && (_this5.popupEnabled = !1), _this5._configDefaultSettings(), _this5.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)(() => _this5.customParameters, e => {
        _this5.raster && (_this5.raster.ioConfig.customFetchParameters = e);
      }));
    })();
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  clonable: !1
})], E.prototype, "_primaryRasters", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  type: [_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__.Integer],
  json: {
    write: {
      overridePolicy() {
        return {
          enabled: !this.loaded || "Raster" === this.raster.tileType || "0,1,2" !== this.bandIds?.join(",")
        };
      }
    }
  }
})], E.prototype, "bandIds", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  json: {
    write: {
      overridePolicy() {
        return {
          enabled: !this.loaded || "Raster" === this.raster.tileType || "bilinear" !== this.interpolation
        };
      }
    }
  }
}), (0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_13__.enumeration)(_support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_27__.interpolationKebab)], E.prototype, "interpolation", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_25__.legendEnabled)], E.prototype, "legendEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  type: Boolean,
  json: {
    read: !1,
    write: {
      enabled: !0,
      overridePolicy: () => ({
        enabled: !1
      })
    }
  }
})], E.prototype, "isReference", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  type: ["show", "hide"]
})], E.prototype, "listMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  json: {
    read: !0,
    write: !0
  }
})], E.prototype, "blendMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()], E.prototype, "sourceJSON", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  readOnly: !0,
  json: {
    origins: {
      service: {
        read: {
          source: "currentVersion"
        }
      }
    }
  }
})], E.prototype, "version", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  readOnly: !0,
  json: {
    read: !1
  }
})], E.prototype, "type", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  type: ["ArcGISTiledImageServiceLayer"]
})], E.prototype, "operationalLayerType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  type: Boolean,
  value: !0,
  json: {
    read: {
      source: "disablePopup",
      reader: (e, r) => !r.disablePopup
    },
    write: {
      target: "disablePopup",
      overridePolicy() {
        return {
          enabled: !this.loaded || "Raster" === this.raster.tileType
        };
      },
      writer(e, r, t) {
        r[t] = !e;
      }
    }
  }
})], E.prototype, "popupEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  type: _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_2__["default"],
  json: {
    read: {
      source: "popupInfo"
    },
    write: {
      target: "popupInfo",
      overridePolicy() {
        return {
          enabled: !this.loaded || "Raster" === this.raster.tileType
        };
      }
    }
  }
})], E.prototype, "popupTemplate", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  readOnly: !0
})], E.prototype, "defaultPopupTemplate", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  readOnly: !0,
  type: [_support_Field_js__WEBPACK_IMPORTED_MODULE_26__["default"]]
})], E.prototype, "fields", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  readOnly: !0,
  type: [_support_Field_js__WEBPACK_IMPORTED_MODULE_26__["default"]]
})], E.prototype, "rasterFields", null), E = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__.subclass)("esri.layers.ImageryTileLayer")], E);
const A = E;


/***/ }),

/***/ 73582:
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ImageryTileMixin": () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry.js */ 6010);
/* harmony import */ var _rasterRenderers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../rasterRenderers.js */ 78189);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../request.js */ 1897);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Error.js */ 32995);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Logger.js */ 28191);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ 66508);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ 53492);
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ 4583);
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/commonProperties.js */ 74256);
/* harmony import */ var _support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/DimensionalDefinition.js */ 80661);
/* harmony import */ var _support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/MultidimensionalSubset.js */ 9508);
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/RasterFunction.js */ 53403);
/* harmony import */ var _support_RasterJobHandler_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/RasterJobHandler.js */ 18079);
/* harmony import */ var _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/TileInfo.js */ 51015);
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/rasterDatasets/FunctionRaster.js */ 65451);
/* harmony import */ var _support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../support/rasterDatasets/multidimensionalUtils.js */ 73691);
/* harmony import */ var _support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../support/rasterFunctions/clipUtils.js */ 30459);
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../support/rasterFunctions/rasterFunctionHelper.js */ 97835);
/* harmony import */ var _support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../support/rasterFunctions/rasterProjectionHelper.js */ 13110);
/* harmony import */ var _support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../support/rasterFunctions/stretchUtils.js */ 34589);
/* harmony import */ var _support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../support/rasterFunctions/vectorFieldUtils.js */ 62265);
/* harmony import */ var _renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../renderers/support/rasterRendererHelper.js */ 4990);
/* harmony import */ var _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../renderers/support/RasterSymbolizer.js */ 47088);
/* harmony import */ var _rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../rest/support/ImageHistogramParameters.js */ 60371);
/* harmony import */ var _views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../views/2d/engine/flow/dataUtils.js */ 45809);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ 68230);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../geometry/Point.js */ 72062);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

































const B = _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger("esri.layers.mixins.ImageryTileMixin"),
  V = o => {
    let V = class extends o {
      constructor(...e) {
        super(...e), this._isConstructedFromFunctionRaster = !1, this._rasterJobHandler = {
          instance: null,
          refCount: 0,
          connectionPromise: null
        }, this.bandIds = null, this.copyright = null, this.interpolation = "nearest", this.multidimensionalSubset = null, this.raster = null, this.rasterInfo = null, this.sourceJSON = null, this.spatialReference = null, this.symbolizer = null, this._isConstructedFromFunctionRaster = "Function" === e[0]?.raster?.datasetFormat;
      }
      get fullExtent() {
        return this.rasterInfo?.extent;
      }
      set multidimensionalDefinition(e) {
        this._set("multidimensionalDefinition", e), this.updateRenderer();
      }
      set rasterFunction(e) {
        "none" === e?.functionName?.toLowerCase() && (e = void 0), this._set("rasterFunction", e), this.updateRasterFunction();
      }
      set url(e) {
        this._set("url", (0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__.sanitizeUrl)(e, B));
      }
      set renderer(e) {
        null == e && null == this.rasterFunction ? this._configDefaultRenderer("override") : (this._set("renderer", e), this.updateRenderer());
      }
      readRenderer(e, t, r) {
        const n = t?.layerDefinition?.drawingInfo?.renderer;
        return (0,_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_3__.read)(n, r) || void 0;
      }
      convertVectorFieldData(e, t) {
        var _this = this;
        return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          if (null == e || !_this.rasterInfo) return null;
          const r = _this._rasterJobHandler.instance,
            i = _this.rasterInfo.dataType;
          return r ? r.convertVectorFieldData({
            pixelBlock: e,
            dataType: i
          }, t) : (0,_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_27__.convertVectorFieldData)(e, i);
        })();
      }
      computeStatisticsHistograms(e, t) {
        var _this2 = this;
        return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          e = (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__.ensureClass)(_rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_30__["default"], e).clone();
          const {
              rasterInfo: r
            } = _this2,
            {
              geometry: i
            } = e;
          if (null == i) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("imagery-tile-mixin:compute-statistics-histograms", "geometry must be specified");
          let n = i;
          const {
            spatialReference: o
          } = r;
          i.spatialReference.equals(o) || (yield (0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.load)(), n = "extent" === i.type ? (0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectExtent)(i, o) : (0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectPolygon)(i, o));
          const a = e.pixelSize ?? new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_33__["default"]({
              x: r.pixelSize.x,
              y: r.pixelSize.y,
              spatialReference: o
            }),
            {
              extent: u,
              width: c,
              height: d
            } = (0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_23__.snapToRaster)(r, n, a),
            m = yield _this2.fetchPixels(u, c, d, {
              ...t,
              interpolation: "nearest"
            });
          if (null == m.pixelBlock) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("imagery-tile-mixin:compute-statistics-histograms", "failed to fetch pixels");
          const h = yield (0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_23__.clip)(m.pixelBlock, u, n),
            p = _this2._rasterJobHandler.instance;
          return p ? p.computeStatisticsHistograms({
            pixelBlock: h
          }, t) : (0,_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_26__.computeStatisticsHistograms)(h);
        })();
      }
      createFlowMesh(e, t) {
        var _this3 = this;
        return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          const r = _this3._rasterJobHandler.instance;
          return r ? r.createFlowMesh(e, t) : (0,_views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_31__.createFlowMesh)(e.meshType, e.simulationSettings, e.flowData, null != t.signal ? t.signal : new AbortController().signal);
        })();
      }
      normalizeRasterFetchOptions(e) {
        const {
          multidimensionalInfo: t
        } = this.rasterInfo ?? {};
        if (null == t) return e;
        let r = e.multidimensionalDefinition || this.multidimensionalDefinition;
        r?.length || (r = (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__.getDefaultMultidimensionalDefinition)(this.raster.rasterInfo, {
          multidimensionalSubset: this.multidimensionalSubset
        }));
        const i = e.timeExtent || this.timeExtent;
        if (null != r && null != i && (null != i.start || null != i.end)) {
          r = r.map(e => e.clone());
          const n = t.variables.find(({
              name: e
            }) => e === r[0].variableName)?.dimensions?.find(({
              name: e
            }) => "StdTime" === e),
            s = r.find(({
              dimensionName: e
            }) => "StdTime" === e);
          if (!n || !s) return {
            ...e,
            multidimensionalDefinition: null
          };
          const {
              start: o,
              end: a
            } = i,
            l = null == o ? null : o.getTime(),
            u = null == a ? null : a.getTime(),
            c = l ?? u,
            d = u ?? l;
          if (null != n.values) {
            const e = n.values.filter(e => {
              if (Array.isArray(e)) {
                if (c === d) return e[0] <= c && e[1] >= c;
                const t = e[0] <= c && e[1] > c || e[0] < d && e[1] >= d,
                  r = e[0] >= c && e[1] <= d || e[0] < c && e[1] > d;
                return t || r;
              }
              return c === d ? e === c : e >= c && e <= d;
            });
            if (e.length) {
              const t = e.sort((e, t) => {
                const r = Array.isArray(e) ? e[0] : e,
                  i = Array.isArray(e) ? e[1] : e,
                  n = Array.isArray(t) ? t[0] : t,
                  s = Array.isArray(t) ? t[1] : t;
                if (c === d) return r - n;
                return Math.abs(i - d) - Math.abs(s - d);
              })[0];
              s.values = [t];
            } else r = null;
          } else if (n.hasRegularIntervals && n.extent) {
            const [e, t] = n.extent;
            c > t || d < e ? r = null : s.values = c === d ? [c] : [Math.max(e, c), Math.min(t, d)];
          }
        }
        return null != r && (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__.hasExcludedVariableOrDimension)(r, this.multidimensionalSubset) ? {
          ...e,
          multidimensionalDefinition: null
        } : {
          ...e,
          multidimensionalDefinition: r
        };
      }
      updateRasterFunction() {
        var _this4 = this;
        return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          if (!_this4.loaded || "imagery-tile" !== _this4.type || !_this4.rasterFunction && !_this4._cachedRasterFunctionJson || JSON.stringify(_this4.rasterFunction) === JSON.stringify(_this4._cachedRasterFunctionJson)) return;
          if (_this4._isConstructedFromFunctionRaster && "Function" === _this4.raster.datasetFormat) {
            const e = _this4.raster.rasterFunction.toJSON();
            return !_this4.rasterFunction && e && _this4._set("rasterFunction", _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_18__["default"].fromJSON(e)), void (_this4._cachedRasterFunctionJson = _this4.rasterFunction?.toJSON());
          }
          let e,
            t = _this4.raster,
            r = !1;
          "Function" === t.datasetFormat ? (e = t.primaryRasters.rasters, t = e[0], r = !0) : e = [t];
          const {
            rasterFunction: i
          } = _this4;
          if (i) {
            const r = {
              raster: t
            };
            e.length > 1 && e.forEach(e => r[e.url] = e);
            const n = (0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_24__.create)(i.functionDefinition?.toJSON() ?? i.toJSON(), r),
              s = new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_21__["default"]({
                rasterFunction: n
              });
            s.rasterJobHandler = _this4._rasterJobHandler.instance, yield s.open(), _this4._cachedRasterFunctionJson = _this4.rasterFunction?.toJSON(), _this4.raster = s;
          } else _this4.raster = t, _this4._cachedRasterFunctionJson = null, yield t.when();
          if (_this4._cachedRendererJson = null, !r && !i) return;
          const {
              bandIds: n
            } = _this4,
            {
              bandCount: s
            } = _this4.raster.rasterInfo,
            o = n?.length ? n.some(e => e >= s) : s >= 3;
          n && (o || _this4.renderer && "raster-stretch" !== _this4.renderer.type) && _this4._set("bandIds", null), _this4._configDefaultRenderer("auto");
        })();
      }
      updateRenderer() {
        var _this5 = this;
        return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          const {
            loaded: e,
            symbolizer: t
          } = _this5;
          if (!e || !t || !_this5.renderer) return;
          const {
              rasterInfo: r
            } = _this5.raster,
            i = (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__.getDefaultVariablInfo)(r, {
              multidimensionalDefinition: _this5.multidimensionalDefinition,
              multidimensionalSubset: _this5.multidimensionalSubset
            }),
            n = i?.name,
            s = (0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_28__.normalizeRendererJSON)({
              ..._this5.renderer.toJSON(),
              variableName: n
            });
          if (JSON.stringify(_this5._cachedRendererJson) === JSON.stringify(s)) return;
          const o = _this5._rasterJobHandler.instance;
          o && (t.rasterInfo = (0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_28__.getVariableRasterInfo)(r, n), t.rendererJSON = s, t.bind(), yield o.updateSymbolizer(t), _this5._cachedRendererJson = s);
        })();
      }
      applyRenderer(e, t) {
        var _this6 = this;
        return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          const r = e?.pixelBlock;
          if (!(null != r && r.pixels && r.pixels.length > 0)) return null;
          let i;
          yield _this6.updateRenderer();
          const n = _this6._rasterJobHandler.instance,
            s = _this6.bandIds ?? [];
          return i = n ? yield n.symbolize({
            ...e,
            simpleStretchParams: t,
            bandIds: s
          }) : _this6.symbolizer.symbolize({
            ...e,
            simpleStretchParams: t,
            bandIds: s
          }), i;
        })();
      }
      getTileUrl(e, t, r) {
        return "RasterTileServer" === this.raster.datasetFormat ? `${this.url}/tile/${e}/${t}/${r}` : "";
      }
      getCompatibleTileInfo(e, t, r = !1) {
        if (!this.loaded || null == t) return null;
        if (r && e.equals(this.spatialReference)) return this.tileInfo;
        const i = (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_13__.getInfo)(e);
        return _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_20__["default"].create({
          size: 256,
          spatialReference: e,
          origin: i ? {
            x: i.origin[0],
            y: i.origin[1]
          } : {
            x: t.xmin,
            y: t.ymax
          }
        });
      }
      getCompatibleFullExtent(e) {
        return this.loaded ? (this._compatibleFullExtent && this._compatibleFullExtent.spatialReference.equals(e) || (this._compatibleFullExtent = this.raster.computeExtent(e)), this._compatibleFullExtent) : null;
      }
      fetchTile(e, t, r, i = {}) {
        var _this7 = this;
        return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          if (L(_this7), i.requestAsImageElement) {
            const s = _this7.getTileUrl(e, t, r);
            return (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(s, {
              responseType: "image",
              query: {
                ..._this7.refreshParameters,
                ..._this7.raster.ioConfig.customFetchParameters
              },
              signal: i.signal
            }).then(e => e.data);
          }
          const {
            rasterInfo: s
          } = _this7;
          if (null != s.multidimensionalInfo && null == (i = _this7.normalizeRasterFetchOptions(i)).multidimensionalDefinition) {
            const n = i.tileInfo || s.storageInfo.tileInfo;
            return {
              extent: _this7.raster.getTileExtentFromTileInfo(e, t, r, n),
              pixelBlock: null
            };
          }
          return yield _this7._initJobHandler(), yield _this7.updateRasterFunction(), "raster-shaded-relief" === _this7.renderer?.type && (i = {
            ...i,
            buffer: {
              cols: 1,
              rows: 1
            }
          }), _this7.raster.fetchTile(e, t, r, i);
        })();
      }
      fetchPixels(e, t, r, i = {}) {
        var _this8 = this;
        return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          return null != _this8.rasterInfo.multidimensionalInfo && null == (i = _this8.normalizeRasterFetchOptions(i)).multidimensionalDefinition ? {
            extent: e,
            pixelBlock: null
          } : (yield _this8._initJobHandler(), yield _this8.updateRasterFunction(), t = Math.round(t), r = Math.round(r), _this8.raster.fetchPixels(e, t, r, i));
        })();
      }
      identify(e, t = {}) {
        var _this9 = this;
        return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          const {
            raster: r,
            rasterInfo: i
          } = _this9;
          if (null != i.multidimensionalInfo) {
            if (!(i.hasMultidimensionalTranspose && !!((0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__.isMultiSliceOrRangeDefinition)(t.multidimensionalDefinition) || t.transposedVariableName || t.timeExtent)) && null == (t = _this9.normalizeRasterFetchOptions(t)).multidimensionalDefinition) return {
              location: e,
              value: null
            };
          }
          const n = _this9.multidimensionalSubset?.areaOfInterest;
          if (n && !n.contains(e)) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("imagery-tile-mixin:identify", "the request cannot be fulfilled when falling outside of the multidimensional subset");
          return r.identify(e, t);
        })();
      }
      increaseRasterJobHandlerUsage() {
        this._rasterJobHandler.refCount++;
      }
      decreaseRasterJobHandlerUsage() {
        this._rasterJobHandler.refCount--, this._rasterJobHandler.refCount <= 0 && this._shutdownJobHandler();
      }
      hasStandardTime() {
        const e = this.rasterInfo?.multidimensionalInfo;
        if (null == e || "standard-time" !== this.rasterInfo?.dataType) return !1;
        const t = this.multidimensionalDefinition,
          r = t?.[0]?.variableName;
        return e.variables.some(e => e.name === r && (!t?.[0].dimensionName || e.dimensions.some(e => "StdTime" === e.name)));
      }
      getStandardTimeValue(e) {
        return new Date(24 * (e - 25569) * 3600 * 1e3).toString();
      }
      getMultidimensionalSubsetVariables(e) {
        const t = e ?? this.rasterInfo?.multidimensionalInfo;
        return (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__.getSubsetVariablesFromMdInfo)(this.multidimensionalSubset, t);
      }
      _configDefaultSettings() {
        this._configDefaultInterpolation(), this.multidimensionalDefinition || (this.multidimensionalDefinition = (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__.getDefaultMultidimensionalDefinition)(this.raster.rasterInfo, {
          multidimensionalSubset: this.multidimensionalSubset
        })), this.rasterFunction && "Function" === this.raster.datasetFormat && (this._cachedRasterFunctionJson = this.rasterFunction.toJSON()), this._configDefaultRenderer();
      }
      _initJobHandler() {
        var _this10 = this;
        if (null != this._rasterJobHandler.connectionPromise) return this._rasterJobHandler.connectionPromise;
        const e = new _support_RasterJobHandler_js__WEBPACK_IMPORTED_MODULE_19__["default"]();
        return this._rasterJobHandler.connectionPromise = e.initialize().then( /*#__PURE__*/(0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          L(_this10), _this10._rasterJobHandler.instance = e, _this10.raster.rasterJobHandler = e, "Function" === _this10.raster.datasetFormat && _this10.raster.syncJobHandler(), _this10.rasterFunction && (yield _this10.updateRasterFunction().catch(() => {})), _this10.renderer && _this10.updateRenderer();
        })).catch(() => {}), this._rasterJobHandler.connectionPromise;
      }
      _shutdownJobHandler() {
        this._rasterJobHandler.instance && this._rasterJobHandler.instance.destroy(), this._rasterJobHandler.instance = null, this._rasterJobHandler.connectionPromise = null, this._rasterJobHandler.refCount = 0, this._cachedRendererJson = null, this.raster && (this.raster.rasterJobHandler = null);
      }
      _configDefaultInterpolation() {
        if (null == this.interpolation) {
          L(this);
          const {
              raster: e
            } = this,
            t = (0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_28__.getDefaultInterpolation)(e.rasterInfo, e.tileType, this.sourceJSON?.defaultResamplingMethod);
          this._set("interpolation", t);
        }
      }
      _configDefaultRenderer(e = "no") {
        L(this);
        const {
          rasterInfo: t
        } = this.raster;
        !this.bandIds && t.bandCount > 1 && (this.bandIds = (0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_28__.getDefaultBandCombination)(t));
        const r = (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__.getDefaultVariablInfo)(t, {
            multidimensionalDefinition: this.multidimensionalDefinition,
            multidimensionalSubset: this.multidimensionalSubset
          }),
          i = r?.name;
        if (!this.renderer || "override" === e) {
          const e = (0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_28__.createDefaultRenderer)(t, {
              bandIds: this.bandIds,
              variableName: i
            }),
            r = t.statistics,
            n = r && r.length > 0 ? r[0] : null,
            s = n?.max ?? 0,
            o = n?.min ?? 0;
          "WCSServer" === this.raster.datasetFormat && "raster-stretch" === e.type && (s > 1e24 || o < -1e24) && (e.dynamicRangeAdjustment = !0, e.statistics = null, "none" === e.stretchType && (e.stretchType = "min-max")), this.renderer = e;
        }
        const n = (0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_28__.normalizeRendererJSON)({
            ...this.renderer.toJSON(),
            variableName: i
          }),
          s = (0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_28__.getVariableRasterInfo)(t, i);
        this.symbolizer ? (this.symbolizer.rendererJSON = n, this.symbolizer.rasterInfo = s) : this.symbolizer = new _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_29__["default"]({
          rendererJSON: n,
          rasterInfo: s
        });
        const o = this.symbolizer.bind();
        if (o.success) {
          if ("auto" === e) {
            const {
                colormap: e
              } = this.raster.rasterInfo,
              t = this.renderer;
            if (null != e && "raster-colormap" === t.type) {
              const e = (0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_28__.createDefaultRenderer)(this.raster.rasterInfo);
              JSON.stringify(e) !== JSON.stringify(t) && this._configDefaultRenderer("override");
            } else if ("raster-stretch" === t.type) {
              const e = this.bandIds?.length,
                r = t.statistics?.length;
              !t.dynamicRangeAdjustment && r && e && r !== e && this._configDefaultRenderer("override");
            }
          }
        } else B.warn("imagery-tile-mixin", o.error || "The given renderer is not supported by the layer."), "auto" === e && this._configDefaultRenderer("override");
      }
    };
    function L(e) {
      if (!e.raster || !e.rasterInfo) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("imagery-tile", "no raster");
    }
    return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      clonable: !1
    })], V.prototype, "_cachedRendererJson", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      clonable: !1
    })], V.prototype, "_cachedRasterFunctionJson", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      clonable: !1
    })], V.prototype, "_compatibleFullExtent", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      clonable: !1
    })], V.prototype, "_isConstructedFromFunctionRaster", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      clonable: !1
    })], V.prototype, "_rasterJobHandler", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()], V.prototype, "bandIds", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      json: {
        origins: {
          service: {
            read: {
              source: "copyrightText"
            }
          }
        }
      }
    })], V.prototype, "copyright", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      json: {
        read: !1
      }
    })], V.prototype, "fullExtent", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()], V.prototype, "interpolation", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()], V.prototype, "ioConfig", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      type: [_support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_16__["default"]],
      json: {
        write: !0
      }
    })], V.prototype, "multidimensionalDefinition", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      type: _support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_17__["default"],
      json: {
        write: !0
      }
    })], V.prototype, "multidimensionalSubset", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()], V.prototype, "raster", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      type: _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_18__["default"],
      json: {
        name: "renderingRule",
        write: !0
      }
    })], V.prototype, "rasterFunction", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()], V.prototype, "rasterInfo", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()], V.prototype, "sourceJSON", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      readOnly: !0,
      type: _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_32__["default"],
      json: {
        read: !1
      }
    })], V.prototype, "spatialReference", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      type: _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_20__["default"]
    })], V.prototype, "tileInfo", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_15__.url)], V.prototype, "url", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      types: _rasterRenderers_js__WEBPACK_IMPORTED_MODULE_3__.rasterRendererTypes,
      json: {
        name: "layerDefinition.drawingInfo.renderer",
        write: {
          overridePolicy() {
            const e = "raster-stretch" === this.renderer?.type && "none" === this.renderer.stretchType && !this.renderer.useGamma;
            return {
              enabled: !this.loaded || "Raster" === this.raster.tileType || !e
            };
          }
        },
        origins: {
          "web-scene": {
            types: _rasterRenderers_js__WEBPACK_IMPORTED_MODULE_3__.websceneRasterRendererTypes,
            name: "layerDefinition.drawingInfo.renderer",
            write: {
              overridePolicy: e => ({
                enabled: e && "vector-field" !== e.type && "flow" !== e.type
              })
            }
          }
        }
      }
    })], V.prototype, "renderer", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_11__.reader)("renderer")], V.prototype, "readRenderer", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
      clonable: !1
    })], V.prototype, "symbolizer", void 0), V = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.layers.ImageryTileMixin")], V), V;
  };


/***/ }),

/***/ 17654:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry.js */ 6010);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../request.js */ 1897);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ 69237);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Logger.js */ 28191);
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Promise.js */ 99508);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../arcgisLayerUrl.js */ 4583);
/* harmony import */ var _commonProperties_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../commonProperties.js */ 74256);
/* harmony import */ var _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../DimensionalDefinition.js */ 80661);
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../LOD.js */ 2547);
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../RasterStorageInfo.js */ 1137);
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../TileInfo.js */ 51015);
/* harmony import */ var _multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./multidimensionalUtils.js */ 73691);
/* harmony import */ var _RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./RawBlockCache.js */ 59813);
/* harmony import */ var _rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../rasterFormats/pixelRangeUtils.js */ 79092);
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../rasterFormats/RasterCodec.js */ 43675);
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ 26890);
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../rasterFunctions/rasterProjectionHelper.js */ 13110);
/* harmony import */ var _rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../rasterFunctions/vectorFieldUtils.js */ 62265);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../geometry/Extent.js */ 10465);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../geometry/Point.js */ 72062);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




























const J = 8,
  N = 256;
let V = class extends (0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_7__.EsriPromiseMixin)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_5__.JSONSupport) {
  constructor() {
    super(...arguments), this.datasetName = null, this.datasetFormat = null, this.hasUniqueSourceStorageInfo = !0, this.rasterInfo = null, this.ioConfig = {
      sampling: "closest"
    };
  }
  init() {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const e = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.load)();
      _this.addResolvingPromise(e), yield _this.when();
    })();
  }
  normalizeCtorArgs(e) {
    return e?.ioConfig && (e = {
      ...e,
      ioConfig: {
        resolution: null,
        bandIds: null,
        sampling: "closest",
        tileInfo: _TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"].create(),
        ...e.ioConfig
      }
    }), e;
  }
  get _isGlobalWrappableSource() {
    const {
        rasterInfo: e
      } = this,
      t = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(e.spatialReference);
    return null != t && e.extent.width >= t / 2;
  }
  get _hasNoneOrGCSShiftTransform() {
    const {
      transform: e
    } = this.rasterInfo;
    return null == e || "gcs-shift" === e.type;
  }
  set rasterJobHandler(e) {
    this._set("rasterJobHandler", e), "Function" === this.datasetFormat && this.primaryRasters?.rasters?.forEach(t => t.rasterJobHandler = e);
  }
  set url(e) {
    this._set("url", (0,_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__.sanitizeUrl)(e, _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this)));
  }
  open(e) {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("BaseRaster:open-not-implemented", "open() is not implemented");
    })();
  }
  fetchTile(e, t, i, o = {}) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const r = o.tileInfo || _this2.rasterInfo.storageInfo.tileInfo,
        n = _this2.getTileExtentFromTileInfo(e, t, i, r);
      return _this2.fetchPixels(n, r.size[0], r.size[1], o);
    })();
  }
  identify(e, t = {}) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      e = (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__.ensureClass)(_geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"], e).clone().normalize();
      const {
          multidimensionalDefinition: i,
          timeExtent: o
        } = t,
        {
          rasterInfo: r
        } = _this3,
        {
          hasMultidimensionalTranspose: n,
          multidimensionalInfo: s
        } = r;
      let {
        transposedVariableName: l
      } = t;
      const c = null != s && n && (null != o || (0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.isMultiSliceOrRangeDefinition)(i));
      if (c && !l) {
        l = null != i && i.length > 0 ? i[0].variableName ?? void 0 : s.variables[0].name, t = {
          ...t,
          transposedVariableName: l
        };
      }
      t = _this3._getRequestOptionsWithSliceId(t);
      const {
          spatialReference: m,
          extent: f
        } = r,
        {
          datumTransformation: u
        } = t;
      let h = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectPoint)(e, m, u);
      if (!f.intersects(h)) return {
        location: h,
        value: null
      };
      if (null != r.transform) {
        const e = r.transform.inverseTransform(h);
        if (!r.nativeExtent.intersects(e)) return {
          location: e,
          value: null
        };
        h = e;
      }
      let p = 0;
      const d = null != l && null != s && r.hasMultidimensionalTranspose;
      if ("Function" === _this3.datasetFormat) {
        const e = _this3.primaryRasters.rasters[0];
        if (d) return e.identify(h, t);
        const {
            pixelSize: i
          } = r,
          o = 3,
          n = i.x * o / 2,
          s = i.y * o / 2,
          l = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({
            xmin: h.x - n,
            xmax: h.x + n,
            ymin: h.y - s,
            ymax: h.y + s,
            spatialReference: m
          }),
          a = {
            interpolation: "nearest"
          },
          {
            pixelBlock: c
          } = yield e.fetchPixels(l, o, o, a),
          {
            pixelBlock: f
          } = yield _this3.fetchPixels(l, o, o, a);
        if (null == c) return {
          location: h,
          value: null
        };
        const u = Math.floor(o * o * .5),
          p = !c.mask || c.mask[u] ? c.pixels.map(e => e[u]) : null;
        let x;
        return null != f && (x = !f.mask || f.mask[u] ? f.pixels.map(e => e[u]) : void 0), {
          location: h,
          value: p,
          processedValue: x,
          pyramidLevel: 0
        };
      }
      if (!d) if (t.srcResolution) {
        p = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.snapPyramid)(t.srcResolution, r, _this3.ioConfig.sampling).pyramidLevel;
      } else if (p = yield _this3.computeBestPyramidLevelForLocation(e, t), null == p) return {
        location: h,
        value: null
      };
      const y = _this3.identifyPixelLocation(h, p, null, d);
      if (null === y) return {
        location: h,
        value: null
      };
      const {
          row: g,
          col: I,
          rowOffset: k,
          colOffset: T,
          blockWidth: b
        } = y,
        v = l ?? t.sliceId,
        P = (0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getRasterId)(_this3.url, v),
        B = `${p}/${g}/${I}`;
      let M = (0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getBlock)(P, null, B);
      null == M && (M = _this3.fetchRawTile(p, g, I, t), (0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.putBlock)(P, null, B, M));
      const _ = yield M;
      if (!_?.pixels?.length) return {
        location: h,
        value: null
      };
      const W = k * b + T;
      return _this3._processIdentifyResult(_, {
        srcLocation: h,
        position: W,
        pyramidLevel: p,
        useTransposedTile: !!d,
        requestSomeSlices: c,
        identifyOptions: t
      });
    })();
  }
  fetchPixels(e, t, i, o = {}) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      e = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.shiftExtent)(e), o = _this4._getRequestOptionsWithSliceId(o);
      const {
        _hasNoneOrGCSShiftTransform: r
      } = _this4;
      if (o.requestRawData && r) return _this4._fetchPixels(e, t, i, o);
      const n = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(e.spatialReference),
        s = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWrapCount)(e);
      if (null == n || 0 === s || 1 === s && _this4._isGlobalWrappableSource && r) return _this4._fetchPixels(e, t, i, o);
      if (s >= 3) return {
        extent: e,
        pixelBlock: null
      };
      const l = [],
        {
          xmin: a,
          xmax: c
        } = e,
        m = Math.round(n / (c - a) * t),
        f = m - Math.round((n / 2 - a) / (c - a) * t);
      let u = 0;
      const h = [];
      for (let y = 0; y <= s; y++) {
        const r = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({
            xmin: 0 === y ? a : -n / 2,
            xmax: y === s ? c - n * y : n / 2,
            ymin: e.ymin,
            ymax: e.ymax,
            spatialReference: e.spatialReference
          }),
          p = 0 === y ? m - f : y === s ? t - u : m;
        u += p, h.push(p);
        const d = o.disableWrapAround && y > 0 ? null : _this4._fetchPixels(r, p, i, o);
        l.push(d);
      }
      const p = (yield Promise.all(l)).map(e => e?.pixelBlock);
      let d = null;
      const x = {
        width: t,
        height: i
      };
      if (_this4.rasterJobHandler) {
        d = (yield _this4.rasterJobHandler.mosaicAndTransform({
          srcPixelBlocks: p,
          srcMosaicSize: x,
          destDimension: null,
          coefs: null,
          sampleSpacing: null,
          interpolation: "nearest",
          alignmentInfo: null,
          blockWidths: h
        }, o)).pixelBlock;
      } else d = (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.mosaic)(p, x, {
        blockWidths: h
      });
      return {
        extent: e,
        srcExtent: (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectExtent)(e, _this4.rasterInfo.spatialReference, o.datumTransformation),
        pixelBlock: d
      };
    })();
  }
  fetchRawPixels(e, t, i, o = {}) {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      t = {
        x: Math.floor(t.x),
        y: Math.floor(t.y)
      };
      const r = yield _this5._fetchRawTiles(e, t, i, o),
        {
          nativeExtent: n,
          nativePixelSize: s,
          storageInfo: l
        } = _this5.rasterInfo,
        a = 2 ** e,
        c = s.x * a,
        m = s.y * a,
        f = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({
          xmin: n.xmin + c * t.x,
          xmax: n.xmin + c * (t.x + i.width - 1),
          ymin: n.ymax - m * (t.y + i.height - 1),
          ymax: n.ymax - m * t.y,
          spatialReference: n.spatialReference
        });
      if (!r) return {
        extent: f,
        srcExtent: f,
        pixelBlock: null
      };
      const {
        pixelBlocks: u,
        mosaicSize: h
      } = r;
      if (1 === u.length && null != u[0] && u[0].width === i.width && u[0].height === i.height) return {
        extent: f,
        srcExtent: f,
        pixelBlock: r.pixelBlocks[0]
      };
      const p = e > 0 ? l.pyramidBlockWidth : l.blockWidth,
        d = e > 0 ? l.pyramidBlockHeight : l.blockHeight,
        x = {
          x: t.x % p,
          y: t.y % d
        };
      let y;
      if (_this5.rasterJobHandler) {
        y = (yield _this5.rasterJobHandler.mosaicAndTransform({
          srcPixelBlocks: u,
          srcMosaicSize: h,
          destDimension: i,
          clipOffset: x,
          clipSize: i,
          coefs: null,
          sampleSpacing: null,
          interpolation: o.interpolation,
          alignmentInfo: null,
          blockWidths: null
        }, o)).pixelBlock;
      } else y = (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.mosaic)(u, h, {
        clipOffset: x,
        clipSize: i
      });
      return {
        extent: f,
        srcExtent: f,
        pixelBlock: y
      };
    })();
  }
  fetchRawTile(e, t, o, r) {
    throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("BaseRaster:read-not-implemented", "fetchRawTile() is not implemented");
  }
  computeExtent(e) {
    return (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectExtent)(this.rasterInfo.extent, e);
  }
  decodePixelBlock(e, t) {
    return !this.rasterJobHandler || t.useCanvas ? (0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_23__.decode)(e, t) : this.rasterJobHandler.decode({
      data: e,
      options: t
    });
  }
  request(e, i, o = 0) {
    var _this6 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          customFetchParameters: r
        } = _this6.ioConfig,
        {
          range: n,
          query: s,
          headers: l
        } = i;
      o = o ?? i.retryCount ?? _this6.ioConfig.retryCount;
      const a = n ? {
        Range: `bytes=${n.from}-${n.to}`
      } : null;
      try {
        return yield (0,_request_js__WEBPACK_IMPORTED_MODULE_3__["default"])(e, {
          ...i,
          query: {
            ...s,
            ...r
          },
          headers: {
            ...l,
            ...a
          }
        });
      } catch (c) {
        if (o > 0) return o--, _this6.request(e, i, o);
        throw c;
      }
    })();
  }
  getSliceIndex(e) {
    const {
      multidimensionalInfo: t
    } = this.rasterInfo;
    return null == t || null == e || 0 === e.length ? null : (0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.getSliceIndex)(e, t);
  }
  getTileExtentFromTileInfo(e, t, i, o) {
    const r = o.lodAt(e);
    return this.getTileExtent({
      x: r.resolution,
      y: r.resolution
    }, t, i, o.origin, o.spatialReference, o.size);
  }
  updateTileInfo() {
    const {
      storageInfo: e,
      spatialReference: t,
      extent: i,
      pixelSize: o
    } = this.rasterInfo;
    if (!e.tileInfo) {
      const r = [],
        n = e.maximumPyramidLevel || 0;
      let s = Math.max(o.x, o.y),
        l = 1 / .0254 * 96 * s;
      for (let e = 0; e <= n; e++) r.unshift(new _LOD_js__WEBPACK_IMPORTED_MODULE_17__["default"]({
        level: n - e,
        resolution: s,
        scale: l
      })), s *= 2, l *= 2;
      const a = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({
        x: i.xmin,
        y: i.ymax,
        spatialReference: t
      });
      e.tileInfo = new _TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"]({
        origin: a,
        size: [e.blockWidth, e.blockHeight],
        spatialReference: t,
        lods: r
      }), e.isVirtualTileInfo = !0;
    }
  }
  createRemoteDatasetStorageInfo(e, t = 512, i = 512, o) {
    const {
        width: r,
        height: n,
        nativeExtent: s,
        pixelSize: l,
        spatialReference: a
      } = e,
      c = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({
        x: s.xmin,
        y: s.ymax,
        spatialReference: a
      });
    null == o && (o = Math.max(0, Math.round(Math.log(Math.max(r, n)) / Math.LN2 - 8)));
    const m = this.computeBlockBoundary(s, 512, 512, {
      x: s.xmin,
      y: s.ymax
    }, [l], o);
    e.storageInfo = new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_18__["default"]({
      blockWidth: t,
      blockHeight: i,
      pyramidBlockWidth: t,
      pyramidBlockHeight: i,
      origin: c,
      firstPyramidLevel: 1,
      maximumPyramidLevel: o,
      blockBoundary: m
    });
  }
  computeBestPyramidLevelForLocation(e, t = {}) {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return 0;
    })();
  }
  computeBlockBoundary(e, t, i, o, r, n = 0, s = 2) {
    if (1 === r.length && n > 0) {
      r = [...r];
      let {
        x: e,
        y: t
      } = r[0];
      for (let i = 0; i < n; i++) e *= s, t *= s, r.push({
        x: e,
        y: t
      });
    }
    const l = [],
      {
        x: a,
        y: c
      } = o;
    for (let m = 0; m < r.length; m++) {
      const {
        x: o,
        y: n
      } = r[m];
      l.push({
        minCol: Math.floor((e.xmin - a + .1 * o) / t / o),
        maxCol: Math.floor((e.xmax - a - .1 * o) / t / o),
        minRow: Math.floor((c - e.ymax + .1 * n) / i / n),
        maxRow: Math.floor((c - e.ymin - .1 * n) / i / n)
      });
    }
    return l;
  }
  getPyramidPixelSize(e) {
    const {
        nativePixelSize: t
      } = this.rasterInfo,
      {
        pyramidResolutions: i,
        pyramidScalingFactor: o
      } = this.rasterInfo.storageInfo;
    if (0 === e) return t;
    if (null != i && i.length) return i[e - 1];
    const r = o ** e;
    return {
      x: t.x * r,
      y: t.y * r
    };
  }
  identifyPixelLocation(e, t, i, o) {
    const {
        spatialReference: r,
        nativeExtent: n,
        storageInfo: s
      } = this.rasterInfo,
      {
        maximumPyramidLevel: l,
        origin: a,
        transposeInfo: c
      } = s,
      m = o && null != c ? c.tileSize[0] : s.blockWidth,
      f = o && null != c ? c.tileSize[1] : s.blockHeight,
      u = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectPoint)(e, r, i);
    if (!n.intersects(u)) return null;
    if (t < 0 || t > l) return null;
    const h = this.getPyramidPixelSize(t),
      {
        x: p,
        y: d
      } = h,
      x = (a.y - u.y) / d / f,
      y = (u.x - a.x) / p / m,
      g = Math.min(f - 1, Math.floor((x - Math.floor(x)) * f)),
      I = Math.min(m - 1, Math.floor((y - Math.floor(y)) * m));
    return {
      pyramidLevel: t,
      row: Math.floor(x),
      col: Math.floor(y),
      rowOffset: g,
      colOffset: I,
      blockWidth: m,
      srcLocation: u
    };
  }
  getTileExtent(e, t, i, o, r, n) {
    const [s, l] = n,
      a = o.x + i * s * e.x,
      c = a + s * e.x,
      m = o.y - t * l * e.y,
      f = m - l * e.y;
    return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({
      xmin: a,
      xmax: c,
      ymin: f,
      ymax: m,
      spatialReference: r
    });
  }
  getBlockWidthHeight(e) {
    return {
      blockWidth: e > 0 ? this.rasterInfo.storageInfo.pyramidBlockWidth : this.rasterInfo.storageInfo.blockWidth,
      blockHeight: e > 0 ? this.rasterInfo.storageInfo.pyramidBlockHeight : this.rasterInfo.storageInfo.blockHeight
    };
  }
  isBlockOutside(e, t, i) {
    const o = this.rasterInfo.storageInfo.blockBoundary[e];
    return !o || o.maxRow < t || o.maxCol < i || o.minRow > t || o.minCol > i;
  }
  _fetchPixels(e, t, i, o = {}) {
    var _this7 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let r = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWrapCount)(e);
      if (r >= 2) return {
        extent: e,
        pixelBlock: null
      };
      const n = _this7._getSourceDataInfo(e, t, i, o),
        {
          pyramidLevel: s,
          srcResolution: l,
          srcExtent: a,
          srcWidth: c,
          srcHeight: m,
          ul: f
        } = n;
      if (0 === c || 0 === m) return {
        extent: e,
        srcExtent: a,
        pixelBlock: null
      };
      const {
          rasterInfo: u
        } = _this7,
        h = u.transform,
        p = "gcs-shift" === h?.type,
        d = null != (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(e.spatialReference);
      !p && d || (r = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWrapCount)(n.srcExtent, p));
      const x = yield _this7._fetchRawTiles(s, f, {
        width: c,
        height: m,
        wrapCount: r
      }, o);
      if (!x) return {
        extent: e,
        srcExtent: a,
        pixelBlock: null
      };
      const y = u.storageInfo,
        g = s > 0 ? y.pyramidBlockWidth : y.blockWidth,
        I = s > 0 ? y.pyramidBlockHeight : y.blockHeight;
      let {
        x: R,
        y: w
      } = u.pixelSize;
      if (s > 0) {
        const {
          pyramidResolutions: e,
          pyramidScalingFactor: t
        } = y;
        if (null != e && e[s - 1]) ({
          x: R,
          y: w
        } = e[s - 1]);else {
          const e = t ** s;
          R *= e, w *= e;
        }
      }
      const S = u.spatialReference,
        k = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({
          x: R,
          y: w,
          spatialReference: S
        }),
        T = g === c && I === m && f.x % g == 0 && f.y % I == 0,
        b = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({
          x: (e.xmax - e.xmin) / t,
          y: (e.ymax - e.ymin) / i,
          spatialReference: e.spatialReference
        }),
        v = !e.spatialReference.equals(S),
        C = S.isGeographic ? 1e-9 : 1e-4,
        {
          datumTransformation: j
        } = o;
      if (!v && T && 1 === x.pixelBlocks.length && g === t && I === i && _this7._isSameResolution(l, b, C)) return {
        extent: e,
        srcExtent: a,
        srcTilePixelSize: k,
        pixelBlock: x.pixelBlocks[0]
      };
      const H = d && null != (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(a.spatialReference) && _this7._hasNoneOrGCSShiftTransform,
        L = o.requestProjectedLocalDirections && _this7.rasterInfo.dataType.startsWith("vector");
      L && !_this7.rasterJobHandler && (yield (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.load)());
      const D = _this7.rasterJobHandler ? yield _this7.rasterJobHandler.getProjectionOffsetGrid({
        projectedExtent: e,
        srcBufferExtent: x.extent,
        pixelSize: b.toJSON(),
        datumTransformation: j,
        rasterTransform: h,
        hasWrapAround: r > 0 || H,
        isAdaptive: !1 !== _this7.ioConfig.optimizeProjectionAccuracy,
        includeGCSGrid: L
      }, o) : (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getProjectionOffsetGrid)({
        projectedExtent: e,
        srcBufferExtent: x.extent,
        pixelSize: b,
        datumTransformation: j,
        rasterTransform: h,
        hasWrapAround: r > 0 || H,
        isAdaptive: !1,
        includeGCSGrid: L
      });
      let F;
      const A = !o.requestRawData,
        G = {
          rows: D.spacing[0],
          cols: D.spacing[1]
        },
        J = _this7._hasNoneOrGCSShiftTransform ? _this7._getRasterTileAlignmentInfo(s, x.extent.xmin) : void 0,
        {
          pixelBlocks: N,
          mosaicSize: V,
          isPartiallyFilled: U
        } = x;
      let $ = null;
      if (_this7.rasterJobHandler) {
        const e = yield _this7.rasterJobHandler.mosaicAndTransform({
          srcPixelBlocks: N,
          srcMosaicSize: V,
          destDimension: A ? {
            width: t,
            height: i
          } : null,
          coefs: A ? D.coefficients : null,
          sampleSpacing: A ? G : null,
          projectDirections: L,
          gcsGrid: L ? D.gcsGrid : null,
          isUV: "vector-uv" === _this7.rasterInfo.dataType,
          interpolation: o.interpolation,
          alignmentInfo: J,
          blockWidths: null
        }, o);
        ({
          pixelBlock: F,
          localNorthDirections: $
        } = e);
      } else {
        const e = (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.mosaic)(N, V, {
          alignmentInfo: J
        });
        F = A ? (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.approximateTransform)(e, {
          width: t,
          height: i
        }, D.coefficients, G, o.interpolation) : e, L && D.gcsGrid && ($ = (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.getLocalArithmeticNorthRotations)({
          width: t,
          height: i
        }, D.gcsGrid), F = (0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__.convertToLocalDirections)(F, _this7.rasterInfo.dataType, $));
      }
      return o.requestRawData || L ? {
        extent: e,
        srcExtent: a,
        srcTilePixelSize: k,
        pixelBlock: F,
        transformGrid: D,
        localNorthDirections: $,
        isPartiallyFilled: U
      } : {
        extent: e,
        srcExtent: a,
        srcTilePixelSize: k,
        pixelBlock: F
      };
    })();
  }
  _fetchRawTiles(e, t, i, o) {
    var _this8 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          origin: r,
          blockBoundary: n
        } = _this8.rasterInfo.storageInfo,
        {
          blockWidth: s,
          blockHeight: l
        } = _this8.getBlockWidthHeight(e);
      let {
          x: a,
          y: c
        } = t,
        {
          width: m,
          height: f,
          wrapCount: u
        } = i;
      const h = _this8._getRasterTileAlignmentInfo(e, 0);
      o.buffer && (a -= o.buffer.cols, c -= o.buffer.rows, m += 2 * o.buffer.cols, f += 2 * o.buffer.rows);
      let p = 0,
        d = 0,
        x = 0;
      if (u && null != h) {
        ({
          worldColumnCountFromOrigin: d,
          originColumnOffset: x,
          rightPadding: p
        } = h);
        d * h.blockWidth - p >= a + m && (p = 0);
      }
      const y = Math.floor(a / s),
        g = Math.floor(c / l),
        I = Math.floor((a + m + p - 1) / s),
        R = Math.floor((c + f + p - 1) / l),
        w = n[e];
      if (!w) return null;
      const {
        minRow: S,
        minCol: k,
        maxCol: T,
        maxRow: b
      } = w;
      if (0 === u && (R < S || I < k || g > b || y > T)) return null;
      const v = new Array();
      let P = !1;
      const B = null == _this8.ioConfig.allowPartialFill ? o.allowPartialFill : _this8.ioConfig.allowPartialFill;
      for (let z = g; z <= R; z++) for (let t = y; t <= I; t++) {
        let i = t;
        if (!o.disableWrapAround && u && null != h && d <= t && (i = t - d - x), z >= S && i >= k && b >= z && T >= i) {
          const t = _this8._fetchRawTile(e, z, i, o);
          B ? v.push(new Promise(e => {
            t.then(t => e(t)).catch(() => {
              P = !0, e(null);
            });
          })) : v.push(t);
        } else v.push(Promise.resolve(null));
      }
      if (0 === v.length) return null;
      const M = yield Promise.all(v),
        _ = {
          height: (R - g + 1) * l,
          width: (I - y + 1) * s
        },
        {
          spatialReference: W
        } = _this8.rasterInfo,
        C = _this8.getPyramidPixelSize(e),
        {
          x: j,
          y: H
        } = C;
      return {
        extent: new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({
          xmin: r.x + y * s * j,
          xmax: r.x + (I + 1) * s * j,
          ymin: r.y - (R + 1) * l * H,
          ymax: r.y - g * l * H,
          spatialReference: W
        }),
        pixelBlocks: M,
        mosaicSize: _,
        isPartiallyFilled: P
      };
    })();
  }
  _isSameResolution(e, t, i) {
    return Math.abs(e.x - t.x) < i && Math.abs(e.y - t.y) < i;
  }
  _fetchRawTile(e, t, i, o) {
    const r = this.rasterInfo.storageInfo.blockBoundary[e];
    if (!r) return Promise.resolve(null);
    const {
      minRow: n,
      minCol: l,
      maxCol: a,
      maxRow: c
    } = r;
    if (t < n || i < l || t > c || i > a) return Promise.resolve(null);
    const m = (0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getRasterId)(this.url, o.sliceId),
      f = `${e}/${t}/${i}`;
    let u = (0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getBlock)(m, o.registryId, f);
    if (null == u) {
      const r = new AbortController();
      u = this.fetchRawTile(e, t, i, {
        ...o,
        signal: r.signal
      }), (0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.putBlock)(m, o.registryId, f, u, r), u.catch(() => (0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.deleteBlock)(m, o.registryId, f));
    }
    return o.signal && (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.onAbort)(o, () => {
      (0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.decreaseRefCount)(m, o.registryId, f);
    }), u;
  }
  _computeMagDirValues(e) {
    const {
      bandCount: t,
      dataType: i
    } = this.rasterInfo;
    if (!(2 === t && "vector-magdir" === i || "vector-uv" === i) || 2 !== e?.length || !e[0]?.length) return null;
    const o = e[0].length;
    if ("vector-magdir" === i) {
      const t = e[1].map(e => (e + 360) % 360);
      return [e[0], t];
    }
    const [r, n] = e,
      s = [],
      l = [];
    for (let a = 0; a < o; a++) {
      const [e, t] = (0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__.uvComponentToVector)([r[a], n[a]]);
      s.push(e), l.push(t);
    }
    return [s, l];
  }
  _getRasterTileAlignmentInfo(e, t) {
    return null == this._rasterTileAlighmentInfo && (this._rasterTileAlighmentInfo = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getRasterDatasetAlignmentInfo)(this.rasterInfo)), null == this._rasterTileAlighmentInfo.pyramidsInfo ? null : {
      startX: t,
      halfWorldWidth: this._rasterTileAlighmentInfo.halfWorldWidth,
      hasGCSSShiftTransform: this._rasterTileAlighmentInfo.hasGCSSShiftTransform,
      ...this._rasterTileAlighmentInfo.pyramidsInfo[e]
    };
  }
  _getSourceDataInfo(e, t, i, o = {}) {
    const r = {
      datumTransformation: o.datumTransformation,
      pyramidLevel: 0,
      pyramidResolution: null,
      srcExtent: null,
      srcHeight: 0,
      srcResolution: null,
      srcWidth: 0,
      ul: {
        x: 0,
        y: 0
      }
    };
    o.srcResolution && (r.srcResolution = o.srcResolution, this._updateSourceDataInfo(e, r));
    const n = this.rasterInfo.storageInfo.maximumPyramidLevel || 0,
      {
        srcWidth: s,
        srcHeight: l,
        pyramidLevel: a
      } = r,
      c = s / t,
      m = l / i,
      f = a < n && c * m >= 16,
      u = a === n && this._requireTooManySrcTiles(s, l, t, i);
    if (f || u || 0 === s || 0 === l) {
      const s = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({
        x: (e.xmax - e.xmin) / t,
        y: (e.ymax - e.ymin) / i,
        spatialReference: e.spatialReference
      });
      let l = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectResolution)(s, this.rasterInfo.spatialReference, e, r.datumTransformation);
      const u = !l || o.srcResolution && l.x + l.y < o.srcResolution.x + o.srcResolution.y;
      if (f && o.srcResolution && u) {
        const e = Math.round(Math.log(Math.max(c, m)) / Math.LN2) - 1;
        if (n - a + 3 >= e) {
          const t = 2 ** e;
          l = {
            x: o.srcResolution.x * t,
            y: o.srcResolution.y * t
          };
        }
      }
      l && (r.srcResolution = l, this._updateSourceDataInfo(e, r));
    }
    return this._requireTooManySrcTiles(r.srcWidth, r.srcHeight, t, i) && (r.srcWidth = 0, r.srcHeight = 0), r;
  }
  _requireTooManySrcTiles(e, t, i, o) {
    const {
      tileInfo: r
    } = this.rasterInfo.storageInfo;
    return Math.ceil(e / r.size[0]) * Math.ceil(t / r.size[1]) >= N || e / i > J || t / o > J;
  }
  _updateSourceDataInfo(e, t) {
    t.srcWidth = 0, t.srcHeight = 0;
    const {
        rasterInfo: i
      } = this,
      o = i.spatialReference,
      {
        srcResolution: r,
        datumTransformation: n
      } = t,
      {
        pyramidLevel: s,
        pyramidResolution: l,
        excessiveReading: a
      } = (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.snapPyramid)(r, i, this.ioConfig.sampling);
    if (a) return;
    let c = t.srcExtent || (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectExtent)(e, o, n);
    if (null == c) return;
    const m = i.transform;
    m && (c = m.inverseTransform(c)), t.srcExtent = c;
    const {
        x: f,
        y: u
      } = i.storageInfo.origin,
      h = Math.floor((c.xmin - f) / l.x + .1),
      p = Math.floor((u - c.ymax) / l.y + .1),
      d = Math.floor((c.xmax - f) / l.x - .1),
      x = Math.floor((u - c.ymin) / l.y - .1),
      y = c.width < .1 * l.x ? 0 : d - h + 1,
      g = c.height < .1 * l.y ? 0 : x - p + 1;
    t.pyramidLevel = s, t.pyramidResolution = l, t.srcWidth = y, t.srcHeight = g, t.ul = {
      x: h,
      y: p
    };
  }
  _getRequestOptionsWithSliceId(e) {
    return null != this.rasterInfo.multidimensionalInfo && null == e.sliceId && (e = {
      ...e,
      sliceId: this.getSliceIndex(e.multidimensionalDefinition)
    }), e;
  }
  _processIdentifyResult(e, t) {
    const {
        srcLocation: i,
        position: o,
        pyramidLevel: r,
        useTransposedTile: n
      } = t,
      s = e.pixels[0].length / e.width / e.height;
    if (!(!e.mask || e.mask[o])) return {
      location: i,
      value: null
    };
    const {
      multidimensionalInfo: l
    } = this.rasterInfo;
    if (null == l || !n) {
      const t = e.pixels.map(e => e[o]),
        n = {
          location: i,
          value: t,
          pyramidLevel: r
        },
        s = this._computeMagDirValues(t.map(e => [e]));
      return s?.length && (n.magdirValue = s.map(e => e[0])), n;
    }
    let a = e.pixels.map(e => e.slice(o * s, o * s + s)),
      c = this._computeMagDirValues(a);
    const {
      requestSomeSlices: m,
      identifyOptions: f
    } = t;
    let h = (0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.createSlices)(l, f.transposedVariableName);
    if (m) {
      const e = (0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.getSliceIds)(h, f.multidimensionalDefinition, f.timeExtent);
      a = a.map(t => e.map(e => t[e])), c = c?.map(t => e.map(e => t[e])), h = e.map(e => h[e]);
    }
    const p = e.noDataValues || this.rasterInfo.noDataValue,
      d = {
        pixels: a,
        pixelType: e.pixelType
      };
    let x;
    null != p && ((0,_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_22__.convertNoDataToMask)(d, p), x = d.mask);
    return {
      location: i,
      value: null,
      dataSeries: h.map((e, t) => {
        const i = {
          value: 0 === x?.[t] ? null : a.map(e => e[t]),
          multidimensionalDefinition: e.multidimensionalDefinition.map(e => new _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_16__["default"]({
            ...e,
            isSlice: !0
          }))
        };
        return c?.length && (i.magdirValue = [c[0][t], c[1][t]]), i;
      }),
      pyramidLevel: r
    };
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()], V.prototype, "_rasterTileAlighmentInfo", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  readOnly: !0
})], V.prototype, "_isGlobalWrappableSource", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  readOnly: !0
})], V.prototype, "_hasNoneOrGCSShiftTransform", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()], V.prototype, "rasterJobHandler", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_15__.url)], V.prototype, "url", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  type: String,
  json: {
    write: !0
  }
})], V.prototype, "datasetName", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({
  type: String,
  json: {
    write: !0
  }
})], V.prototype, "datasetFormat", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()], V.prototype, "hasUniqueSourceStorageInfo", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()], V.prototype, "rasterInfo", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()], V.prototype, "ioConfig", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()], V.prototype, "sourceJSON", void 0), V = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.layers.support.rasterDatasets.BaseRaster")], V);
const U = V;


/***/ }),

/***/ 62721:
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry.js */ 6010);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../LOD.js */ 2547);
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterInfo.js */ 14385);
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../RasterStorageInfo.js */ 1137);
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../TileInfo.js */ 51015);
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./BaseRaster.js */ 17654);
/* harmony import */ var _DBFParser_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./DBFParser.js */ 59457);
/* harmony import */ var _rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterTransforms/utils.js */ 59354);
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ 87096);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ 68230);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Extent.js */ 10465);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/Point.js */ 72062);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



















const g = new Map();
g.set("int16", "esriFieldTypeSmallInteger"), g.set("int32", "esriFieldTypeInteger"), g.set("int64", "esriFieldTypeInteger"), g.set("float32", "esriFieldTypeSingle"), g.set("float64", "esriFieldTypeDouble"), g.set("text", "esriFieldTypeString");
const y = 8;
let x = class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_13__["default"] {
  constructor() {
    super(...arguments), this.storageInfo = null, this.datasetFormat = "CRF";
  }
  open(e) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this.init();
      const {
        data: r
      } = yield _this.request(_this.url + "/conf.json", {
        signal: e?.signal
      });
      if (!_this._validateHeader(r)) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("cloudraster:open", "Invalid or unsupported conf.json.");
      _this.datasetName = _this.url.slice(_this.url.lastIndexOf("/") + 1);
      const {
        storageInfo: o,
        rasterInfo: i
      } = _this._parseHeader(r);
      if ("thematic" === i.dataType) {
        const e = yield _this._fetchAuxiliaryInformation();
        i.attributeTable = e;
      }
      _this._set("storageInfo", o), _this._set("rasterInfo", i), _this.ioConfig.retryCount = _this.ioConfig.retryCount || 0;
    })();
  }
  fetchRawTile(e, t, r, o = {}) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          transposeInfo: i
        } = _this2.rasterInfo.storageInfo,
        {
          transposedVariableName: s
        } = o,
        a = !(!i || !s),
        n = a ? 0 : _this2.rasterInfo.storageInfo.maximumPyramidLevel - e;
      if (n < 0) return null;
      const l = _this2._buildCacheFilePath(n, t, r, o.multidimensionalDefinition, s),
        f = _this2._getIndexRecordFromBundle(t, r, a),
        m = yield _this2.request(l, {
          range: {
            from: 0,
            to: _this2.storageInfo.headerSize - 1
          },
          responseType: "array-buffer",
          signal: o.signal
        });
      if (!m) return null;
      const c = new Uint8Array(m.data),
        p = _this2._getTileEndAndContentType(c, f);
      if (0 === p.recordSize) return null;
      const d = yield _this2.request(l, {
        range: {
          from: p.position,
          to: p.position + p.recordSize
        },
        responseType: "array-buffer",
        signal: o.signal
      });
      if (!d) return null;
      const [u, h] = _this2._getTileSize(a);
      return _this2.decodePixelBlock(d.data, {
        width: u,
        height: h,
        planes: null,
        pixelType: null,
        returnInterleaved: a
      });
    })();
  }
  _validateHeader(e) {
    const t = ["origin", "extent", "geodataXform", "LODInfos", "blockWidth", "blockHeight", "bandCount", "pixelType", "pixelSizeX", "pixelSizeY", "format", "packetSize"];
    return e && "RasterInfo" === e.type && !t.some(t => !e[t]);
  }
  _parseHeader(e) {
    const t = ["u1", "u2", "u4", "u8", "s8", "u16", "s16", "u32", "s32", "f32", "f64"][e.pixelType],
      {
        bandCount: r,
        colormap: o,
        blockWidth: l,
        blockHeight: f,
        firstPyramidLevel: m,
        maximumPyramidLevel: c
      } = e,
      p = e.statistics?.map(e => ({
        min: e.min,
        max: e.max,
        avg: e.mean,
        stddev: e.standardDeviation,
        median: e.median,
        mode: e.mode
      })),
      g = e.histograms?.[0]?.counts?.length ? e.histograms : null,
      x = e.extent.spatialReference,
      S = e.geodataXform?.spatialReference,
      I = new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__["default"](x?.wkid || x?.wkt || x?.wkt2 ? x : S);
    let w = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_18__["default"]({
      xmin: e.extent.xmin,
      ymin: e.extent.ymin,
      xmax: e.extent.xmax,
      ymax: e.extent.ymax,
      spatialReference: I
    });
    const _ = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__["default"]({
        x: e.pixelSizeX,
        y: e.pixelSizeY,
        spatialReference: I
      }),
      v = Math.round((w.xmax - w.xmin) / _.x),
      b = Math.round((w.ymax - w.ymin) / _.y),
      z = this._parseTransform(e.geodataXform),
      T = z ? w : null;
    z && (w = z.forwardTransform(w), _.x = (w.xmax - w.xmin) / v, _.y = (w.ymax - w.ymin) / b);
    const k = e.properties ?? {},
      j = e.format.toLowerCase().replace("cache/", ""),
      C = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__["default"](e.origin.x, e.origin.y, I);
    let R, F, P, H;
    if (o?.colors) for (R = [], F = 0; F < o.colors.length; F++) P = o.colors[F], H = o.values ? o.values[F] : F, R.push([H, 255 & P, P << 16 >>> 24, P << 8 >>> 24, P >>> 24]);
    const D = e.LODInfos,
      L = [];
    for (F = 0; F < D.levels.length; F++) L.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_9__["default"]({
      level: D.levels[F],
      resolution: D.resolutions[F],
      scale: 96 / .0254 * D.resolutions[F]
    }));
    const M = new _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"]({
        dpi: 96,
        lods: L,
        format: j,
        origin: C,
        size: [l, f],
        spatialReference: I
      }),
      O = {
        recordSize: y,
        packetSize: e.packetSize,
        headerSize: e.packetSize * e.packetSize * y + 64
      },
      B = [{
        maxCol: Math.ceil(v / l) - 1,
        maxRow: Math.ceil(b / f) - 1,
        minCol: 0,
        minRow: 0
      }];
    let $ = 2;
    if (c > 0) for (F = 0; F < c; F++) B.push({
      maxCol: Math.ceil(v / $ / l) - 1,
      maxRow: Math.ceil(b / $ / f) - 1,
      minCol: 0,
      minRow: 0
    }), $ *= 2;
    const N = e.mdInfo;
    let q = null;
    if (N && k._yxs) {
      const e = k._yxs;
      q = {
        packetSize: e.PacketSize,
        tileSize: [e.TileXSize, e.TileYSize]
      };
    }
    return {
      storageInfo: O,
      rasterInfo: new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({
        width: v,
        height: b,
        pixelType: t,
        bandCount: r,
        extent: w,
        nativeExtent: T,
        transform: z,
        spatialReference: I,
        pixelSize: _,
        keyProperties: k,
        statistics: p,
        histograms: g,
        multidimensionalInfo: N,
        colormap: R,
        storageInfo: new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({
          blockWidth: l,
          blockHeight: f,
          pyramidBlockWidth: l,
          pyramidBlockHeight: f,
          origin: C,
          tileInfo: M,
          transposeInfo: q,
          firstPyramidLevel: m,
          maximumPyramidLevel: c,
          blockBoundary: B
        })
      })
    };
  }
  _parseTransform(e) {
    if (!(0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_15__.isTransformSupported)(e)) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("cloudraster:open", "the data contains unsupported geodata transform types");
    const r = (0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_15__.readTransform)(e);
    if ("identity" === r.type) return null;
    if ("polynomial" !== r.type || !r.forwardCoefficients?.length || !r.inverseCoefficients?.length) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("cloudraster:open", "the data contains unsupported geodata transforms - both forward and inverse coefficients are required currently");
    return r;
  }
  _fetchAuxiliaryInformation(e) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const t = _this3.request(_this3.url + "/conf.vat.json", {
          signal: e
        }).then(e => e.data).catch(() => null),
        r = _this3.request(_this3.url + "/conf.vat.dbf", {
          responseType: "array-buffer",
          signal: e
        }).then(e => e.data).catch(() => null),
        o = yield Promise.all([t, r]);
      let i;
      if (o[0]) {
        let e = o[0].fields;
        const t = o[0].values;
        if (e && t) {
          e = e.map(e => ({
            type: "OID" === e.name ? "esriFieldTypeOID" : g.get(e.type),
            name: e.name,
            alias: e.alias || e.name
          }));
          const r = t.map(e => ({
            attributes: e
          }));
          e && t && (i = {
            fields: e,
            features: r
          });
        }
      }
      if (!i && o[1]) {
        i = _DBFParser_js__WEBPACK_IMPORTED_MODULE_14__["default"].parse(o[1]).recordSet;
      }
      return _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_16__["default"].fromJSON(i);
    })();
  }
  _buildCacheFilePath(e, t, r, o, i) {
    const s = this._getPackageSize(!!i),
      a = Math.floor(t / s) * s,
      n = Math.floor(r / s) * s,
      l = "R" + this._toHexString4(a) + "C" + this._toHexString4(n);
    let f = "L";
    f += e >= 10 ? e.toString() : "0" + e.toString();
    const {
        multidimensionalInfo: m
      } = this.rasterInfo,
      c = o?.[0];
    if (null == m || !c) return `${this.url}/_alllayers/${f}/${l}.bundle`;
    let p = "_yxs";
    if (!i) {
      p = m.variables.find(e => e.name === c.variableName).dimensions[0].values.indexOf(c.values[0]).toString(16);
      const e = 4 - p.length;
      for (let t = 0; t < e; t++) p = "0" + p;
      p = "S" + p;
    }
    const d = this._getVariableFolderName(i || c.variableName);
    return `${this.url}/_alllayers/${d}/${p}/${f}/${l}.bundle`;
  }
  _getPackageSize(e = !1) {
    const {
      transposeInfo: t
    } = this.rasterInfo.storageInfo;
    return e && null != t ? t.packetSize ?? 0 : this.storageInfo.packetSize;
  }
  _getTileSize(e = !1) {
    const {
        storageInfo: t
      } = this.rasterInfo,
      {
        transposeInfo: r
      } = t;
    return e && null != r ? r.tileSize : t.tileInfo.size;
  }
  _getVariableFolderName(e) {
    return "" === (e = e.trim()) ? "_v" : e.replaceAll(/[\{|\}\-]/g, "_").replace("\\*", "_v");
  }
  _getIndexRecordFromBundle(e, t, r = !1) {
    const o = this._getPackageSize(r),
      i = o * (e % o) + t % o;
    if (i < 0) throw new Error("Invalid level / row / col");
    return 20 + i * this.storageInfo.recordSize + 44;
  }
  _getTileEndAndContentType(e, t) {
    const r = e.subarray(t, t + 8);
    let o,
      i = 0;
    for (o = 0; o < 5; o++) i |= (255 & r[o]) << 8 * o;
    const s = 0xffffffffff & i;
    for (i = 0, o = 5; o < 8; o++) i |= (255 & r[o]) << 8 * (o - 5);
    return {
      position: s,
      recordSize: 0xffffffffff & i
    };
  }
  _toHexString4(e) {
    let t = e.toString(16);
    if (4 !== t.length) {
      let e = 4 - t.length;
      for (; e-- > 0;) t = "0" + t;
    }
    return t;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({
  readOnly: !0
})], x.prototype, "storageInfo", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({
  type: String,
  json: {
    write: !0
  }
})], x.prototype, "datasetFormat", void 0), x = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.CloudRaster")], x);
const S = x;


/***/ }),

/***/ 59457:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byteStreamUtils.js */ 25791);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function t(e) {
  const t = e.fields,
    r = e.records,
    n = t.some(e => "oid" === e.name.toLowerCase()) ? "OBJECTID" : "OID",
    i = [{
      name: n,
      type: "esriFieldTypeOID",
      alias: "OID"
    }].concat(t.map(e => ({
      name: e.name,
      type: "esriFieldType" + e.typeName,
      alias: e.name
    }))),
    s = i.map(e => e.name),
    a = [];
  let o = 0,
    l = 0;
  return r.forEach(e => {
    const t = {};
    for (t[n] = o++, l = 1; l < s.length; l++) t[s[l]] = e[l - 1];
    a.push({
      attributes: t
    });
  }), {
    displayFieldName: "",
    fields: i,
    features: a
  };
}
class r {
  static get supportedVersions() {
    return [5];
  }
  static parse(r) {
    const n = new DataView(r),
      i = 3 & n.getUint8(0);
    if (3 !== i) return {
      header: {
        version: i
      },
      recordSet: null
    };
    const s = n.getUint32(4, !0),
      a = n.getUint16(8, !0),
      o = n.getUint16(10, !0),
      l = {
        version: i,
        recordCount: s,
        headerByteCount: a,
        recordByteCount: o
      };
    let p = 32;
    const g = [],
      u = [];
    let d;
    if (3 === i) {
      for (; 13 !== n.getUint8(p);) d = String.fromCharCode(n.getUint8(p + 11)).trim(), g.push({
        name: (0,_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUTF8)(new Uint8Array(r, p, 11)),
        type: d,
        typeName: ["String", "Date", "Double", "Boolean", "String", "Integer"][["C", "D", "F", "L", "M", "N"].indexOf(d)],
        length: n.getUint8(p + 16)
      }), p += 32;
      if (p += 1, g.length > 0) for (; u.length < s && r.byteLength - p > o;) {
        const t = [];
        32 === n.getUint8(p) ? (p += 1, g.forEach(n => {
          if ("C" === n.type) t.push((0,_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUTF8)(new Uint8Array(r, p, n.length)).trim());else if ("N" === n.type) t.push(parseInt(String.fromCharCode.apply(null, new Uint8Array(r, p, n.length)).trim(), 10));else if ("F" === n.type) t.push(parseFloat(String.fromCharCode.apply(null, new Uint8Array(r, p, n.length)).trim()));else if ("D" === n.type) {
            const e = String.fromCharCode.apply(null, new Uint8Array(r, p, n.length)).trim();
            t.push(new Date(parseInt(e.substring(0, 4), 10), parseInt(e.substring(4, 6), 10) - 1, parseInt(e.substring(6, 8), 10)));
          }
          p += n.length;
        }), u.push(t)) : p += o;
      }
    }
    return {
      header: l,
      fields: g,
      records: u,
      recordSet: t({
        fields: g,
        records: u
      })
    };
  }
}


/***/ }),

/***/ 65451:
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BaseRaster.js */ 17654);
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ 26890);
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ 87096);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










let n = class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_8__["default"] {
  constructor() {
    super(...arguments), this.datasetFormat = "Function", this.tileType = "Raster", this.rasterFunction = null;
  }
  open(t) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this.init();
      const {
        rasterFunction: r
      } = _this;
      _this.primaryRasters?.rasters?.length ? r.sourceRasters = _this.primaryRasters.rasters : (_this.primaryRasters = r.getPrimaryRasters(), _this.rasterJobHandler && _this.primaryRasters.rasters?.forEach(t => t.rasterJobHandler = _this.rasterJobHandler));
      const {
          rasters: s,
          rasterIds: a
        } = _this.primaryRasters,
        i = s.map(e => e.rasterInfo ? void 0 : e.open(t));
      yield Promise.all(i);
      const n = s.map(({
          rasterInfo: t
        }) => t),
        c = r.bind({
          rasterInfos: n,
          rasterIds: a
        });
      if (!c.success || 0 === n.length) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("raster-function:open", `cannot bind the function: ${c.error ?? ""}`);
      const l = "Table" === r.functionName ? r : r.functionArguments?.raster;
      "Table" === l?.functionName && (r.rasterInfo.attributeTable = _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_10__["default"].fromJSON(l.functionArguments.attributeTableAsRecordSet)), yield _this.syncJobHandler();
      const p = n[0];
      _this.hasUniqueSourceStorageInfo = 1 === n.length || n.slice(1).every(t => _this._hasSameStorageInfo(t, p)), _this.set("sourceJSON", s[0].sourceJSON), _this.set("rasterInfo", r.rasterInfo);
    })();
  }
  syncJobHandler() {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this2.rasterJobHandler?.updateRasterFunction(_this2.rasterFunction);
    })();
  }
  fetchPixels(t, e, r, s = {}) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        rasters: a,
        rasterIds: o
      } = _this3.primaryRasters;
      let n = !1;
      const {
          interpolation: c
        } = s,
        l = _this3.rasterFunction.flatWebGLFunctionChain?.hasFocalFunction;
      !s.requestRawData && "bilinear" !== c && l && (n = 1 === a.length && !s.skipRasterFunction, s = {
        ...s,
        interpolation: "bilinear",
        requestRawData: n
      });
      const p = a.map(a => a.fetchPixels(t, e, r, s)),
        u = yield Promise.all(p),
        m = u.map(t => t.pixelBlock),
        h = n || s.requestRawData ? u.map(t => t.srcTilePixelSize) : null;
      if (s.skipRasterFunction || m.every(t => null == t)) return u[0];
      const d = u.find(t => null != t.pixelBlock)?.extent ?? t,
        f = _this3.rasterJobHandler ? yield _this3.rasterJobHandler.process({
          extent: d,
          primaryPixelBlocks: m,
          primaryPixelSizes: h,
          primaryRasterIds: o
        }) : _this3.rasterFunction.process({
          extent: d,
          primaryPixelBlocks: m,
          primaryPixelSizes: h,
          primaryRasterIds: o
        }),
        {
          transformGrid: y
        } = u[0];
      if (!n || null == f || null == y) return {
        ...u[0],
        pixelBlock: f
      };
      const x = {
        rows: y.spacing[0],
        cols: y.spacing[1]
      };
      let b;
      if (_this3.rasterJobHandler) {
        b = (yield _this3.rasterJobHandler.mosaicAndTransform({
          srcPixelBlocks: [f],
          srcMosaicSize: {
            width: f.width,
            height: f.height
          },
          destDimension: {
            width: e,
            height: r
          },
          coefs: y.coefficients,
          sampleSpacing: x,
          projectDirections: !1,
          gcsGrid: null,
          isUV: !1,
          interpolation: c,
          alignmentInfo: void 0,
          blockWidths: null
        }, s)).pixelBlock;
      } else b = (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_9__.approximateTransform)(f, {
        width: e,
        height: r
      }, y.coefficients, x, c);
      return {
        extent: t,
        srcExtent: u[0].srcExtent,
        pixelBlock: b
      };
    })();
  }
  _hasSameStorageInfo(t, e) {
    const {
        storageInfo: r,
        pixelSize: s,
        spatialReference: a,
        extent: i
      } = t,
      {
        storageInfo: o,
        pixelSize: n,
        spatialReference: c,
        extent: l
      } = e;
    return s.x === n.x && s.y === n.y && a.equals(c) && i.equals(l) && r.blockHeight === o.blockHeight && r.blockWidth === o.blockWidth && r.maximumPyramidLevel === o.maximumPyramidLevel;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  type: String,
  json: {
    write: !0
  }
})], n.prototype, "datasetFormat", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], n.prototype, "tileType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], n.prototype, "rasterFunction", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], n.prototype, "primaryRasters", void 0), n = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterDatasets.FunctionRaster")], n);
const c = n;


/***/ }),

/***/ 41662:
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry.js */ 6010);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BaseRaster.js */ 17654);
/* harmony import */ var _InMemoryRaster_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./InMemoryRaster.js */ 20627);
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pamParser.js */ 97041);
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../rasterFormats/RasterCodec.js */ 43675);
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ 34589);
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ 95533);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ 68230);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/Extent.js */ 10465);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

















let h = class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"] {
  open(t) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this.init();
      const e = yield _this._fetchData(t);
      let {
        spatialReference: s,
        statistics: r,
        histograms: a,
        transform: o
      } = yield _this._fetchAuxiliaryData(t);
      const i = !s;
      i && (s = new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({
        wkid: 3857
      })), a?.length && null == r && (r = (0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_14__.estimateStatisticsFromHistograms)(a));
      const {
        width: l,
        height: m
      } = e;
      let c = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"]({
        xmin: -.5,
        ymin: .5 - m,
        xmax: l - .5,
        ymax: .5,
        spatialReference: s
      });
      const h = o ? o.forwardTransform(c) : c;
      let d = !0;
      if (o) {
        const t = o.forwardCoefficients;
        d = t && 0 === t[1] && 0 === t[2], d && (o = null, c = h);
      }
      const w = new _InMemoryRaster_js__WEBPACK_IMPORTED_MODULE_11__["default"]({
        data: {
          extent: h,
          nativeExtent: c,
          transform: o,
          pixelBlock: e,
          statistics: r,
          histograms: a,
          keyProperties: {
            DateType: "Processed"
          },
          isPseudoSpatialReference: i
        }
      });
      yield w.open(), w.data = null, _this._set("rasterInfo", w.rasterInfo), _this._inMemoryRaster = w;
    })();
  }
  fetchRawTile(t, e, s, r = {}) {
    return this._inMemoryRaster.fetchRawTile(t, e, s, r);
  }
  _fetchData(t) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          data: s
        } = yield _this2.request(_this2.url, {
          responseType: "array-buffer",
          signal: t?.signal
        }),
        r = (0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_13__.getFormat)(s).toUpperCase();
      if ("JPG" !== r && "PNG" !== r && "GIF" !== r && "BMP" !== r) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("image-aux-raster:open", "the data is not a supported format");
      _this2._set("datasetFormat", r);
      const a = r.toLowerCase(),
        o = "gif" === a || "bmp" === a || !(0,_core_has_js__WEBPACK_IMPORTED_MODULE_4__["default"])("ios"),
        i = yield _this2.decodePixelBlock(s, {
          format: a,
          useCanvas: o,
          hasNoZlibMask: !0
        });
      if (null == i) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("image-aux-raster:open", "the data cannot be decoded");
      return i;
    })();
  }
  _fetchAuxiliaryData(t) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const e = t?.signal,
        a = _this3.ioConfig.skipExtensions ?? [],
        o = a.includes("aux.xml") ? null : _this3.request(_this3.url + ".aux.xml", {
          responseType: "xml",
          signal: e
        }),
        i = _this3.datasetFormat,
        n = "JPG" === i ? "jgw" : "PNG" === i ? "pgw" : "BMP" === i ? "bpw" : null,
        m = n && a.includes(n) ? null : _this3.request(_this3.url.slice(0, _this3.url.lastIndexOf(".")) + "." + n, {
          responseType: "text",
          signal: e
        }),
        p = yield (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.eachAlways)([o, m]);
      if (e?.aborted) throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.createAbortError)();
      const f = (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parsePAMInfo)(p[0].value?.data);
      if (!f.transform) {
        const t = p[1].value ? p[1].value.data.split("\n").slice(0, 6).map(t => Number(t)) : null;
        f.transform = 6 === t?.length ? new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_15__["default"]({
          forwardCoefficients: [t[4], t[5], t[0], -t[1], t[2], -t[3]]
        }) : null;
      }
      return f;
    })();
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  type: String,
  json: {
    write: !0
  }
})], h.prototype, "datasetFormat", void 0), h = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.rasterDatasets.ImageAuxRaster")], h);
const d = h;


/***/ }),

/***/ 75937:
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry.js */ 6010);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ 53661);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/urlUtils.js */ 55050);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../RasterInfo.js */ 14385);
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../RasterStorageInfo.js */ 1137);
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../TileInfo.js */ 51015);
/* harmony import */ var _TilemapCache_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../TilemapCache.js */ 75512);
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./BaseRaster.js */ 17654);
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ 26890);
/* harmony import */ var _rasterTransforms_GCSShiftTransform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../rasterTransforms/GCSShiftTransform.js */ 80633);
/* harmony import */ var _rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../rest/imageService/fetchRasterInfo.js */ 11989);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ 68230);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/Point.js */ 72062);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../geometry/Extent.js */ 10465);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





















let g = class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_15__["default"] {
  constructor() {
    super(...arguments), this._levelOffset = 0, this._tilemapCache = null, this._slices = null, this.datasetFormat = "RasterTileServer", this.tileType = null;
  }
  open(e) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this.init();
      const r = e?.signal,
        a = _this.sourceJSON ? {
          data: _this.sourceJSON
        } : yield _this.request(_this.url, {
          query: {
            f: "json"
          },
          signal: r
        });
      a.ssl && (_this.url = _this.url.replace(/^http:/i, "https:"));
      const l = a.data;
      if (_this.sourceJSON = l, !l) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("imageserverraster:open", "cannot initialize tiled image service, missing service info");
      if (!l.tileInfo) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("imageserverraster:open", "use ImageryLayer to open non-tiled image services");
      _this._fixScaleInServiceInfo();
      const m = ["jpg", "jpeg", "png", "png8", "png24", "png32", "mixed"];
      _this.tileType = l.cacheType, null == _this.tileType && (m.includes(l.tileInfo.format.toLowerCase()) ? _this.tileType = "Map" : "lerc" === l.tileInfo.format.toLowerCase() ? _this.tileType = "Elevation" : _this.tileType = "Raster"), _this.datasetName = l.name?.slice(l.name.indexOf("/") + 1) ?? "";
      const u = yield _this._fetchRasterInfo({
        signal: r
      });
      if (null == u) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("image-server-raster:open", "cannot initialize image service");
      (0,_rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_18__.patchServiceInfo)(u, l);
      const h = "Map" === _this.tileType ? v(l.tileInfo, l) : _TileInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON(l.tileInfo);
      (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.assertIsSome)(h);
      const [p, d] = _this._computeMinMaxLOD(u, h),
        {
          extent: y,
          pixelSize: x
        } = u,
        g = .5 / u.width * x.x,
        S = Math.max(x.x, x.y),
        {
          lods: I
        } = h;
      ("Map" !== _this.tileType && 0 !== l.maxScale || Math.abs(x.x - x.y) > g || !I.some(e => Math.abs(e.resolution - S) < g)) && (x.x = x.y = p.resolution, u.width = Math.ceil((y.xmax - y.xmin) / x.x - .1), u.height = Math.ceil((y.ymax - y.ymin) / x.y - .1));
      const w = p.level - d.level,
        [j, M] = h.size,
        b = [],
        T = [];
      I.forEach((e, t) => {
        e.level >= d.level && e.level <= p.level && b.push({
          x: e.resolution,
          y: e.resolution
        }), t < I.length - 1 && T.push(Math.round(10 * e.resolution / I[t + 1].resolution) / 10);
      }), b.sort((e, t) => e.x - t.x);
      const _ = _this.computeBlockBoundary(y, j, M, h.origin, b, w),
        O = b.length > 1 ? b.slice(1) : null;
      let R;
      l.transposeInfo && (R = {
        tileSize: [l.transposeInfo.rows, l.transposeInfo.cols],
        packetSize: u.keyProperties?._yxs.PacketSize ?? 0
      });
      const z = T.length <= 1 || T.length >= 3 && T.slice(0, -1).every(e => e === T[0]) ? T[0] ?? 2 : Math.round(10 / (d.resolution / p.resolution) ** (-1 / w)) / 10;
      if (u.storageInfo = new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"]({
        blockWidth: h.size[0],
        blockHeight: h.size[1],
        pyramidBlockWidth: h.size[0],
        pyramidBlockHeight: h.size[1],
        pyramidResolutions: O,
        pyramidScalingFactor: z,
        compression: h.format,
        origin: h.origin,
        firstPyramidLevel: 1,
        maximumPyramidLevel: w,
        tileInfo: h,
        transposeInfo: R,
        blockBoundary: _
      }), _this._fixGCSShift(u), _this._set("rasterInfo", u), l.capabilities.toLowerCase().includes("tilemap")) {
        const e = {
          tileInfo: u.storageInfo.tileInfo,
          parsedUrl: (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.urlToObject)(_this.url),
          url: _this.url,
          tileServers: []
        };
        _this._tilemapCache = new _TilemapCache_js__WEBPACK_IMPORTED_MODULE_14__.TilemapCache({
          layer: e
        });
      }
    })();
  }
  fetchRawTile(e, t, i, s = {}) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          storageInfo: r,
          extent: a
        } = _this2.rasterInfo,
        {
          transposeInfo: l
        } = r,
        o = null != l && !!s.transposedVariableName;
      if (_this2._slices && !o && null == s.sliceId) return null;
      const n = o ? 0 : r.maximumPyramidLevel - e + _this2._levelOffset,
        c = `${_this2.url}/tile/${n}/${t}/${i}`,
        m = _this2._slices ? o ? {
          variable: s.transposedVariableName
        } : {
          sliceId: s.sliceId || 0
        } : null,
        {
          data: h
        } = yield _this2.request(c, {
          query: m,
          responseType: "array-buffer",
          signal: s.signal
        });
      if (!h) return null;
      const f = o ? l.tileSize : r.tileInfo.size,
        p = yield _this2.decodePixelBlock(h, {
          width: f[0],
          height: f[1],
          planes: null,
          pixelType: null,
          isPoint: "Elevation" === _this2.tileType,
          returnInterleaved: o,
          noDataValue: _this2.rasterInfo.noDataValue
        });
      if (null == p) return null;
      const d = r.blockBoundary[e];
      if ("jpg" !== r.compression || i > d.minCol && i < d.maxCol && t > d.minRow && t < d.maxRow) return p;
      const {
          origin: y,
          blockWidth: x,
          blockHeight: g
        } = r,
        {
          x: v,
          y: S
        } = _this2.getPyramidPixelSize(e),
        I = Math.round((a.xmin - y.x) / v) % x,
        w = Math.round((a.xmax - y.x) / v) % x || x,
        j = Math.round((y.y - a.ymax) / S) % g,
        M = Math.round((y.y - a.ymin) / S) % g || g,
        b = i === d.minCol ? I : 0,
        T = t === d.minRow ? j : 0,
        _ = i === d.maxCol ? w : x,
        O = t === d.maxRow ? M : g;
      return (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_16__.setValidBoundary)(p, {
        x: b,
        y: T
      }, {
        width: _ - b,
        height: O - T
      }), p;
    })();
  }
  getSliceIndex(e) {
    if (!this._slices || null == e || 0 === e.length) return null;
    const t = e;
    for (let i = 0; i < this._slices.length; i++) {
      const e = this._slices[i].multidimensionalDefinition;
      if (e.length === t.length && !e.some(e => {
        const i = t.find(t => e.variableName === t.variableName && t.dimensionName === e.dimensionName);
        if (!i) return !0;
        return (Array.isArray(e.values[0]) ? `${e.values[0][0]}-${e.values[0][1]}` : e.values[0]) !== (Array.isArray(i.values[0]) ? `${i.values[0][0]}-${i.values[0][1]}` : i.values[0]);
      })) return i;
    }
    return null;
  }
  fetchVariableStatisticsHistograms(e, t) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const i = _this3.request(_this3.url + "/statistics", {
          query: {
            variable: e,
            f: "json"
          },
          signal: t
        }).then(e => e.data?.statistics),
        s = _this3.request(_this3.url + "/histograms", {
          query: {
            variable: e,
            f: "json"
          },
          signal: t
        }).then(e => e.data?.histograms),
        r = yield Promise.all([i, s]);
      return r[0] && r[0].forEach(e => {
        e.avg = e.mean, e.stddev = e.standardDeviation;
      }), r[1]?.[0]?.counts?.length || (r[1] = null), {
        statistics: r[0] || null,
        histograms: r[1] || null
      };
    })();
  }
  computeBestPyramidLevelForLocation(e, t = {}) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this4._tilemapCache) return 0;
      let i = _this4.identifyPixelLocation(e, 0, t.datumTransformation);
      if (null === i) return null;
      let s = 0;
      const {
        maximumPyramidLevel: r
      } = _this4.rasterInfo.storageInfo;
      let a = r - s + _this4._levelOffset;
      const l = i.srcLocation;
      for (; a >= 0;) {
        try {
          if ("available" === (yield _this4._tilemapCache.fetchAvailability(a, i.row, i.col, t))) break;
        } catch {}
        if (a--, s++, i = _this4.identifyPixelLocation(l, s, t.datumTransformation), null === i) return null;
      }
      return -1 === a || null == i ? null : s;
    })();
  }
  _fetchRasterInfo(e) {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const t = _this5.sourceJSON;
      if ("Map" === _this5.tileType) {
        const e = t.fullExtent || t.extent,
          i = Math.ceil((e.xmax - e.xmin) / t.pixelSizeX - .1),
          s = Math.ceil((e.ymax - e.ymin) / t.pixelSizeY - .1),
          r = _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].fromJSON(t.spatialReference || e.spatialReference),
          a = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__["default"]({
            x: t.pixelSizeX,
            y: t.pixelSizeY,
            spatialReference: r
          });
        return new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({
          width: i,
          height: s,
          bandCount: 3,
          extent: _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromJSON(e),
          spatialReference: r,
          pixelSize: a,
          pixelType: "u8",
          statistics: null,
          keyProperties: {
            DataType: "processed"
          }
        });
      }
      const {
          signal: i
        } = e,
        s = (0,_rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_18__.fetchServiceRasterInfo)(_this5.url, _this5.sourceJSON, {
          signal: i,
          query: _this5.ioConfig.customFetchParameters
        }),
        r = t.hasMultidimensions ? _this5.request(`${_this5.url}/slices`, {
          query: {
            f: "json"
          },
          signal: i
        }).then(e => e.data?.slices).catch(() => null) : null,
        a = yield Promise.all([s, r]);
      return _this5._slices = a[1], a[0];
    })();
  }
  _fixScaleInServiceInfo() {
    const {
      sourceJSON: e
    } = this;
    e.minScale && e.minScale < 0 && (e.minScale = 0), e.maxScale && e.maxScale < 0 && (e.maxScale = 0);
  }
  _fixGCSShift(e) {
    const {
      extent: t,
      spatialReference: i
    } = e;
    t.xmin > -1 && t.xmax > 181 && i?.wkid && i.isGeographic && (e.nativeExtent = e.extent, e.transform = new _rasterTransforms_GCSShiftTransform_js__WEBPACK_IMPORTED_MODULE_17__["default"](), e.extent = e.transform.forwardTransform(t));
  }
  _computeMinMaxLOD(e, t) {
    const {
        pixelSize: i
      } = e,
      s = .5 / e.width * i.x,
      {
        lods: r
      } = t,
      a = t.lodAt(Math.max.apply(null, r.map(e => e.level))),
      l = t.lodAt(Math.min.apply(null, r.map(e => e.level))),
      {
        tileType: o
      } = this;
    if ("Map" === o) return this._levelOffset = r[0].level, [a, l];
    if ("Raster" === o) {
      return [r.find(e => e.resolution === i.x) ?? a, l];
    }
    const {
      minScale: n,
      maxScale: c
    } = this.sourceJSON;
    let m = a;
    c > 0 && (m = r.find(e => Math.abs(e.scale - c) < s), m || (m = r.filter(e => e.scale > c).sort((e, t) => e.scale > t.scale ? 1 : -1)[0] ?? a));
    let u = l;
    return n > 0 && (u = r.find(e => Math.abs(e.scale - n) < s) ?? l, this._levelOffset = u.level - l.level), [m, u];
  }
};
function v(e, t) {
  if (!e) return null;
  const {
    minScale: i,
    maxScale: s,
    minLOD: r,
    maxLOD: a
  } = t;
  if (null != r && null != a) return _TileInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON({
    ...e,
    lods: e.lods.filter(({
      level: e
    }) => null != e && e >= r && e <= a)
  });
  if (0 !== i && 0 !== s) {
    const t = e => Math.round(1e4 * e) / 1e4,
      r = i ? t(i) : 1 / 0,
      a = s ? t(s) : -1 / 0;
    return _TileInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON({
      ...e,
      lods: e.lods.filter(e => {
        const i = t(e.scale);
        return i <= r && i >= a;
      })
    });
  }
  return _TileInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON(e);
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  type: String,
  json: {
    write: !0
  }
})], g.prototype, "datasetFormat", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], g.prototype, "tileType", void 0), g = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.layers.support.rasterDatasets.ImageServerRaster")], g);
const S = g;


/***/ }),

/***/ 20627:
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry.js */ 6010);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterInfo.js */ 14385);
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BaseRaster.js */ 17654);
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ 26890);
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ 34589);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/Extent.js */ 10465);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ 68230);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/















let c = class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__["default"] {
  constructor() {
    super(...arguments), this.datasetFormat = "MEMORY", this.data = null;
  }
  open(t) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this.init();
      const e = _this.data,
        {
          pixelBlock: s,
          statistics: r,
          histograms: i,
          name: a,
          keyProperties: n,
          nativeExtent: m,
          transform: c
        } = _this.data,
        {
          width: h,
          height: f,
          pixelType: u
        } = s,
        d = e.extent ?? new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_14__["default"]({
          xmin: -.5,
          ymin: .5,
          xmax: h - .5,
          ymax: f - .5,
          spatialReference: new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__["default"]({
            wkid: 3857
          })
        }),
        y = e.isPseudoSpatialReference ?? !e.extent,
        x = {
          x: d.width / h,
          y: d.height / f
        },
        g = new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({
          width: h,
          height: f,
          pixelType: u,
          extent: d,
          nativeExtent: m,
          transform: c,
          pixelSize: x,
          spatialReference: d.spatialReference,
          bandCount: s.pixels.length,
          keyProperties: n || {},
          statistics: r,
          isPseudoSpatialReference: y,
          histograms: i
        });
      _this.createRemoteDatasetStorageInfo(g, 512, 512), _this._set("rasterInfo", g), _this.updateTileInfo(), yield _this._buildInMemoryRaster(s, {
        width: 512,
        height: 512
      }, t), _this.datasetName = a, _this.url = "/InMemory/" + a;
    })();
  }
  fetchRawTile(t, e, s, r = {}) {
    const i = this._pixelBlockTiles.get(`${t}/${e}/${s}`);
    return Promise.resolve(i);
  }
  _buildInMemoryRaster(t, r, i) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const o = _this2.rasterInfo.storageInfo.maximumPyramidLevel,
        a = _this2.rasterJobHandler ? _this2.rasterJobHandler.split({
          pixelBlock: t,
          tileSize: r,
          maximumPyramidLevel: o
        }, i) : Promise.resolve((0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_12__.split)(t, r, o)),
        l = null != _this2.rasterInfo.statistics,
        p = null != _this2.rasterInfo.histograms,
        c = l ? Promise.resolve({
          statistics: null,
          histograms: null
        }) : _this2.rasterJobHandler ? _this2.rasterJobHandler.estimateStatisticsHistograms({
          pixelBlock: t
        }, i) : Promise.resolve((0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_13__.estimateStatisticsHistograms)(t)),
        h = yield (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.eachAlways)([a, c]);
      if (!h[0].value && h[1].value) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("inmemory-raster:open", "failed to build in memory raster");
      _this2._pixelBlockTiles = h[0].value, l || (_this2.rasterInfo.statistics = h[1].value?.statistics), p || (_this2.rasterInfo.histograms = h[1].value?.histograms);
    })();
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  type: String,
  json: {
    write: !0
  }
})], c.prototype, "datasetFormat", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], c.prototype, "data", void 0), c = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.rasterDatasets.InMemoryRaster")], c);
const h = c;


/***/ }),

/***/ 76984:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry.js */ 6010);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../PixelBlock.js */ 53416);
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterInfo.js */ 14385);
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../RasterStorageInfo.js */ 1137);
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BaseRaster.js */ 17654);
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pamParser.js */ 97041);
/* harmony import */ var _xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./xmlUtilities.js */ 76023);
/* harmony import */ var _rasterFormats_utils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFormats/utils.js */ 48957);
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ 34589);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ 68230);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Extent.js */ 10465);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/Point.js */ 72062);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



















const y = new Map();
y.set("Int8", "s8"), y.set("UInt8", "u8"), y.set("Int16", "s16"), y.set("UInt16", "u16"), y.set("Int32", "s32"), y.set("UInt32", "u32"), y.set("Float32", "f32"), y.set("Float64", "f32"), y.set("Double64", "f32");
const x = new Map();
x.set("none", {
  blobExtension: ".til",
  isOneSegment: !0,
  decoderFormat: "bip"
}), x.set("lerc", {
  blobExtension: ".lrc",
  isOneSegment: !1,
  decoderFormat: "lerc"
}), x.set("deflate", {
  blobExtension: ".pzp",
  isOneSegment: !0,
  decoderFormat: "deflate"
}), x.set("jpeg", {
  blobExtension: ".pjg",
  isOneSegment: !0,
  decoderFormat: "jpg"
});
let w = class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__["default"] {
  constructor() {
    super(...arguments), this._files = null, this._storageIndex = null, this.datasetFormat = "MRF";
  }
  open(t) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this.init(), _this.datasetName = _this.url.slice(_this.url.lastIndexOf("/") + 1);
      const e = t ? t.signal : null,
        r = yield _this.request(_this.url, {
          responseType: "xml",
          signal: e
        }),
        {
          rasterInfo: s,
          files: o
        } = _this._parseHeader(r.data);
      if (-1 === _this.ioConfig.skipExtensions?.indexOf("aux.xml")) {
        const e = yield _this._fetchAuxiliaryData(t);
        null != e && (s.statistics = e.statistics ?? s.statistics, s.histograms = e.histograms, e.histograms && null == s.statistics && (s.statistics = (0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_16__.estimateStatisticsFromHistograms)(e.histograms)));
      }
      _this._set("rasterInfo", s), _this._files = o;
      const i = yield _this.request(o.index, {
        responseType: "array-buffer",
        signal: e
      });
      _this._storageIndex = _this._parseIndex(i.data);
      const {
          blockWidth: a,
          blockHeight: n
        } = _this.rasterInfo.storageInfo,
        l = _this.rasterInfo.storageInfo.pyramidScalingFactor,
        {
          width: f,
          height: c
        } = _this.rasterInfo,
        p = [],
        m = _this._getBandSegmentCount();
      let u = 0,
        g = -1;
      for (; u < _this._storageIndex.length;) {
        g++;
        const t = Math.ceil(f / a / l ** g) - 1,
          e = Math.ceil(c / n / l ** g) - 1;
        u += (t + 1) * (e + 1) * m * 4, p.push({
          maxRow: e,
          maxCol: t,
          minCol: 0,
          minRow: 0
        });
      }
      _this.rasterInfo.storageInfo.blockBoundary = p, g > 0 && (_this.rasterInfo.storageInfo.firstPyramidLevel = 1, _this.rasterInfo.storageInfo.maximumPyramidLevel = g), _this.updateTileInfo();
    })();
  }
  fetchRawTile(t, e, r, s = {}) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          blockWidth: i,
          blockHeight: a,
          blockBoundary: n
        } = _this2.rasterInfo.storageInfo,
        l = n[t];
      if (!l || l.maxRow < e || l.maxCol < r || l.minRow > e || l.minCol > r) return null;
      const {
          bandCount: f,
          pixelType: c
        } = _this2.rasterInfo,
        {
          ranges: p,
          actualTileWidth: m,
          actualTileHeight: h
        } = _this2._getTileLocation(t, e, r);
      if (!p || 0 === p.length) return null;
      if (0 === p[0].from && 0 === p[0].to) {
        const t = new Uint8Array(i * a);
        return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_9__["default"]({
          width: i,
          height: a,
          pixels: null,
          mask: t,
          validPixelCount: 0
        });
      }
      const {
          bandIds: u
        } = _this2.ioConfig,
        g = _this2._getBandSegmentCount(),
        d = [];
      let y = 0;
      for (y = 0; y < g; y++) u && !u.includes(y) || d.push(_this2.request(_this2._files.data, {
        range: {
          from: p[y].from,
          to: p[y].to
        },
        responseType: "array-buffer",
        signal: s.signal
      }));
      const w = yield Promise.all(d),
        I = w.map(t => t.data.byteLength).reduce((t, e) => t + e),
        b = new Uint8Array(I);
      let A = 0;
      for (y = 0; y < g; y++) b.set(new Uint8Array(w[y].data), A), A += w[y].data.byteLength;
      const F = x.get(_this2.rasterInfo.storageInfo.compression).decoderFormat,
        _ = yield _this2.decodePixelBlock(b.buffer, {
          width: i,
          height: a,
          format: F,
          planes: u?.length || f,
          pixelType: c
        });
      if (null == _) return null;
      let {
        noDataValue: R
      } = _this2.rasterInfo;
      if (null != R && "lerc" !== F && !_.mask && (R = R[0], null != R)) {
        const t = _.width * _.height,
          e = new Uint8Array(t);
        if (Math.abs(R) > 1e24) for (y = 0; y < t; y++) Math.abs((_.pixels[0][y] - R) / R) > 1e-6 && (e[y] = 1);else for (y = 0; y < t; y++) _.pixels[0][y] !== R && (e[y] = 1);
        _.mask = e;
      }
      let S = 0,
        j = 0;
      if (m !== i || h !== a) {
        let t = _.mask;
        if (t) {
          for (y = 0; y < a; y++) if (j = y * i, y < h) for (S = m; S < i; S++) t[j + S] = 0;else for (S = 0; S < i; S++) t[j + S] = 0;
        } else for (t = new Uint8Array(i * a), _.mask = t, y = 0; y < h; y++) for (j = y * i, S = 0; S < m; S++) t[j + S] = 1;
      }
      return _;
    })();
  }
  _parseIndex(t) {
    if (t.byteLength % 16 > 0) throw new Error("invalid array buffer must be multiples of 16");
    let e, r, s, o, i, a;
    if (_rasterFormats_utils_js__WEBPACK_IMPORTED_MODULE_15__.isPlatformLittleEndian) {
      for (r = new Uint8Array(t), o = new ArrayBuffer(t.byteLength), s = new Uint8Array(o), i = 0; i < t.byteLength / 4; i++) for (a = 0; a < 4; a++) s[4 * i + a] = r[4 * i + 3 - a];
      e = new Uint32Array(o);
    } else e = new Uint32Array(t);
    return e;
  }
  _getBandSegmentCount() {
    return x.get(this.rasterInfo.storageInfo.compression).isOneSegment ? 1 : this.rasterInfo.bandCount;
  }
  _getTileLocation(t, e, r) {
    const {
        blockWidth: s,
        blockHeight: o,
        pyramidScalingFactor: i
      } = this.rasterInfo.storageInfo,
      {
        width: a,
        height: n
      } = this.rasterInfo,
      l = this._getBandSegmentCount();
    let f,
      c,
      p,
      m = 0,
      h = 0;
    for (p = 0; p < t; p++) h = i ** p, f = Math.ceil(a / s / h), c = Math.ceil(n / o / h), m += f * c;
    h = i ** t, f = Math.ceil(a / s / h), c = Math.ceil(n / o / h), m += e * f + r, m *= 4 * l;
    const u = this._storageIndex.subarray(m, m + 4 * l);
    let g = 0,
      d = 0;
    const y = [];
    for (let x = 0; x < l; x++) g = u[4 * x] * 2 ** 32 + u[4 * x + 1], d = g + u[4 * x + 2] * 2 ** 32 + u[4 * x + 3], y.push({
      from: g,
      to: d
    });
    return {
      ranges: y,
      actualTileWidth: r < f - 1 ? s : Math.ceil(a / h) - s * (f - 1),
      actualTileHeight: e < c - 1 ? o : Math.ceil(n / h) - o * (c - 1)
    };
  }
  _parseHeader(t) {
    const r = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElement)(t, "MRF_META/Raster");
    if (!r) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("mrf:open", "not a valid MRF format");
    const s = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElement)(r, "Size"),
      o = parseInt(s.getAttribute("x"), 10),
      n = parseInt(s.getAttribute("y"), 10),
      f = parseInt(s.getAttribute("c"), 10),
      m = ((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElementValue)(r, "Compression") || "none").toLowerCase();
    if (!x.has(m)) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("mrf:open", "currently does not support compression " + m);
    const h = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElementValue)(r, "DataType") || "UInt8",
      w = y.get(h);
    if (null == w) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("mrf:open", "currently does not support pixel type " + h);
    const I = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElement)(r, "PageSize"),
      b = parseInt(I.getAttribute("x"), 10),
      A = parseInt(I.getAttribute("y"), 10),
      F = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElement)(r, "DataValues");
    let _, R;
    F && (R = F.getAttribute("NoData"), null != R && (_ = R.trim().split(" ").map(t => parseFloat(t))));
    if ((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElement)(t, "MRF_META/CachedSource")) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("mrf:open", "currently does not support MRF referencing other data files");
    const S = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElement)(t, "MRF_META/GeoTags"),
      j = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElement)(S, "BoundingBox");
    let k,
      M = !1;
    if (null != j) {
      const t = parseFloat(j.getAttribute("minx")),
        e = parseFloat(j.getAttribute("miny")),
        r = parseFloat(j.getAttribute("maxx")),
        s = parseFloat(j.getAttribute("maxy")),
        o = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElementValue)(S, "Projection") || "";
      let i = _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__["default"].WGS84;
      if ("LOCAL_CS[]" !== o) {
        if (o.toLowerCase().startsWith("epsg:")) {
          const t = Number(o.slice(5));
          isNaN(t) || 0 === t || (i = new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__["default"]({
            wkid: t
          }));
        } else i = (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_13__.parseSpatialReference)(o) ?? _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__["default"].WGS84;
      } else M = !0, i = new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__["default"]({
        wkid: 3857
      });
      k = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_18__["default"](t, e, r, s), k.spatialReference = i;
    } else M = !0, k = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_18__["default"]({
      xmin: -.5,
      ymin: .5 - n,
      xmax: o - .5,
      ymax: .5,
      spatialReference: new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__["default"]({
        wkid: 3857
      })
    });
    const T = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElement)(t, "MRF_META/Rsets"),
      C = parseInt(T?.getAttribute("scale") || "2", 10),
      U = k.spatialReference,
      B = new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({
        origin: new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__["default"]({
          x: k.xmin,
          y: k.ymax,
          spatialReference: U
        }),
        blockWidth: b,
        blockHeight: A,
        pyramidBlockWidth: b,
        pyramidBlockHeight: A,
        compression: m,
        pyramidScalingFactor: C
      }),
      E = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__["default"]({
        x: k.width / o,
        y: k.height / n,
        spatialReference: U
      }),
      L = new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({
        width: o,
        height: n,
        extent: k,
        isPseudoSpatialReference: M,
        spatialReference: U,
        bandCount: f,
        pixelType: w,
        pixelSize: E,
        noDataValue: _,
        storageInfo: B
      }),
      P = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElementValue)(t, "datafile"),
      W = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_14__.getElementValue)(t, "IndexFile");
    return {
      rasterInfo: L,
      files: {
        mrf: this.url,
        index: W || this.url.replace(".mrf", ".idx"),
        data: P || this.url.replace(".mrf", x.get(m).blobExtension)
      }
    };
  }
  _fetchAuxiliaryData(t) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        const {
          data: e
        } = yield _this3.request(_this3.url + ".aux.xml", {
          responseType: "xml",
          signal: t?.signal
        });
        return (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_13__.parsePAMInfo)(e);
      } catch {
        return null;
      }
    })();
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()], w.prototype, "_files", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()], w.prototype, "_storageIndex", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({
  type: String,
  json: {
    write: !0
  }
})], w.prototype, "datasetFormat", void 0), w = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterIO.MRFRaster")], w);
const I = w;


/***/ }),

/***/ 7586:
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _CloudRaster_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CloudRaster.js */ 62721);
/* harmony import */ var _ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ImageAuxRaster.js */ 41662);
/* harmony import */ var _ImageServerRaster_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ImageServerRaster.js */ 75937);
/* harmony import */ var _MRFRaster_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MRFRaster.js */ 76984);
/* harmony import */ var _TIFFRaster_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TIFFRaster.js */ 38720);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






const c = new Map();
c.set("CRF", {
  desc: "Cloud Raster Format",
  constructor: _CloudRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]
}), c.set("MRF", {
  desc: "Meta Raster Format",
  constructor: _MRFRaster_js__WEBPACK_IMPORTED_MODULE_5__["default"]
}), c.set("TIFF", {
  desc: "GeoTIFF",
  constructor: _TIFFRaster_js__WEBPACK_IMPORTED_MODULE_6__["default"]
}), c.set("RasterTileServer", {
  desc: "Raster Tile Server",
  constructor: _ImageServerRaster_js__WEBPACK_IMPORTED_MODULE_4__["default"]
}), c.set("JPG", {
  desc: "JPG Raster Format",
  constructor: _ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_3__["default"]
}), c.set("PNG", {
  desc: "PNG Raster Format",
  constructor: _ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_3__["default"]
}), c.set("GIF", {
  desc: "GIF Raster Format",
  constructor: _ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_3__["default"]
}), c.set("BMP", {
  desc: "BMP Raster Format",
  constructor: _ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_3__["default"]
});
class n {
  static get supportedFormats() {
    const t = new Set();
    return c.forEach((e, r) => t.add(r)), t;
  }
  static open(e) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        url: r,
        ioConfig: s,
        sourceJSON: o
      } = e;
      let a = e.datasetFormat;
      null == a && r.lastIndexOf(".") && (a = r.slice(r.lastIndexOf(".") + 1).toUpperCase()), "OVR" === a || "TIF" === a ? a = "TIFF" : "JPG" !== a && "JPEG" !== a && "JFIF" !== a || (a = "JPG"), r.toLowerCase().includes("/imageserver") && !r.toLowerCase().includes("/wcsserver") && (a = "RasterTileServer");
      const n = {
        url: r,
        sourceJSON: o,
        datasetFormat: a,
        ioConfig: s ?? {
          bandIds: null,
          sampling: null
        }
      };
      let l, i;
      if (a && _this.supportedFormats.has(a)) {
        if ("CRF" === a && !s?.enableCRF) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("rasterfactory:open", `cannot open raster: ${r}`);
        return l = c.get(a).constructor, i = new l(n), yield i.open({
          signal: e.signal
        }), i;
      }
      if (a) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("rasterfactory:open", "not a supported format " + a);
      const u = Array.from(c.keys());
      let F = 0;
      const m = () => (a = u[F++], a && ("CRF" !== a || s?.enableCRF) ? (l = c.get(a).constructor, i = new l(n), i.open({
        signal: e.signal
      }).then(() => i).catch(() => m())) : null);
      return m();
    })();
  }
  static register(t, e, r) {
    c.has(t.toUpperCase()) || c.set(t.toUpperCase(), {
      desc: e,
      constructor: r
    });
  }
}


/***/ }),

/***/ 38720:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry.js */ 6010);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ 28191);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterInfo.js */ 14385);
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../RasterStorageInfo.js */ 1137);
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BaseRaster.js */ 17654);
/* harmony import */ var _DBFParser_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./DBFParser.js */ 59457);
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./pamParser.js */ 97041);
/* harmony import */ var _rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFormats/TiffDecoder.js */ 27986);
/* harmony import */ var _rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterFormats/TiffTags.js */ 83429);
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ 34589);
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ 95533);
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ 87096);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ 68230);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../geometry/Extent.js */ 10465);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../geometry/Point.js */ 72062);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






















const S = (e, t) => e.get(t)?.values,
  F = (e, t) => e.get(t)?.values?.[0];
let P = class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__["default"] {
  constructor() {
    super(...arguments), this._files = null, this._headerInfo = null, this._bufferSize = 1048576, this.datasetFormat = "TIFF";
  }
  open(e) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this.init();
      const t = e ? e.signal : null,
        {
          data: s
        } = yield _this.request(_this.url, {
          range: {
            from: 0,
            to: _this._bufferSize
          },
          responseType: "array-buffer",
          signal: t
        });
      if (!s) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tiffraster:open", "failed to open url " + _this.url);
      _this.datasetName = _this.url.slice(_this.url.lastIndexOf("/") + 1, _this.url.lastIndexOf("."));
      const {
          littleEndian: a,
          firstIFDPos: n,
          isBigTiff: o
        } = (0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_15__.parseSignature)(s),
        f = [];
      yield _this._readIFDs(f, s, a, n, 0, o ? 8 : 4, t);
      const {
          imageInfo: l,
          rasterInfo: u
        } = _this._parseIFDs(f),
        p = (0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_15__.getPyramidIFDs)(f),
        d = (0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_15__.getMaskIFDs)(f);
      if (_this._headerInfo = {
        littleEndian: a,
        isBigTiff: o,
        ifds: f,
        pyramidIFDs: p,
        maskIFDs: d,
        ...l
      }, _this._set("rasterInfo", u), !l.isSupported) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tiffraster:open", "this tiff is not supported: " + l.message);
      if (!l.tileWidth) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tiffraster:open", "none-tiled tiff is not optimized for access, convert to COG and retry.");
      u.isPseudoSpatialReference && _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(_this).warn("The spatial reference for this tiff is unsupported. Only EPSG spatial reference codes and Esri WKTs are supported.");
      const y = f[0].get("PREDICTOR")?.values?.[0],
        g = f[0].get("SAMPLEFORMAT")?.values?.[0];
      if (3 === g && 2 === y) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tiffraster:open", "unsupported horizontal difference encoding. Predictor=3 is supported for floatting point data");
      const {
        skipExtensions: T = []
      } = _this.ioConfig;
      if (!T.includes("aux.xml")) {
        const t = yield _this._fetchAuxiliaryMetaData(e);
        null != t && _this._processPAMInfo(t, u);
      }
      T.includes("vat.dbf") || 1 !== u.bandCount || "u8" !== u.pixelType || (u.attributeTable = yield _this._fetchAuxiliaryTable(e), null != u.attributeTable && (u.keyProperties.DataType = "thematic")), _this.updateTileInfo();
    })();
  }
  fetchRawTile(e, t, r, i = {}) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this2._headerInfo?.isSupported || _this2.isBlockOutside(e, t, r)) return null;
      const s = yield _this2._fetchRawTiffTile(e, t, r, !1, i);
      if (null != s && _this2._headerInfo.hasMaskBand) {
        const a = yield _this2._fetchRawTiffTile(e, t, r, !0, i);
        null != a && a.pixels[0] instanceof Uint8Array && (s.mask = a.pixels[0]);
      }
      return s;
    })();
  }
  _parseIFDs(e) {
    const t = (0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_15__.getImageInfo)(e),
      {
        width: r,
        height: i,
        tileWidth: s,
        tileHeight: a,
        planes: f,
        pixelType: l,
        compression: p,
        firstPyramidLevel: c,
        maximumPyramidLevel: h,
        pyramidBlockWidth: m,
        pyramidBlockHeight: y,
        tileBoundary: g,
        affine: T,
        metadata: x
      } = t,
      I = t.extent.spatialReference?.wkt || t.extent.spatialReference?.wkid;
    let R = (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_14__.parseSpatialReference)(I),
      P = !!t.isPseudoGeographic;
    null == R && (P = !0, R = new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"]({
      wkid: 3857
    }));
    const v = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"]({
        ...t.extent,
        spatialReference: R
      }),
      D = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_22__["default"](v ? {
        x: v.xmin,
        y: v.ymax,
        spatialReference: R
      } : {
        x: 0,
        y: 0
      }),
      k = new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({
        blockWidth: s,
        blockHeight: a,
        pyramidBlockWidth: m,
        pyramidBlockHeight: y,
        compression: p,
        origin: D,
        firstPyramidLevel: c,
        maximumPyramidLevel: h,
        blockBoundary: g
      }),
      O = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_22__["default"]({
        x: (v.xmax - v.xmin) / r,
        y: (v.ymax - v.ymin) / i,
        spatialReference: R
      }),
      j = x ? {
        BandProperties: x.bandProperties,
        DataType: x.dataType
      } : {};
    let L = null;
    const B = F(e[0], "PHOTOMETRICINTERPRETATION"),
      z = S(e[0], "COLORMAP");
    if (B <= 3 && z?.length > 3 && z.length % 3 == 0) {
      L = [];
      const e = z.length / 3;
      for (let t = 0; t < e; t++) L.push([t, z[t] >>> 8, z[t + e] >>> 8, z[t + 2 * e] >>> 8]);
    }
    const A = new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({
      width: r,
      height: i,
      bandCount: f,
      pixelType: l,
      pixelSize: O,
      storageInfo: k,
      spatialReference: R,
      isPseudoSpatialReference: P,
      keyProperties: j,
      extent: v,
      colormap: L,
      statistics: x ? x.statistics : null
    });
    return T?.length && (A.nativeExtent = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"]({
      xmin: -.5,
      ymin: .5 - i,
      xmax: r - .5,
      ymax: .5,
      spatialReference: R
    }), A.transform = new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_18__["default"]({
      polynomialOrder: 1,
      forwardCoefficients: [T[2] + T[0] / 2, T[5] - T[3] / 2, T[0], T[3], -T[1], -T[4]]
    }), A.extent = A.transform.forwardTransform(A.nativeExtent), A.pixelSize = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_22__["default"]({
      x: (v.xmax - v.xmin) / r,
      y: (v.ymax - v.ymin) / i,
      spatialReference: R
    }), k.origin.x = -.5, k.origin.y = .5), {
      imageInfo: t,
      rasterInfo: A
    };
  }
  _processPAMInfo(e, t) {
    if (t.statistics = e.statistics ?? t.statistics, t.histograms = e.histograms, e.histograms && null == t.statistics && (t.statistics = (0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_17__.estimateStatisticsFromHistograms)(e.histograms)), e.transform && null == t.transform) {
      t.transform = e.transform, t.nativeExtent = t.extent;
      const r = t.transform.forwardTransform(t.nativeExtent);
      t.pixelSize = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_22__["default"]({
        x: (r.xmax - r.xmin) / t.width,
        y: (r.ymax - r.ymin) / t.height,
        spatialReference: t.spatialReference
      }), t.extent = r;
    }
    t.isPseudoSpatialReference && e.spatialReference && (t.spatialReference = e.spatialReference, t.extent.spatialReference = t.nativeExtent.spatialReference = t.storageInfo.origin.spatialReference = t.spatialReference);
  }
  _readIFDs(e, t, r, i, s, a = 4, n) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!i) return null;
      if (i >= t.byteLength || i < 0) {
        t = (yield _this3.request(_this3.url, {
          range: {
            from: i + s,
            to: i + s + _this3._bufferSize
          },
          responseType: "array-buffer",
          signal: n
        })).data, s = i + s, i = 0;
      }
      const o = yield _this3._readIFD(t, r, i, s, _rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_16__["default"].tiffTags, a, n);
      if (e.push(o.ifd), !o.nextIFD) return null;
      yield _this3._readIFDs(e, t, r, o.nextIFD - s, s, a, n);
    })();
  }
  _readIFD(e, r, i, s, a = _rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_16__["default"].tiffTags, n = 4, o) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!e) return null;
      const f = (0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_15__.parseIFD)(e, r, i, s, a, n);
      if (f.success) {
        const i = [];
        if (f.ifd?.forEach(e => {
          e.values || i.push(e);
        }), i.length > 0) {
          const a = i.map(e => e.offlineOffsetSize).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome),
            n = Math.min.apply(null, a.map(e => e[0]));
          if (Math.min.apply(null, a.map(e => e[0] + e[1])) - n <= _this4._bufferSize) {
            const {
              data: t
            } = yield _this4.request(_this4.url, {
              range: {
                from: n,
                to: n + _this4._bufferSize
              },
              responseType: "array-buffer",
              signal: o
            });
            e = t, s = n, i.forEach(t => (0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_15__.parseFieldValues)(e, r, t, s));
          }
        }
        if (f.ifd?.has("GEOKEYDIRECTORY")) {
          const t = f.ifd.get("GEOKEYDIRECTORY"),
            i = t?.values;
          if (i && i.length > 4) {
            const a = i[0] + "." + i[1] + "." + i[2],
              n = yield _this4._readIFD(e, r, t.valueOffset + 6 - s, s, _rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_16__["default"].geoKeys, 2, o);
            t.data = n.ifd, t.data && t.data.set("GEOTIFFVersion", {
              id: 0,
              type: 2,
              valueCount: 1,
              valueOffset: null,
              values: [a]
            });
          }
        }
        return f;
      }
      if (f.requiredBufferSize && f.requiredBufferSize !== e.byteLength) {
        const t = yield _this4.request(_this4.url, {
          range: {
            from: s,
            to: s + f.requiredBufferSize + 4
          },
          responseType: "array-buffer",
          signal: o
        });
        return (e = t.data).byteLength < f.requiredBufferSize ? null : _this4._readIFD(e, r, 0, s, _rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_16__["default"].tiffTags, 4, o);
      }
    })();
  }
  _fetchRawTiffTile(e, t, r, i, s = {}) {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const a = _this5._getTileLocation(e, t, r, i);
      if (!a) return null;
      const {
          ranges: n,
          actualTileWidth: o,
          actualTileHeight: f,
          ifd: l
        } = a,
        u = n.map(e => _this5.request(_this5.url, {
          range: e,
          responseType: "array-buffer",
          signal: s.signal
        })),
        p = yield Promise.all(u),
        c = p.map(e => e.data.byteLength).reduce((e, t) => e + t),
        h = 1 === p.length ? p[0].data : new ArrayBuffer(c),
        m = [0],
        d = [0];
      if (p.length > 1) {
        const e = new Uint8Array(h);
        for (let t = 0, r = 0; t < p.length; t++) {
          const i = p[t].data;
          e.set(new Uint8Array(i), r), m[t] = r, r += i.byteLength, d[t] = i.byteLength;
        }
      }
      const {
          blockWidth: y,
          blockHeight: g
        } = _this5.getBlockWidthHeight(e),
        T = yield _this5.decodePixelBlock(h, {
          format: "tiff",
          customOptions: {
            headerInfo: _this5._headerInfo,
            ifd: l,
            offsets: m,
            sizes: d
          },
          width: y,
          height: g,
          planes: null,
          pixelType: null
        });
      if (null == T) return null;
      let x, I, w;
      if (o !== y || f !== g) {
        let e = T.mask;
        if (e) {
          for (x = 0; x < g; x++) if (w = x * y, x < f) for (I = o; I < y; I++) e[w + I] = 0;else for (I = 0; I < y; I++) e[w + I] = 0;
        } else for (e = new Uint8Array(y * g), T.mask = e, x = 0; x < f; x++) for (w = x * y, I = 0; I < o; I++) e[w + I] = 1;
      }
      return T;
    })();
  }
  _getTileLocation(e, t, r, i = !1) {
    const {
        firstPyramidLevel: s,
        blockBoundary: a
      } = this.rasterInfo.storageInfo,
      n = 0 === e ? 0 : e - (s - 1),
      {
        _headerInfo: o
      } = this;
    if (!o) return null;
    const f = i ? o.maskIFDs[n] : 0 === n ? o?.ifds[0] : o?.pyramidIFDs[n - 1];
    if (!f) return null;
    const l = (0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_15__.isBSQConfig)(f, o),
      u = S(f, "TILEOFFSETS");
    if (void 0 === u) return null;
    const p = S(f, "TILEBYTECOUNTS"),
      {
        minRow: c,
        minCol: h,
        maxRow: m,
        maxCol: d
      } = a[n];
    if (t > m || r > d || t < c || r < h) return null;
    const y = F(f, "IMAGEWIDTH"),
      g = F(f, "IMAGELENGTH"),
      x = F(f, "TILEWIDTH"),
      I = F(f, "TILELENGTH"),
      w = [];
    if (l) {
      const {
        bandCount: e
      } = this.rasterInfo;
      for (let i = 0; i < e; i++) {
        const e = i * (m + 1) * (d + 1) + t * (d + 1) + r;
        w[i] = {
          from: u[e],
          to: u[e] + p[e] - 1
        };
      }
    } else {
      const e = t * (d + 1) + r;
      w.push({
        from: u[e],
        to: u[e] + p[e] - 1
      });
    }
    for (let T = 0; T < w.length; T++) if (null == w[T].from || !w[T].to || w[T].to < 0) return null;
    return {
      ranges: w,
      ifd: f,
      actualTileWidth: r === d && y % x || x,
      actualTileHeight: t === m && g % I || I
    };
  }
  _fetchAuxiliaryMetaData(e) {
    var _this6 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        const {
          data: t
        } = yield _this6.request(_this6.url + ".aux.xml", {
          responseType: "xml",
          signal: e?.signal
        });
        return (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_14__.parsePAMInfo)(t);
      } catch {
        return null;
      }
    })();
  }
  _fetchAuxiliaryTable(e) {
    var _this7 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        const {
            data: t
          } = yield _this7.request(_this7.url + ".vat.dbf", {
            responseType: "array-buffer",
            signal: e?.signal
          }),
          r = _DBFParser_js__WEBPACK_IMPORTED_MODULE_13__["default"].parse(t);
        return r?.recordSet ? _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_19__["default"].fromJSON(r.recordSet) : null;
      } catch {
        return null;
      }
    })();
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_files", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_headerInfo", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_bufferSize", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  type: String,
  json: {
    write: !0
  }
})], P.prototype, "datasetFormat", void 0), P = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.rasterDatasets.TIFFRaster")], P);
const v = P;


/***/ }),

/***/ 97041:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "parsePAMInfo": () => (/* binding */ S),
/* harmony export */   "parseSpatialReference": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ 6010);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ 53492);
/* harmony import */ var _xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./xmlUtilities.js */ 76023);
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ 95533);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ 68230);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






function u(e, t) {
  if (!e || !t) return null;
  const n = [];
  for (let r = 0; r < e.length; r++) n.push(e[r]), n.push(t[r]);
  return n;
}
function c(e) {
  const t = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElement)(e, "GeodataXform"),
    n = d((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(t, "SpatialReference/WKID") || (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(t, "SpatialReference/WKT"));
  if ("typens:PolynomialXform" !== t.getAttribute("xsi:type")) return {
    spatialReference: n,
    transform: null
  };
  const s = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(t, "PolynomialOrder") ?? 1,
    f = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t, "CoeffX/Double"),
    c = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t, "CoeffY/Double"),
    m = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t, "InverseCoeffX/Double"),
    p = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t, "InverseCoeffY/Double"),
    S = u(f, c),
    C = u(m, p);
  return {
    spatialReference: n,
    transform: S && C && S.length && C.length ? new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_4__["default"]({
      spatialReference: n,
      polynomialOrder: s,
      forwardCoefficients: S,
      inverseCoefficients: C
    }) : null
  };
}
function m(e) {
  const t = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(e, "NoDataValue"),
    n = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElement)(e, "Histograms/HistItem"),
    l = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(n, "HistMin"),
    o = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(n, "HistMax"),
    f = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(n, "BucketCount"),
    u = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(n, "HistCounts")?.split("|").map(e => Number(e));
  let c, m, d, p;
  (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElements)(e, "Metadata/MDI").forEach(e => {
    const t = Number(e.textContent ?? e.nodeValue);
    switch (e.getAttribute("key").toUpperCase()) {
      case "STATISTICS_MINIMUM":
        c = t;
        break;
      case "STATISTICS_MAXIMUM":
        m = t;
        break;
      case "STATISTICS_MEAN":
        d = t;
        break;
      case "STATISTICS_STDDEV":
        p = t;
    }
  });
  const S = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(e, "Metadata/SourceBandIndex");
  return {
    noDataValue: t,
    histogram: u?.length && null != l && null != o ? {
      min: l,
      max: o,
      size: f || u.length,
      counts: u
    } : null,
    sourceBandIndex: S,
    statistics: null != c && null != m ? {
      min: c,
      max: m,
      avg: d,
      stddev: p
    } : null
  };
}
function d(e) {
  if (!e) return null;
  let n = Number(e);
  if (!isNaN(n) && 0 !== n) return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"]({
    wkid: n
  });
  if (e = String(e).trim(), (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__.isWKT2)(e)) return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"]({
    wkt2: e
  });
  const r = e.toUpperCase();
  if (r.startsWith("COMPD_CS")) {
    if (!r.includes("VERTCS") || !r.includes("GEOGCS") && !r.startsWith("PROJCS")) return null;
    const t = r.indexOf("VERTCS"),
      s = r.indexOf("PROJCS"),
      a = s > -1 ? s : r.indexOf("GEOGCS");
    if (-1 === a) return null;
    const i = e.slice(a, e.lastIndexOf("]", t) + 1).trim(),
      l = e.slice(t, e.lastIndexOf("]")).trim();
    n = p(i);
    const o = new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"](n ? {
        wkid: n
      } : {
        wkt: i
      }),
      u = p(l);
    return u && (o.vcsWkid = u), o;
  }
  return r.startsWith("GEOGCS") || r.startsWith("PROJCS") ? (n = p(e), new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"](0 !== n ? {
    wkid: n
  } : {
    wkt: e
  })) : null;
}
function p(e) {
  const t = e.replaceAll("]", "[").replaceAll('"', "").split("[").map(e => e.trim()).filter(e => "" !== e),
    n = t[t.length - 1].split(","),
    r = n[0]?.toLowerCase();
  if (("epsg" === r || "esri" === r) && e.endsWith('"]]')) {
    const e = Number(n[1]);
    if (!isNaN(e) && 0 !== e) return e;
  }
  return 0;
}
function S(t) {
  if ("pamdataset" !== t?.documentElement.tagName?.toLowerCase()) return {};
  const a = {
    spatialReference: null,
    transform: null,
    metadata: {},
    rasterBands: [],
    statistics: null,
    histograms: null
  };
  t.documentElement.childNodes.forEach(e => {
    if (1 === e.nodeType) if ((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.isSameTagIgnoreNS)(e, "SRS")) {
      if (!a.spatialReference) {
        const t = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(e);
        a.spatialReference = d(t);
      }
    } else if ((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.isSameTagIgnoreNS)(e, "Metadata")) {
      if ("xml:ESRI" === e.getAttribute("domain")) {
        const {
          spatialReference: t,
          transform: n
        } = c(e);
        a.transform = n, a.spatialReference || (a.spatialReference = t);
      } else {
        (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElements)(e, "MDI").forEach(e => a.metadata[e.getAttribute("key")] = (0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(e));
      }
    } else if ((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.isSameTagIgnoreNS)(e, "PAMRasterBand")) {
      const t = m(e);
      null != t.sourceBandIndex && null == a.rasterBands[t.sourceBandIndex] ? a.rasterBands[t.sourceBandIndex] = t : a.rasterBands.push(t);
    }
  });
  const i = a.rasterBands;
  if (i.length) {
    const t = !!i[0].statistics;
    a.statistics = t ? i.map(e => e.statistics).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome) : null;
    const n = !!i[0].histogram;
    a.histograms = n ? i.map(e => e.histogram).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome) : null;
  }
  return a;
}


/***/ }),

/***/ 76023:
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getElement": () => (/* binding */ e),
/* harmony export */   "getElementNumericValue": () => (/* binding */ o),
/* harmony export */   "getElementNumericValues": () => (/* binding */ u),
/* harmony export */   "getElementValue": () => (/* binding */ t),
/* harmony export */   "getElementValues": () => (/* binding */ l),
/* harmony export */   "getElements": () => (/* binding */ n),
/* harmony export */   "getNodeNameIgnoreNS": () => (/* binding */ c),
/* harmony export */   "getSpaceDelimitedNumericValues": () => (/* binding */ r),
/* harmony export */   "isSameTagIgnoreNS": () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e, t) {
  if (!e || !t) return [];
  let l = t;
  t.includes("/") ? (l = t.slice(0, t.indexOf("/")), t = t.slice(t.indexOf("/") + 1)) : t = "";
  const r = [];
  if (t) {
    const u = n(e, l);
    for (let e = 0; e < u.length; e++) {
      n(u[e], t).forEach(n => r.push(n));
    }
    return r;
  }
  const u = e.getElementsByTagNameNS("*", l);
  if (!u || 0 === u.length) return [];
  for (let n = 0; n < u.length; n++) r.push(u[n] || u.item(n));
  return r;
}
function e(t, l) {
  if (!t || !l) return null;
  let r = l;
  l.includes("/") ? (r = l.slice(0, l.indexOf("/")), l = l.slice(l.indexOf("/") + 1)) : l = "";
  const u = n(t, r);
  return u.length > 0 ? l ? e(u[0], l) : u[0] : null;
}
function t(n, t = null) {
  const l = t ? e(n, t) : n;
  let r;
  return l ? (r = l.textContent || l.nodeValue, r ? r.trim() : null) : null;
}
function l(e, t) {
  const l = n(e, t),
    r = [];
  let u;
  for (let n = 0; n < l.length; n++) u = l[n].textContent || l[n].nodeValue, u && (u = u.trim(), "" !== u && r.push(u));
  return r;
}
function r(n, e = null) {
  const l = t(n, e);
  return l?.split(" ").map(n => Number(n)) ?? [];
}
function u(n, e) {
  return l(n, e).map(n => Number(n));
}
function o(n, e) {
  const l = t(n, e);
  return Number(l);
}
function i(n, e) {
  const t = n?.nodeName?.toLowerCase(),
    l = e.toLowerCase();
  return t.slice(t.lastIndexOf(":") + 1) === l;
}
function c(n) {
  return n.nodeName.slice(n.nodeName.lastIndexOf(":") + 1);
}


/***/ }),

/***/ 30459:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "clip": () => (/* binding */ a),
/* harmony export */   "snapToRaster": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/unitUtils.js */ 82769);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/Extent.js */ 10465);
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../PixelBlock.js */ 53416);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



function n(e, i) {
  if (e.spatialReference.equals(i)) return e;
  const n = (0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(e.spatialReference),
    a = (0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(i);
  if (n === a) return e;
  const h = n / a;
  return {
    x: e.x * h,
    y: e.y * h
  };
}
function a(_x, _x2, _x3) {
  return _a.apply(this, arguments);
}
function _a() {
  _a = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, e, n) {
    if ("extent" === n.type) return o(t, e, n);
    const {
        width: a,
        height: x
      } = t,
      l = new Uint8Array(a * x),
      {
        contains: m,
        intersects: s
      } = yield Promise.all(/*! import() */[__webpack_require__.e("default-node_modules_arcgis_core_chunks_geometryEngineBase_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_geometryEngine_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/geometryEngine.js */ 72949));
    return s(e, n) ? "polyline" === n.type ? r(t, e, n) : m(n, e) ? t : h(t, e, n) : new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"]({
      pixelType: t.pixelType,
      width: a,
      height: x,
      mask: l,
      maskIsAlpha: !1,
      pixels: [...t.pixels]
    });
  });
  return _a.apply(this, arguments);
}
function h(t, e, n) {
  if (!t) return t;
  const {
      width: a,
      height: h
    } = t,
    o = e.width / a,
    r = e.height / h,
    {
      xmin: x,
      ymax: l
    } = e;
  let m;
  if ("extent" === n.type) {
    const t = (n.xmin - x) / o,
      e = (n.xmax - x) / o,
      i = (l - n.ymax) / r,
      a = (l - n.ymin) / r;
    m = [[[t, i], [t, a], [e, a], [e, i], [t, i]]];
  } else m = n.rings.map(t => t.map(([t, e]) => [(t - x) / o, (l - e) / r]));
  const s = document.createElement("canvas");
  s.width = a, s.height = h;
  const p = s.getContext("2d");
  p.fillStyle = "#f00", m.forEach(t => {
    p.beginPath(), p.moveTo(t[0][0], t[0][1]);
    for (let e = 0; e < t.length; e++) p.lineTo(t[e][0], t[e][1]);
    p.closePath(), p.fill();
  });
  const f = p.getImageData(0, 0, a, h).data,
    y = t.mask,
    c = a * h,
    M = new Uint8Array(c);
  for (let i = 0; i < c; i++) y && !y[i] || (M[i] = f[4 * i + 3] > 127 ? 255 : 0);
  return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"]({
    pixelType: t.pixelType,
    width: a,
    height: h,
    mask: M,
    maskIsAlpha: !1,
    pixels: [...t.pixels]
  });
}
function o(t, e, n) {
  const {
      width: a,
      height: h
    } = t,
    o = new Uint8Array(a * h),
    r = e.width / a,
    x = e.height / h;
  if (n.width / r < .5 || n.height / x < .5) return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"]({
    pixelType: t.pixelType,
    width: a,
    height: h,
    mask: o,
    pixels: [...t.pixels]
  });
  const {
      xmin: l,
      xmax: m,
      ymin: s,
      ymax: p
    } = e,
    {
      xmin: f,
      xmax: y,
      ymin: c,
      ymax: M
    } = n,
    u = Math.max(l, f),
    w = Math.min(m, y),
    d = Math.max(s, c),
    g = Math.min(p, M),
    T = .5 * r,
    k = .5 * x;
  if (w - u < T || g - d < k || w < l + T || u > m - T || d > p - k || g < s + k) return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"]({
    pixelType: t.pixelType,
    width: a,
    height: h,
    mask: o,
    pixels: [...t.pixels]
  });
  const A = Math.max(0, (u - l) / r),
    R = Math.min(a, Math.max(0, (w - l) / r)),
    U = Math.max(0, (p - g) / x),
    j = Math.min(h, Math.max(0, (p - d) / x)),
    E = Math.round(A),
    I = Math.round(R) - 1,
    P = Math.round(U),
    v = Math.round(j) - 1;
  if (E === I && A % 1 > .5 && R % 1 < .5 || P === v && U % 1 > .5 && j % 1 < .5) return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"]({
    pixelType: t.pixelType,
    width: a,
    height: h,
    mask: o,
    pixels: [...t.pixels]
  });
  if (0 === E && 0 === P && I === a && v === h) return t;
  const b = t.mask;
  for (let i = P; i <= v; i++) for (let t = E; t <= I; t++) {
    const e = i * a + t;
    o[e] = b ? b[e] : 255;
  }
  return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"]({
    pixelType: t.pixelType,
    width: a,
    height: h,
    mask: o,
    pixels: [...t.pixels]
  });
}
function r(t, e, n) {
  const {
      width: a,
      height: h
    } = t,
    o = new Uint8Array(a * h),
    r = e.width / a,
    x = e.height / h,
    {
      xmin: l,
      ymax: m
    } = e,
    {
      paths: s
    } = n,
    p = t.mask;
  for (let i = 0; i < s.length; i++) {
    const t = s[i];
    for (let e = 0; e < t.length - 1; e++) {
      const [i, n] = t[e],
        [s, f] = t[e + 1];
      let y = Math.floor((m - n) / x),
        c = Math.floor((m - f) / x);
      if (c < y) {
        const t = y;
        y = c, c = t;
      }
      y = Math.max(0, y), c = Math.min(h - 1, c);
      const M = (s - i) / (f - n);
      for (let t = y; t <= c; t++) {
        const e = t === y ? Math.max(n, f) : (h + 1 - t) * x,
          m = t === c ? Math.min(n, f) : e - x;
        let u = f === n ? Math.floor((i - l) / r) : Math.floor((M * (e - n) + i - l) / r),
          w = f === n ? Math.floor((s - l) / r) : Math.floor((M * (m - n) + i - l) / r);
        if (w < u) {
          const t = u;
          u = w, w = t;
        }
        const d = t * a;
        u = Math.max(0, u), w = Math.min(a - 1, w);
        for (let t = d + u; t <= d + w; t++) o[t] = p ? p[t] : 255;
      }
    }
  }
  return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__["default"]({
    pixelType: t.pixelType,
    width: a,
    height: h,
    mask: o,
    pixels: [...t.pixels]
  });
}
function x(t, i, a, h = !0) {
  const {
      spatialReference: o
    } = t,
    {
      x: r,
      y: x
    } = n(a, o);
  let l, m, s;
  const p = "extent" === i.type ? i : i.extent;
  let {
    xmin: f,
    xmax: y,
    ymax: c,
    ymin: M
  } = p;
  const {
    xmin: u,
    ymax: w
  } = t.extent;
  return h ? (f = u + (f > u ? r * Math.round((f - u) / r) : 0), c = w - (c < w ? x * Math.round((w - c) / x) : 0), y = u + (y > u ? r * Math.round((y - u) / r) : 0), M = w - (M < w ? x * Math.round((w - M) / x) : 0), l = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_2__["default"]({
    xmin: f,
    ymax: c,
    xmax: y,
    ymin: M,
    spatialReference: o
  }), m = Math.round(l.width / r), s = Math.round(l.height / x)) : (m = Math.floor((y - f) / r + .8), s = Math.floor((c - M) / x + .8), f = u + (f > u ? r * Math.floor((f - u) / r + .1) : 0), c = w - (c < w ? x * Math.floor((w - c) / x + .1) : 0), y = f + m * r, M = c - s * x, l = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_2__["default"]({
    xmin: f,
    ymax: c,
    xmax: y,
    ymin: M,
    spatialReference: o
  })), {
    extent: l,
    width: m,
    height: s
  };
}


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_layers_ImageryTileLayer_js.js.map