{"version":3,"file":"node_modules_arcgis_core_layers_TileLayer_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/layers/TileLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../core/Error.js\";import{loadAll as s}from\"../core/loadAll.js\";import{MultiOriginJSONMixin as i}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as o}from\"../core/promiseUtils.js\";import{urlToObject as a,objectToQuery as l,makeAbsolute as n}from\"../core/urlUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import{cast as c}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as h}from\"../core/accessorSupport/decorators/writer.js\";import d from\"../geometry/SpatialReference.js\";import y from\"./Layer.js\";import{APIKeyMixin as f}from\"./mixins/APIKeyMixin.js\";import{ArcGISCachedService as v}from\"./mixins/ArcGISCachedService.js\";import{ArcGISMapService as g}from\"./mixins/ArcGISMapService.js\";import{ArcGISService as S}from\"./mixins/ArcGISService.js\";import{BlendLayer as _}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as j}from\"./mixins/CustomParametersMixin.js\";import{OperationalLayer as T}from\"./mixins/OperationalLayer.js\";import{PortalLayer as b}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as w}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as O}from\"./mixins/ScaleRangeLayer.js\";import{SublayersOwner as L}from\"./mixins/SublayersOwner.js\";import{parse as R,isHostedAgolService as U,isArcGISUrl as P}from\"./support/arcgisLayerUrl.js\";import{url as x}from\"./support/commonProperties.js\";import{createTileBitmap as A}from\"./support/imageBitmapUtils.js\";import M from\"./support/Sublayer.js\";var W;const I=[\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Elevation/World_Hillshade\",\"Elevation/World_Hillshade_Dark\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Ocean_Basemap\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Boundaries_and_Places_Alternate\",\"Reference/World_Transportation\",\"World_Imagery\",\"World_Street_Map\",\"World_Topo_Map\"];let B=W=class extends(_(O(L(v(g(T(b(S(i(w(f(j(y))))))))))))){constructor(...e){super(...e),this.listMode=\"show\",this.isReference=null,this.operationalLayerType=\"ArcGISTiledMapServiceLayer\",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type=\"tile\",this.url=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Map Service\"]},e).catch(o).then((()=>this._fetchService(r)))),Promise.resolve(this)}get attributionDataUrl(){const e=this.parsedUrl?.path.toLowerCase();return e?this._getDefaultAttribution(this._getMapName(e)):null}readSpatialReference(e,r){return(e=e||r.tileInfo?.spatialReference)&&d.fromJSON(e)}writeSublayers(e,r,t,s){if(!this.loaded||!e)return;const i=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),o=[],a={writeSublayerStructure:!1,...s};i.forEach((e=>{const r=e.write({},a);o.push(r)}));o.some((e=>Object.keys(e).length>1))&&(r.layers=o)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl?.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>a(e).path)):null}fetchTile(e,t,s,i={}){const{signal:o}=i,a=this.getTileUrl(e,t,s),l={responseType:\"image\",signal:o,query:{...this.refreshParameters}};return r(a,l).then((e=>e.data))}async fetchImageBitmapTile(e,t,s,i={}){const{signal:o}=i;if(this.fetchTile!==W.prototype.fetchTile){const r=await this.fetchTile(e,t,s,i);return A(r,e,t,s,o)}const a=this.getTileUrl(e,t,s),l={responseType:\"blob\",signal:o,query:{...this.refreshParameters}},{data:n}=await r(a,l);return A(n,e,t,s,o)}getTileUrl(e,r,t){const s=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,i=l({...this.parsedUrl?.query,blankTile:!s&&null,...this.customParameters,token:this.apiKey}),o=this.tileServers;return`${o&&o.length?o[r%o.length]:this.parsedUrl?.path}/tile/${e}/${r}/${t}${i?\"?\"+i:\"\"}`}loadAll(){return s(this,(e=>{e(this.allSublayers)}))}_fetchService(e){return new Promise(((s,i)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new t(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");return void s({data:this.sourceJSON})}if(!this.parsedUrl)throw new t(\"tile-layer:undefined-url\",\"layer's url is not defined\");const o=R(this.parsedUrl.path);if(null!=o&&\"ImageServer\"===o.serverType)throw new t(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");r(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e}).then(s,i)})).then((r=>{let t=this.url;if(r.ssl&&(t=this.url=t.replace(/^http:/i,\"https:\")),this.sourceJSON=r.data,this.read(r.data,{origin:\"service\",url:this.parsedUrl}),10.1===this.version&&!U(t))return this._fetchServerVersion(t,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,s){if(!P(e))return Promise.reject();const i=e.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";return r(i,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:s}).then((e=>{if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new t(\"tile-layer:version-not-available\")}))}_getMapName(e){const r=e.match(/^(?:https?:)?\\/\\/(server\\.arcgisonline\\.com|services\\.arcgisonline\\.com|ibasemaps-api\\.arcgis\\.com)\\/arcgis\\/rest\\/services\\/([^\\/]+(\\/[^\\/]+)*)\\/mapserver/i);return r?r[2]:void 0}_getDefaultAttribution(e){if(null==e)return null;let r;e=e.toLowerCase();for(let t=0,s=I.length;t<s;t++)if(r=I[t],r.toLowerCase().includes(e))return n(\"//static.arcgis.com/attribution/\"+r);return null}_getDefaultTileServers(e){if(null==e)return[];const r=-1!==e.search(/^(?:https?:)?\\/\\/server\\.arcgisonline\\.com/i),t=-1!==e.search(/^(?:https?:)?\\/\\/services\\.arcgisonline\\.com/i);return r||t?[e,e.replace(r?/server\\.arcgisonline/i:/services\\.arcgisonline/i,r?\"services.arcgisonline\":\"server.arcgisonline\")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile[C]}};e([p({readOnly:!0})],B.prototype,\"attributionDataUrl\",null),e([p({type:[\"show\",\"hide\",\"hide-children\"]})],B.prototype,\"listMode\",void 0),e([p({json:{read:!0,write:!0}})],B.prototype,\"blendMode\",void 0),e([p({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],B.prototype,\"isReference\",void 0),e([p({readOnly:!0,type:[\"ArcGISTiledMapServiceLayer\"]})],B.prototype,\"operationalLayerType\",void 0),e([p({type:Boolean})],B.prototype,\"resampling\",void 0),e([p()],B.prototype,\"sourceJSON\",void 0),e([p({type:d})],B.prototype,\"spatialReference\",void 0),e([u(\"spatialReference\",[\"spatialReference\",\"tileInfo\"])],B.prototype,\"readSpatialReference\",null),e([p({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],B.prototype,\"path\",void 0),e([p({readOnly:!0})],B.prototype,\"sublayers\",void 0),e([h(\"sublayers\",{layers:{type:[M]}})],B.prototype,\"writeSublayers\",null),e([p({json:{read:!1,write:!1}})],B.prototype,\"popupEnabled\",void 0),e([p()],B.prototype,\"tileServers\",null),e([c(\"tileServers\")],B.prototype,\"castTileServers\",null),e([p({readOnly:!0,json:{read:!1}})],B.prototype,\"type\",void 0),e([p(x)],B.prototype,\"url\",void 0),B=W=e([m(\"esri.layers.TileLayer\")],B);const C=Symbol(\"default-fetch-tile\");B.prototype.fetchTile[C]=!0;const N=B;export{N as default};\n"],"names":["_","e","r","t","loadAll","s","MultiOriginJSONMixin","i","throwIfAbortError","o","urlToObject","a","objectToQuery","l","makeAbsolute","n","property","p","cast","c","reader","u","subclass","m","writer","h","d","y","APIKeyMixin","f","ArcGISCachedService","v","ArcGISMapService","g","ArcGISService","S","BlendLayer","CustomParametersMixin","j","OperationalLayer","T","PortalLayer","b","RefreshableLayer","w","ScaleRangeLayer","O","SublayersOwner","L","parse","R","isHostedAgolService","U","isArcGISUrl","P","url","x","createTileBitmap","A","M","W","I","B","constructor","listMode","isReference","operationalLayerType","resampling","sourceJSON","spatialReference","path","sublayers","type","normalizeCtorArgs","load","signal","addResolvingPromise","loadFromPortal","supportedTypes","catch","then","_fetchService","Promise","resolve","attributionDataUrl","parsedUrl","toLowerCase","_getDefaultAttribution","_getMapName","readSpatialReference","tileInfo","fromJSON","writeSublayers","loaded","slice","reverse","flatten","toArray","writeSublayerStructure","forEach","write","push","some","Object","keys","length","layers","tileServers","_getDefaultTileServers","castTileServers","Array","isArray","map","fetchTile","getTileUrl","responseType","query","refreshParameters","data","fetchImageBitmapTile","prototype","capabilities","operations","supportsTileMap","supportsBlankTile","blankTile","customParameters","token","apiKey","allSublayers","bandCount","pixelSizeX","serverType","ssl","replace","read","origin","version","_fetchServerVersion","currentVersion","reject","match","includes","search","hasOverriddenFetchTile","C","readOnly","json","Boolean","enabled","overridePolicy","String","origins","Symbol","N","default"],"sourceRoot":"webpack:///","x_google_ignoreList":[0]}