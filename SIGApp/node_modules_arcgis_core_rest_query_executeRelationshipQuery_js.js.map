{"version":3,"file":"node_modules_arcgis_core_rest_query_executeRelationshipQuery_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/rest/query/executeRelationshipQuery.js","./node_modules/@arcgis/core/rest/query/operations/queryRelatedRecords.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{parseUrl as t}from\"../utils.js\";import{executeRelationshipQuery as r,executeRelationshipQueryForCount as e}from\"./operations/queryRelatedRecords.js\";import o from\"../support/FeatureSet.js\";import s from\"../support/RelationshipQuery.js\";async function n(e,n,u){n=s.from(n);const a=t(e);return r(a,n,u).then((t=>{const r=t.data,e={};return Object.keys(r).forEach((t=>e[t]=o.fromJSON(r[t]))),e}))}async function u(r,o,n){o=s.from(o);const u=t(r);return e(u,o,{...n}).then((t=>t.data))}export{n as executeRelationshipQuery,u as executeRelationshipQueryForCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{srToRESTValue as t}from\"../../../geometry/support/spatialReferenceUtils.js\";import{mapParameters as o}from\"../../operations/urlUtils.js\";function r(e,o){const r=e.toJSON();return r.objectIds&&(r.objectIds=r.objectIds.join(\",\")),r.orderByFields&&(r.orderByFields=r.orderByFields.join(\",\")),r.outFields&&!o?.returnCountOnly?r.outFields.includes(\"*\")?r.outFields=\"*\":r.outFields=r.outFields.join(\",\"):delete r.outFields,r.outSR&&(r.outSR=t(r.outSR)),r.dynamicDataSource&&(r.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r}async function s(e,t,o){const r=await a(e,t,o),s=r.data,n=s.geometryType,d=s.spatialReference,c={};for(const a of s.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:n,spatialReference:d,hasZ:!!s.hasZ,hasM:!!s.hasM,features:a.relatedRecords};if(null!=a.objectId)c[a.objectId]=e;else for(const t of Object.keys(a))\"relatedRecords\"!==t&&(c[a[t]]=e)}return{...r,data:c}}async function n(e,t,o){const r=await a(e,t,o,{returnCountOnly:!0}),s=r.data,n={};for(const a of s.relatedRecordGroups)null!=a.objectId&&(n[a.objectId]=a.count);return{...r,data:n}}async function a(t,s,n={},a){const d=o({...t.query,f:\"json\",...a,...r(s,a)});return e(t.path+\"/queryRelatedRecords\",{...n,query:{...n.query,...d}})}export{s as executeRelationshipQuery,n as executeRelationshipQueryForCount,r as toQueryStringParameters};\n"],"names":["parseUrl","t","executeRelationshipQuery","r","executeRelationshipQueryForCount","e","o","s","n","u","from","a","then","data","Object","keys","forEach","fromJSON","srToRESTValue","mapParameters","toJSON","objectIds","join","orderByFields","outFields","returnCountOnly","includes","outSR","dynamicDataSource","layer","JSON","stringify","source","geometryType","d","spatialReference","c","relatedRecordGroups","fields","objectIdFieldName","hasZ","hasM","features","relatedRecords","objectId","count","query","f","path","toQueryStringParameters"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1]}