{"version":3,"file":"node_modules_arcgis_core_layers_support_arcgisLayers_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/layers/support/arcgisLayers.js","./node_modules/@arcgis/core/layers/support/associatedFeatureServiceUtils.js","./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js","./node_modules/@arcgis/core/support/requestPresets.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{getFilename as r,urlToObject as a}from\"../../core/urlUtils.js\";import{parse as t,parseNonStandardSublayerUrl as s}from\"./arcgisLayerUrl.js\";import{findAssociatedFeatureService as n}from\"./associatedFeatureServiceUtils.js\";import{fetchFeatureService as l}from\"./fetchService.js\";import{sceneServiceLayerTypeToClassName as o}from\"./layerUtils.js\";import{layerLookupMap as i}from\"./lazyLayerLoader.js\";import{fetchArcGISServiceJSON as c}from\"../../support/requestPresets.js\";const u={FeatureLayer:!0,SceneLayer:!0};async function y(e){const r=e.properties?.customParameters,a=await p(e.url,r),t={...e.properties,url:e.url};if(a.layers.length+a.tables.length===0)return null!=a.layerId&&(t.layerId=a.layerId),null!=a.sourceJSON&&(t.sourceJSON=a.sourceJSON),new a.Constructor(t);const s=new(0,(await import(\"../GroupLayer.js\")).default)({title:a.parsedUrl.title});return await f(s,a,t),s}function m(e,r){return e?e.find((e=>e.id===r)):null}async function f(e,r,a){function t(e,r,t,s){const n={...a,layerId:r,sublayerTitleMode:\"service-name\"};return null!=e&&(n.url=e),null!=t&&(n.sourceJSON=t),s(n)}const s=r.sublayerConstructorProvider;for(const{id:n,serverUrl:l}of r.layers){const a=m(r.sublayerInfos,n),o=(a&&s?.(a))??r.Constructor,i=t(l,n,a,(e=>new o(e)));e.add(i)}if(r.tables.length){const a=await b(\"FeatureLayer\");r.tables.forEach((({id:s,serverUrl:n})=>{const l=t(n,s,m(r.tableInfos,s),(e=>new a(e)));e.tables.add(l)}))}}async function p(r,a){let s=t(r);if(null==s&&(s=await d(r,a)),null==s)throw new e(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:r});const{serverType:n,sublayer:l}=s;let i;const y={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"},m=\"FeatureServer\"===n,f=\"SceneServer\"===n,p={parsedUrl:s,Constructor:null,layerId:m||f?l??void 0:void 0,layers:[],tables:[]};switch(n){case\"MapServer\":if(null!=l)i=\"FeatureLayer\";else{i=await h(r,a)?\"TileLayer\":\"MapImageLayer\"}break;case\"ImageServer\":{const e=await c(r,{customParameters:a}),{tileInfo:t,cacheType:s}=e;i=t?\"LERC\"!==t?.format?.toUpperCase()||s&&\"elevation\"!==s.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\";break}case\"SceneServer\":{const e=await c(s.url.path,{customParameters:a});if(i=\"SceneLayer\",e){const r=e?.layers;if(\"Voxel\"===e?.layerType)i=\"VoxelLayer\";else if(r?.length){const e=r[0]?.layerType;null!=e&&null!=o[e]&&(i=o[e])}}break}case\"FeatureServer\":if(i=\"FeatureLayer\",null!=l){const e=await c(r,{customParameters:a});p.sourceJSON=e,\"Oriented Imagery Layer\"===e.type&&(i=\"OrientedImageryLayer\")}break;default:i=y[n]}if(u[i]&&null==l){const e=await S(r,n,a);m&&(p.sublayerInfos=e.layerInfos,p.tableInfos=e.tableInfos);if(1!==e.layers.length+e.tables.length)p.layers=e.layers,p.tables=e.tables,m&&e.layerInfos?.length&&(p.sublayerConstructorProvider=await I(e.layerInfos));else if(m||f){const r=e.layerInfos?.[0]??e.tableInfos?.[0];p.layerId=e.layers[0]?.id??e.tables[0]?.id,p.sourceJSON=r,m&&\"Oriented Imagery Layer\"===r?.type&&(i=\"OrientedImageryLayer\")}}return p.Constructor=await b(i),p}async function d(e,t){const n=await c(e,{customParameters:t});let l=null,o=null;const i=n.type;if(\"Feature Layer\"===i||\"Table\"===i?(l=\"FeatureServer\",o=n.id??null):\"indexedVector\"===i?l=\"VectorTileServer\":n.hasOwnProperty(\"mapName\")?l=\"MapServer\":n.hasOwnProperty(\"bandCount\")&&n.hasOwnProperty(\"pixelSizeX\")?l=\"ImageServer\":n.hasOwnProperty(\"maxRecordCount\")&&n.hasOwnProperty(\"allowGeometryUpdates\")?l=\"FeatureServer\":n.hasOwnProperty(\"streamUrls\")?l=\"StreamServer\":v(n)?(l=\"SceneServer\",o=n.id):n.hasOwnProperty(\"layers\")&&v(n.layers?.[0])&&(l=\"SceneServer\"),!l)return null;const u=null!=o?s(e):null;return{title:null!=u&&n.name||r(e),serverType:l,sublayer:o,url:{path:null!=u?u.serviceUrl:a(e).path}}}function v(e){return null!=e&&e.hasOwnProperty(\"store\")&&e.hasOwnProperty(\"id\")&&\"number\"==typeof e.id}async function S(e,r,a){let t,s,n=!1;switch(r){case\"FeatureServer\":{const r=await l(e,{customParameters:a});n=!!r.layersJSON,t=r.layersJSON||r.serviceJSON;break}case\"SceneServer\":{const r=await w(e,a);t=r.serviceInfo,s=r.tableServerUrl;break}default:t=await c(e,{customParameters:a})}const o=t?.layers,i=t?.tables;return{layers:o?.map((e=>({id:e.id}))).reverse()||[],tables:i?.map((e=>({serverUrl:s,id:e.id}))).reverse()||[],layerInfos:n?o:[],tableInfos:n?i:[]}}async function w(e,r){const a=await c(e,{customParameters:r}),t=a.layers?.[0];if(!t)return{serviceInfo:a};try{const{serverUrl:t}=await n(e),s=await c(t,{customParameters:r}).catch((()=>null));return s&&(a.tables=s.tables),{serviceInfo:a,tableServerUrl:t}}catch{return{serviceInfo:a}}}async function b(e){return(0,i[e])()}async function h(e,r){return(await c(e,{customParameters:r})).tileInfo}async function I(e){const r=[],a=[];if(e.forEach((e=>{const{type:t}=e;\"Oriented Imagery Layer\"===t?(r.push(t),a.push(b(\"OrientedImageryLayer\"))):(r.push(t),a.push(b(\"FeatureLayer\")))})),!a.length)return;const t=await Promise.all(a),s=new Map;return r.forEach(((e,r)=>{s.set(e,t[r])})),e=>s.get(e.type)}export{y as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{id as r}from\"../../kernel.js\";import e from\"../../request.js\";import n from\"../../core/Error.js\";import{throwIfAbortError as t}from\"../../core/promiseUtils.js\";import{parse as o}from\"./arcgisLayerUrl.js\";import a from\"../../portal/Portal.js\";import i from\"../../portal/PortalItem.js\";async function l(r,e){const t=o(r);if(!t)throw new n(\"invalid-url\",\"Invalid scene service url\");const a={...e,sceneServerUrl:t.url.path,layerId:t.sublayer??void 0};if(a.sceneLayerItem??=await s(a),null==a.sceneLayerItem)return f(a.sceneServerUrl.replace(\"/SceneServer\",\"/FeatureServer\"),a);const i=await y(a);if(!i?.url)throw new n(\"related-service-not-found\",\"Could not find feature service through portal item relationship\");const l=await f(i.url,a);return l.portalItem=i,l}async function s(r){const e=(await c(r)).serviceItemId;if(!e)return null;const n=new i({id:e,apiKey:r.apiKey}),o=await u(r);null!=o&&(n.portal=new a({url:o}));try{return n.load({signal:r.signal})}catch(l){return t(l),null}}async function c(r){if(r.rootDocument)return r.rootDocument;const n={query:{f:\"json\",token:r.apiKey},responseType:\"json\",signal:r.signal};try{const t=await e(r.sceneServerUrl,n);r.rootDocument=t.data}catch{r.rootDocument={}}return r.rootDocument}async function u(n){const o=r?.findServerInfo(n.sceneServerUrl);if(o?.owningSystemUrl)return o.owningSystemUrl;const a=n.sceneServerUrl.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";try{const r=(await e(a,{query:{f:\"json\"},responseType:\"json\",signal:n.signal})).data.owningSystemUrl;if(r)return r}catch(i){t(i)}return null}async function f(r,t){const a=o(r);if(!a)throw new n(\"invalid-feature-service-url\",\"Invalid feature service url\");const i=a.url.path,l=t.layerId;if(null==l)return{serverUrl:i};const s=c(t),u=r=>{const n={query:{f:\"json\"},responseType:\"json\",authMode:r,signal:t.signal};return e(i,n)},f=u(\"anonymous\").catch((()=>u(\"no-prompt\"))),[y,m]=await Promise.all([f,s]),p=m?.layers,d=y.data&&y.data.layers;if(!Array.isArray(d))throw new Error(\"expected layers array\");if(Array.isArray(p))for(let e=0;e<Math.min(p.length,d.length);e++){if(p[e].id===l)return{serverUrl:i,layerId:d[e].id}}else if(null!=l&&l<d.length)return{serverUrl:i,layerId:d[l].id};throw new Error(\"could not find matching associated sublayer\")}async function y({sceneLayerItem:r,signal:e}){if(!r)return null;try{const n=(await r.fetchRelatedItems({relationshipType:\"Service2Service\",direction:\"reverse\"},{signal:e})).find((r=>\"Feature Service\"===r.type))||null;if(!n)return null;const t=new i({portal:n.portal,id:n.id});return await t.load(),t}catch(n){return t(n),null}}export{l as findAssociatedFeatureService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,DimensionLayer:async()=>(await import(\"../DimensionLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GeoJSONLayer:async()=>(await import(\"../GeoJSONLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,LineOfSightLayer:async()=>(await import(\"../LineOfSightLayer.js\")).default,LinkChartLayer:async()=>(await import(\"../LinkChartLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,MediaLayer:async()=>(await import(\"../MediaLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,OrientedImageryLayer:async()=>(await import(\"../OrientedImageryLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,SubtypeGroupLayer:async()=>(await import(\"../SubtypeGroupLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default};export{a as layerLookupMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,o){const{data:r}=await e(t,{responseType:\"json\",query:{f:\"json\",...o?.customParameters,token:o?.apiKey}});return r}export{t as fetchArcGISServiceJSON};\n"],"names":["e","getFilename","r","urlToObject","a","parse","t","parseNonStandardSublayerUrl","s","findAssociatedFeatureService","n","fetchFeatureService","l","sceneServiceLayerTypeToClassName","o","layerLookupMap","i","fetchArcGISServiceJSON","c","u","FeatureLayer","SceneLayer","y","properties","customParameters","p","url","layers","length","tables","layerId","sourceJSON","Constructor","default","title","parsedUrl","f","m","find","id","sublayerTitleMode","sublayerConstructorProvider","serverUrl","sublayerInfos","add","b","forEach","tableInfos","d","serverType","sublayer","FeatureServer","StreamServer","VectorTileServer","h","tileInfo","cacheType","format","toUpperCase","toLowerCase","path","layerType","type","S","layerInfos","I","hasOwnProperty","v","name","serviceUrl","layersJSON","serviceJSON","w","serviceInfo","tableServerUrl","map","reverse","catch","push","Promise","all","Map","set","get","fromUrl","throwIfAbortError","sceneServerUrl","sceneLayerItem","replace","portalItem","serviceItemId","apiKey","portal","load","signal","rootDocument","query","token","responseType","data","findServerInfo","owningSystemUrl","authMode","Array","isArray","Error","Math","min","fetchRelatedItems","relationshipType","direction","BingMapsLayer","BuildingSceneLayer","CSVLayer","DimensionLayer","ElevationLayer","GeoJSONLayer","GeoRSSLayer","GroupLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","LineOfSightLayer","LinkChartLayer","MapImageLayer","MapNotesLayer","MediaLayer","OGCFeatureLayer","OpenStreetMapLayer","OrientedImageryLayer","PointCloudLayer","RouteLayer","StreamLayer","SubtypeGroupLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","VoxelLayer","WFSLayer","WMSLayer","WMTSLayer","WebTileLayer"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3]}