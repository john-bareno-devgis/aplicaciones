"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["default-node_modules_arcgis_core_geometry_projection_projectVectorToVector_js-node_modules_ar-a3b49c"],{

/***/ 34046:
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "C": () => (/* binding */ C),
/* harmony export */   "b": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js */ 74891);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ 56877);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ 2847);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ 19307);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js */ 83817);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js */ 78991);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ 43386);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ 57895);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js */ 44147);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ 63855);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ 54983);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ 19349);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


















function w(w) {
  const C = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_15__.ShaderBuilder(),
    {
      vertex: j,
      fragment: y,
      attributes: L,
      varyings: O
    } = C;
  (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_12__.addProjViewLocalOrigin)(j, w), C.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform, w), C.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_5__.VertexColor, w), C.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_9__.VisualVariables, w), C.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__.ObjectAndLayerIdColor, w), L.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION, "vec3"), w.vvColor && L.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.COLORFEATUREATTRIBUTE, "float"), O.add("vColor", "vec4"), O.add("vpos", "vec3");
  const A = w.multipassEnabled && (w.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color || w.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha);
  A && O.add("depth", "float"), j.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float4PassUniform("eColor", e => e.color));
  const T = w.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth;
  T && (C.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_6__.OutputDepth, w), (0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addNearFar)(C), (0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addLinearDepth)(C)), j.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl`
    void main(void) {
      vpos = position;
      forwardNormalizedVertexColor();
      forwardObjectAndLayerIdColor();

      ${w.hasVertexColors ? "vColor *= eColor;" : w.vvColor ? "vColor = eColor * interpolateVVColor(colorFeatureAttribute);" : "vColor = eColor;"}
      ${A ? "depth = (view * vec4(vpos, 1.0)).z;" : ""}
      gl_Position = ${T ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl`transformPositionWithDepth(proj, view, vpos, nearFar, linearDepth);` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl`transformPosition(proj, view, vpos);`}
    }
  `), C.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw, w), A && C.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__.multipassTerrainTest, w), y.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_11__.ColorConversion);
  const $ = w.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight;
  return $ && C.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_7__.OutputHighlight, w), y.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl`
  void main() {
    discardBySlice(vpos);
    ${A ? "terrainDepthTest(depth);" : ""}
    vec4 fColor = vColor;

    ${w.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl`fColor.a = 1.0;` : ""}

    if (fColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_10__.symbolAlphaCutoff)}) {
      discard;
    }

    ${w.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl`fragColor = vec4(fColor.a);` : ""}

    ${w.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl`fragColor = highlightSlice(fColor, vpos); ${w.transparencyPassType === _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_16__.TransparencyPassType.Color ? "fragColor = premultiplyAlpha(fragColor);" : ""}` : ""}
    ${$ ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl`outputHighlight();` : ""};
    ${w.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl`outputDepth(linearDepth);` : ""};
    ${w.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl`outputObjectAndLayerIdColor();` : ""}
  }
  `), C;
}
const C = Object.freeze(Object.defineProperty({
  __proto__: null,
  build: w
}, Symbol.toStringTag, {
  value: "Module"
}));


/***/ }),

/***/ 38723:
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "H": () => (/* binding */ H),
/* harmony export */   "b": () => (/* binding */ F),
/* harmony export */   "c": () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vec2.js */ 80775);
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vec2f64.js */ 83457);
/* harmony import */ var _vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vec4f64.js */ 91746);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ 56877);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ 19307);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js */ 47136);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js */ 81573);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUDOcclusionPass_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js */ 57527);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUDVisibility_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js */ 3767);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ 43386);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js */ 44147);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ 63855);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ 54983);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js */ 12032);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js */ 44835);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ 19349);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ 71882);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ 94391);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

























function F(o) {
  const i = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_21__.ShaderBuilder(),
    F = o.signedDistanceFieldEnabled;
  if (i.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_7__.HUD, o), i.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_4__.SliceDraw, o), o.occlusionPass) return i.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUDOcclusionPass_glsl_js__WEBPACK_IMPORTED_MODULE_8__.HUDOcclusionPass, o), i;
  const {
    vertex: B,
    fragment: H
  } = i;
  i.include(_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_15__.ScreenSizePerspective), H.include(_views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_14__.RgbaFloatEncoding), H.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_13__.ColorConversion), i.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_11__.VisualVariables, o), i.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_5__.ObjectAndLayerIdColor, o), i.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUDVisibility_glsl_js__WEBPACK_IMPORTED_MODULE_9__.HUDVisibility), i.varyings.add("vcolor", "vec4"), i.varyings.add("vtc", "vec2"), i.varyings.add("vsize", "vec2"), i.varyings.add("voccluded", "float"), B.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float4PassUniform("viewport", (e, o) => o.camera.fullViewport), new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_17__.Float2PassUniform("screenOffset", (o, i) => (0,_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(T, 2 * o.screenOffset[0] * i.camera.pixelRatio, 2 * o.screenOffset[1] * i.camera.pixelRatio)), new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_17__.Float2PassUniform("anchorPosition", e => D(e)), new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float4PassUniform("materialColor", e => e.color)), (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addPixelRatio)(B), F && (B.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float4PassUniform("outlineColor", e => e.outlineColor)), H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float4PassUniform("outlineColor", e => L(e) ? e.outlineColor : _vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.Z), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_19__.FloatPassUniform("outlineSize", e => L(e) ? e.outlineSize : 0))), o.pixelSnappingEnabled && B.include(_views_3d_webgl_engine_core_shaderLibrary_hud_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_6__.AlignPixel), o.hasScreenSizePerspective && ((0,_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_15__.addScreenSizePerspective)(B), (0,_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_15__.addScreenSizePerspectiveAlignment)(B)), o.debugDrawLabelBorder && i.varyings.add("debugBorderCoords", "vec4"), i.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.UV0, "vec2"), i.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.COLOR, "vec4"), i.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.SIZE, "vec2"), i.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.FEATUREATTRIBUTE, "vec4"), B.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
    void main(void) {
      ProjectHUDAux projectAux;
      vec4 posProj = projectPositionHUD(projectAux);
      forwardObjectAndLayerIdColor();

      if (rejectBySlice(projectAux.posModel)) {
        // Project outside of clip plane
        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
        return;
      }
      vec2 inputSize;
      ${o.hasScreenSizePerspective ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
            inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);
            vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);
         ` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
            inputSize = size;
            vec2 screenOffsetScaled = screenOffset;`}

      ${o.vvSize ? "inputSize *= vvScale(featureAttribute).xx;" : ""}

      vec2 combinedSize = inputSize * pixelRatio;
      vec4 quadOffset = vec4(0.0);
      bool visible = testHUDVisibility(posProj);
      voccluded = visible ? 0.0 : 1.0;
    `);
  const U = _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`vec2 uv01 = floor(uv0);
vec2 uv = uv0 - uv01;
quadOffset.xy = ((uv01 - anchorPosition) * 2.0 * combinedSize + screenOffsetScaled) / viewport.zw * posProj.w;`,
    V = o.pixelSnappingEnabled ? F ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`posProj += quadOffset;
if (inputSize.x == size.x) {
posProj = alignToPixelOrigin(posProj, viewport.zw);
}` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`posProj += quadOffset;`;
  B.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
    ${o.occlusionTestEnabled ? "if (visible) {" : ""}
    ${U}
    ${o.vvColor ? "vcolor = interpolateVVColor(featureAttribute.y) * materialColor;" : "vcolor = color / 255.0 * materialColor;"}

    ${o.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.ObjectAndLayerIdColor ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`vcolor.a = 1.0;` : ""}

    bool alphaDiscard = vcolor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__.symbolAlphaCutoff)};
    ${F ? `alphaDiscard = alphaDiscard && outlineColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__.symbolAlphaCutoff)};` : ""}
    if (alphaDiscard) {
      // "early discard" if both symbol color (= fill) and outline color (if applicable) are transparent
      gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
      return;
    } else {
      ${V}
      gl_Position = posProj;
    }

    vtc = uv;

    ${o.debugDrawLabelBorder ? "debugBorderCoords = vec4(uv01, 1.5 / combinedSize);" : ""}
    vsize = inputSize;
    ${o.occlusionTestEnabled ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`} else { vtc = vec2(0.0);
      ${o.debugDrawLabelBorder ? "debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);}" : "}"}` : ""}
  }
  `), H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_22__.Texture2DPassUniform("tex", e => e.texture));
  const E = o.debugDrawLabelBorder ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`(isBorder > 0.0 ? 0.0 : ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__.defaultMaskAlphaCutoff)})` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__.defaultMaskAlphaCutoff),
    I = _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
    ${o.debugDrawLabelBorder ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
      float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));` : ""}

    ${o.sampleSignedDistanceFieldTexelCenter ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
      // Attempt to sample texel centers to avoid that thin cross outlines
      // disappear with large symbol sizes.
      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/7058#issuecomment-603041
      float txSize = float(textureSize(tex, 0).x);
      float texelSize = 1.0 / txSize;

      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel
      vec2 scaleFactor = (vsize - txSize) * texelSize;
      vec2 samplePos = vtc + (vec2(1.0, -1.0) * texelSize) * scaleFactor;
      ` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
      vec2 samplePos = vtc;
      `}

    ${F ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
      vec4 fillPixelColor = vcolor;

      // Get distance and map it into [-0.5, 0.5]
      float d = rgba2float(texture(tex, samplePos)) - 0.5;

      // Distance in output units (i.e. pixels)
      float dist = d * vsize.x;

      // Create smooth transition from the icon into its outline
      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);
      fillPixelColor.a *= fillAlphaFactor;

      if (outlineSize > 0.25) {
        vec4 outlinePixelColor = outlineColor;
        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);

        // Create smooth transition around outline
        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);
        outlinePixelColor.a *= outlineAlphaFactor;

        if (
          outlineAlphaFactor + fillAlphaFactor < ${E} ||
          fillPixelColor.a + outlinePixelColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__.symbolAlphaCutoff)}
        ) {
          discard;
        }

        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)
        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);
        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +
          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);

        fragColor = vec4(compositeColor, compositeAlpha);
      } else {
        if (fillAlphaFactor < ${E}) {
          discard;
        }

        fragColor = premultiplyAlpha(fillPixelColor);
      }

      // visualize SDF:
      // fragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);
      ` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
          vec4 texColor = texture(tex, vtc, -0.5);
          if (texColor.a < ${E}) {
            discard;
          }
          fragColor = texColor * premultiplyAlpha(vcolor);
          `}

    // Draw debug border with transparency, so that original texels along border are still partially visible
    ${o.debugDrawLabelBorder ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`fragColor = mix(fragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder * 0.5);` : ""}
  `;
  switch (o.output) {
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color:
      H.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
        void main() {
          ${I}
          ${o.transparencyPassType === _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_23__.TransparencyPassType.FrontFace ? "fragColor.rgb /= fragColor.a;" : ""}
        }`);
      break;
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Alpha:
      H.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
        void main() {
          ${I}
          fragColor = vec4(fragColor.a);
        }`);
      break;
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.ObjectAndLayerIdColor:
      H.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
        void main() {
          ${I}
          outputObjectAndLayerIdColor();
        }`);
      break;
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Highlight:
      H.constants.add("occludedHighlightFlag", "vec4", _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_10__.occludedHighlightFlag).add("unoccludedHighlightFlag", "vec4", _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_10__.unoccludedHighlightFlag), H.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl`
        void main() {
          ${I}
          if (voccluded == 1.0) {
            fragColor = occludedHighlightFlag;
          } else {
            fragColor = unoccludedHighlightFlag;
          }
        }`);
  }
  return i;
}
function L(e) {
  return e.outlineColor[3] > 0 && e.outlineSize > 0;
}
function D(e, i = T) {
  return e.textureIsSignedDistanceField ? B(e.anchorPosition, e.distanceFieldBoundingBox, i) : (0,_vec2_js__WEBPACK_IMPORTED_MODULE_0__.j)(i, e.anchorPosition), i;
}
function B(o, i, r) {
  null != i ? (0,_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(r, o[0] * (i[2] - i[0]) + i[0], o[1] * (i[3] - i[1]) + i[1]) : (0,_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(r, 0, 0);
}
const T = (0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),
  H = Object.freeze(Object.defineProperty({
    __proto__: null,
    build: F,
    calculateAnchorPosForRendering: D
  }, Symbol.toStringTag, {
    value: "Module"
  }));


/***/ }),

/***/ 67657:
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "O": () => (/* binding */ d),
/* harmony export */   "a": () => (/* binding */ m),
/* harmony export */   "b": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _views_3d_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/terrain/interfaces.js */ 75110);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ 93249);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js */ 29402);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ 94391);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







class d extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.NoParameters {
  constructor() {
    super(...arguments), this.overlayIndex = _views_3d_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.OverlayIndex.INNER, this.opacity = 1;
  }
}
function l() {
  const e = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__.ShaderBuilder();
  return e.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__.ScreenSpacePass), e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("tex", e => e.texture)), e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.IntegerPassUniform("overlayIdx", e => e.overlayIndex)), e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("opacity", e => e.opacity)), e.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`void main() {
vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);
fragColor = texture(tex, overlayUV) * opacity;
}`), e;
}
const m = Object.freeze(Object.defineProperty({
  __proto__: null,
  OverlayCompositingPassParameters: d,
  build: l
}, Symbol.toStringTag, {
  value: "Module"
}));


/***/ }),

/***/ 14757:
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/RibbonLine.glsl.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "R": () => (/* binding */ R),
/* harmony export */   "b": () => (/* binding */ A),
/* harmony export */   "r": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js */ 74891);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ 56877);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ 19307);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_RibbonVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js */ 4851);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js */ 78991);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_LineStipple_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js */ 49078);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MarkerSizing_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js */ 65272);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ 57895);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PiUtils_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js */ 23329);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ 63855);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ 54983);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ 19349);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ 71882);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js */ 63924);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ 51663);
/* harmony import */ var _views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js */ 6276);
/* harmony import */ var _views_3d_webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js */ 97288);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/























const j = 1;
function A(A) {
  const R = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_18__.ShaderBuilder(),
    {
      vertex: P,
      fragment: F
    } = R,
    z = A.multipassEnabled && (A.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color || A.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha);
  R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_PiUtils_glsl_js__WEBPACK_IMPORTED_MODULE_9__.PiUtils), R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_RibbonVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__.RibbonVertexPosition, A), R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_LineStipple_glsl_js__WEBPACK_IMPORTED_MODULE_6__.LineStipple, A);
  const E = A.applyMarkerOffset && !A.draped;
  E && (P.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("markerScale", e => e.markerScale)), R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MarkerSizing_glsl_js__WEBPACK_IMPORTED_MODULE_7__.MarkerSizing, {
    space: _views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_21__.LineMarkerSpace.World,
    draped: !1
  })), A.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth && R.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_5__.OutputDepth, A), R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__.ObjectAndLayerIdColor, A), (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_12__.addProjViewLocalOrigin)(P, A), P.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__.Matrix4PassUniform("inverseProjectionMatrix", (e, i) => i.camera.inverseProjectionMatrix), new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float2PassUniform("nearFar", (e, i) => i.camera.nearFar), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("miterLimit", e => "miter" !== e.join ? 0 : e.miterLimit), new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("viewport", (e, i) => i.camera.fullViewport)), P.constants.add("LARGE_HALF_FLOAT", "float", 65500), R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__.VertexAttribute.POSITION, "vec3"), R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__.VertexAttribute.SUBDIVISIONFACTOR, "float"), R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__.VertexAttribute.UV0, "vec2"), R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__.VertexAttribute.AUXPOS1, "vec3"), R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__.VertexAttribute.AUXPOS2, "vec3"), R.varyings.add("vColor", "vec4"), R.varyings.add("vpos", "vec3"), (0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addLinearDepth)(R), z && R.varyings.add("depth", "float");
  const T = A.stippleEnabled;
  T && R.varyings.add("vLineSizeInv", "float");
  const W = A.capType === _views_3d_webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_22__.CapType.ROUND,
    V = T || W;
  V && R.varyings.add("vLineWidth", "float");
  const O = A.innerColorEnabled || W;
  O && R.varyings.add("vLineDistance", "float");
  const N = A.stippleEnabled && W,
    I = A.falloffEnabled || N;
  I && R.varyings.add("vLineDistanceNorm", "float"), W && (R.varyings.add("vSegmentSDF", "float"), R.varyings.add("vReverseSegmentSDF", "float")), P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`#define PERPENDICULAR(v) vec2(v.y, -v.x);
float interp(float ncp, vec4 a, vec4 b) {
return (-ncp - a.z) / (b.z - a.z);
}
vec2 rotate(vec2 v, float a) {
float s = sin(a);
float c = cos(a);
mat2 m = mat2(c, -s, s, c);
return m * v;
}`), P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vec4 projectAndScale(vec4 pos) {
vec4 posNdc = proj * pos;
posNdc.xy *= viewport.zw / posNdc.w;
return posNdc;
}`), (0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addCalculateLinearDepth)(R), P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
    void clipAndTransform(inout vec4 pos, inout vec4 prev, inout vec4 next, in bool isStartVertex) {
      float vnp = nearFar[0] * 0.99;

      if(pos.z > -nearFar[0]) {
        //current pos behind ncp --> we need to clip
        if (!isStartVertex) {
          if(prev.z < -nearFar[0]) {
            //previous in front of ncp
            pos = mix(prev, pos, interp(vnp, prev, pos));
            next = pos;
          } else {
            pos = vec4(0.0, 0.0, 0.0, 1.0);
          }
        } else {
          if(next.z < -nearFar[0]) {
            //next in front of ncp
            pos = mix(pos, next, interp(vnp, pos, next));
            prev = pos;
          } else {
            pos = vec4(0.0, 0.0, 0.0, 1.0);
          }
        }
      } else {
        //current position visible
        if (prev.z > -nearFar[0]) {
          //previous behind ncp
          prev = mix(pos, prev, interp(vnp, pos, prev));
        }
        if (next.z > -nearFar[0]) {
          //next behind ncp
          next = mix(next, pos, interp(vnp, next, pos));
        }
      }

      ${z ? "depth = pos.z;" : ""}
      linearDepth = calculateLinearDepth(nearFar,pos.z);

      pos = projectAndScale(pos);
      next = projectAndScale(next);
      prev = projectAndScale(prev);
    }
  `), (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_12__.addPixelRatio)(P), P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
  void main(void) {
    // unpack values from uv0.y
    bool isStartVertex = abs(abs(uv0.y)-3.0) == 1.0;

    float coverage = 1.0;

    // Check for special value of uv0.y which is used by the Renderer when graphics
    // are removed before the VBO is recompacted. If this is the case, then we just
    // project outside of clip space.
    if (uv0.y == 0.0) {
      // Project out of clip space
      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
    }
    else {
      bool isJoin = abs(uv0.y) < 3.0;

      float lineSize = getSize();
      float lineWidth = lineSize * pixelRatio;

      ${V ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vLineWidth = lineWidth;` : ""}
      ${T ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vLineSizeInv = 1.0 / lineSize;` : ""}

      // convert sub-pixel coverage to alpha
      if (lineWidth < 1.0) {
        coverage = lineWidth;
        lineWidth = 1.0;
      }else{
        // Ribbon lines cannot properly render non-integer sizes. Round width to integer size if
        // larger than one for better quality. Note that we do render < 1 pixels more or less correctly
        // so we only really care to round anything larger than 1.
        lineWidth = floor(lineWidth + 0.5);
      }

      vec4 pos  = view * vec4(position.xyz, 1.0);
      vec4 prev = view * vec4(auxpos1.xyz, 1.0);
      vec4 next = view * vec4(auxpos2.xyz, 1.0);
  `), E && P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vec4 other = isStartVertex ? next : prev;
bool markersHidden = areWorldMarkersHidden(pos, other);
if(!isJoin && !markersHidden) {
pos.xyz += normalize(other.xyz - pos.xyz) * getWorldMarkerSize(pos) * 0.5;
}`), P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`clipAndTransform(pos, prev, next, isStartVertex);
vec2 left = (pos.xy - prev.xy);
vec2 right = (next.xy - pos.xy);
float leftLen = length(left);
float rightLen = length(right);`);
  (A.stippleEnabled || W) && P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
      float isEndVertex = float(!isStartVertex);
      vec2 segmentOrigin = mix(pos.xy, prev.xy, isEndVertex);
      vec2 segment = mix(right, left, isEndVertex);
      ${W ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vec2 segmentEnd = mix(next.xy, pos.xy, isEndVertex);` : ""}
    `), P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);
right = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);
vec2 capDisplacementDir = vec2(0, 0);
vec2 joinDisplacementDir = vec2(0, 0);
float displacementLen = lineWidth;
if (isJoin) {
bool isOutside = (left.x * right.y - left.y * right.x) * uv0.y > 0.0;
joinDisplacementDir = normalize(left + right);
joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);
if (leftLen > 0.001 && rightLen > 0.001) {
float nDotSeg = dot(joinDisplacementDir, left);
displacementLen /= length(nDotSeg * left - joinDisplacementDir);
if (!isOutside) {
displacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));
}
}
if (isOutside && (displacementLen > miterLimit * lineWidth)) {`), A.roundJoins ? P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
        vec2 startDir = leftLen < 0.001 ? right : left;
        startDir = PERPENDICULAR(startDir);

        vec2 endDir = rightLen < 0.001 ? left : right;
        endDir = PERPENDICULAR(endDir);

        float factor = ${A.stippleEnabled ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`min(1.0, subdivisionFactor * ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl.float((j + 2) / (j + 1))})` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`subdivisionFactor`};

        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));
        joinDisplacementDir = rotate(startDir, -sign(uv0.y) * factor * rotationAngle);
      `) : P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`if (leftLen < 0.001) {
joinDisplacementDir = right;
}
else if (rightLen < 0.001) {
joinDisplacementDir = left;
}
else {
joinDisplacementDir = (isStartVertex || subdivisionFactor > 0.0) ? right : left;
}
joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);`);
  const $ = A.capType !== _views_3d_webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_22__.CapType.BUTT;
  return P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
        displacementLen = lineWidth;
      }
    } else {
      // CAP handling ---------------------------------------------------
      joinDisplacementDir = isStartVertex ? right : left;
      joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);

      ${$ ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`capDisplacementDir = isStartVertex ? -right : left;` : ""}
    }
  `), P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
    // Displacement (in pixels) caused by join/or cap
    vec2 dpos = joinDisplacementDir * sign(uv0.y) * displacementLen + capDisplacementDir * displacementLen;

    ${I || O ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float lineDistNorm = sign(uv0.y) * pos.w;` : ""}

    ${O ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vLineDistance = lineWidth * lineDistNorm;` : ""}
    ${I ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vLineDistanceNorm = lineDistNorm;` : ""}

    pos.xy += dpos;
  `), W && P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vec2 segmentDir = normalize(segment);
vSegmentSDF = (isJoin && isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentOrigin, segmentDir) * pos.w) ;
vReverseSegmentSDF = (isJoin && !isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentEnd, -segmentDir) * pos.w);`), A.stippleEnabled && (A.draped ? P.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("worldToScreenRatio", (e, i) => 1 / i.screenToPCSRatio)) : P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vec3 segmentCenter = mix((auxpos2 + position) * 0.5, (position + auxpos1) * 0.5, isEndVertex);
float worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`), P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float segmentLengthScreenDouble = length(segment);
float segmentLengthScreen = segmentLengthScreenDouble * 0.5;
float discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);
float segmentLengthRender = length(mix(auxpos2 - position, position - auxpos1, isEndVertex));
vStipplePatternStretch = worldToScreenRatio / discreteWorldToScreenRatio;`), A.draped ? P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float segmentLengthPseudoScreen = segmentLengthScreen / pixelRatio * discreteWorldToScreenRatio / worldToScreenRatio;
float startPseudoScreen = uv0.x * discreteWorldToScreenRatio - mix(0.0, segmentLengthPseudoScreen, isEndVertex);`) : P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float startPseudoScreen = mix(uv0.x, uv0.x - segmentLengthRender, isEndVertex) * discreteWorldToScreenRatio;
float segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`), P.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("stipplePatternPixelSize", e => (0,_views_3d_webgl_engine_core_shaderLibrary_shading_LineStipple_glsl_js__WEBPACK_IMPORTED_MODULE_6__.computePixelSize)(e))), P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float patternLength = lineSize * stipplePatternPixelSize;
vStippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, segmentLengthScreen, patternLength);
vStippleDistance = mix(vStippleDistanceLimits.x, vStippleDistanceLimits.y, isEndVertex);
if (segmentLengthScreenDouble >= 0.001) {
vec2 stippleDisplacement = pos.xy - segmentOrigin;
float stippleDisplacementFactor = dot(segment, stippleDisplacement) / (segmentLengthScreenDouble * segmentLengthScreenDouble);
vStippleDistance += (stippleDisplacementFactor - isEndVertex) * (vStippleDistanceLimits.y - vStippleDistanceLimits.x);
}
vStippleDistanceLimits *= pos.w;
vStippleDistance *= pos.w;
vStippleDistanceLimits = isJoin ?
vStippleDistanceLimits :
isStartVertex ?
vec2(-1e34, vStippleDistanceLimits.y) :
vec2(vStippleDistanceLimits.x, 1e34);`)), P.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
      // Convert back into NDC
      pos.xy = (pos.xy / viewport.zw) * pos.w;

      vColor = getColor();
      vColor.a *= coverage;

      ${A.wireframe && !A.draped ? "pos.z -= 0.001 * pos.w;" : ""}

      // transform final position to camera space for slicing
      vpos = (inverseProjectionMatrix * pos).xyz;
      gl_Position = pos;
      forwardObjectAndLayerIdColor();
    }
  }
  `), z && R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__.multipassTerrainTest, A), R.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw, A), F.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_11__.ColorConversion), F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
  void main() {
    discardBySlice(vpos);
    ${z ? "terrainDepthTest(depth);" : ""}
  `), A.wireframe ? F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vec4 finalColor = vec4(1.0, 0.0, 1.0, 1.0);`) : (W && F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
      float sdf = min(vSegmentSDF, vReverseSegmentSDF);
      vec2 fragmentPosition = vec2(
        min(sdf, 0.0),
        vLineDistance
      ) * gl_FragCoord.w;

      float fragmentRadius = length(fragmentPosition);
      float fragmentCapSDF = (fragmentRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale
      float capCoverage = clamp(0.5 - fragmentCapSDF, 0.0, 1.0);

      if (capCoverage < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_10__.symbolAlphaCutoff)}) {
        discard;
      }
    `), N ? F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
      vec2 stipplePosition = vec2(
        min(getStippleSDF() * 2.0 - 1.0, 0.0),
        vLineDistanceNorm * gl_FragCoord.w
      );
      float stippleRadius = length(stipplePosition * vLineWidth);
      float stippleCapSDF = (stippleRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale
      float stippleCoverage = clamp(0.5 - stippleCapSDF, 0.0, 1.0);
      float stippleAlpha = step(${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_10__.symbolAlphaCutoff)}, stippleCoverage);
      `) : F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float stippleAlpha = getStippleAlpha();`), A.output !== _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor && F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`discardByStippleAlpha(stippleAlpha, stippleAlphaColorDiscard);`), F.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("intrinsicColor", e => e.color)), F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vec4 color = intrinsicColor * vColor;`), A.innerColorEnabled && (F.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("innerColor", e => e.innerColor ?? e.color), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("innerWidth", (e, i) => e.innerWidth * i.camera.pixelRatio)), F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float distToInner = abs(vLineDistance * gl_FragCoord.w) - innerWidth;
float innerAA = clamp(0.5 - distToInner, 0.0, 1.0);
float innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);
color = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);`)), F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`vec4 finalColor = blendStipple(color, stippleAlpha);`), A.falloffEnabled && (F.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("falloff", e => e.falloff)), F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`finalColor.a *= pow(max(0.0, 1.0 - abs(vLineDistanceNorm * gl_FragCoord.w)), falloff);`))), F.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
    ${A.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`finalColor.a = 1.0;` : ""}

    if (finalColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_10__.symbolAlphaCutoff)}) {
      discard;
    }

    ${A.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`fragColor = vec4(finalColor.a);` : ""}
    ${A.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`fragColor = highlightSlice(finalColor, vpos);` : ""}
    ${A.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color && A.transparencyPassType === _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_19__.TransparencyPassType.Color ? "fragColor = premultiplyAlpha(fragColor);" : ""}
    ${A.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`fragColor = vec4(1.0);` : ""}
    ${A.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`outputDepth(linearDepth);` : ""}
    ${A.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`outputObjectAndLayerIdColor();` : ""}
  }
  `), R;
}
const R = Object.freeze(Object.defineProperty({
  __proto__: null,
  build: A,
  ribbonlineNumRoundJoinSubdivisions: j
}, Symbol.toStringTag, {
  value: "Module"
}));


/***/ }),

/***/ 43620:
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/TextureOnly.glsl.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "T": () => (/* binding */ i),
/* harmony export */   "a": () => (/* binding */ d),
/* harmony export */   "b": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vec4f64.js */ 91746);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ 93249);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ 94391);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






class i extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.NoParameters {
  constructor() {
    super(...arguments), this.color = (0,_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(1, 1, 1, 1);
  }
}
function l() {
  const e = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder();
  return e.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__.ScreenSpacePass), e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("tex", e => e.texture), new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float4PassUniform("uColor", e => e.color)), e.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`void main() {
vec4 texColor = texture(tex, uv);
fragColor = texColor * uColor;
}`), e;
}
const d = Object.freeze(Object.defineProperty({
  __proto__: null,
  TextureOnlyPassParameters: i,
  build: l
}, Symbol.toStringTag, {
  value: "Module"
}));


/***/ }),

/***/ 66355:
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/WaterSurface.glsl.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "W": () => (/* binding */ M),
/* harmony export */   "b": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js */ 74891);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ 56877);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ 2847);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ 19307);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ 43386);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js */ 45334);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js */ 98805);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ 57895);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js */ 86708);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ 85950);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js */ 28207);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js */ 77536);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js */ 73034);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ 63855);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ 54983);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ 19349);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/























function x(x) {
  const M = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_20__.ShaderBuilder(),
    {
      vertex: D,
      fragment: N
    } = M;
  (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addProjViewLocalOrigin)(D, x), M.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform, x), M.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_22__.VertexAttribute.POSITION, "vec3"), M.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_22__.VertexAttribute.UV0, "vec2");
  const O = new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__.Float4PassUniform("waterColor", e => e.color);
  if (x.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color && x.isDraped) return M.varyings.add("vpos", "vec3"), D.uniforms.add(O), D.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`
        void main(void) {
          if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.symbolAlphaCutoff)}) {
            // Discard this vertex
            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
            return;
          }

          vpos = position;
          gl_Position = transformPosition(proj, view, vpos);
        }
    `), N.uniforms.add(O), N.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`void main() {
fragColor = waterColor;
}`), M;
  switch (x.output !== _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color && x.output !== _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha || (M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_9__.NormalUtils, x), M.include(_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ForwardLinearDepth, x), M.varyings.add("vuv", "vec2"), M.varyings.add("vpos", "vec3"), M.varyings.add("vnormal", "vec3"), M.varyings.add("vtbnMatrix", "mat3"), x.multipassEnabled && M.varyings.add("depth", "float"), D.uniforms.add(O), D.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`
      void main(void) {
        if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.symbolAlphaCutoff)}) {
          // Discard this vertex
          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
          return;
        }

        vuv = uv0;
        vpos = position;

        vnormal = getLocalUp(vpos, localOrigin);
        vtbnMatrix = getTBNMatrix(vnormal);

        ${x.multipassEnabled ? "depth = (view * vec4(vpos, 1.0)).z;" : ""}

        gl_Position = transformPosition(proj, view, vpos);
        ${x.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color ? "forwardLinearDepth();" : ""}
      }
    `)), M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__.multipassTerrainTest, x), x.output) {
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha:
      M.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw, x), N.uniforms.add(O), N.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`
        void main() {
          discardBySlice(vpos);
          ${x.multipassEnabled ? "terrainDepthTest(depth);" : ""}

          fragColor = vec4(waterColor.a);
        }
      `);
      break;
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color:
      M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__.MainLighting), M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__.EvaluateAmbientLighting, {
        pbrMode: _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_10__.PBRMode.Disabled,
        lightingSphericalHarmonicsOrder: 2
      }), M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_13__.WaterDistortion), M.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw, x), M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_11__.ReadShadowMapDraw, x), M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_12__.Water, x), N.uniforms.add(O, new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_18__.FloatPassUniform("timeElapsed", e => e.timeElapsed), D.uniforms.get("view"), D.uniforms.get("localOrigin")), (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addCameraPosition)(N, x), N.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_15__.ColorConversion), (0,_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__.addMainLightDirection)(N), (0,_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__.addMainLightIntensity)(N), N.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`
      void main() {
        discardBySlice(vpos);
        ${x.multipassEnabled ? "terrainDepthTest(depth);" : ""}
        vec3 localUp = vnormal;
        // the created normal is in tangent space
        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);

        // we rotate the normal according to the tangent-bitangent-normal-Matrix
        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);
        vec3 v = -normalize(vpos - cameraPosition);
        float shadow = ${x.receiveShadows ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`1.0 - readShadowMap(vpos, linearDepth)` : "1.0"};
        vec4 vPosView = view * vec4(vpos, 1.0);
        vec4 final = vec4(getSeaColor(n, v, mainLightDirection, waterColor.rgb, mainLightIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz, vpos + localOrigin), waterColor.w);

        // gamma correction
        fragColor = delinearizeGamma(final);
        fragColor = highlightSlice(fragColor, vpos);
        ${x.transparencyPassType === _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_21__.TransparencyPassType.Color ? "fragColor = premultiplyAlpha(fragColor);" : ""}
      }
    `);
      break;
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Normal:
      M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_9__.NormalUtils, x), M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_13__.WaterDistortion, x), M.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw, x), M.varyings.add("vpos", "vec3"), M.varyings.add("vuv", "vec2"), D.uniforms.add(O), D.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`
        void main(void) {
          if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.symbolAlphaCutoff)}) {
            // Discard this vertex
            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
            return;
          }

          vuv = uv0;
          vpos = position;

          gl_Position = transformPosition(proj, view, vpos);
        }
    `), N.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_18__.FloatPassUniform("timeElapsed", e => e.timeElapsed)), N.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`void main() {
discardBySlice(vpos);
vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);
tangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);
fragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);
}`);
      break;
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight:
      M.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_5__.OutputHighlight, x), M.varyings.add("vpos", "vec3"), D.uniforms.add(O), D.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`
      void main(void) {
        if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.symbolAlphaCutoff)}) {
          // Discard this vertex
          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
          return;
        }

        vpos = position;
        gl_Position = transformPosition(proj, view, vpos);
      }
    `), M.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw, x), N.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`void main() {
discardBySlice(vpos);
outputHighlight();
}`);
      break;
    case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor:
      M.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__.ObjectAndLayerIdColor, x), M.varyings.add("vpos", "vec3"), D.uniforms.add(O), D.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`
      void main(void) {
        if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.symbolAlphaCutoff)}) {
          // Discard this vertex
          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
          return;
        }

        vpos = position;
        gl_Position = transformPosition(proj, view, vpos);
        forwardObjectAndLayerIdColor();
      }
    `), M.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw, x), N.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl`void main() {
discardBySlice(vpos);
outputObjectAndLayerIdColor();
}`);
  }
  return M;
}
const M = Object.freeze(Object.defineProperty({
  __proto__: null,
  build: x
}, Symbol.toStringTag, {
  value: "Module"
}));


/***/ }),

/***/ 51719:
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/boundedPlane.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": () => (/* binding */ fs),
/* harmony export */   "B": () => (/* binding */ G),
/* harmony export */   "C": () => (/* binding */ Ns),
/* harmony export */   "a": () => (/* binding */ W),
/* harmony export */   "b": () => (/* binding */ _s),
/* harmony export */   "c": () => (/* binding */ Z),
/* harmony export */   "d": () => (/* binding */ ps),
/* harmony export */   "e": () => (/* binding */ us),
/* harmony export */   "f": () => (/* binding */ H),
/* harmony export */   "g": () => (/* binding */ $),
/* harmony export */   "h": () => (/* binding */ as),
/* harmony export */   "i": () => (/* binding */ ss),
/* harmony export */   "j": () => (/* binding */ D),
/* harmony export */   "k": () => (/* binding */ K),
/* harmony export */   "l": () => (/* binding */ ts),
/* harmony export */   "m": () => (/* binding */ is),
/* harmony export */   "n": () => (/* binding */ ds),
/* harmony export */   "o": () => (/* binding */ ns),
/* harmony export */   "p": () => (/* binding */ os),
/* harmony export */   "q": () => (/* binding */ rs),
/* harmony export */   "r": () => (/* binding */ ms),
/* harmony export */   "s": () => (/* binding */ Q),
/* harmony export */   "t": () => (/* binding */ ls),
/* harmony export */   "u": () => (/* binding */ J),
/* harmony export */   "v": () => (/* binding */ es),
/* harmony export */   "w": () => (/* binding */ X),
/* harmony export */   "x": () => (/* binding */ cs),
/* harmony export */   "y": () => (/* binding */ gs),
/* harmony export */   "z": () => (/* binding */ bs)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/has.js */ 67087);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Logger.js */ 28191);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/mathUtils.js */ 93142);
/* harmony import */ var _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/ObjectStack.js */ 93668);
/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mat4.js */ 64544);
/* harmony import */ var _mat4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mat4f64.js */ 23160);
/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./vec3.js */ 92950);
/* harmony import */ var _vec3f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./vec3f64.js */ 77765);
/* harmony import */ var _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../geometry/support/Axis.js */ 40924);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../geometry/support/lineSegment.js */ 19511);
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../geometry/support/plane.js */ 45903);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../geometry/support/ray.js */ 32684);
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../geometry/support/vector.js */ 84877);
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../geometry/support/vectorStacks.js */ 73130);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














const U = _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.3d.support.geometryUtils.boundedPlane");
class z {
  constructor() {
    this.plane = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.create)(), this.origin = (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(), this.basis1 = (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(), this.basis2 = (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)();
  }
}
const G = z;
function W(s = Ns) {
  return {
    plane: (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.create)(s.plane),
    origin: (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.g)(s.origin),
    basis1: (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.g)(s.basis1),
    basis2: (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.g)(s.basis2)
  };
}
function X(s, t, i) {
  const n = Ts.get();
  return n.origin = s, n.basis1 = t, n.basis2 = i, n.plane = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.wrap)(0, 0, 0, 0), J(n), n;
}
function Z(s, t = W()) {
  return H(s.origin, s.basis1, s.basis2, t);
}
function D(s, t) {
  (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(t.origin, s.origin), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(t.basis1, s.basis1), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(t.basis2, s.basis2), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.copy)(t.plane, s.plane);
}
function H(s, t, i, n = W()) {
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(n.origin, s), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(n.basis1, t), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(n.basis2, i), J(n), Ps(n, "fromValues()"), n;
}
function J(s) {
  (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.fromVectorsAndPoint)(s.basis2, s.basis1, s.origin, s.plane);
}
function K(s, t, i) {
  s !== i && Z(s, i);
  const n = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get(), ds(s), t);
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.g)(i.origin, i.origin, n), i.plane[3] -= t, i;
}
function Q(s, t, i) {
  return $(t, i), K(i, bs(s, s.origin), i), i;
}
function $(s, t = W()) {
  const i = (s[2] - s[0]) / 2,
    n = (s[3] - s[1]) / 2;
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.s)(t.origin, s[0] + i, s[1] + n, 0), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.s)(t.basis1, i, 0, 0), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.s)(t.basis2, 0, n, 0), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.fromValues)(0, 0, 1, 0, t.plane), t;
}
function ss(s, t, i) {
  return !!(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.intersectRay)(s.plane, t, i) && js(s, i);
}
function ts(s, t, i) {
  if (ss(s, t, i)) return i;
  const n = is(s, t, _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get());
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.g)(i, t.origin, (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get(), t.direction, (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.o)(t.origin, n) / (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.l)(t.direction))), i;
}
function is(s, i, n) {
  const o = ws.get();
  vs(s, i, o, ws.get());
  let r = Number.POSITIVE_INFINITY;
  for (const e of As) {
    const c = ys(s, e, Ms.get()),
      u = _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get();
    if ((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.intersectLineSegment)(o, c, u)) {
      const s = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.C)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get(), i.origin, u),
        o = Math.abs((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.acosClamped)((0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.j)(i.direction, s)));
      o < r && (r = o, (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(n, u));
    }
  }
  return r === Number.POSITIVE_INFINITY ? ns(s, i, n) : n;
}
function ns(s, t, i) {
  if (ss(s, t, i)) return i;
  const n = ws.get(),
    o = ws.get();
  vs(s, t, n, o);
  let r = Number.POSITIVE_INFINITY;
  for (const e of As) {
    const c = ys(s, e, Ms.get()),
      u = _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get();
    if ((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.intersectLineSegmentClamp)(n, c, u)) {
      const s = (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_11__.distance2)(t, u);
      if (!(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.isPointInside)(o, u)) continue;
      s < r && (r = s, (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(i, u));
    }
  }
  return es(s, t.origin) < r && os(s, t.origin, i), i;
}
function os(s, t, i) {
  const n = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.projectPoint)(s.plane, t, _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get()),
    o = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.projectPointClamp)(Is(s, s.basis1), n, -1, 1, _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get()),
    r = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.projectPointClamp)(Is(s, s.basis2), n, -1, 1, _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get());
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.f)(i, (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.g)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get(), o, r), s.origin), i;
}
function rs(s, t, i) {
  const {
      origin: n,
      basis1: o,
      basis2: r
    } = s,
    e = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.f)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get(), t, n),
    a = (0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_12__.projectPointSignedLength)(o, e),
    c = (0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_12__.projectPointSignedLength)(r, e),
    u = (0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_12__.projectPointSignedLength)(ds(s), e);
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.s)(i, a, c, u);
}
function es(s, t) {
  const i = rs(s, t, _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get()),
    {
      basis1: n,
      basis2: o
    } = s,
    r = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.l)(n),
    e = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.l)(o),
    a = Math.max(Math.abs(i[0]) - r, 0),
    c = Math.max(Math.abs(i[1]) - e, 0),
    u = i[2];
  return a * a + c * c + u * u;
}
function as(s, t) {
  return Math.sqrt(es(s, t));
}
function cs(s, t) {
  let i = Number.NEGATIVE_INFINITY;
  for (const n of As) {
    const o = ys(s, n, Ms.get()),
      r = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.distance2)(o, t);
    r > i && (i = r);
  }
  return Math.sqrt(i);
}
function us(s, t) {
  return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.isPointInside)(s.plane, t) && js(s, t);
}
function gs(s, t, i, n) {
  return hs(s, i, n);
}
function bs(s, t) {
  const i = -s.plane[3];
  return (0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_12__.projectPointSignedLength)(ds(s), t) - i;
}
function fs(s, t, i, n) {
  const o = bs(s, t),
    r = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.i)(Ss, ds(s), i - o);
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.g)(n, t, r), n;
}
function ps(s, t) {
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.h)(s.basis1, t.basis1) && (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.h)(s.basis2, t.basis2) && (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.h)(s.origin, t.origin);
}
function ls(s, t, i) {
  return s !== i && Z(s, i), (0,_mat4_js__WEBPACK_IMPORTED_MODULE_4__.i)(xs, t), (0,_mat4_js__WEBPACK_IMPORTED_MODULE_4__.t)(xs, xs), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.e)(i.basis1, s.basis1, xs), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.e)(i.basis2, s.basis2, xs), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.e)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.normal)(i.plane), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.normal)(s.plane), xs), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.e)(i.origin, s.origin, t), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.setOffsetFromPoint)(i.plane, i.plane, i.origin), i;
}
function ms(s, t, i, n) {
  return s !== n && Z(s, n), (0,_mat4_js__WEBPACK_IMPORTED_MODULE_4__.c)(Vs, t, i), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.e)(n.basis1, s.basis1, Vs), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.e)(n.basis2, s.basis2, Vs), J(n), n;
}
function ds(s) {
  return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.normal)(s.plane);
}
function hs(s, t, i) {
  switch (t) {
    case _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_8__.Axis.X:
      (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(i, s.basis1), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.n)(i, i);
      break;
    case _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_8__.Axis.Y:
      (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(i, s.basis2), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.n)(i, i);
      break;
    case _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_8__.Axis.Z:
      (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(i, ds(s));
  }
  return i;
}
function js(s, t) {
  const i = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.f)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get(), t, s.origin),
    n = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.m)(s.basis1),
    o = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.m)(s.basis2),
    r = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.j)(s.basis1, i),
    e = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.j)(s.basis2, i);
  return -r - n < 0 && r - n < 0 && -e - o < 0 && e - o < 0;
}
function Is(s, t) {
  const i = Ms.get();
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(i.origin, s.origin), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.c)(i.vector, t), i;
}
function ys(s, t, i) {
  const {
      basis1: n,
      basis2: o,
      origin: r
    } = s,
    e = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get(), n, t.origin[0]),
    a = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get(), o, t.origin[1]);
  (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.g)(i.origin, e, a), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.g)(i.origin, i.origin, r);
  const g = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get(), n, t.direction[0]),
    b = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__.sv3d.get(), o, t.direction[1]);
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.i)(i.vector, (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.g)(g, g, b), 2), i;
}
function Ps(s, t) {
  Math.abs((0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.j)(s.basis1, s.basis2) / ((0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.l)(s.basis1) * (0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.l)(s.basis2))) > 1e-6 && U.warn(t, "Provided basis vectors are not perpendicular"), Math.abs((0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.j)(s.basis1, ds(s))) > 1e-6 && U.warn(t, "Basis vectors and plane normal are not perpendicular"), Math.abs(-(0,_vec3_js__WEBPACK_IMPORTED_MODULE_6__.j)(ds(s), s.origin) - s.plane[3]) > 1e-6 && U.warn(t, "Plane offset is not consistent with plane origin");
}
function vs(s, t, i, n) {
  const o = ds(s);
  (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.fromVectorsAndPoint)(o, t.direction, t.origin, i), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.fromVectorsAndPoint)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.normal)(i), o, t.origin, n);
}
const Ns = {
    plane: (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.create)(),
    origin: (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.f)(0, 0, 0),
    basis1: (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.f)(1, 0, 0),
    basis2: (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.f)(0, 1, 0)
  },
  ws = new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_3__.ObjectStack(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.create),
  Ms = new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_3__.ObjectStack(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.create),
  Ss = (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),
  Ts = new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_3__.ObjectStack(() => W()),
  As = [{
    origin: [-1, -1],
    direction: [1, 0]
  }, {
    origin: [1, -1],
    direction: [0, 1]
  }, {
    origin: [1, 1],
    direction: [-1, 0]
  }, {
    origin: [-1, 1],
    direction: [0, -1]
  }],
  xs = (0,_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(),
  Vs = (0,_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(),
  _s = Object.freeze(Object.defineProperty({
    __proto__: null,
    BoundedPlaneClass: G,
    altitudeAt: bs,
    axisAt: gs,
    closestPoint: ns,
    closestPointOnSilhouette: is,
    copy: Z,
    copyWithoutVerify: D,
    create: W,
    distance: as,
    distance2: es,
    distanceToSilhouette: cs,
    elevate: K,
    equals: ps,
    extrusionContainsPoint: us,
    fromAABoundingRect: $,
    fromValues: H,
    intersectRay: ss,
    intersectRayClosestSilhouette: ts,
    normal: ds,
    projectPoint: os,
    projectPointLocal: rs,
    rotate: ms,
    setAltitudeAt: fs,
    setExtent: Q,
    transform: ls,
    up: Ns,
    updateUnboundedPlane: J,
    wrap: X
  }, Symbol.toStringTag, {
    value: "Module"
  }));


/***/ }),

/***/ 49533:
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec3f32.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "O": () => (/* binding */ f),
/* harmony export */   "U": () => (/* binding */ l),
/* harmony export */   "Z": () => (/* binding */ i),
/* harmony export */   "a": () => (/* binding */ t),
/* harmony export */   "b": () => (/* binding */ e),
/* harmony export */   "c": () => (/* binding */ n),
/* harmony export */   "d": () => (/* binding */ s),
/* harmony export */   "e": () => (/* binding */ c),
/* harmony export */   "f": () => (/* binding */ r),
/* harmony export */   "g": () => (/* binding */ _),
/* harmony export */   "h": () => (/* binding */ y),
/* harmony export */   "o": () => (/* binding */ o),
/* harmony export */   "u": () => (/* binding */ u),
/* harmony export */   "v": () => (/* binding */ w),
/* harmony export */   "z": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n() {
  return new Float32Array(3);
}
function t(n) {
  const t = new Float32Array(3);
  return t[0] = n[0], t[1] = n[1], t[2] = n[2], t;
}
function r(n, t, r) {
  const e = new Float32Array(3);
  return e[0] = n, e[1] = t, e[2] = r, e;
}
function e(n, t) {
  return new Float32Array(n, t, 3);
}
function a() {
  return n();
}
function o() {
  return r(1, 1, 1);
}
function u() {
  return r(1, 0, 0);
}
function s() {
  return r(0, 1, 0);
}
function c() {
  return r(0, 0, 1);
}
const i = a(),
  f = o(),
  l = u(),
  _ = s(),
  y = c(),
  w = Object.freeze(Object.defineProperty({
    __proto__: null,
    ONES: f,
    UNIT_X: l,
    UNIT_Y: _,
    UNIT_Z: y,
    ZEROS: i,
    clone: t,
    create: n,
    createView: e,
    fromValues: r,
    ones: o,
    unitX: u,
    unitY: s,
    unitZ: c,
    zeros: a
  }, Symbol.toStringTag, {
    value: "Module"
  }));


/***/ }),

/***/ 1671:
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/floatRGBA.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "packFloatRGBA": () => (/* binding */ o),
/* harmony export */   "unpackFloatRGBA": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mathUtils.js */ 93142);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function o(o, r, e = 0) {
  const i = (0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(o, 0, f);
  for (let t = 0; t < 4; t++) r[e + t] = Math.floor(256 * l(i * n[t]));
}
function r(t, o = 0) {
  let r = 0;
  for (let n = 0; n < 4; n++) r += t[o + n] * e[n];
  return r;
}
const n = [1, 256, 65536, 16777216],
  e = [1 / 256, 1 / 65536, 1 / 16777216, 1 / 4294967296],
  f = r(new Uint8ClampedArray([255, 255, 255, 255]));
function l(t) {
  return t - Math.floor(t);
}


/***/ }),

/***/ 6568:
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isMat4": () => (/* binding */ t),
/* harmony export */   "isMat4f32": () => (/* binding */ n),
/* harmony export */   "isMat4f64": () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(n) {
  return n instanceof Float32Array && n.length >= 16;
}
function r(n) {
  return Array.isArray(n) && n.length >= 16;
}
function t(t) {
  return n(t) || r(t);
}


/***/ }),

/***/ 26849:
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "projectVectorToVector": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _projectBuffer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./projectBuffer.js */ 99128);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


function t(n, t, e, c) {
  return !(null == t || null == c || n.length < 2) && (2 === n.length && (o[0] = n[0], o[1] = n[1], o[2] = 0, n = o), (0,_projectBuffer_js__WEBPACK_IMPORTED_MODULE_1__.projectBuffer)(n, t, 0, e, c, 0, 1));
}
const o = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)();


/***/ }),

/***/ 10870:
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/DoubleArray.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "copyInto": () => (/* binding */ o),
/* harmony export */   "doubleArrayFrom": () => (/* binding */ e),
/* harmony export */   "doubleSubArray": () => (/* binding */ a),
/* harmony export */   "newDoubleArray": () => (/* binding */ t),
/* harmony export */   "toFloat64Array": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ 13878);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function t(n, t = !1) {
  return n <= _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize ? t ? new Array(n).fill(0) : new Array(n) : new Float64Array(n);
}
function e(t) {
  return ((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(t) ? t.length : t.byteLength / 8) <= _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize ? Array.from(t) : new Float64Array(t);
}
function a(r, n, t) {
  return Array.isArray(r) ? r.slice(n, n + t) : r.subarray(n, n + t);
}
function o(r, n) {
  for (let t = 0; t < n.length; ++t) r[t] = n[t];
  return r;
}
function y(r) {
  return Array.isArray(r) ? new Float64Array(r) : r;
}


/***/ }),

/***/ 79455:
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/dehydratedFeatureUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isDehydratedPoint": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t) {
  return "point" === t.type;
}


/***/ }),

/***/ 49527:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/CloudsData.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CloudsRenderingStages": () => (/* binding */ n),
/* harmony export */   "CloudsTextureChannels": () => (/* binding */ u),
/* harmony export */   "ensureClouds": () => (/* binding */ N),
/* harmony export */   "isReadyCloudsData": () => (/* binding */ I)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var n, u;
function I(n) {
  return null != n?.cubeMap;
}
function N(n) {
  return null != n && !n.running;
}
!function (n) {
  n[n.RENDERING = 0] = "RENDERING", n[n.FADING = 1] = "FADING", n[n.FINISHED = 2] = "FINISHED";
}(n || (n = {})), function (n) {
  n[n.RG = 0] = "RG", n[n.BA = 1] = "BA";
}(u || (u = {}));


/***/ }),

/***/ 41746:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CloudsParameters": () => (/* binding */ A),
/* harmony export */   "FadeMode": () => (/* binding */ O),
/* harmony export */   "crossFadeDistanceThreshold": () => (/* binding */ y),
/* harmony export */   "fadeOutDistanceThreshold": () => (/* binding */ M),
/* harmony export */   "hideDistanceThreshold": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ 93142);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/axisAngleDegrees.js */ 29200);
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../geometry/support/Ellipsoid.js */ 86355);
/* harmony import */ var _CloudsData_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CloudsData.js */ 49527);
/* harmony import */ var _weather_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./weather.js */ 69228);
/* harmony import */ var _support_RenderState_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../support/RenderState.js */ 20758);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










class A {
  constructor() {
    this.readChannels = _CloudsData_js__WEBPACK_IMPORTED_MODULE_7__.CloudsTextureChannels.RG, this.renderingStage = _CloudsData_js__WEBPACK_IMPORTED_MODULE_7__.CloudsRenderingStages.FINISHED, this.startTime = 0, this.startTimeHeightFade = 0, this.cameraPositionLastFrame = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(), this.parallax = new C(), this.parallaxNew = new C(), this.pointOnGround = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(), this.fadeMode = O.HIDE, this.fadeFactor = 0, this.opacity = 0;
  }
  updateParallax(t) {
    const s = this.parallax,
      o = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.l)(t.eye);
    if (s.radiusCurvatureCorrectionFactor = .84 * Math.sqrt(Math.max(o * o - _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__.earth.radius * _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__.earth.radius, 0)) / o, (0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__.fromPoints)(S, s.anchorPointClouds, g), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.k)(s.transform, _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.I, g[3], (0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__.axis)(g)), this.fadeMode === O.CROSS_FADE) {
      const t = this.parallaxNew;
      (0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__.fromPoints)(S, t.anchorPointClouds, g), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.k)(t.transform, _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.I, g[3], (0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__.axis)(g));
    }
  }
  updateFading(t, a, i, s) {
    this.isFading && this._advanceFading(i, s), this._evaluateFading(t, a, i);
  }
  _evaluateFading(t, a, i) {
    const s = t.relativeElevation,
      e = this._calculateDistanceToAnchorPoint(t);
    if ((s > 1.7 * _weather_js__WEBPACK_IMPORTED_MODULE_8__.weatherHeightLimit || s < -_weather_js__WEBPACK_IMPORTED_MODULE_8__.weatherHeightLimit || e > v) && this.opacity > 0) this._setFade(O.HIDE, i);else if (!this.isFading) if ((s > _weather_js__WEBPACK_IMPORTED_MODULE_8__.weatherHeightLimit || s < -.35 * _weather_js__WEBPACK_IMPORTED_MODULE_8__.weatherHeightLimit || e > M) && this.opacity > 0) this._setFade(O.FADE_OUT, i);else if (s <= _weather_js__WEBPACK_IMPORTED_MODULE_8__.weatherHeightLimit && s >= -.35 * _weather_js__WEBPACK_IMPORTED_MODULE_8__.weatherHeightLimit && a === _support_RenderState_js__WEBPACK_IMPORTED_MODULE_9__.RenderState.IDLE && (0,_CloudsData_js__WEBPACK_IMPORTED_MODULE_7__.ensureClouds)(this.data)) {
      if (0 === this.opacity) return void this._setFade(O.FADE_IN, i);
      (e > y || this.renderingStage === _CloudsData_js__WEBPACK_IMPORTED_MODULE_7__.CloudsRenderingStages.FADING) && this._setFade(O.CROSS_FADE, i);
    }
  }
  _advanceFading(t, a) {
    this._switchReadChannels(), this._updateAnchorPoint(), this._advanceFadingFactorAndOpacity(t, a);
  }
  _advanceFadingFactorAndOpacity(a, i) {
    if (this.fadeFactor < 1) return this.fadeFactor = i ? (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)((a - this.startTime) / (I * i), 0, 1) : 1, this.fadeMode === O.FADE_OUT && (this.opacity = 1 - this.fadeFactor), this.fadeMode === O.FADE_IN && (this.opacity = this.fadeFactor), void (this.fadeMode === O.CROSS_FADE && (this.opacity = 1));
    this.fadeFactor = 0, this.fadeMode === O.FADE_OUT && (this.opacity = 0), this.fadeMode === O.FADE_IN && (this.opacity = 1), this.fadeMode === O.CROSS_FADE && (this.opacity = 1), this.fadeMode = O.NONE;
  }
  _switchReadChannels() {
    const t = this.fadeMode === O.CROSS_FADE && 1 === this.fadeFactor,
      a = this.fadeMode === O.FADE_IN && 0 === this.fadeFactor;
    this.renderingStage === _CloudsData_js__WEBPACK_IMPORTED_MODULE_7__.CloudsRenderingStages.FADING && (t || a) && (this.readChannels = 1 - this.readChannels, this.renderingStage = _CloudsData_js__WEBPACK_IMPORTED_MODULE_7__.CloudsRenderingStages.FINISHED);
  }
  _calculateDistanceToAnchorPoint(t) {
    return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(this.pointOnGround, t.eye), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.i)(this.pointOnGround, this.pointOnGround, _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__.earth.radius), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.l)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(N, this.parallax.anchorPointClouds, this.pointOnGround));
  }
  _updateAnchorPoint() {
    this.fadeMode === O.CROSS_FADE && (0 === this.fadeFactor && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.parallaxNew.anchorPointClouds, this.pointOnGround), 1 === this.fadeFactor && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.parallax.anchorPointClouds, this.parallaxNew.anchorPointClouds)), this.fadeMode === O.FADE_IN && 0 === this.fadeFactor && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.parallax.anchorPointClouds, this.pointOnGround);
  }
  _setFade(t, a) {
    switch (t) {
      case O.HIDE:
        this.opacity = 0;
        break;
      case O.FADE_OUT:
        this.opacity = 1;
        break;
      case O.FADE_IN:
        this.opacity = 0;
        break;
      case O.CROSS_FADE:
        this.opacity = 1;
    }
    this.fadeMode = t, this.fadeFactor = 0, this.startTime = a;
  }
  get isFading() {
    return this.fadeMode === O.FADE_OUT || this.fadeMode === O.FADE_IN || this.fadeMode === O.CROSS_FADE;
  }
}
var O;
!function (t) {
  t[t.NONE = 0] = "NONE", t[t.HIDE = 1] = "HIDE", t[t.FADE_OUT = 2] = "FADE_OUT", t[t.FADE_IN = 3] = "FADE_IN", t[t.CROSS_FADE = 4] = "CROSS_FADE";
}(O || (O = {}));
class C {
  constructor() {
    this.anchorPointClouds = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(), this.radiusCurvatureCorrectionFactor = 0, this.transform = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.a)();
  }
}
const S = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(0, 0, 1),
  g = (0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__.create)(),
  N = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),
  I = 1.25,
  y = 34e3,
  M = 64e3,
  v = 2e5;


/***/ }),

/***/ 51127:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ 69237);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ 4139);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








var c;
let p = c = class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport {
  constructor(o) {
    super(o), this.type = "cloudy", this.cloudCover = .5;
  }
  clone() {
    return new c({
      cloudCover: this.cloudCover
    });
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({
  cloudy: "cloudy"
})], p.prototype, "type", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: Number,
  nonNullable: !0,
  range: {
    min: 0,
    max: 1
  },
  json: {
    write: !0
  }
})], p.prototype, "cloudCover", void 0), p = c = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.CloudyWeather")], p);
const u = p;


/***/ }),

/***/ 64405:
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ 69237);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ 4139);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








var p;
let c = p = class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport {
  constructor(r) {
    super(r), this.type = "foggy", this.fogStrength = .5;
  }
  clone() {
    return new p({
      fogStrength: this.fogStrength
    });
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({
  foggy: "foggy"
})], c.prototype, "type", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: Number,
  nonNullable: !0,
  range: {
    min: 0,
    max: 1
  },
  json: {
    write: !0
  }
})], c.prototype, "fogStrength", void 0), c = p = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.FoggyWeather")], c);
const n = c;


/***/ }),

/***/ 25447:
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/RainyWeather.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ 69237);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ 4139);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








var i;
let p = i = class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport {
  constructor(r) {
    super(r), this.type = "rainy", this.cloudCover = .5, this.precipitation = .5;
  }
  clone() {
    return new i({
      cloudCover: this.cloudCover,
      precipitation: this.precipitation
    });
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({
  rainy: "rainy"
})], p.prototype, "type", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: Number,
  nonNullable: !0,
  range: {
    min: 0,
    max: 1
  },
  json: {
    write: !0
  }
})], p.prototype, "cloudCover", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: Number,
  nonNullable: !0,
  range: {
    min: 0,
    max: 1
  },
  json: {
    write: !0
  }
})], p.prototype, "precipitation", void 0), p = i = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.RainyWeather")], p);
const c = p;


/***/ }),

/***/ 49325:
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ 69237);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ 4139);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








var i;
let p = i = class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport {
  constructor(o) {
    super(o), this.type = "snowy", this.cloudCover = .5, this.precipitation = .5, this.snowCover = "disabled";
  }
  clone() {
    return new i({
      cloudCover: this.cloudCover,
      precipitation: this.precipitation,
      snowCover: this.snowCover
    });
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({
  snowy: "snowy"
})], p.prototype, "type", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: Number,
  nonNullable: !0,
  range: {
    min: 0,
    max: 1
  },
  json: {
    write: !0
  }
})], p.prototype, "cloudCover", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: Number,
  nonNullable: !0,
  range: {
    min: 0,
    max: 1
  },
  json: {
    write: !0
  }
})], p.prototype, "precipitation", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: ["enabled", "disabled"],
  nonNullable: !0,
  json: {
    write: !0
  }
})], p.prototype, "snowCover", void 0), p = i = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.SnowyWeather")], p);
const n = p;


/***/ }),

/***/ 12442:
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ 69237);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ 4139);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








var p;
let c = p = class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport {
  constructor(r) {
    super(r), this.type = "sunny", this.cloudCover = .5;
  }
  clone() {
    return new p({
      cloudCover: this.cloudCover
    });
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({
  sunny: "sunny"
})], c.prototype, "type", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: Number,
  nonNullable: !0,
  range: {
    min: 0,
    max: 1
  },
  json: {
    write: !0
  }
})], c.prototype, "cloudCover", void 0), c = p = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.SunnyWeather")], c);
const n = c;


/***/ }),

/***/ 69228:
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/weather.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cloudsHeight": () => (/* binding */ i),
/* harmony export */   "validateWeatherType": () => (/* binding */ s),
/* harmony export */   "weatherHeightLimit": () => (/* binding */ p),
/* harmony export */   "weatherTypes": () => (/* binding */ n),
/* harmony export */   "weatherTypesArray": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _CloudyWeather_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CloudyWeather.js */ 51127);
/* harmony import */ var _FoggyWeather_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FoggyWeather.js */ 64405);
/* harmony import */ var _RainyWeather_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RainyWeather.js */ 25447);
/* harmony import */ var _SnowyWeather_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SnowyWeather.js */ 49325);
/* harmony import */ var _SunnyWeather_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SunnyWeather.js */ 12442);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





const n = {
    key: "type",
    base: _SunnyWeather_js__WEBPACK_IMPORTED_MODULE_4__["default"],
    typeMap: {
      sunny: _SunnyWeather_js__WEBPACK_IMPORTED_MODULE_4__["default"],
      cloudy: _CloudyWeather_js__WEBPACK_IMPORTED_MODULE_0__["default"],
      rainy: _RainyWeather_js__WEBPACK_IMPORTED_MODULE_2__["default"],
      snowy: _SnowyWeather_js__WEBPACK_IMPORTED_MODULE_3__["default"],
      foggy: _FoggyWeather_js__WEBPACK_IMPORTED_MODULE_1__["default"]
    }
  },
  a = Object.keys(n.typeMap);
function s(e, r) {
  return !!a.includes(e) || (r.error(`"${e}" is not a valid weather type`), !1);
}
const p = 1e4,
  i = 1e5;


/***/ }),

/***/ 56804:
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ElevationContext": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../symbols/support/unitConversionUtils.js */ 55821);
/* harmony import */ var _featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./featureExpressionInfoUtils.js */ 28101);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class o {
  constructor() {
    this._meterUnitOffset = 0, this._renderUnitOffset = 0, this._unit = "meters", this._metersPerElevationInfoUnit = 1, this._featureExpressionInfoContext = null, this.centerPointInElevationSR = null, this.mode = null;
  }
  get featureExpressionInfoContext() {
    return this._featureExpressionInfoContext;
  }
  get meterUnitOffset() {
    return this._meterUnitOffset;
  }
  get unit() {
    return this._unit;
  }
  set unit(e) {
    this._unit = e, this._metersPerElevationInfoUnit = (0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnit)(e);
  }
  get requiresSampledElevationInfo() {
    return "absolute-height" !== this.mode;
  }
  reset() {
    this.mode = null, this._meterUnitOffset = 0, this._renderUnitOffset = 0, this._featureExpressionInfoContext = null, this.unit = "meters";
  }
  set offsetMeters(t) {
    this._meterUnitOffset = t, this._renderUnitOffset = 0;
  }
  set offsetElevationInfoUnits(t) {
    this._meterUnitOffset = t * this._metersPerElevationInfoUnit, this._renderUnitOffset = 0;
  }
  addOffsetRenderUnits(t) {
    this._renderUnitOffset += t;
  }
  geometryZWithOffset(t, e) {
    const n = this.calculateOffsetRenderUnits(e);
    return null != this.featureExpressionInfoContext ? n : t + n;
  }
  calculateOffsetRenderUnits(t) {
    let e = this._meterUnitOffset;
    const s = this.featureExpressionInfoContext;
    return null != s && (e += (0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.execute)(s) * this._metersPerElevationInfoUnit), e / t.unitInMeters + this._renderUnitOffset;
  }
  setFromElevationInfo(t) {
    this.mode = t.mode, this.unit = (0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.supportsUnit)(t.unit) ? t.unit : "meters", this.offsetElevationInfoUnits = t.offset ?? 0;
  }
  updateFeatureExpressionInfoContext(t, e, n) {
    if (null == t) return void (this._featureExpressionInfoContext = null);
    const o = t?.arcade;
    o && null != e && null != n ? (this._featureExpressionInfoContext = (0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.clone)(t), (0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.setContextFeature)(this._featureExpressionInfoContext, (0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.createFeature)(o.modules, e, n))) : this._featureExpressionInfoContext = t;
  }
  static fromElevationInfo(t) {
    const e = new o();
    return null != t && e.setFromElevationInfo(t), e;
  }
}


/***/ }),

/***/ 30653:
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SampleElevationInfo": () => (/* binding */ R),
/* harmony export */   "SymbolUpdateType": () => (/* binding */ T),
/* harmony export */   "applyElevationAlignmentForHUD": () => (/* binding */ g),
/* harmony export */   "applyPerVertexElevationAlignment": () => (/* binding */ u),
/* harmony export */   "elevationModeChangeUpdateType": () => (/* binding */ d),
/* harmony export */   "evaluateElevationAlignmentAtPoint": () => (/* binding */ f),
/* harmony export */   "evaluateElevationInfoAtPoint": () => (/* binding */ c),
/* harmony export */   "needsElevationUpdates2D": () => (/* binding */ m),
/* harmony export */   "needsElevationUpdates3D": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/projection/computeTranslationToOriginAndRotation.js */ 48237);
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ 99128);
/* harmony import */ var _layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatureUtils.js */ 79455);
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./graphicUtils.js */ 67713);
/* harmony import */ var _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../support/ElevationProvider.js */ 72603);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








function u(e, t, n, o, i, s, a, l, u, c, f) {
  const d = j[f.mode];
  let m,
    p,
    g = 0;
  if ((0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__.projectBuffer)(e, t, n, o, u.spatialReference, i, l)) return d.requiresAlignment(f) ? (g = d.applyElevationAlignmentBuffer(o, i, s, a, l, u, c, f), m = s, p = a) : (m = o, p = i), (0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__.projectBuffer)(m, u.spatialReference, p, s, c.spatialReference, a, l) ? g : void 0;
}
function c(e, t, n, o, r) {
  const s = ((0,_layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_5__.isDehydratedPoint)(e) ? e.z : (0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__.isSamplePosition)(e) ? e.array[e.offset + 2] : e[2]) || 0;
  switch (n.mode) {
    case "on-the-ground":
      {
        const n = (0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__.getElevationAtPoint)(t, e, "ground") ?? 0;
        return r.verticalDistanceToGround = 0, r.sampledElevation = n, void (r.z = n);
      }
    case "relative-to-ground":
      {
        const i = (0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__.getElevationAtPoint)(t, e, "ground") ?? 0,
          a = n.geometryZWithOffset(s, o);
        return r.verticalDistanceToGround = a, r.sampledElevation = i, void (r.z = a + i);
      }
    case "relative-to-scene":
      {
        const i = (0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__.getElevationAtPoint)(t, e, "scene") ?? 0,
          a = n.geometryZWithOffset(s, o);
        return r.verticalDistanceToGround = a, r.sampledElevation = i, void (r.z = a + i);
      }
    case "absolute-height":
      {
        const i = n.geometryZWithOffset(s, o),
          a = (0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__.getElevationAtPoint)(t, e, "ground") ?? 0;
        return r.verticalDistanceToGround = i - a, r.sampledElevation = a, void (r.z = i);
      }
    default:
      return void (r.z = 0);
  }
}
function f(e, t, n, o) {
  return c(e, t, n, o, x), x.z;
}
function d(e, t, n) {
  return null == t || null == n ? e.definedChanged : "on-the-ground" === t && "on-the-ground" === n ? e.staysOnTheGround : t === n || "on-the-ground" !== t && "on-the-ground" !== n ? T.UPDATE : e.onTheGroundChanged;
}
function m(e) {
  return "relative-to-ground" === e || "relative-to-scene" === e;
}
function p(e) {
  return "absolute-height" !== e;
}
function g(t, n, r, i, a) {
  c(n, r, a, i, x), (0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_6__.updateVertexAttributeAuxpos1w)(t, x.verticalDistanceToGround);
  const l = x.sampledElevation,
    u = (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(O, t.transformation);
  z[0] = n.x, z[1] = n.y, z[2] = x.z;
  return (0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_3__.computeTranslationToOriginAndRotation)(n.spatialReference, z, u, i.spatialReference) ? t.transformation = u : console.warn("Could not locate symbol object properly, it might be misplaced"), l;
}
function v(e, t, n, o, r, i) {
  let s = 0;
  const a = i.spatialReference;
  t *= 3, o *= 3;
  for (let l = 0; l < r; ++l) {
    const r = e[t],
      l = e[t + 1],
      u = e[t + 2],
      c = i.getElevation(r, l, u, a, "ground") ?? 0;
    s += c, n[o] = r, n[o + 1] = l, n[o + 2] = c, t += 3, o += 3;
  }
  return s / r;
}
function h(e, t, n, o, r, i, s, a) {
  let l = 0;
  const u = a.calculateOffsetRenderUnits(s),
    c = a.featureExpressionInfoContext,
    f = i.spatialReference;
  t *= 3, o *= 3;
  for (let d = 0; d < r; ++d) {
    const r = e[t],
      s = e[t + 1],
      a = e[t + 2],
      d = i.getElevation(r, s, a, f, "ground") ?? 0;
    l += d, n[o] = r, n[o + 1] = s, n[o + 2] = null == c ? a + d + u : d + u, t += 3, o += 3;
  }
  return l / r;
}
function E(e, t, n, o, r, i, s, a) {
  let l = 0;
  const u = a.calculateOffsetRenderUnits(s),
    c = a.featureExpressionInfoContext,
    f = i.spatialReference;
  t *= 3, o *= 3;
  for (let d = 0; d < r; ++d) {
    const r = e[t],
      s = e[t + 1],
      a = e[t + 2],
      d = i.getElevation(r, s, a, f, "scene") ?? 0;
    l += d, n[o] = r, n[o + 1] = s, n[o + 2] = null == c ? a + d + u : d + u, t += 3, o += 3;
  }
  return l / r;
}
function y(e) {
  const t = e.meterUnitOffset,
    n = e.featureExpressionInfoContext;
  return 0 !== t || null != n;
}
function A(e, t, n, o, r, i, s, a) {
  const l = a.calculateOffsetRenderUnits(s),
    u = a.featureExpressionInfoContext;
  t *= 3, o *= 3;
  for (let c = 0; c < r; ++c) {
    const r = e[t],
      i = e[t + 1],
      s = e[t + 2];
    n[o] = r, n[o + 1] = i, n[o + 2] = null == u ? s + l : l, t += 3, o += 3;
  }
  return 0;
}
class R {
  constructor() {
    this.verticalDistanceToGround = 0, this.sampledElevation = 0, this.z = 0;
  }
}
var T;
!function (e) {
  e[e.NONE = 0] = "NONE", e[e.UPDATE = 1] = "UPDATE", e[e.RECREATE = 2] = "RECREATE";
}(T || (T = {}));
const j = {
    "absolute-height": {
      applyElevationAlignmentBuffer: A,
      requiresAlignment: y
    },
    "on-the-ground": {
      applyElevationAlignmentBuffer: v,
      requiresAlignment: () => !0
    },
    "relative-to-ground": {
      applyElevationAlignmentBuffer: h,
      requiresAlignment: () => !0
    },
    "relative-to-scene": {
      applyElevationAlignmentBuffer: E,
      requiresAlignment: () => !0
    }
  },
  O = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),
  x = new R(),
  z = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();


/***/ }),

/***/ 28101:
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "clone": () => (/* binding */ o),
/* harmony export */   "createContext": () => (/* binding */ a),
/* harmony export */   "createContextWithoutExpressionSupport": () => (/* binding */ u),
/* harmony export */   "createFeature": () => (/* binding */ s),
/* harmony export */   "execute": () => (/* binding */ i),
/* harmony export */   "extractExpressionInfo": () => (/* binding */ d),
/* harmony export */   "setContextFeature": () => (/* binding */ l),
/* harmony export */   "zeroContext": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ 28191);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../layers/graphics/hydratedFeatures.js */ 52570);
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../support/arcadeOnDemand.js */ 77238);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




const c = _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.3d.layers.graphics.featureExpressionInfoUtils");
function o(e) {
  return {
    cachedResult: e.cachedResult,
    arcade: e.arcade ? {
      func: e.arcade.func,
      context: e.arcade.modules.arcadeUtils.createExecContext(null, {
        sr: e.arcade.context.spatialReference
      }),
      modules: e.arcade.modules
    } : null
  };
}
function u(e) {
  const t = e?.expression;
  if ("string" == typeof t) {
    const e = m(t);
    if (null != e) return {
      cachedResult: e
    };
  }
  return null;
}
function a(_x, _x2, _x3, _x4) {
  return _a.apply(this, arguments);
}
function _a() {
  _a = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, r, c, o) {
    const u = e?.expression;
    if ("string" != typeof u) return null;
    const a = m(u);
    if (null != a) return {
      cachedResult: a
    };
    const s = yield (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_4__.loadArcade)();
    (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(c);
    const l = s.arcadeUtils,
      i = l.createSyntaxTree(u);
    return l.dependsOnView(i) ? (null != o && o.error("Expressions containing '$view' are not supported on ElevationInfo"), {
      cachedResult: 0
    }) : {
      arcade: {
        func: l.createFunction(i),
        context: l.createExecContext(null, {
          sr: r
        }),
        modules: s
      }
    };
  });
  return _a.apply(this, arguments);
}
function s(e, t, r) {
  return e.arcadeUtils.createFeature(t.attributes, t.geometry, r);
}
function l(e, t) {
  if (null != e && !p(e)) {
    if (!t || !e.arcade) return void c.errorOncePerTick("Arcade support required but not provided");
    const n = t;
    n._geometry && (n._geometry = (0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_3__.hydrateGeometry)(n._geometry)), e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context, t);
  }
}
function i(e) {
  if (null != e) {
    if (p(e)) return e.cachedResult;
    const t = e.arcade;
    let r = t?.modules.arcadeUtils.executeFunction(t.func, t.context);
    return "number" != typeof r && (e.cachedResult = 0, r = 0), r;
  }
  return 0;
}
function d(e, t = !1) {
  let r = e?.featureExpressionInfo;
  const n = r?.expression;
  return t || "0" === n || (r = null), r ?? null;
}
const f = {
  cachedResult: 0
};
function p(e) {
  return null != e.cachedResult;
}
function m(e) {
  return "0" === e ? 0 : null;
}


/***/ }),

/***/ 67713:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "computeCentroid": () => (/* binding */ w),
/* harmony export */   "computeObjectRotation": () => (/* binding */ S),
/* harmony export */   "computeObjectScale": () => (/* binding */ O),
/* harmony export */   "demResolutionForBoundingBox": () => (/* binding */ V),
/* harmony export */   "enlargeExtent": () => (/* binding */ R),
/* harmony export */   "isValidSize": () => (/* binding */ I),
/* harmony export */   "mixinColorAndOpacity": () => (/* binding */ F),
/* harmony export */   "overrideColor": () => (/* binding */ U),
/* harmony export */   "updateVertexAttributeAuxpos1w": () => (/* binding */ k),
/* harmony export */   "validateSymbolLayerSize": () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ 82769);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ 71943);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/projection.js */ 89487);
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ 73327);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/centroid.js */ 78127);
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/coordsUtils.js */ 12818);
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedPoint.js */ 86822);
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../layers/graphics/hydratedFeatures.js */ 52570);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














function w(t, e) {
  if ("point" === t.type) return M(t, e, !1);
  if ((0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_12__.isHydratedGeometry)(t)) switch (t.type) {
    case "extent":
      return M(t.center, e, !1);
    case "polygon":
      return M(t.centroid, e, !1);
    case "polyline":
      return M(A(t), e, !0);
    case "mesh":
      return M(t.origin, e, !1);
  } else switch (t.type) {
    case "extent":
      return M(P(t), e, !0);
    case "polygon":
      return M(z(t), e, !0);
    case "polyline":
      return M(A(t), e, !0);
  }
}
function A(t) {
  const e = t.paths[0];
  if (!e || 0 === e.length) return null;
  const n = (0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_10__.getPointOnPath)(e, (0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_10__.getPathLength)(e) / 2);
  return (0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_11__.makeDehydratedPoint)(n[0], n[1], n[2], t.spatialReference);
}
function P(t) {
  return (0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_11__.makeDehydratedPoint)(.5 * (t.xmax + t.xmin), .5 * (t.ymax + t.ymin), null != t.zmin && null != t.zmax && isFinite(t.zmin) && isFinite(t.zmax) ? .5 * (t.zmax + t.zmin) : void 0, t.spatialReference);
}
function z(t) {
  const e = t.rings[0];
  if (!e || 0 === e.length) return null;
  const n = (0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_9__.ringsCentroid)(t.rings, !!t.hasZ);
  return (0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_11__.makeDehydratedPoint)(n[0], n[1], n[2], t.spatialReference);
}
function M(t, e, n) {
  const r = n ? t : (0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_12__.clonePoint)(t);
  return e && t ? (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__.projectPoint)(t, r, e) ? r : null : r;
}
function R(t, e, n, r = 0) {
  if (t) {
    e || (e = (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.create)());
    const o = t;
    let i = .5 * o.width * (n - 1),
      s = .5 * o.height * (n - 1);
    return o.width < 1e-7 * o.height ? i += s / 20 : o.height < 1e-7 * o.width && (s += i / 20), (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__.s)(e, o.xmin - i - r, o.ymin - s - r, o.xmax + i + r, o.ymax + s + r), e;
  }
  return null;
}
function k(t, e) {
  for (let n = 0; n < t.geometries.length; ++n) {
    const r = t.geometries[n].getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.AUXPOS1);
    r && r.data[3] !== e && (r.data[3] = e, t.geometryVertexAttributeUpdated(t.geometries[n], _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.AUXPOS1));
  }
}
function F(t, e, n = null) {
  const r = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.d)(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.O);
  return null != t && (r[0] = t[0], r[1] = t[1], r[2] = t[2]), null != e ? r[3] = e : null != t && t.length > 3 && (r[3] = t[3]), n && (r[0] *= n, r[1] *= n, r[2] *= n, r[3] *= n), r;
}
function U(t, e, n, r, o, i = [0, 0, 0, 0]) {
  for (let s = 0; s < 3; ++s) i[s] = null != t?.[s] ? t[s] : null != n?.[s] ? n[s] : o[s];
  return i[3] = null != e ? e : null != r ? r : o[3], i;
}
function O(t = _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.O, e, n, r = 1) {
  const o = new Array(3);
  if (null == e || null == n) o[0] = 1, o[1] = 1, o[2] = 1;else {
    let r,
      i = 0;
    for (let s = 2; s >= 0; s--) {
      const u = t[s];
      let l;
      const a = null != u,
        m = 0 === s && !r && !a,
        c = n[s];
      "symbol-value" === u || m ? l = 0 !== c ? e[s] / c : 1 : a && "proportional" !== u && isFinite(u) && (l = 0 !== c ? u / c : 1), null != l && (o[s] = l, r = l, i = Math.max(i, Math.abs(l)));
    }
    for (let t = 2; t >= 0; t--) null == o[t] ? o[t] = r : 0 === o[t] && (o[t] = .001 * i);
  }
  for (let i = 2; i >= 0; i--) o[i] /= r;
  return (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.e)(o);
}
function B(t) {
  return null != t.isPrimitive;
}
function D(t) {
  return I(B(t) ? [t.width, t.depth, t.height] : t) ? null : "Symbol sizes may not be negative values";
}
function I(t) {
  const e = t => null == t || t >= 0;
  return Array.isArray(t) ? t.every(e) : e(t);
}
function S(t, i, s, u = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.a)()) {
  return t && (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.o)(u, u, -t / 180 * Math.PI), i && (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.r)(u, u, i / 180 * Math.PI), s && (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.n)(u, u, s / 180 * Math.PI), u;
}
function V(e, n, r) {
  if (null != r.minDemResolution) return r.minDemResolution;
  const o = (0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(n),
    i = (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.width)(e) * o,
    s = (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.depth)(e) * o,
    u = (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.height)(e) * (n.isGeographic ? 1 : o);
  return 0 === i && 0 === s && 0 === u ? r.minDemResolutionForPoints : .01 * Math.max(i, s, u);
}


/***/ }),

/***/ 73976:
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/interfaces.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DrapeSourceType": () => (/* binding */ e),
/* harmony export */   "DrapeTargetType": () => (/* binding */ t),
/* harmony export */   "DrapedRenderGroup": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e, a, t;
!function (e) {
  e[e.RasterImage = 0] = "RasterImage", e[e.Features = 1] = "Features";
}(e || (e = {})), function (e) {
  e[e.MapLayer = 0] = "MapLayer", e[e.ViewLayer = 1] = "ViewLayer", e[e.Outline = 2] = "Outline", e[e.SnappingHint = 3] = "SnappingHint";
}(a || (a = {})), function (e) {
  e[e.WithRasterImage = 0] = "WithRasterImage", e[e.WithoutRasterImage = 1] = "WithoutRasterImage";
}(t || (t = {}));


/***/ }),

/***/ 72603:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/ElevationProvider.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SamplePosition": () => (/* binding */ r),
/* harmony export */   "getElevationAtPoint": () => (/* binding */ a),
/* harmony export */   "isSamplePosition": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedFeatureUtils.js */ 79455);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class r {
  constructor(e, r = null, t = 0) {
    this.array = e, this.spatialReference = r, this.offset = t;
  }
}
function t(e) {
  return "array" in e;
}
function a(r, a, n = "ground") {
  if ((0,_layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_0__.isDehydratedPoint)(a)) return r.getElevation(a.x, a.y, a.z || 0, a.spatialReference, n);
  if (t(a)) {
    let e = a.offset;
    return r.getElevation(a.array[e++], a.array[e++], a.array[e] || 0, a.spatialReference ?? r.spatialReference, n);
  }
  return r.getElevation(a[0], a[1], a[2] || 0, r.spatialReference, n);
}


/***/ }),

/***/ 30503:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/engineContent/marker.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createMarkerTexture": () => (/* binding */ f),
/* harmony export */   "markerSizePerLineWidth": () => (/* binding */ p),
/* harmony export */   "markerSymbolSize": () => (/* binding */ s),
/* harmony export */   "markerTextureSize": () => (/* binding */ m),
/* harmony export */   "markerThickness": () => (/* binding */ n),
/* harmony export */   "markerTipThicknessFactor": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sdfPrimitives.js */ 69356);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




const m = 64,
  s = m / 2,
  n = s / 5,
  p = m / n,
  w = .25;
function f(p, w) {
  const f = (0,_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_0__.createPrimitive)(p, m, s, n),
    u = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__.TextureDescriptor();
  return u.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA, u.width = m, u.height = m, u.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.CLAMP_TO_EDGE, new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_2__.Texture(w, u, f);
}


/***/ }),

/***/ 69356:
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/engineContent/sdfPrimitives.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createArrow": () => (/* binding */ m),
/* harmony export */   "createCircle": () => (/* binding */ s),
/* harmony export */   "createCross": () => (/* binding */ h),
/* harmony export */   "createKite": () => (/* binding */ f),
/* harmony export */   "createPrimitive": () => (/* binding */ c),
/* harmony export */   "createSquare": () => (/* binding */ i),
/* harmony export */   "createTexture": () => (/* binding */ u),
/* harmony export */   "createTriangle": () => (/* binding */ l),
/* harmony export */   "createX": () => (/* binding */ M),
/* harmony export */   "defaultSymbolSizeRatio": () => (/* binding */ o),
/* harmony export */   "defaultTexSize": () => (/* binding */ e),
/* harmony export */   "requiresHalfTexelOffset": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/floatRGBA.js */ 1671);
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../webgl-engine/lib/Texture.js */ 31825);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




const e = 128,
  o = .5;
function a(t) {
  return "cross" === t || "x" === t;
}
function u(t, a = e, u = a * o, s = 0) {
  const i = c(t, a, u, s);
  return new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_2__.Texture(i, {
    mipmap: !1,
    wrap: {
      s: _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureWrapMode.CLAMP_TO_EDGE,
      t: _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureWrapMode.CLAMP_TO_EDGE
    },
    width: a,
    height: a,
    components: 4,
    noUnpackFlip: !0,
    reloadable: !0
  });
}
function c(t, r = e, n = r * o, a = 0) {
  switch (t) {
    case "circle":
    default:
      return s(r, n);
    case "square":
      return i(r, n);
    case "cross":
      return h(r, n, a);
    case "x":
      return M(r, n, a);
    case "kite":
      return f(r, n);
    case "triangle":
      return l(r, n);
    case "arrow":
      return m(r, n);
  }
}
function s(t, r) {
  const n = t / 2 - .5;
  return x(t, T(n, n, r / 2));
}
function i(t, r) {
  return p(t, r, !1);
}
function f(t, r) {
  return p(t, r, !0);
}
function h(t, r, n = 0) {
  return b(t, r, !1, n);
}
function M(t, r, n = 0) {
  return b(t, r, !0, n);
}
function l(t, r) {
  return x(t, w(t / 2, r, r / 2));
}
function m(t, r) {
  const n = r,
    e = r / 2,
    o = t / 2,
    a = .8 * n,
    u = T(o, (t - r) / 2 - a, Math.sqrt(a * a + e * e)),
    c = w(o, n, e);
  return x(t, (t, r) => Math.max(c(t, r), -u(t, r)));
}
function p(t, r, n) {
  return n && (r /= Math.SQRT2), x(t, (e, o) => {
    let a = e - .5 * t + .25,
      u = .5 * t - o - .75;
    if (n) {
      const t = (a + u) / Math.SQRT2;
      u = (u - a) / Math.SQRT2, a = t;
    }
    return Math.max(Math.abs(a), Math.abs(u)) - .5 * r;
  });
}
function b(t, r, n, e = 0) {
  r -= e, n && (r *= Math.SQRT2);
  const o = .5 * r;
  return x(t, (r, a) => {
    let u,
      c = r - .5 * t,
      s = .5 * t - a - 1;
    if (n) {
      const t = (c + s) / Math.SQRT2;
      s = (s - c) / Math.SQRT2, c = t;
    }
    return c = Math.abs(c), s = Math.abs(s), u = c > s ? c > o ? Math.sqrt((c - o) * (c - o) + s * s) : s : s > o ? Math.sqrt(c * c + (s - o) * (s - o)) : c, u -= e / 2, u;
  });
}
function T(t, r, n) {
  return (e, o) => {
    const a = e - t,
      u = o - r;
    return Math.sqrt(a * a + u * u) - n;
  };
}
function w(t, r, n) {
  const e = Math.sqrt(r * r + n * n);
  return (o, a) => {
    const u = Math.abs(o - t) - n,
      c = a - t + r / 2 + .75,
      s = (r * u + n * c) / e,
      i = -c;
    return Math.max(s, i);
  };
}
function x(r, n) {
  const e = new Uint8Array(4 * r * r);
  for (let o = 0; o < r; o++) for (let a = 0; a < r; a++) {
    const u = a + r * o;
    let c = n(a, o);
    c = c / r + .5, (0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_1__.packFloatRGBA)(c, e, 4 * u);
  }
  return e;
}


/***/ }),

/***/ 57891:
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/Intersector.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OverlayTarget": () => (/* binding */ i),
/* harmony export */   "isOverlayIntersectorResult": () => (/* binding */ o),
/* harmony export */   "isTerrainIntersectorResult": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../webgl-engine/lib/IntersectorInterfaces.js */ 51813);
/* harmony import */ var _webgl_engine_lib_IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl-engine/lib/IntersectorTarget.js */ 19802);
/* harmony import */ var _webgl_engine_lib_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../webgl-engine/lib/intersectorUtils.js */ 35049);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



function n(r) {
  return (0,_webgl_engine_lib_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__.isValidIntersectorResult)(r) && r.intersector === _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.IntersectorType.TERRAIN && !!r.target;
}
class i extends _webgl_engine_lib_IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_1__.Graphic3DTarget {
  constructor(e, r, t) {
    super(e, r), this.triangleNr = t;
  }
}
function o(r) {
  return (0,_webgl_engine_lib_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__.isValidIntersectorResult)(r) && r.intersector === _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.IntersectorType.OVERLAY && !!r.target;
}


/***/ }),

/***/ 80774:
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/Overlay.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Overlay": () => (/* binding */ r),
/* harmony export */   "OverlayStretch": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _webgl_engine_lib_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl-engine/lib/LocalOriginFactory.js */ 23180);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


const n = 1.3;
class r {
  constructor() {
    this._extent = (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(), this.resolution = 0, this.renderLocalOrigin = (0,_webgl_engine_lib_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0, 0, 0, "O"), this.pixelRatio = 1, this.mapUnitsPerPixel = 1, this.canvasGeometries = new o();
  }
  get extent() {
    return this._extent;
  }
  setupGeometryViewsCyclical(e) {
    this.setupGeometryViewsDirect();
    const s = .001 * e.range;
    if (this._extent[0] - s <= e.min) {
      const s = this.canvasGeometries.extents[this.canvasGeometries.numViews++];
      (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.offset)(this._extent, e.range, 0, s);
    }
    if (this._extent[2] + s >= e.max) {
      const s = this.canvasGeometries.extents[this.canvasGeometries.numViews++];
      (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.offset)(this._extent, -e.range, 0, s);
    }
  }
  setupGeometryViewsDirect() {
    this.canvasGeometries.numViews = 1, (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.copy)(this.canvasGeometries.extents[0], this._extent);
  }
  hasSomeSizedView() {
    for (let e = 0; e < this.canvasGeometries.numViews; e++) {
      const t = this.canvasGeometries.extents[e];
      if (t[0] !== t[2] && t[1] !== t[3]) return !0;
    }
    return !1;
  }
}
class o {
  constructor() {
    this.extents = [(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(), (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(), (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)()], this.numViews = 0;
  }
}


/***/ }),

/***/ 73940:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OverlayContent": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var o;
!function (o) {
  o[o.Color = 0] = "Color", o[o.ColorNoRasterImage = 1] = "ColorNoRasterImage", o[o.Highlight = 2] = "Highlight", o[o.WaterNormal = 3] = "WaterNormal", o[o.Occluded = 4] = "Occluded", o[o.ObjectAndLayerIdColor = 5] = "ObjectAndLayerIdColor";
}(o || (o = {}));


/***/ }),

/***/ 44773:
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OverlayFramebufferObject": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ 53661);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class t {
  constructor(e, t) {
    this._fbos = e, this._format = t;
  }
  get valid() {
    return null != this._handle;
  }
  dispose() {
    this._handle = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.releaseMaybe)(this._handle);
  }
  get texture() {
    return this._handle?.colorTexture;
  }
  bind(e, t, h) {
    this._handle && this._handle.fbo.width === t && this._handle.fbo.height === h || (this._handle?.release(), this._handle = this._fbos.acquire(this._format, t, h)), e.bindFramebuffer(this._handle?.fbo);
  }
  generateMipMap() {
    this._handle?.colorTexture?.descriptor?.hasMipmap && this._handle?.colorTexture?.generateMipmap();
  }
}


/***/ }),

/***/ 8597:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OverlayRenderTargets": () => (/* binding */ a),
/* harmony export */   "RenderTargetDescriptor": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _OverlayContent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OverlayContent.js */ 73940);
/* harmony import */ var _OverlayFramebufferObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OverlayFramebufferObject.js */ 44773);
/* harmony import */ var _webgl_engine_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../webgl-engine/core/FBOCache.js */ 32245);
/* harmony import */ var _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/ShaderOutput.js */ 26573);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class s {
  constructor(e, o, s, a = _webgl_engine_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_3__.ColorFormat.RGBA_MIPMAP) {
    this.output = o, this.content = s, this.fbo = new _OverlayFramebufferObject_js__WEBPACK_IMPORTED_MODULE_2__.OverlayFramebufferObject(e, a);
  }
  get valid() {
    return this.fbo.valid;
  }
}
class a {
  constructor(r) {
    this.targets = [new s(r, _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Color, _OverlayContent_js__WEBPACK_IMPORTED_MODULE_1__.OverlayContent.Color), new s(r, _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Color, _OverlayContent_js__WEBPACK_IMPORTED_MODULE_1__.OverlayContent.ColorNoRasterImage), new s(r, _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Highlight, _OverlayContent_js__WEBPACK_IMPORTED_MODULE_1__.OverlayContent.Highlight, _webgl_engine_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_3__.ColorFormat.RGBA4), new s(r, _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Normal, _OverlayContent_js__WEBPACK_IMPORTED_MODULE_1__.OverlayContent.WaterNormal), new s(r, _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Color, _OverlayContent_js__WEBPACK_IMPORTED_MODULE_1__.OverlayContent.Occluded)], (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("enable-feature:objectAndLayerId-rendering") && this.targets.push(new s(r, _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.ObjectAndLayerIdColor, _OverlayContent_js__WEBPACK_IMPORTED_MODULE_1__.OverlayContent.ObjectAndLayerIdColor));
  }
  getTexture(e) {
    return this.targets[e]?.fbo.texture;
  }
  dispose() {
    for (const e of this.targets) e.fbo.dispose();
  }
  computeValidity() {
    return this.targets.reduce((e, r, t) => r.valid ? e |= 1 << t : e, 0);
  }
}


/***/ }),

/***/ 86831:
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OverlayRenderer": () => (/* binding */ ee),
/* harmony export */   "drapedZ": () => (/* binding */ se),
/* harmony export */   "overlayRenderOccludedFlag": () => (/* binding */ ie)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Evented.js */ 95442);
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/MapUtils.js */ 20359);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ 53661);
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/PooledArray.js */ 99249);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/SetUtils.js */ 75502);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ViewingMode.js */ 56108);
/* harmony import */ var _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../layers/interfaces.js */ 73976);
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/debugFlags.js */ 65933);
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./interfaces.js */ 75110);
/* harmony import */ var _Overlay_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Overlay.js */ 80774);
/* harmony import */ var _OverlayContent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./OverlayContent.js */ 73940);
/* harmony import */ var _OverlayRenderTargets_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./OverlayRenderTargets.js */ 8597);
/* harmony import */ var _webgl_engine_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../webgl-engine/core/FBOCache.js */ 32245);
/* harmony import */ var _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js */ 20827);
/* harmony import */ var _chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../chunks/TextureOnly.glsl.js */ 43620);
/* harmony import */ var _webgl_engine_core_shaderTechnique_ShaderTechniqueRepository_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js */ 53218);
/* harmony import */ var _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../webgl-engine/effects/RenderPlugin.js */ 44122);
/* harmony import */ var _webgl_engine_lib_Camera_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../webgl-engine/lib/Camera.js */ 39695);
/* harmony import */ var _webgl_engine_lib_GLMaterialRepository_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../webgl-engine/lib/GLMaterialRepository.js */ 18842);
/* harmony import */ var _webgl_engine_lib_glUtil3D_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../webgl-engine/lib/glUtil3D.js */ 19009);
/* harmony import */ var _webgl_engine_lib_GridLocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../webgl-engine/lib/GridLocalOriginFactory.js */ 12338);
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../webgl-engine/lib/Material.js */ 32051);
/* harmony import */ var _webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../webgl-engine/lib/RenderContext.js */ 94268);
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../webgl-engine/lib/RenderSlot.js */ 66176);
/* harmony import */ var _webgl_engine_lib_ShadowMap_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../webgl-engine/lib/ShadowMap.js */ 13637);
/* harmony import */ var _webgl_engine_lib_SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../webgl-engine/lib/SortedRenderGeometryRenderer.js */ 19922);
/* harmony import */ var _webgl_engine_lib_TextureTechnique_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../webgl-engine/lib/TextureTechnique.js */ 27434);
/* harmony import */ var _webgl_engine_lib_TextureTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../webgl-engine/lib/TextureTechniqueConfiguration.js */ 34809);
/* harmony import */ var _webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../webgl-engine/lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ 17821);
/* harmony import */ var _webgl_engine_lighting_Lightsources_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../webgl-engine/lighting/Lightsources.js */ 62810);
/* harmony import */ var _chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../chunks/OverlayCompositing.glsl.js */ 67657);
/* harmony import */ var _webgl_engine_shaders_OverlayCompositingTechnique_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../webgl-engine/shaders/OverlayCompositingTechnique.js */ 96534);
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../support/Scheduler.js */ 24903);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../webgl/TextureDescriptor.js */ 13229);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
















































let ee = class extends _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_28__.SyncRenderPlugin {
  get _bindParameters() {
    return this._renderContext.bindParameters;
  }
  get _rctx() {
    return this.view._stage.renderView.renderingContext;
  }
  get rctx() {
    return this._rctx;
  }
  get materialRepository() {
    return this._materialRepository;
  }
  get screenToWorldRatio() {
    return this._screenToWorldRatio;
  }
  get localOriginFactory() {
    return this._localOriginFactory;
  }
  constructor(e) {
    super(e), this._overlays = null, this._renderTargets = null, this._overlayParameters = new _chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_43__.O(), this.hasHighlights = !1, this._rendersOccluded = !1, this._hasWater = !1, this._renderers = new Map(), this._sortedDrapeSourceRenderersDirty = !1, this._sortedRenderers = new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_5__["default"](), this._passParameters = new _chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_26__.T(), this._materialRepository = null, this._screenToWorldRatio = 1, this._localOriginFactory = null, this.unloadedMemory = 0, this.ignoresMemoryFactor = !1, this._camera = new _webgl_engine_lib_Camera_js__WEBPACK_IMPORTED_MODULE_29__.Camera(), this.worldToPCSRatio = 1, this.events = new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"](), this.longitudeCyclical = null, this.produces = new Map([[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_35__.RenderSlot.DRAPED_MATERIAL, e => e !== _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_24__.ShaderOutput.Highlight || this.hasHighlights], [_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_35__.RenderSlot.DRAPED_WATER, () => !0]]), this._hasTargetWithoutRasterImage = !1, this._hasDrapedFeatureSource = !1, this._hasDrapedRasterSource = !1;
  }
  initialize() {
    const e = this.view._stage.renderer.fboCache,
      r = this.view._stage.renderView,
      {
        waterTextureRepository: t,
        stippleTextureRepository: s,
        markerTextureRepository: i
      } = r;
    this._shaderTechniqueRepository = new _webgl_engine_core_shaderTechnique_ShaderTechniqueRepository_js__WEBPACK_IMPORTED_MODULE_27__.ShaderTechniqueRepository({
      rctx: this._rctx,
      viewingMode: _ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__.ViewingMode.Local,
      stippleTextureRepository: s,
      markerTextureRepository: i,
      waterTextureRepository: t
    }), this._renderContext = new _webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_34__.OverlayRenderContext(this._rctx, new _webgl_engine_lib_ShadowMap_js__WEBPACK_IMPORTED_MODULE_36__.ShadowMap(e, this.view.state.viewingMode), null), this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)(() => t.updating, () => this.events.emit("content-changed"), _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)(() => this.spatialReference, e => this._localOriginFactory = new _webgl_engine_lib_GridLocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_32__.GridLocalOriginFactory(e), _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.on)(() => this.view.allLayerViews, "after-changes", () => this._sortedDrapeSourceRenderersDirty = !0)]), this._materialRepository = new _webgl_engine_lib_GLMaterialRepository_js__WEBPACK_IMPORTED_MODULE_30__.GLMaterialRepository(r.textureRepository, this._shaderTechniqueRepository, e => {
      (e.parameters.renderOccluded & ie) > 0 !== this._rendersOccluded && this._updateRendersOccluded(), this.events.emit("content-changed"), this.notifyChange("updating"), this.notifyChange("isEmpty");
    }, () => this.events.emit("content-changed")), this._bindParameters.slot = _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_35__.RenderSlot.DRAPED_MATERIAL, this._bindParameters.mainDepth = (0,_webgl_engine_lib_glUtil3D_js__WEBPACK_IMPORTED_MODULE_31__.createEmptyDepthTexture)(this._rctx), this._camera.near = 1, this._camera.far = 1e4, this._camera.relativeElevation = null, this._bindParameters.camera = this._camera, this._bindParameters.transparencyPassType = _webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_40__.TransparencyPassType.NONE, this._bindParameters.newLighting.noonFactor = 0, this._bindParameters.newLighting.globalFactor = 0, this._bindParameters.newLighting.set([new _webgl_engine_lighting_Lightsources_js__WEBPACK_IMPORTED_MODULE_42__.AmbientLight((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__.f)(1, 1, 1))]), this.addHandles(this.view.resourceController.scheduler.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_45__.TaskPriority.STAGE, this));
  }
  destroy() {
    this._renderers.forEach(e => e.destroy()), this._renderers.clear(), this._debugTextureTechnique = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.releaseMaybe)(this._debugTextureTechnique), this._passParameters.texture = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._passParameters.texture), this._bindParameters.mainDepth = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._bindParameters.mainDepth), this._shaderTechniqueRepository = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._shaderTechniqueRepository), this.disposeOverlays();
  }
  initializeRenderContext(e) {
    this.pluginContext = e;
  }
  uninitializeRenderContext() {}
  renderNode() {}
  get updating() {
    return this._sortedDrapeSourceRenderersDirty || (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers, e => e.updating);
  }
  get hasOverlays() {
    return null != this._overlays && null != this._renderTargets;
  }
  getMemoryForMaterial(e) {
    return Array.from(this._renderers.values()).reduce((r, t) => r + t.getMemoryForMaterial(e), 0);
  }
  createGeometryDrapeSourceRenderer(e) {
    return this.createDrapeSourceRenderer(e, _webgl_engine_lib_SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_37__.SortedRenderGeometryRenderer);
  }
  createDrapeSourceRenderer(e, r, t) {
    const s = this._renderers.get(e);
    null != s && s.destroy();
    const i = new r({
      ...t,
      rendererContext: this,
      drapeSource: e
    });
    return this._renderers.set(e, i), this._sortedDrapeSourceRenderersDirty = !0, "fullOpacity" in e && this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)(() => e.fullOpacity, () => this.events.emit("content-changed")), e), i;
  }
  removeDrapeSourceRenderer(e) {
    if (null == e) return;
    const r = this._renderers.get(e);
    null != r && (this._sortedDrapeSourceRenderersDirty = !0, this._renderers.delete(e), this.removeHandles(e), r.destroy());
  }
  computeValidity() {
    return this._renderTargets?.computeValidity() ?? 0;
  }
  releaseRenderTargets() {
    this._renderTargets?.dispose();
  }
  get overlays() {
    return this._overlays ?? [];
  }
  ensureDrapeTargets(e) {
    this._hasTargetWithoutRasterImage = !!this._overlays && (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.someSet)(e, e => e.drapeTargetType === _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.DrapeTargetType.WithoutRasterImage);
  }
  ensureDrapeSources(e) {
    this._overlays ? (this._hasDrapedFeatureSource = (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.someSet)(e, e => e.drapeSourceType === _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.DrapeSourceType.Features), this._hasDrapedRasterSource = (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.someSet)(e, e => e.drapeSourceType === _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.DrapeSourceType.RasterImage)) : this._hasDrapedFeatureSource = this._hasDrapedRasterSource = !1;
  }
  get _needsColorWithoutRasterImage() {
    return this._hasDrapedRasterSource && this._hasDrapedFeatureSource && this._hasTargetWithoutRasterImage;
  }
  ensureOverlays(e, r, t = this._bindParameters.overlayStretch) {
    null == this._overlays && (this._renderTargets = new _OverlayRenderTargets_js__WEBPACK_IMPORTED_MODULE_22__.OverlayRenderTargets(this.view._stage.renderer.fboCache), this._overlays = [new _Overlay_js__WEBPACK_IMPORTED_MODULE_20__.Overlay(), new _Overlay_js__WEBPACK_IMPORTED_MODULE_20__.Overlay()]), this.ensureDrapeTargets(e), this.ensureDrapeSources(r), this._bindParameters.overlayStretch = t;
  }
  disposeOverlays() {
    this._overlays = null, this._renderTargets = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._renderTargets), this.events.emit("textures-disposed");
  }
  getTexture(e) {
    if (null != e) return e === _OverlayContent_js__WEBPACK_IMPORTED_MODULE_21__.OverlayContent.ColorNoRasterImage && !this._needsColorWithoutRasterImage && this._hasDrapedFeatureSource ? this._renderTargets?.getTexture(_OverlayContent_js__WEBPACK_IMPORTED_MODULE_21__.OverlayContent.Color) : this._renderTargets?.getTexture(e);
  }
  get running() {
    return this.updating;
  }
  runTask(e) {
    this._processDrapeSources(e, () => !0);
  }
  _processDrapeSources(e, r) {
    let s = !1;
    for (const [t, i] of this._renderers) {
      if (e.done) break;
      (t.destroyed || r(t)) && i.commitChanges() && (s = !0, e.madeProgress());
    }
    this._sortedDrapeSourceRenderersDirty && (this._sortedDrapeSourceRenderersDirty = !1, s = !0, this._updateSortedDrapeSourceRenderers()), s && (null != this._overlays && 0 === this._renderers.size && this.disposeOverlays(), this.notifyChange("updating"), this.notifyChange("isEmpty"), this.events.emit("content-changed"), this.hasHighlights = (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers, e => e.hasHighlights), this._updateRendersOccluded(), this._updateHasWater());
  }
  processSyncDrapeSources() {
    this._processDrapeSources(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_45__.noBudget, e => e.updatePolicy === _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_41__.UpdatePolicy.SYNC);
  }
  get isEmpty() {
    return !_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_18__.debugFlags.OVERLAY_DRAW_DEBUG_TEXTURE && !(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers, e => !e.isEmpty);
  }
  get hasWater() {
    return this._hasWater;
  }
  get rendersOccluded() {
    return this._rendersOccluded;
  }
  get mode() {
    return this.isEmpty ? _webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_25__.OverlayMode.Disabled : this._renderTargets?.getTexture(_OverlayContent_js__WEBPACK_IMPORTED_MODULE_21__.OverlayContent.WaterNormal) ? _webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_25__.OverlayMode.EnabledWithWater : this._renderTargets?.getTexture(_OverlayContent_js__WEBPACK_IMPORTED_MODULE_21__.OverlayContent.Color) ? _webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_25__.OverlayMode.Enabled : _webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_25__.OverlayMode.Disabled;
  }
  updateAnimation(e) {
    let r = !1;
    return this._renderers.forEach(t => r = t.updateAnimation(e) || r), r;
  }
  updateDrapeSourceOrder() {
    this._sortedDrapeSourceRenderersDirty = !0;
  }
  drawOverlays(e) {
    if (this._overlays && this._renderTargets) {
      for (const e of this._overlays) this.longitudeCyclical ? e.setupGeometryViewsCyclical(this.longitudeCyclical) : e.setupGeometryViewsDirect();
      for (const r of this._renderTargets.targets) (r.content !== _OverlayContent_js__WEBPACK_IMPORTED_MODULE_21__.OverlayContent.ColorNoRasterImage || this._needsColorWithoutRasterImage) && (this._drawTarget(_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.INNER, r, e), this._drawTarget(_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.OUTER, r, e));
    }
  }
  _drawTarget(e, r, t) {
    const s = this._overlays[e],
      i = s.canvasGeometries;
    if (0 === i.numViews) return;
    const {
      alignPixelEnabled: o,
      contentPixelRatio: a
    } = t;
    this._screenToWorldRatio = a * s.mapUnitsPerPixel / this._bindParameters.overlayStretch;
    const n = r.output;
    if (this.isEmpty || n === _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_24__.ShaderOutput.Highlight && !this.hasHighlights || n === _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_24__.ShaderOutput.Normal && !this.hasWater || !s.hasSomeSizedView()) return;
    const h = this._rctx;
    this._camera.pixelRatio = s.pixelRatio * a, this._renderContext.output = n, this._bindParameters.alignPixelEnabled = o, this._bindParameters.screenToWorldRatio = this._screenToWorldRatio, this._bindParameters.screenToPCSRatio = this._screenToWorldRatio * this.worldToPCSRatio, this._bindParameters.slot = n === _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_24__.ShaderOutput.Normal ? _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_35__.RenderSlot.DRAPED_WATER : _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_35__.RenderSlot.DRAPED_MATERIAL;
    const d = _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_18__.debugFlags.OVERLAY_DRAW_DEBUG_TEXTURE && r.content !== _OverlayContent_js__WEBPACK_IMPORTED_MODULE_21__.OverlayContent.Occluded;
    if (!d && !this._sortedRenderers.some(({
      renderer: e
    }) => e.shouldRender(this._renderContext))) return;
    const l = s.resolution;
    this._rctx.setViewport(e === _interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.INNER ? 0 : l, 0, l, l);
    const c = 2 * s.resolution,
      u = s.resolution,
      p = r.fbo;
    if (p.bind(h, c, u), e === _interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.INNER && (h.setClearColor(0, 0, 0, 0), h.clearSafe(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_46__.ClearBufferBit.COLOR_BUFFER_BIT)), r.content === _OverlayContent_js__WEBPACK_IMPORTED_MODULE_21__.OverlayContent.Occluded && (this._renderContext.renderOccludedMask = ie), d) for (let m = 0; m < i.numViews; m++) this._setViewParameters(i.extents[m], s), this._ensureDebugPatternResources(s.resolution, te[e]), this._rctx.bindTechnique(this._debugTextureTechnique, this._passParameters, null), this._rctx.screen.draw();
    this._sortedRenderers.forAll(({
      drapeSource: t,
      renderer: o
    }) => {
      if (r.content === _OverlayContent_js__WEBPACK_IMPORTED_MODULE_21__.OverlayContent.ColorNoRasterImage && t.drapeSourceType === _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.DrapeSourceType.RasterImage) return;
      const {
          fullOpacity: a
        } = t,
        d = null != a && a < 1 && n === _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_24__.ShaderOutput.Color ? this.bindTemporaryFramebuffer(c, u) : null;
      for (let e = 0; e < i.numViews; e++) this._setViewParameters(i.extents[e], s), o.render(this._renderContext);
      if (d) {
        p.bind(h, c, u), this._overlayParameters.texture = d.colorTexture, this._overlayParameters.opacity = a, this._overlayParameters.overlayIndex = e;
        const r = this.pluginContext.techniqueRepository.acquire(_webgl_engine_shaders_OverlayCompositingTechnique_js__WEBPACK_IMPORTED_MODULE_44__.OverlayCompositingTechnique);
        this._rctx.bindTechnique(r, this._overlayParameters, this._renderContext.bindParameters), this._rctx.screen.draw(), r.release(), d.release();
      }
    }), h.bindFramebuffer(null), e === _interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.OUTER && p.generateMipMap(), this._renderContext.resetRenderOccludedMask();
  }
  bindTemporaryFramebuffer(e, r) {
    const t = this.view._stage.renderer.fboCache,
      s = t.acquire(_webgl_engine_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_23__.ColorFormat.RGBA, e, r);
    return t.rctx.bindFramebuffer(s.fbo), t.rctx.clearSafe(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_46__.ClearBufferBit.COLOR_BUFFER_BIT), s;
  }
  reloadShaders() {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this._shaderTechniqueRepository.reloadAll();
    })();
  }
  notifyContentChanged() {
    this.events.emit("content-changed");
  }
  intersect(e, r, t, s) {
    let i = 0;
    for (const o of this._renderers.values()) i = o.intersect?.(e, r, t, s, i) ?? i;
  }
  _updateSortedDrapeSourceRenderers() {
    if (this._sortedRenderers.clear(), 0 === this._renderers.size) return;
    const e = this.view.map.allLayers;
    this._renderers.forEach((r, t) => {
      const s = e.indexOf(t.layer),
        i = s >= 0,
        o = this._renderers.size * (t.renderGroup ?? (i ? _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.DrapedRenderGroup.MapLayer : _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.DrapedRenderGroup.ViewLayer)) + (i ? s : 0);
      this._sortedRenderers.push(new re(t, r, o));
    }), this._sortedRenderers.sort((e, r) => e.index - r.index);
  }
  _setViewParameters(e, r) {
    const t = this._camera;
    t.viewport = [0, 0, r.resolution, r.resolution], (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_13__.x)(t.projectionMatrix, 0, e[2] - e[0], 0, e[3] - e[1], t.near, t.far), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_13__.d)(t.viewMatrix, [-e[0], -e[1], 0]);
  }
  _updateHasWater() {
    const e = (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers, e => e.hasWater);
    e !== this._hasWater && (this._hasWater = e, this.events.emit("has-water", e));
  }
  _updateRendersOccluded() {
    const e = (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers, e => e.rendersOccluded);
    e !== this._rendersOccluded && (this._rendersOccluded = e, this.events.emit("renders-occluded", e));
  }
  _ensureDebugPatternResources(e, r) {
    if ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.s)(this._passParameters.color, r[0], r[1], r[2]), this._passParameters.texture) return;
    const t = new Uint8Array(e * e * 4);
    let s = 0;
    for (let a = 0; a < e; a++) for (let r = 0; r < e; r++) {
      const i = Math.floor(r / 10),
        o = Math.floor(a / 10);
      i < 2 || o < 2 || 10 * i > e - 20 || 10 * o > e - 20 ? (t[s++] = 255, t[s++] = 255, t[s++] = 255, t[s++] = 255) : (t[s++] = 255, t[s++] = 255, t[s++] = 255, t[s++] = 1 & i && 1 & o ? 1 & r ^ 1 & a ? 0 : 255 : 1 & i ^ 1 & o ? 0 : 128);
    }
    const i = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_48__.TextureDescriptor(e);
    i.samplingMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_46__.TextureSamplingMode.NEAREST, this._passParameters.texture = new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_47__.Texture(this._rctx, i, t);
    const o = new _webgl_engine_lib_TextureTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_39__.TextureTechniqueConfiguration();
    o.hasAlpha = !0, this._debugTextureTechnique = this._shaderTechniqueRepository.acquire(_webgl_engine_lib_TextureTechnique_js__WEBPACK_IMPORTED_MODULE_38__.TextureTechnique, o);
  }
  get test() {
    return {
      drapedRenderers: Array.from(this._renderers.values()),
      getDrapeSourceRenderer: e => this._renderers.get(e)
    };
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()], ee.prototype, "hasHighlights", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()], ee.prototype, "_sortedDrapeSourceRenderersDirty", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  autoDestroy: !0
})], ee.prototype, "_shaderTechniqueRepository", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  constructOnly: !0
})], ee.prototype, "view", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()], ee.prototype, "worldToPCSRatio", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()], ee.prototype, "spatialReference", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  type: Boolean,
  readOnly: !0
})], ee.prototype, "updating", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()], ee.prototype, "isEmpty", null), ee = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.views.3d.terrain.OverlayRenderer")], ee);
class re {
  constructor(e, r, t) {
    this.drapeSource = e, this.renderer = r, this.index = t;
  }
}
const te = [[1, .5, .5], [.5, .5, 1]],
  se = -2,
  ie = _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_33__.RenderOccludedFlag.OccludeAndTransparent;


/***/ }),

/***/ 75110:
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/interfaces.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LODSnapping": () => (/* binding */ A),
/* harmony export */   "OverlayIndex": () => (/* binding */ E),
/* harmony export */   "PatchType": () => (/* binding */ O),
/* harmony export */   "TextureUpdate": () => (/* binding */ H)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E, O, A, H;
!function (E) {
  E[E.INNER = 0] = "INNER", E[E.OUTER = 1] = "OUTER";
}(E || (E = {})), function (E) {
  E[E.REGULAR = 0] = "REGULAR", E[E.HAS_NORTH_POLE = 1] = "HAS_NORTH_POLE", E[E.HAS_SOUTH_POLE = 2] = "HAS_SOUTH_POLE", E[E.HAS_BOTH_POLES = 3] = "HAS_BOTH_POLES";
}(O || (O = {})), function (E) {
  E[E.OFF = 0] = "OFF", E[E.ON = 1] = "ON";
}(A || (A = {})), function (E) {
  E[E.FADING = 0] = "FADING", E[E.IMMEDIATE = 1] = "IMMEDIATE", E[E.UNFADED = 2] = "UNFADED";
}(H || (H = {}));


/***/ }),

/***/ 7030:
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/AllRenderPasses.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DrawParameters": () => (/* binding */ a),
/* harmony export */   "HighlightPassParameters": () => (/* binding */ h),
/* harmony export */   "MaterialPassParameters": () => (/* binding */ n),
/* harmony export */   "PassParameters": () => (/* binding */ e),
/* harmony export */   "RenderPassIdentifier": () => (/* binding */ o),
/* harmony export */   "ShadowMapPassParameters": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shaderLibrary/attributes/VertexNormal.glsl.js */ 16568);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class e extends _shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_2__.VertexNormalPassParameters {
  constructor() {
    super(...arguments), this.slicePlaneLocalOrigin = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(), this.origin = this.slicePlaneLocalOrigin, this.modelTransformation = null;
  }
}
class a extends _shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_2__.VertexNormalDrawParameters {}
var o;
!function (t) {
  t[t.Material = 0] = "Material", t[t.ShadowMap = 1] = "ShadowMap", t[t.Highlight = 2] = "Highlight";
}(o || (o = {}));
class n extends e {
  constructor() {
    super(...arguments), this.identifier = o.Material, this.output = _shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color, this.transparent = !1;
  }
}
class l extends e {
  constructor() {
    super(...arguments), this.identifier = o.ShadowMap;
  }
}
class h extends e {
  constructor() {
    super(...arguments), this.identifier = o.Highlight;
  }
}


/***/ }),

/***/ 4851:
/*!********************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RibbonVertexPosition": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shading/VisualVariables.glsl.js */ 44147);
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/Float3PassUniform.js */ 26615);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/FloatsPassUniform.js */ 87186);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






const o = 8;
function c(c, s) {
  const l = c.vertex;
  l.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("intrinsicWidth", t => t.width)), s.vvSize ? (c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.SIZEFEATUREATTRIBUTE, "float"), l.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float3PassUniform("vvSizeMinSize", t => t.vvSize.minSize), new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float3PassUniform("vvSizeMaxSize", t => t.vvSize.maxSize), new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float3PassUniform("vvSizeOffset", t => t.vvSize.offset), new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float3PassUniform("vvSizeFactor", t => t.vvSize.factor)), l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`float getSize() {
return intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;
}`)) : (c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.SIZE, "float"), l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`float getSize(){
return intrinsicWidth * size;
}`)), s.vvOpacity ? (c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.OPACITYFEATUREATTRIBUTE, "float"), l.constants.add("vvOpacityNumber", "int", 8), l.uniforms.add(new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatsPassUniform("vvOpacityValues", t => t.vvOpacity.values, o), new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatsPassUniform("vvOpacityOpacities", t => t.vvOpacity.opacityValues, o)), l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`float interpolateOpacity( float value ){
if (value <= vvOpacityValues[0]) {
return vvOpacityOpacities[0];
}
for (int i = 1; i < vvOpacityNumber; ++i) {
if (vvOpacityValues[i] >= value) {
float f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);
return mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);
}
}
return vvOpacityOpacities[vvOpacityNumber - 1];
}
vec4 applyOpacity( vec4 color ){
return vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));
}`)) : l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`vec4 applyOpacity( vec4 color ){
return color;
}`), s.vvColor ? (c.include(_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_0__.VisualVariables, s), c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.COLORFEATUREATTRIBUTE, "float"), l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`vec4 getColor(){
return applyOpacity(interpolateVVColor(colorFeatureAttribute));
}`)) : (c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.COLOR, "vec4"), l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`vec4 getColor(){
return applyOpacity(color);
}`));
}


/***/ }),

/***/ 47136:
/*!***************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AlignPixel": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/BooleanPassUniform.js */ 59464);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


function o(o) {
  o.uniforms.add(new _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_0__.BooleanPassUniform("alignPixelEnabled", (e, i) => i.alignPixelEnabled)), o.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`vec4 alignToPixelCenter(vec4 clipCoord, vec2 widthHeight) {
if (!alignPixelEnabled)
return clipCoord;
vec2 xy = vec2(0.500123) + 0.5 * clipCoord.xy / clipCoord.w;
vec2 pixelSz = vec2(1.0) / widthHeight;
vec2 ij = (floor(xy * widthHeight) + vec2(0.5)) * pixelSz;
vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;
return vec4(result, clipCoord.zw);
}`), o.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl`vec4 alignToPixelOrigin(vec4 clipCoord, vec2 widthHeight) {
if (!alignPixelEnabled)
return clipCoord;
vec2 xy = vec2(0.5) + 0.5 * clipCoord.xy / clipCoord.w;
vec2 pixelSz = vec2(1.0) / widthHeight;
vec2 ij = floor((xy + 0.5 * pixelSz) * widthHeight) * pixelSz;
vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;
return vec4(result, clipCoord.zw);
}`);
}


/***/ }),

/***/ 81573:
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HUD": () => (/* binding */ d),
/* harmony export */   "HUDVerticalPixelOffset": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _attributes_VerticalOffset_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../attributes/VerticalOffset.glsl.js */ 773);
/* harmony import */ var _util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ScreenSizePerspective.glsl.js */ 44835);
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/View.glsl.js */ 19349);
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







const p = .5;
function d(d, u) {
  d.include(_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_1__.ScreenSizePerspective), d.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.POSITION, "vec3"), d.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.NORMAL, "vec3"), d.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.AUXPOS1, "vec4");
  const v = d.vertex;
  (0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__.addProjViewLocalOrigin)(v, u), (0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__.addCameraPosition)(v, u), v.uniforms.add(new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float4PassUniform("viewport", (e, t) => t.camera.fullViewport), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("polygonOffset", e => e.shaderPolygonOffset), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("cameraGroundRelative", (e, t) => t.camera.aboveGround ? 1 : -1)), u.hasVerticalOffset && (0,_attributes_VerticalOffset_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addVerticalOffset)(v), v.constants.add("smallOffsetAngle", "float", .984807753012208), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`struct ProjectHUDAux {
vec3 posModel;
vec3 posView;
vec3 vnormal;
float distanceToCamera;
float absCosAngle;
};`), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`
    float applyHUDViewDependentPolygonOffset(float pointGroundDistance, float absCosAngle, inout vec3 posView) {
      float pointGroundSign = ${u.multipassEnabled ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl.float(0) : _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`sign(pointGroundDistance)`};
      if (pointGroundSign == 0.0) {
        pointGroundSign = cameraGroundRelative;
      }

      // cameraGroundRelative is -1 if camera is below ground, 1 if above ground
      // groundRelative is 1 if both camera and symbol are on the same side of the ground, -1 otherwise
      float groundRelative = cameraGroundRelative * pointGroundSign;

      // view angle dependent part of polygon offset emulation: we take the absolute value because the sign that is
      // dropped is instead introduced using the ground-relative position of the symbol and the camera
      if (polygonOffset > .0) {
        float cosAlpha = clamp(absCosAngle, 0.01, 1.0);
        float tanAlpha = sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;
        float factor = (1.0 - tanAlpha / viewport[2]);

        // same side of the terrain
        if (groundRelative > 0.0) {
          posView *= factor;
        }
        // opposite sides of the terrain
        else {
          posView /= factor;
        }
      }

      return groundRelative;
    }
  `), u.draped && !u.hasVerticalOffset || (0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__.addViewNormal)(v), u.draped || (v.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("perDistancePixelRatio", (e, t) => Math.tan(t.camera.fovY / 2) / (t.camera.fullViewport[2] / 2))), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`
    void applyHUDVerticalGroundOffset(vec3 normalModel, inout vec3 posModel, inout vec3 posView) {
      float distanceToCamera = length(posView);

      // Compute offset in world units for a half pixel shift
      float pixelOffset = distanceToCamera * perDistancePixelRatio * ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl.float(p)};

      // Apply offset along normal in the direction away from the ground surface
      vec3 modelOffset = normalModel * cameraGroundRelative * pixelOffset;

      // Apply the same offset also on the view space position
      vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;

      posModel += modelOffset;
      posView += viewOffset;
    }
  `)), u.screenCenterOffsetUnitsEnabled && (0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__.addPixelRatio)(v), u.hasScreenSizePerspective && (0,_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_1__.addScreenSizePerspectiveAlignment)(v), v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`
    vec4 projectPositionHUD(out ProjectHUDAux aux) {
      // centerOffset is in view space and is used to implement world size offset of labels with respect to objects.
      // It also pulls the label towards the viewer so that the label is visible in front of the object.
      vec3 centerOffset = auxpos1.xyz;

      // The pointGroundDistance is the distance of the geometry to the ground and is
      // negative if the point is below the ground, or positive if the point is above
      // ground.
      float pointGroundDistance = auxpos1.w;

      aux.posModel = position;
      aux.posView = (view * vec4(aux.posModel, 1.0)).xyz;
      aux.vnormal = normal;
      ${u.draped ? "" : "applyHUDVerticalGroundOffset(aux.vnormal, aux.posModel, aux.posView);"}

      // Screen sized offset in world space, used for example for line callouts
      // Note: keep this implementation in sync with the CPU implementation, see
      //   - MaterialUtil.verticalOffsetAtDistance
      //   - HUDMaterial.applyVerticalOffsetTransformation

      aux.distanceToCamera = length(aux.posView);

      vec3 viewDirObjSpace = normalize(cameraPosition - aux.posModel);
      float cosAngle = dot(aux.vnormal, viewDirObjSpace);

      aux.absCosAngle = abs(cosAngle);

      ${u.hasScreenSizePerspective && (u.hasVerticalOffset || u.screenCenterOffsetUnitsEnabled) ? "vec3 perspectiveFactor = screenSizePerspectiveScaleFactor(aux.absCosAngle, aux.distanceToCamera, screenSizePerspectiveAlignment);" : ""}

      ${u.hasVerticalOffset ? u.hasScreenSizePerspective ? "float verticalOffsetScreenHeight = applyScreenSizePerspectiveScaleFactorFloat(verticalOffset.x, perspectiveFactor);" : "float verticalOffsetScreenHeight = verticalOffset.x;" : ""}

      ${u.hasVerticalOffset ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`
            float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * aux.distanceToCamera, verticalOffset.z, verticalOffset.w);
            vec3 modelOffset = aux.vnormal * worldOffset;
            aux.posModel += modelOffset;
            vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;
            aux.posView += viewOffset;
            // Since we elevate the object, we need to take that into account
            // in the distance to ground
            pointGroundDistance += worldOffset;` : ""}

      float groundRelative = applyHUDViewDependentPolygonOffset(pointGroundDistance, aux.absCosAngle, aux.posView);

      ${u.screenCenterOffsetUnitsEnabled ? "" : _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`
            // Apply x/y in view space, but z in screen space (i.e. along posView direction)
            aux.posView += vec3(centerOffset.x, centerOffset.y, 0.0);

            // Same material all have same z != 0.0 condition so should not lead to
            // branch fragmentation and will save a normalization if it's not needed
            if (centerOffset.z != 0.0) {
              aux.posView -= normalize(aux.posView) * centerOffset.z;
            }
          `}

      vec4 posProj = proj * vec4(aux.posView, 1.0);

      ${u.screenCenterOffsetUnitsEnabled ? u.hasScreenSizePerspective ? "float centerOffsetY = applyScreenSizePerspectiveScaleFactorFloat(centerOffset.y, perspectiveFactor);" : "float centerOffsetY = centerOffset.y;" : ""}

      ${u.screenCenterOffsetUnitsEnabled ? "posProj.xy += vec2(centerOffset.x, centerOffsetY) * pixelRatio * 2.0 / viewport.zw * posProj.w;" : ""}

      // constant part of polygon offset emulation
      posProj.z -= groundRelative * polygonOffset * posProj.w;
      return posProj;
    }
  `);
}


/***/ }),

/***/ 57527:
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HUDOcclusionPass": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlignPixel.glsl.js */ 47136);
/* harmony import */ var _shading_MultipassGeometryTest_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shading/MultipassGeometryTest.glsl.js */ 80904);
/* harmony import */ var _shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shading/MultipassTerrainTest.glsl.js */ 57895);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




function i(i, s) {
  const {
    vertex: p,
    fragment: n
  } = i;
  p.include(_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__.AlignPixel), s.multipassEnabled && (p.include(_shading_MultipassGeometryTest_glsl_js__WEBPACK_IMPORTED_MODULE_1__.multipassGeometryTest), i.varyings.add("depth", "float")), p.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`
  void main(void) {
    vec4 posProjCenter;
    if (dot(position, position) > 0.0) {
      // Render single point to center of the pixel to avoid subpixel filtering to affect the marker color
      ProjectHUDAux projectAux;
      vec4 posProj = projectPositionHUD(projectAux);
      posProjCenter = alignToPixelCenter(posProj, viewport.zw);

      ${s.multipassEnabled ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`
        // Don't draw vertices behind geometry
        if(geometryDepthTest(.5 + .5 * posProjCenter.xy / posProjCenter.w, projectAux.posView.z)){
          posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);
        }` : ""}

      ${s.multipassEnabled ? "depth = projectAux.posView.z;" : ""}
      vec3 vpos = projectAux.posModel;
      if (rejectBySlice(vpos)) {
        // Project out of clip space
        posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);
      }

    } else {
      // Project out of clip space
      posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);
    }

    gl_Position = posProjCenter;
    gl_PointSize = 1.0;
  }
  `), i.include(_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_2__.multipassTerrainTest, s), n.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`
  void main() {
    fragColor = vec4(1);
    ${s.multipassEnabled ? _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`
        if(terrainDepthTest(depth)) {
          fragColor.g = 0.5;
        }` : ""}
  }
  `);
}


/***/ }),

/***/ 90407:
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDRenderStyle.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HUDRenderStyle": () => (/* binding */ c)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var c;
!function (c) {
  c[c.Occluded = 0] = "Occluded", c[c.NotOccluded = 1] = "NotOccluded", c[c.Both = 2] = "Both", c[c.COUNT = 3] = "COUNT";
}(c || (c = {}));


/***/ }),

/***/ 3767:
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HUDVisibility": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlignPixel.glsl.js */ 47136);
/* harmony import */ var _HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HUDRenderStyle.js */ 90407);
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ 94391);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






function t(t) {
  t.vertex.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatPassUniform("renderTransparentlyOccludedHUD", (e, o) => o.hudRenderStyle === _HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_1__.HUDRenderStyle.Occluded ? 1 : o.hudRenderStyle === _HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_1__.HUDRenderStyle.NotOccluded ? 0 : .75), new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float4PassUniform("viewport", (e, r) => r.camera.fullViewport), new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("hudVisibilityTexture", (e, r) => r.hudVisibility?.colorTexture)), t.vertex.include(_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__.AlignPixel), t.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`bool testHUDVisibility(vec4 posProj) {
vec4 posProjCenter = alignToPixelCenter(posProj, viewport.zw);
vec4 occlusionPixel = texture(hudVisibilityTexture, .5 + .5 * posProjCenter.xy / posProjCenter.w);
if (renderTransparentlyOccludedHUD > 0.5) {
return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g * renderTransparentlyOccludedHUD < 1.0;
}
return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g == 1.0;
}`);
}


/***/ }),

/***/ 45243:
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FoamColor": () => (/* binding */ n),
/* harmony export */   "FoamIntensity": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function o(o) {
  o.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl`float normals2FoamIntensity(vec3 n, float waveStrength){
float normalizationFactor =  max(0.015, waveStrength);
return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);
}`);
}
function n(o) {
  o.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){
return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;
}`);
}


/***/ }),

/***/ 61959:
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Gamma": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function e(e) {
  e.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl`const float GAMMA = 2.2;
const float INV_GAMMA = 0.4545454545;
vec4 delinearizeGamma(vec4 color) {
return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);
}
vec3 linearizeGamma(vec3 color) {
return pow(color, vec3(GAMMA));
}`);
}


/***/ }),

/***/ 49078:
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LineStipple": () => (/* binding */ d),
/* harmony export */   "computePixelSize": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/RgbaFloatEncoding.glsl.js */ 12032);
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/View.glsl.js */ 19349);
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ 94391);
/* harmony import */ var _materials_stippleTextureRepository_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../materials/stippleTextureRepository.js */ 18702);
/* harmony import */ var _shaders_ensureColor4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shaders/ensureColor4.js */ 7487);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








function d(e, t) {
  e.constants.add("stippleAlphaColorDiscard", "float", .001), e.constants.add("stippleAlphaHighlightDiscard", "float", .5), t.stippleEnabled ? c(e, t) : f(e);
}
function c(p, n) {
  const d = !(n.draped && n.stipplePreferContinuous),
    {
      vertex: c,
      fragment: f
    } = p;
  f.include(_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_0__.RgbaFloatEncoding), n.draped || ((0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__.addCameraPosition)(c, n), c.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatPassUniform("worldToScreenPerDistanceRatio", (e, t) => 1 / t.camera.perScreenPixelRatio)), c.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`float computeWorldToScreenRatio(vec3 segmentCenter) {
float segmentDistanceToCamera = length(segmentCenter - cameraPosition);
return worldToScreenPerDistanceRatio / segmentDistanceToCamera;
}`)), p.varyings.add("vStippleDistance", "float"), p.varyings.add("vStippleDistanceLimits", "vec2"), p.varyings.add("vStipplePatternStretch", "float"), c.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`
    float discretizeWorldToScreenRatio(float worldToScreenRatio) {
      float step = ${u};

      float discreteWorldToScreenRatio = log(worldToScreenRatio);
      discreteWorldToScreenRatio = ceil(discreteWorldToScreenRatio / step) * step;
      discreteWorldToScreenRatio = exp(discreteWorldToScreenRatio);
      return discreteWorldToScreenRatio;
    }
  `), c.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`vec2 computeStippleDistanceLimits(float startPseudoScreen, float segmentLengthPseudoScreen, float segmentLengthScreen, float patternLength) {`), c.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`
    if (segmentLengthPseudoScreen >= ${d ? "patternLength" : "1e4"}) {
  `), (0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__.addPixelRatio)(c), c.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`float repetitions = segmentLengthScreen / (patternLength * pixelRatio);
float flooredRepetitions = max(1.0, floor(repetitions + 0.5));
float segmentLengthScreenRounded = flooredRepetitions * patternLength;
float stretch = repetitions / flooredRepetitions;
vStipplePatternStretch = max(0.75, stretch);
return vec2(0.0, segmentLengthScreenRounded);
}
return vec2(startPseudoScreen, startPseudoScreen + segmentLengthPseudoScreen);
}`), f.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("stipplePatternTexture", e => e.stippleTexture), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatPassUniform("stipplePatternSDFNormalizer", e => m(e.stipplePattern)), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatPassUniform("stipplePatternPixelSizeInv", e => 1 / S(e))), f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`float getStippleSDF(out bool isClamped) {
float stippleDistanceClamped = clamp(vStippleDistance, vStippleDistanceLimits.x, vStippleDistanceLimits.y);
vec2 aaCorrectedLimits = vStippleDistanceLimits + vec2(1.0, -1.0) / gl_FragCoord.w;
isClamped = vStippleDistance < aaCorrectedLimits.x || vStippleDistance > aaCorrectedLimits.y;
float u = stippleDistanceClamped * gl_FragCoord.w * stipplePatternPixelSizeInv * vLineSizeInv;
u = fract(u);
float encodedSDF = rgba2float(texture(stipplePatternTexture, vec2(u, 0.5)));
float sdf = (encodedSDF * 2.0 - 1.0) * stipplePatternSDFNormalizer;
return (sdf - 0.5) * vStipplePatternStretch + 0.5;
}
float getStippleSDF() {
bool ignored;
return getStippleSDF(ignored);
}
float getStippleAlpha() {
bool isClamped;
float stippleSDF = getStippleSDF(isClamped);
float antiAliasedResult = clamp(stippleSDF * vLineWidth + 0.5, 0.0, 1.0);
return isClamped ? floor(antiAliasedResult + 0.5) : antiAliasedResult;
}`), n.stippleOffColorEnabled ? (f.uniforms.add(new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float4PassUniform("stippleOffColor", e => (0,_shaders_ensureColor4_js__WEBPACK_IMPORTED_MODULE_7__.ensureColor4)(e.stippleOffColor))), f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`#define discardByStippleAlpha(stippleAlpha, threshold) {}
#define blendStipple(color, stippleAlpha) mix(color, stippleOffColor, stippleAlpha)`)) : f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`#define discardByStippleAlpha(stippleAlpha, threshold) if (stippleAlpha < threshold) { discard; }
#define blendStipple(color, stippleAlpha) vec4(color.rgb, color.a * stippleAlpha)`);
}
function f(e) {
  e.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl`float getStippleAlpha() { return 1.0; }
#define discardByStippleAlpha(_stippleAlpha_, _threshold_) {}
#define blendStipple(color, _stippleAlpha_) color`);
}
function m(e) {
  return e ? (Math.floor(.5 * ((0,_materials_stippleTextureRepository_js__WEBPACK_IMPORTED_MODULE_6__.computeLongestPattern)(e) - 1)) + .5) / e.pixelRatio : 1;
}
function S(e) {
  const t = e.stipplePattern;
  return t ? (0,_materials_stippleTextureRepository_js__WEBPACK_IMPORTED_MODULE_6__.computeTextureSize)(e.stipplePattern) / t.pixelRatio : 1;
}
const u = _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl.float(.4);


/***/ }),

/***/ 65272:
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MarkerSizing": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../support/engineContent/marker.js */ 30503);
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/View.glsl.js */ 19349);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shaders/LineMarkerTechniqueConfiguration.js */ 6276);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





function n(n, i) {
  const {
    vertex: d,
    constants: s
  } = n;
  s.add("markerSizePerLineWidth", "float", _support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__.markerSizePerLineWidth), (0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__.addPixelRatio)(d), null == d.uniforms.get("markerScale") && d.constants.add("markerScale", "float", 1), d.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`float getLineWidth() {
return max(getSize(), 1.0) * pixelRatio;
}
float getScreenMarkerSize() {
return markerSizePerLineWidth * markerScale * getLineWidth();
}`), i.space === _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.LineMarkerSpace.World && (d.constants.add("maxSegmentLengthFraction", "float", .45), d.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("perRenderPixelRatio", (e, r) => r.camera.perRenderPixelRatio)), d.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`bool areWorldMarkersHidden(vec4 pos, vec4 other) {
vec3 midPoint = mix(pos.xyz, other.xyz, 0.5);
float distanceToCamera = length(midPoint);
float screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;
float worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;
float segmentLen = length(pos.xyz - other.xyz);
return worldMarkerSize > maxSegmentLengthFraction * segmentLen;
}
float getWorldMarkerSize(vec4 pos) {
float distanceToCamera = length(pos.xyz);
float screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;
return getScreenMarkerSize() * screenToWorldRatio;
}`));
}


/***/ }),

/***/ 80904:
/*!******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassGeometryTest.glsl.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MultipassGeometryUniforms": () => (/* binding */ s),
/* harmony export */   "multipassGeometryTest": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../output/ReadLinearDepth.glsl.js */ 46018);
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/Float2PassUniform.js */ 71882);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ 94391);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




function a(a) {
  a.include(_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ReadLinearDepth), a.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Texture2DPassUniform("geometryDepthTexture", (e, r) => r.multipassGeometry.linearDepth?.colorTexture), new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float2PassUniform("nearFar", (e, r) => r.camera.nearFar)), a.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl`bool geometryDepthTest(vec2 pos, float elementDepth) {
float geometryDepth = linearDepthFromTexture(geometryDepthTexture, pos, nearFar);
return (elementDepth < (geometryDepth - 1.0));
}`);
}
class s {}


/***/ }),

/***/ 86708:
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NormalUtils": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function r(r, c) {
  c.spherical ? r.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl`vec3 getLocalUp(in vec3 pos, in vec3 origin) {
return normalize(pos + origin);
}`) : r.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl`vec3 getLocalUp(in vec3 pos, in vec3 origin) {
return vec3(0.0, 0.0, 1.0);
}`), c.spherical ? r.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl`mat3 getTBNMatrix(in vec3 n) {
vec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));
vec3 b = normalize(cross(n, t));
return mat3(t, b, n);
}`) : r.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl`mat3 getTBNMatrix(in vec3 n) {
vec3 t = vec3(1.0, 0.0, 0.0);
vec3 b = normalize(cross(n, t));
return mat3(t, b, n);
}`);
}


/***/ }),

/***/ 76099:
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ScreenSpaceReflections": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../output/ReadLinearDepth.glsl.js */ 46018);
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/Float2PassUniform.js */ 71882);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/Matrix4PassUniform.js */ 63924);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ 94391);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






function d(d, n) {
  const c = d.fragment;
  c.include(_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ReadLinearDepth), c.uniforms.add(new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float2PassUniform("nearFar", (e, o) => o.camera.nearFar)), c.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("depthMap", (e, o) => o.linearDepth?.colorTexture)), c.uniforms.add(new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__.Matrix4PassUniform("proj", (e, o) => o.camera.projectionMatrix)), c.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("invResolutionHeight", (e, o) => 1 / o.camera.height)), c.uniforms.add(new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__.Matrix4PassUniform("reprojectionMatrix", (e, o) => o.ssr.reprojectionMatrix)), c.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl`
  vec2 reprojectionCoordinate(vec3 projectionCoordinate)
  {
    vec4 zw = proj * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);
    vec4 reprojectedCoord = reprojectionMatrix * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);
    reprojectedCoord.xy /= reprojectedCoord.w;
    return reprojectedCoord.xy * 0.5 + 0.5;
  }

  const int maxSteps = ${n.highStepCount ? "150" : "75"};

  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)
  {
    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);
    projectedCoord.xy /= projectedCoord.w;
    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;
    return projectedCoord;
  }

  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)
  {
    vec3 viewPos = startPosition;
    vec3 viewPosEnd = startPosition;

    // Project the start position to the screen
    vec4 projectedCoordStart = applyProjectionMat(proj, viewPos);
    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space
    float k0 = 1.0/ projectedCoordStart.w;

    // advance the position in the direction of the reflection
    viewPos += dir;

    vec4 projectedCoordVanishingPoint = applyProjectionMat(proj, dir);

    // Project the advanced position to the screen
    vec4 projectedCoordEnd = applyProjectionMat(proj, viewPos);
    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space
    float k1 = 1.0/ projectedCoordEnd.w;

    // calculate the reflection direction in the screen space
    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);
    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);

    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);

    float projectedCoordDirLength = length(projectedCoordDir);
    float maxSt = float(maxSteps);

    // normalize the projection direction depending on maximum steps
    // this determines how blocky the reflection looks
    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);

    // Normalize the homogeneous camera space coordinates
    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);
    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);

    // initialize the variables for ray marching
    vec2 P = projectedCoordStart.xy;
    vec3 Q = Q0;
    float k = k0;
    float rayStartZ = -startPosition.z; // estimated ray start depth value
    float rayEndZ = -startPosition.z;   // estimated ray end depth value
    float prevEstimateZ = -startPosition.z;
    float rayDiffZ = 0.0;
    float dDepth;
    float depth;
    float rayDiffZOld = 0.0;

    // early outs
    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)
      return vec3(P, 0.0);

    for(int i = 0; i < maxSteps-1; i++)
    {
      depth = -linearDepthFromTexture(depthMap, P, nearFar); // get linear depth from the depth buffer

      // estimate depth of the marching ray
      rayStartZ = prevEstimateZ;
      dDepth = -rayStartZ - depth;
      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));
      rayDiffZ = rayEndZ- rayStartZ;
      prevEstimateZ = rayEndZ;

      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )
      {
        return vec3(P, 0.);
      }

      // If we detect a hit - return the intersection point, two conditions:
      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth
      //  - if difference between dDepth and rayDiffZOld is not too large
      //  - if difference between dDepth and 0.025/abs(k) is not too large
      //  - if the sampled depth is not behind far plane or in front of near plane

      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)
      {
        return vec3(P, depth);
      }

      // continue with ray marching
      P = clamp(P + dP, vec2(0.0), vec2(0.999));
      Q.z += dQ.z;
      k += dk;
      rayDiffZOld = rayDiffZ;
    }
    return vec3(P, 0.0);
  }
  `);
}


/***/ }),

/***/ 77536:
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Water": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FoamRendering.glsl.js */ 45243);
/* harmony import */ var _Gamma_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Gamma.glsl.js */ 61959);
/* harmony import */ var _PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PhysicallyBasedRendering.glsl.js */ 58870);
/* harmony import */ var _ScreenSpaceReflections_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ScreenSpaceReflections.glsl.js */ 76099);
/* harmony import */ var _util_CloudsParallaxShading_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/CloudsParallaxShading.glsl.js */ 98167);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shaderModules/Matrix4PassUniform.js */ 63924);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ 94391);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/









function c(c, s) {
  c.include(_PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_2__.PhysicallyBasedRenderingWater, s), c.include(_Gamma_glsl_js__WEBPACK_IMPORTED_MODULE_1__.Gamma), c.include(_FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_0__.FoamColor), s.hasCloudsReflections && c.include(_util_CloudsParallaxShading_glsl_js__WEBPACK_IMPORTED_MODULE_4__.CloudsParallaxShading, s), s.hasScreenSpaceReflections && c.include(_ScreenSpaceReflections_glsl_js__WEBPACK_IMPORTED_MODULE_3__.ScreenSpaceReflections, s);
  const f = c.fragment;
  f.constants.add("fresnelSky", "vec3", [.02, 1, 15]).add("fresnelMaterial", "vec2", [.02, .1]).add("roughness", "float", .015).add("foamIntensityExternal", "float", 1.7).add("ssrIntensity", "float", .65).add("ssrHeightFadeStart", "float", 3e5).add("ssrHeightFadeEnd", "float", 5e5).add("waterDiffusion", "float", .92).add("waterSeaColorMod", "float", .8).add("correctionViewingPowerFactor", "float", .4).add("skyZenitColor", "vec3", [.52, .68, .9]).add("skyColor", "vec3", [.67, .79, .9]).add("cloudFresnelModifier", "vec2", [1.2, .01]), f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl`PBRShadingWater shadingInfo;
vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {
float exponent = pow((1.0 - cosTheta), fresnelSky[2]);
return mix(zenit, horizon, exponent);
}`), f.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.FloatPassUniform("lightingSpecularStrength", (e, o) => o.lighting.mainLight.specularStrength), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.FloatPassUniform("lightingEnvironmentStrength", (e, o) => o.lighting.mainLight.environmentStrength)), f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 viewPosition, vec3 position) {
float reflectionHit = 0.0;
float reflectionHitDiffused = 0.0;
vec3 seaWaterColor = linearizeGamma(color);
vec3 h = normalize(l + v);
shadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);
shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);
shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);
shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);
shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);
shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);
float upDotV = max(dot(localUp,v), 0.0);
vec3 skyHorizon = linearizeGamma(skyColor);
vec3 skyZenit = linearizeGamma(skyZenitColor);
vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );
float upDotL = max(dot(localUp,l),0.0);
float daytimeMod = 0.1 + upDotL * 0.9;
skyColor *= daytimeMod;
float shadowModifier = clamp(shadow, 0.8, 1.0);
vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);
vec3 reflSky = lightingEnvironmentStrength * fresnelModifier * skyColor * shadowModifier;
vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;
vec3 specular = vec3(0.0);
if(upDotV > 0.0 && upDotL > 0.0) {
vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);
vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;
specular = lightingSpecularStrength * shadingInfo.NdotL * incidentLight * specularSun;
}
vec3 foam = vec3(0.0);
if(upDotV > 0.0) {
foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);
}
float correctionViewingFactor = pow(max(dot(v, localUp), 0.0), correctionViewingPowerFactor);
vec3 normalCorrectedClouds = mix(localUp, n, correctionViewingFactor);
vec3 reflectedWorld = normalize(reflect(-v, normalCorrectedClouds));`), s.hasCloudsReflections && f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl`vec4 cloudsColor = renderClouds(reflectedWorld, position);
cloudsColor.a = 1.0 - cloudsColor.a;
cloudsColor = pow(cloudsColor, vec4(GAMMA));
cloudsColor *= clamp(fresnelModifier.y * cloudFresnelModifier[0] - cloudFresnelModifier[1], 0.0, 1.0) * clamp((1.0 - totalFadeInOut), 0.0, 1.0);`), s.hasScreenSpaceReflections ? (f.uniforms.add(new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Matrix4PassUniform("view", (e, o) => o.camera.viewMatrix), new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.Texture2DPassUniform("lastFrameColorTexture", (e, o) => o.ssr.lastFrameColor?.colorTexture), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.FloatPassUniform("fadeFactorSSR", (e, o) => o.ssr.fadeFactor)), f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl`vec3 viewDir = normalize(viewPosition);
vec4 viewNormalVectorCoordinate = view *vec4(n, 0.0);
vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);
vec4 viewUp = view * vec4(localUp, 0.0);
vec3 viewNormalCorrectedSSR = mix(viewUp.xyz, viewNormal, correctionViewingFactor);
vec3 reflected = normalize(reflect(viewDir, viewNormalCorrectedSSR));
vec3 hitCoordinate = screenSpaceIntersection(reflected, viewPosition, viewDir, viewUp.xyz);
vec3 reflectedColor = vec3(0.0);
if (hitCoordinate.z > 0.0)
{
vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);
vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));
float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -viewPosition.z);
reflectionHit = clamp(1.0 - (1.3 * dCoords.y), 0.0, 1.0) * heightMod * fadeFactorSSR;
reflectionHitDiffused = waterDiffusion * reflectionHit;
reflectedColor = linearizeGamma(texture(lastFrameColorTexture, reprojectedCoordinate).xyz) *
reflectionHitDiffused * fresnelModifier.y * ssrIntensity;
}
float seaColorMod =  mix(waterSeaColorMod, waterSeaColorMod * 0.5, reflectionHitDiffused);
vec3 waterRenderedColor = tonemapACES((1.0 - reflectionHitDiffused) * reflSky + reflectedColor +
reflSea * seaColorMod + specular + foam);`)) : f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl`vec3 waterRenderedColor = tonemapACES(reflSky + reflSea * waterSeaColorMod + specular + foam);`), s.hasCloudsReflections ? s.hasScreenSpaceReflections ? f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl`return waterRenderedColor * (1.0 - (1.0 - reflectionHit) * cloudsColor.a) + (1.0 - reflectionHit) * cloudsColor.xyz;
}`) : f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl`return waterRenderedColor * (1.0 - cloudsColor.a) + cloudsColor.xyz;
}`) : f.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl`return waterRenderedColor;
}`);
}


/***/ }),

/***/ 73034:
/*!************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WaterDistortion": () => (/* binding */ i),
/* harmony export */   "WaterDistortionPassParameters": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/vec2.js */ 80775);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../chunks/vec2f64.js */ 83457);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../chunks/vec4.js */ 71943);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FoamRendering.glsl.js */ 45243);
/* harmony import */ var _ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ReadShadowMap.glsl.js */ 28207);
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shaderModules/Float2PassUniform.js */ 71882);
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ 94391);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










function i(t) {
  t.fragment.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Texture2DPassUniform("texWaveNormal", e => e.waveNormal), new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Texture2DPassUniform("texWavePerturbation", e => e.wavePerturbation), new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float4PassUniform("waveParams", e => (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(f, e.waveStrength, e.waveTextureRepeat, e.flowStrength, e.flowOffset)), new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Float2PassUniform("waveDirection", t => (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(c, t.waveDirection[0] * t.waveVelocity, t.waveDirection[1] * t.waveVelocity))), t.include(_FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_4__.FoamIntensity), t.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl`const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);
vec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {
return 2.0 * texture(_tex, _uv).rg - 1.0;
}
float sampleNoiseTexture(vec2 _uv) {
return texture(texWavePerturbation, _uv).b;
}
vec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {
return 2.0 * texture(_tex, _uv).rgb - 1.0;
}
float computeProgress(vec2 uv, float time) {
return fract(time);
}
float computeWeight(vec2 uv, float time) {
float progress = computeProgress(uv, time);
return 1.0 - abs(1.0 - 2.0 * progress);
}
vec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {
float flowStrength = waveParams[2];
float flowOffset = waveParams[3];
vec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;
float progress = computeProgress(uv, time + phaseOffset);
float weight = computeWeight(uv, time + phaseOffset);
vec2 result = uv;
result -= flowVector * (progress + flowOffset);
result += phaseOffset;
result += (time - progress) * FLOW_JUMP;
return vec3(result, weight);
}
const float TIME_NOISE_TEXTURE_REPEAT = 0.3737;
const float TIME_NOISE_STRENGTH = 7.77;
vec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {
float waveStrength = waveParams[0];
vec2 waveMovement = time * -_waveDir;
float timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;
vec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);
vec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);
vec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;
vec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;
vec3 mixNormal = normalize(normal_A + normal_B);
mixNormal.xy *= waveStrength;
mixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));
return mixNormal;
}
vec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {
float waveTextureRepeat = waveParams[1];
vec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);
float foam  = normals2FoamIntensity(normal, waveParams[0]);
return vec4(normal, foam);
}`);
}
class n extends _ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_5__.ReadShadowMapPassParameters {}
const f = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
  c = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();


/***/ }),

/***/ 20827:
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OverlayIM": () => (/* binding */ C),
/* harmony export */   "OverlayMode": () => (/* binding */ f),
/* harmony export */   "OverlayTerrain": () => (/* binding */ g),
/* harmony export */   "getIMColorTexture": () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../terrain/interfaces.js */ 75110);
/* harmony import */ var _terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../terrain/OverlayContent.js */ 73940);
/* harmony import */ var _renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../renderPasses/AllRenderPasses.js */ 7030);
/* harmony import */ var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ShaderOutput.js */ 26573);
/* harmony import */ var _shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shading/MainLighting.glsl.js */ 98805);
/* harmony import */ var _shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shading/PhysicallyBasedRenderingParameters.glsl.js */ 85950);
/* harmony import */ var _shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../shading/Water.glsl.js */ 77536);
/* harmony import */ var _shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/Float4DrawUniform.js */ 6413);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ 94391);
/* harmony import */ var _shaderModules_Uniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../shaderModules/Uniform.js */ 21160);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














var f;
function C(e, o) {
  const {
    vertex: r,
    fragment: t
  } = e;
  r.uniforms.add(new _shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float4DrawUniform("overlayTexOffset", (e, o) => b(e, o)), new _shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float4DrawUniform("overlayTexScale", (e, o) => M(e, o))), t.constants.add("overlayOpacity", "float", 1), t.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Texture2DPassUniform("ovColorTex", (e, o) => O(e, o))), T(e, o);
}
function g(e, o) {
  const {
    vertex: r,
    fragment: t
  } = e;
  r.uniforms.add(new h("overlayTexOffset"), new h("overlayTexScale")), t.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_10__.FloatPassUniform("overlayOpacity", e => e.overlayOpacity), new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Texture2DPassUniform("ovColorTex", (e, o) => o.overlay?.getTexture(e.overlayContent))), T(e, o);
}
!function (e) {
  e[e.Disabled = 0] = "Disabled", e[e.Enabled = 1] = "Enabled", e[e.EnabledWithWater = 2] = "EnabledWithWater", e[e.COUNT = 3] = "COUNT";
}(f || (f = {}));
class h extends _shaderModules_Uniform_js__WEBPACK_IMPORTED_MODULE_13__.Uniform {
  constructor(e) {
    super(e, "vec4");
  }
}
function T(e, o) {
  o.pbrMode !== _shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.Water && o.pbrMode !== _shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.WaterOnIntegratedMesh && o.pbrMode !== _shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.TerrainWithWater || e.include(_shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_8__.Water, o);
  const {
    vertex: r,
    fragment: t
  } = e;
  e.varyings.add("vtcOverlay", "vec4"), r.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`void setOverlayVTC(in vec2 uv) {
vtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;
}`), t.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`bool isValid(vec2 uv, vec2 dxdy) {
return (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);
}
vec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {
vec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));
vec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));
bool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));
bool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));
return mix(color1 * float(isValid1), color0, float(isValid0));
}`), t.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`vec4 getCombinedOverlayColor() {
return overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);
}`), t.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`vec4 getOverlayColorTexel(vec4 texCoords) {
vec2 texDim =  vec2(textureSize(ovColorTex, 0));
vec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);
vec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);
bool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));
bool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));
return mix(color1 * float(isValid1), color0, float(isValid0));
}`), o.pbrMode !== _shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.Water && o.pbrMode !== _shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.WaterOnIntegratedMesh && o.pbrMode !== _shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.TerrainWithWater || ((0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__.addMainLightDirection)(t), (0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__.addMainLightIntensity)(t), t.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,
float shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {
vec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));
vec3 v = vposEyeDir;
vec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);
return vec4(final, colorInput.w);
}`));
}
function O(e, o) {
  return e.identifier === _renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__.RenderPassIdentifier.Material && e.output === _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Color ? o.overlay?.getTexture(_terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__.OverlayContent.ColorNoRasterImage) : e.identifier === _renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__.RenderPassIdentifier.Material && e.output === _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ObjectAndLayerIdColor ? o.overlay?.getTexture(_terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__.OverlayContent.ObjectAndLayerIdColor) : e.identifier === _renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__.RenderPassIdentifier.Highlight ? o.overlay?.getTexture(_terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__.OverlayContent.Highlight) : null;
}
function b(e, l) {
  const i = l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.INNER]?.extent;
  (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(i) && (w[0] = e.toMapSpace[0] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(i) - i[0] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(i), w[1] = e.toMapSpace[1] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(i) - i[1] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(i));
  const s = l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.OUTER]?.extent;
  return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(s) && (w[2] = e.toMapSpace[0] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(s) - s[0] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(s), w[3] = e.toMapSpace[1] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(s) - s[1] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(s)), w;
}
function M(e, l) {
  const i = l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.INNER]?.extent;
  (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(i) && (w[0] = e.toMapSpace[2] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(i), w[1] = e.toMapSpace[3] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(i));
  const s = l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.OUTER]?.extent;
  return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(s) && (w[2] = e.toMapSpace[2] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(s), w[3] = e.toMapSpace[3] / (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(s)), w;
}
const w = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.c)();


/***/ }),

/***/ 98167:
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CloudsParallaxShading": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/mathUtils.js */ 93142);
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../geometry/support/Ellipsoid.js */ 86355);
/* harmony import */ var _environment_CloudsData_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../environment/CloudsData.js */ 49527);
/* harmony import */ var _environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../environment/CloudsParameters.js */ 41746);
/* harmony import */ var _environment_weather_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../environment/weather.js */ 69228);
/* harmony import */ var _shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shading/MainLighting.glsl.js */ 98805);
/* harmony import */ var _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shaderModules/BooleanPassUniform.js */ 59464);
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shaderModules/Float3PassUniform.js */ 26615);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../shaderModules/Matrix4PassUniform.js */ 63924);
/* harmony import */ var _shaderModules_TextureCubePassUniform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../shaderModules/TextureCubePassUniform.js */ 4344);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/












function v(v) {
  const R = v.fragment;
  R.uniforms.add(new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Matrix4PassUniform("rotationMatrixClouds", (o, a) => a.cloudsFade.parallax.transform), new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Matrix4PassUniform("rotationMatrixCloudsCrossFade", (o, a) => a.cloudsFade.parallaxNew.transform), new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float3PassUniform("anchorPosition", (o, a) => a.cloudsFade.parallax.anchorPointClouds), new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float3PassUniform("anchorPositionCrossFade", (o, a) => a.cloudsFade.parallaxNew.anchorPointClouds), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("cloudsHeight", () => _environment_weather_js__WEBPACK_IMPORTED_MODULE_4__.cloudsHeight), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("radiusCurvatureCorrectionFactor", (o, a) => a.cloudsFade.parallax.radiusCurvatureCorrectionFactor), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("totalFadeInOut", (o, a) => 1 - a.cloudsFade.opacity), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("crossFadeAnchorFactor", (a, t) => (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(t.cloudsFade.fadeFactor, 0, 1)), new _shaderModules_TextureCubePassUniform_js__WEBPACK_IMPORTED_MODULE_11__.TextureCubePassUniform("cubeMap", (o, a) => a.cloudsFade.data?.cubeMap?.colorTexture ?? null), new _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.BooleanPassUniform("crossFade", (o, a) => a.cloudsFade.fadeMode === _environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_3__.FadeMode.CROSS_FADE), new _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.BooleanPassUniform("readChannelsRG", (o, a) => a.cloudsFade.readChannels === _environment_CloudsData_js__WEBPACK_IMPORTED_MODULE_2__.CloudsTextureChannels.RG), new _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.BooleanPassUniform("fadeTextureChannels", (o, a) => a.cloudsFade.renderingStage === _environment_CloudsData_js__WEBPACK_IMPORTED_MODULE_2__.CloudsRenderingStages.FADING)), R.constants.add("planetRadius", "float", _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_1__.earth.radius), R.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos)
{
float radiusClouds = planetRadius + cloudsHeight;
float B = 2.0 * dot(cameraPosition, dir);
float C = dot(cameraPosition, cameraPosition) - radiusClouds * radiusClouds;
float det = B * B - 4.0 * C;
float pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));
vec3 intersectionPont = cameraPosition + dir * pointIntDist;
intersectionPont =  intersectionPont - spherePos;
return intersectionPont;
}`), R.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec3 correctForPlanetCurvature(vec3 dir)
{
dir.z = dir.z*(1.-radiusCurvatureCorrectionFactor) + radiusCurvatureCorrectionFactor;
return dir;
}`), R.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec)
{
return (rotMat * vec4(inVec, 0.0)).xyz;
}`), (0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_5__.addMainLightDirection)(R), (0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_5__.addMainLightIntensity)(R), R.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`const float SUNSET_TRANSITION_FACTOR = 0.3;
const vec3 RIM_COLOR = vec3(0.28, 0.175, 0.035);
const float RIM_SCATTERING_FACTOR = 140.0;
const float BACKLIGHT_FACTOR = 0.2;
const float BACKLIGHT_SCATTERING_FACTOR = 10.0;
const float BACKLIGHT_TRANSITION_FACTOR = 0.3;
vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds)
{
float upDotLight = dot(normalize(cameraPosition), normalize(mainLightDirection));
float dirDotLight = max(dot(normalize(-worldSpaceRay), normalize(mainLightDirection)), 0.0);
float sunsetTransition = clamp(pow(max(upDotLight, 0.0), SUNSET_TRANSITION_FACTOR), 0.0, 1.0);
vec3 ambientLight = calculateAmbientIrradiance(normalize(cameraPosition),  0.0);
vec3 mainLight = evaluateMainLighting(normalize(cameraPosition),  0.0);
vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));
vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));
float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);
float rimLightIntensity = 0.5 + 0.5 *pow(max(upDotLight, 0.0), 0.35);
vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, RIM_SCATTERING_FACTOR)) * scatteringMod;
float additionalLight = BACKLIGHT_FACTOR * pow(dirDotLight, BACKLIGHT_SCATTERING_FACTOR) * (1. - pow(sunsetTransition, BACKLIGHT_TRANSITION_FACTOR)) ;
return vec3(baseCloudColor * (1. + additionalLight) + directSunScattering);
}`), R.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec4 getCloudData(vec3 rayDir, bool readOtherChannel)
{
vec4 cloudData = texture(cubeMap, rayDir);
float mu = dot(rayDir, vec3(0, 0, 1));
bool readChannels = readChannelsRG ^^ readOtherChannel;
if (readChannels) {
cloudData = vec4(vec3(cloudData.r), cloudData.g);
} else {
cloudData = vec4(vec3(cloudData.b), cloudData.a);
}
if (length(cloudData) == 0.0) {
return vec4(cloudData.rgb, 1.0);
}
return cloudData;
}`), R.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec4 renderCloudsNoFade(vec3 worldRay, vec3 cameraPosition)
{
vec3 intersectionPoint = intersectWithCloudLayer(normalize(worldRay), cameraPosition, anchorPosition);
vec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationMatrixClouds, normalize(intersectionPoint));
vec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);
vec4 cloudData = getCloudData(worldRayRotatedCorrected, false);
float totalTransmittance = clamp(cloudData.a * (1.0 - totalFadeInOut) + totalFadeInOut, 0.0 , 1.0);
if (length(cloudData.rgb) == 0.0) {
totalTransmittance = 1.0;
}
return vec4(calculateCloudColor(cameraPosition, normalize(-worldRay), cloudData), totalTransmittance);
}`), R.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec4 renderCloudsCrossFade(vec3 worldRay, vec3 cameraPosition)
{
vec3 intersectionPoint = intersectWithCloudLayer(normalize(worldRay), cameraPosition, anchorPosition);
vec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationMatrixClouds, normalize(intersectionPoint));
vec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);
vec4 cloudData = getCloudData(worldRayRotatedCorrected, false);
vec4 cloudColor = vec4(calculateCloudColor(cameraPosition, normalize(-worldRay), cloudData), cloudData.a);
intersectionPoint = intersectWithCloudLayer(normalize(worldRay), cameraPosition, anchorPositionCrossFade);
worldRayRotated = rotateDirectionToAnchorPoint(rotationMatrixCloudsCrossFade, normalize(intersectionPoint));
worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);
cloudData = getCloudData(worldRayRotatedCorrected, fadeTextureChannels);
vec4 cloudColorCrossFade = vec4(calculateCloudColor(cameraPosition, normalize(-worldRay), cloudData), cloudData.a);
cloudColor = mix(cloudColor, cloudColorCrossFade, crossFadeAnchorFactor);
float totalTransmittance = clamp(cloudColor.a * (1.0 - totalFadeInOut) + totalFadeInOut, 0.0 , 1.0);
if (length(cloudColor.rgb) == 0.0) {
totalTransmittance = 1.0;
}
return vec4(cloudColor.rgb, totalTransmittance);
}`), R.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition)
{
return crossFade ? renderCloudsCrossFade(worldRay, cameraPosition) : renderCloudsNoFade(worldRay, cameraPosition);
}`);
}


/***/ }),

/***/ 6413:
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Float4DrawUniform": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Uniform.js */ 21160);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderTechnique/BindType.js */ 30428);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class o extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.Uniform {
  constructor(r, o) {
    super(r, "vec4", _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.BindType.Draw, (e, s, t) => e.setUniform4fv(r, o(s, t)));
  }
}


/***/ }),

/***/ 4344:
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubePassUniform.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextureCubePassUniform": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Uniform.js */ 21160);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderTechnique/BindType.js */ 30428);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class s extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.Uniform {
  constructor(e, s) {
    super(e, "samplerCube", _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.BindType.Pass, (r, o, t) => r.bindTexture(e, s(o, t)));
  }
}


/***/ }),

/***/ 53218:
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShaderTechniqueRepository": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/NestedMap.js */ 22043);
/* harmony import */ var _ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShaderTechniqueConfiguration.js */ 88721);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class r {
  constructor(t) {
    this._context = t, this._perConstructorInstances = new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_1__.NestedMap(), this._frameCounter = 0, this._keepAliveFrameCount = n;
  }
  get viewingMode() {
    return this._context.viewingMode;
  }
  get constructionContext() {
    return this._context;
  }
  destroy() {
    this._perConstructorInstances.forEach(e => e.forEach(e => e.technique.destroy())), this._perConstructorInstances.clear();
  }
  acquire(e, t = o) {
    const r = t.key;
    let n = this._perConstructorInstances.get(e, r);
    if (null == n) {
      const o = new e(this._context, t, () => this.release(o));
      n = new s(o), this._perConstructorInstances.set(e, r, n);
    }
    return ++n.refCount, n.technique;
  }
  releaseAndAcquire(e, t, r) {
    if (null != r) {
      if (t.key === r.key) return r;
      this.release(r);
    }
    return this.acquire(e, t);
  }
  release(e) {
    if (null == e || this._perConstructorInstances.empty) return;
    const t = this._perConstructorInstances.get(e.constructor, e.key);
    null != t && (--t.refCount, 0 === t.refCount && (t.refZeroFrame = this._frameCounter));
  }
  frameUpdate() {
    this._frameCounter++, this._keepAliveFrameCount !== n && this._perConstructorInstances.forEach((e, t) => {
      e.forEach((e, r) => {
        0 === e.refCount && e.refZeroFrame + this._keepAliveFrameCount < this._frameCounter && (e.technique.destroy(), this._perConstructorInstances.delete(t, r));
      });
    });
  }
  reloadAll() {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const e = new Array();
      _this._perConstructorInstances.forEach((t, r) => {
        const s = /*#__PURE__*/function () {
          var _ref = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, t) {
            const r = t.shader;
            r && (yield r.reload(), e.forEach(e => e.technique.reload(_this._context)));
          });
          return function s(_x, _x2) {
            return _ref.apply(this, arguments);
          };
        }();
        e.push(s(t, r));
      }), yield Promise.all(e);
    })();
  }
}
class s {
  constructor(e) {
    this.technique = e, this.refCount = 0, this.refZeroFrame = 0;
  }
}
const n = -1,
  o = new _ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechniqueConfiguration();


/***/ }),

/***/ 69438:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BindParameters": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec2f64.js */ 83457);
/* harmony import */ var _environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environment/CloudsParameters.js */ 41746);
/* harmony import */ var _core_shaderLibrary_hud_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/hud/HUDRenderStyle.js */ 90407);
/* harmony import */ var _core_shaderLibrary_shading_MultipassGeometryTest_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/shading/MultipassGeometryTest.glsl.js */ 80904);
/* harmony import */ var _core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ 57895);
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./basicInterfaces.js */ 2754);
/* harmony import */ var _Camera_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Camera.js */ 39695);
/* harmony import */ var _RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./RenderSlot.js */ 66176);
/* harmony import */ var _TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./TransparencyPassType.js */ 63984);
/* harmony import */ var _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lighting/SceneLighting.js */ 18642);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/











class m {
  constructor(i, m) {
    this.shadowMap = i, this.slicePlane = m, this.slot = _RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.OPAQUE_MATERIAL, this.hasOccludees = !1, this.enableFillLights = !0, this.transparencyPassType = _TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_9__.TransparencyPassType.NONE, this.alignPixelEnabled = !1, this.decorations = _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__.Decorations.ON, this.overlayStretch = 1, this._camera = new _Camera_js__WEBPACK_IMPORTED_MODULE_7__.Camera(), this._inverseViewport = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(), this.oldLighting = new _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_10__.SceneLighting(), this.newLighting = new _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_10__.SceneLighting(), this._fadedLighting = new _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_10__.SceneLighting(), this._lighting = this.newLighting, this.ssr = new c(), this.multipassEnabled = !1, this.multipassTerrain = new _core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__.MultipassTerrainUniforms(), this.multipassGeometry = new _core_shaderLibrary_shading_MultipassGeometryTest_glsl_js__WEBPACK_IMPORTED_MODULE_4__.MultipassGeometryUniforms(), this.hudRenderStyle = _core_shaderLibrary_hud_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_3__.HUDRenderStyle.Occluded, this.cloudsFade = new _environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_2__.CloudsParameters();
  }
  get camera() {
    return this._camera;
  }
  set camera(i) {
    this._camera = i, this._inverseViewport[0] = 1 / i.fullViewport[2], this._inverseViewport[1] = 1 / i.fullViewport[3];
  }
  get inverseViewport() {
    return this._inverseViewport;
  }
  get lighting() {
    return this._lighting;
  }
  get weatherFading() {
    return this._lighting === this._fadedLighting;
  }
  fadeLighting(i) {
    const {
      oldLighting: t,
      newLighting: e
    } = this;
    i >= 1 ? this._lighting = e : (this._fadedLighting.lerpLighting(t, e, i), this._lighting = this._fadedLighting);
  }
}
class c {
  constructor() {
    this.fadeFactor = 1, this.reprojectionMatrix = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__.a)();
  }
}


/***/ }),

/***/ 8382:
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BufferVectorMath.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Vec3Compact": () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var n;
!function (n) {
  function t(n, t) {
    const c = n[t],
      o = n[t + 1],
      r = n[t + 2];
    return Math.sqrt(c * c + o * o + r * r);
  }
  function c(n, t) {
    const c = n[t],
      o = n[t + 1],
      r = n[t + 2],
      u = 1 / Math.sqrt(c * c + o * o + r * r);
    n[t] *= u, n[t + 1] *= u, n[t + 2] *= u;
  }
  function o(n, t, c) {
    n[t] *= c, n[t + 1] *= c, n[t + 2] *= c;
  }
  function r(n, t, c, o, r, u = t) {
    (r = r || n)[u] = n[t] + c[o], r[u + 1] = n[t + 1] + c[o + 1], r[u + 2] = n[t + 2] + c[o + 2];
  }
  function u(n, t, c, o, r, u = t) {
    (r = r || n)[u] = n[t] - c[o], r[u + 1] = n[t + 1] - c[o + 1], r[u + 2] = n[t + 2] - c[o + 2];
  }
  n.length = t, n.normalize = c, n.scale = o, n.add = r, n.subtract = u;
}(n || (n = {}));


/***/ }),

/***/ 39695:
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Camera": () => (/* binding */ $),
/* harmony export */   "PaddingSide": () => (/* binding */ ht)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ 2299);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ 28191);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ 93142);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ 55798);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ 80775);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/vec2f64.js */ 83457);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ 71943);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../geometry/support/frustum.js */ 68075);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ 32684);
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../geometry/support/vector.js */ 84877);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../ViewingMode.js */ 56108);
/* harmony import */ var _fov_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./fov.js */ 32514);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/























var Z;
let $ = Z = class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"] {
  constructor(t = {}) {
    super(t), this._center = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__.c)(), this._up = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__.c)(), this._viewUp = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__.c)(), this._viewForward = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__.c)(), this._viewRight = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__.c)(), this._ray = (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_19__.create)(), this._viewport = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_17__.f)(0, 0, 1, 1), this._padding = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_17__.f)(0, 0, 0, 0), this._fov = 55 / 180 * Math.PI, this._nearFar = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_13__.f)(1, 1e3), this._viewDirty = !0, this._viewMatrix = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.a)(), this._viewProjectionDirty = !0, this._viewProjectionMatrix = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.a)(), this._viewInverseTransposeMatrixDirty = !0, this._viewInverseTransposeMatrix = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.a)(), this._frustumDirty = !0, this._frustum = (0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_18__.create)(), this._fullViewport = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_17__.c)(), this._pixelRatio = 1, this.relativeElevation = 0;
  }
  get pixelRatio() {
    return this._pixelRatio;
  }
  set pixelRatio(t) {
    this._pixelRatio = t > 0 ? t : 1;
  }
  get eye() {
    return this._ray.origin;
  }
  set eye(t) {
    this._compareAndSetView(t, this._ray.origin);
  }
  get center() {
    return this._center;
  }
  set center(t) {
    this._compareAndSetView(t, this._center, "_center");
  }
  get ray() {
    return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.f)(this._ray.direction, this.center, this.eye), this._ray;
  }
  get up() {
    return this._up;
  }
  set up(t) {
    this._compareAndSetView(t, this._up, "_up");
  }
  get viewMatrix() {
    return this._ensureViewClean(), this._viewMatrix;
  }
  set viewMatrix(t) {
    (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.h)(this._viewMatrix, t), this._viewDirty = !1, this._viewInverseTransposeMatrixDirty = !0, this._viewProjectionDirty = !0, this._frustumDirty = !0;
  }
  get viewForward() {
    return this._ensureViewClean(), this._viewForward;
  }
  get viewUp() {
    return this._ensureViewClean(), this._viewUp;
  }
  get viewRight() {
    return this._ensureViewClean(), this._viewRight;
  }
  get nearFar() {
    return this._nearFar;
  }
  get near() {
    return this._nearFar[0];
  }
  set near(t) {
    this._nearFar[0] !== t && (this._nearFar[0] = t, this._viewProjectionDirty = !0, this._frustumDirty = !0, this.notifyChange("_nearFar"));
  }
  get far() {
    return this._nearFar[1];
  }
  set far(t) {
    this._nearFar[1] !== t && (this._nearFar[1] = t, this._viewProjectionDirty = !0, this._frustumDirty = !0, this.notifyChange("_nearFar"));
  }
  get viewport() {
    return this._viewport;
  }
  set viewport(t) {
    this.x = t[0], this.y = t[1], this.width = t[2], this.height = t[3];
  }
  get screenViewport() {
    if (1 === this.pixelRatio) return this._viewport;
    const t = (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.b)((0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_17__.c)(), this._viewport, 1 / this.pixelRatio),
      i = this._get("screenViewport");
    return i && (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.e)(t, i) ? i : t;
  }
  get screenPadding() {
    if (1 === this.pixelRatio) return this._padding;
    const t = (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.b)((0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_17__.c)(), this._padding, 1 / this.pixelRatio),
      i = this._get("screenPadding");
    return i && (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.e)(t, i) ? i : t;
  }
  get x() {
    return this._viewport[0];
  }
  set x(t) {
    t += this._padding[ht.LEFT], this._viewport[0] !== t && (this._viewport[0] = t, this._viewProjectionDirty = !0, this._frustumDirty = !0, this.notifyChange("_viewport"));
  }
  get y() {
    return this._viewport[1];
  }
  set y(t) {
    t += this._padding[ht.BOTTOM], this._viewport[1] !== t && (this._viewport[1] = t, this._viewProjectionDirty = !0, this._frustumDirty = !0, this.notifyChange("_viewport"));
  }
  get width() {
    return this._viewport[2];
  }
  set width(t) {
    this._viewport[2] !== t && (this._viewport[2] = t, this._viewProjectionDirty = !0, this._frustumDirty = !0, this.notifyChange("_viewport"));
  }
  get height() {
    return this._viewport[3];
  }
  set height(t) {
    this._viewport[3] !== t && (this._viewport[3] = t, this._viewProjectionDirty = !0, this._frustumDirty = !0, this.notifyChange("_viewport"));
  }
  get fullWidth() {
    return this._viewport[2] + this._padding[ht.RIGHT] + this._padding[ht.LEFT];
  }
  set fullWidth(t) {
    this.width = t - (this._padding[ht.RIGHT] + this._padding[ht.LEFT]);
  }
  get fullHeight() {
    return this._viewport[3] + this._padding[ht.TOP] + this._padding[ht.BOTTOM];
  }
  set fullHeight(t) {
    this.height = t - (this._padding[ht.TOP] + this._padding[ht.BOTTOM]);
  }
  get fullViewport() {
    return this._fullViewport[0] = this._viewport[0] - this._padding[ht.LEFT], this._fullViewport[1] = this._viewport[1] - this._padding[ht.BOTTOM], this._fullViewport[2] = this.fullWidth, this._fullViewport[3] = this.fullHeight, this._fullViewport;
  }
  get _aspect() {
    return this.width / this.height;
  }
  get padding() {
    return this._padding;
  }
  set padding(t) {
    (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.h)(this._padding, t) || (this._viewport[0] += t[ht.LEFT] - this._padding[ht.LEFT], this._viewport[1] += t[ht.BOTTOM] - this._padding[ht.BOTTOM], this._viewport[2] -= t[ht.RIGHT] + t[ht.LEFT] - (this._padding[ht.RIGHT] + this._padding[ht.LEFT]), this._viewport[3] -= t[ht.TOP] + t[ht.BOTTOM] - (this._padding[ht.TOP] + this._padding[ht.BOTTOM]), (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.c)(this._padding, t), this._viewProjectionDirty = !0, this._frustumDirty = !0, this.notifyChange("_padding"), this.notifyChange("_viewport"));
  }
  get viewProjectionMatrix() {
    return this._viewProjectionDirty && ((0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.m)(this._viewProjectionMatrix, this.projectionMatrix, this.viewMatrix), this._viewProjectionDirty = !1), this._viewProjectionMatrix;
  }
  get projectionMatrix() {
    const t = this.width,
      i = this.height,
      e = this.near * Math.tan(this.fovY / 2),
      r = e * this._aspect,
      s = (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.q)((0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.a)(), -r * (1 + 2 * this._padding[ht.LEFT] / t), r * (1 + 2 * this._padding[ht.RIGHT] / t), -e * (1 + 2 * this._padding[ht.BOTTOM] / i), e * (1 + 2 * this._padding[ht.TOP] / i), this.near, this.far),
      h = this._get("projectionMatrix");
    return h && (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.a)(h, s) ? h : s;
  }
  get inverseProjectionMatrix() {
    return (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.i)((0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.a)(), this.projectionMatrix) || this._get("inverseProjectionMatrix") || (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.a)();
  }
  get fov() {
    return this._fov;
  }
  set fov(t) {
    this._fov = t, this._viewProjectionDirty = !0, this._frustumDirty = !0;
  }
  get fovX() {
    return (0,_fov_js__WEBPACK_IMPORTED_MODULE_22__.fovd2fovx)(this._fov, this.width, this.height);
  }
  set fovX(t) {
    this._fov = (0,_fov_js__WEBPACK_IMPORTED_MODULE_22__.fovx2fovd)(t, this.width, this.height), this._viewProjectionDirty = !0, this._frustumDirty = !0;
  }
  get fovY() {
    return (0,_fov_js__WEBPACK_IMPORTED_MODULE_22__.fovd2fovy)(this._fov, this.width, this.height);
  }
  set fovY(t) {
    this._fov = (0,_fov_js__WEBPACK_IMPORTED_MODULE_22__.fovy2fovd)(t, this.width, this.height), this._viewProjectionDirty = !0, this._frustumDirty = !0;
  }
  get distance() {
    return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.o)(this.center, this.eye);
  }
  get frustum() {
    return this._recomputeFrustum(), this._frustum;
  }
  get viewInverseTransposeMatrix() {
    return (this._viewInverseTransposeMatrixDirty || this._viewDirty) && ((0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.i)(this._viewInverseTransposeMatrix, this.viewMatrix), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.t)(this._viewInverseTransposeMatrix, this._viewInverseTransposeMatrix), this._viewInverseTransposeMatrixDirty = !1), this._viewInverseTransposeMatrix;
  }
  depthNDCToWorld(t) {
    const i = 2 * t - 1;
    return 2 * this.near * this.far / (this.far + this.near - i * (this.far - this.near));
  }
  get perRenderPixelRatio() {
    return Math.tan(this.fovX / 2) / (this.width / 2);
  }
  get perScreenPixelRatio() {
    return this.perRenderPixelRatio * this.pixelRatio;
  }
  get aboveGround() {
    return null != this.relativeElevation && this.relativeElevation >= 0;
  }
  copyFrom(t) {
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.c)(this._ray.origin, t.eye), this.center = t.center, this.up = t.up, (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.c)(this._viewport, t.viewport), this.notifyChange("_viewport"), (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.c)(this._padding, t.padding), this.notifyChange("_padding"), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_12__.j)(this._nearFar, t.nearFar), this.notifyChange("_nearFar"), this._fov = t.fov, this.relativeElevation = t.relativeElevation;
    const i = t;
    return this._viewDirty = i._viewDirty, this._viewDirty || ((0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.h)(this._viewMatrix, t.viewMatrix), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.c)(this._viewRight, t.viewRight), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.c)(this._viewUp, t.viewUp), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.c)(this._viewForward, t.viewForward)), this._viewProjectionDirty = !0, this._frustumDirty = i._frustumDirty, this._frustumDirty || ((0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_18__.copy)(this._frustum, t.frustum), this._frustumDirty = !1), i._viewInverseTransposeMatrixDirty ? this._viewInverseTransposeMatrixDirty = !0 : ((0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.h)(this._viewInverseTransposeMatrix, t.viewInverseTransposeMatrix), this._viewInverseTransposeMatrixDirty = !1), (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.c)(this._fullViewport, t.fullViewport), this.pixelRatio = t.pixelRatio, this;
  }
  copyViewFrom(t) {
    this.eye = t.eye, this.center = t.center, this.up = t.up;
  }
  clone() {
    return new Z().copyFrom(this);
  }
  equals(t) {
    return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.h)(this.eye, t.eye) && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.h)(this.center, t.center) && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.h)(this.up, t.up) && (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.h)(this._viewport, t.viewport) && (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.h)(this._padding, t.padding) && (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_12__.m)(this.nearFar, t.nearFar) && this._fov === t.fov && this.pixelRatio === t.pixelRatio && this.relativeElevation === t.relativeElevation;
  }
  almostEquals(t) {
    const i = Math.max(1, 1 / this.pixelRatio, 1 / t.pixelRatio);
    if (Math.abs(t.fov - this._fov) >= .001 || (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.i)(t.screenPadding, this.screenPadding) >= i || (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.i)(this.screenViewport, t.screenViewport) >= i) return !1;
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.u)(et, t.eye, t.center), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.u)(rt, this.eye, this.center);
    const e = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.j)(et, rt),
      r = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.F)(et),
      s = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.F)(rt),
      h = 5e-4;
    return e * e >= (1 - 1e-10) * r * s && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.y)(t.eye, this.eye) < Math.max(r, s) * h * h;
  }
  computeRenderPixelSizeAt(t) {
    return this.computeRenderPixelSizeAtDist(this._viewDirectionDistance(t));
  }
  computeRenderPixelSizeAtDist(t) {
    return t * this.perRenderPixelRatio;
  }
  computeScreenPixelSizeAt(t) {
    return this.computeScreenPixelSizeAtDist(this._viewDirectionDistance(t));
  }
  _viewDirectionDistance(t) {
    return Math.abs((0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_20__.projectPointSignedLength)(this.viewForward, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.f)(et, t, this.eye)));
  }
  computeScreenPixelSizeAtDist(t) {
    return t * this.perScreenPixelRatio;
  }
  computeDistanceFromRadius(t, i) {
    return t / Math.tan(Math.min(this.fovX, this.fovY) / (2 * (i || 1)));
  }
  getScreenCenter(t = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.createScreenPointArray)()) {
    return t[0] = (this.padding[ht.LEFT] + this.width / 2) / this.pixelRatio, t[1] = (this.padding[ht.TOP] + this.height / 2) / this.pixelRatio, t;
  }
  getRenderCenter(t, i = .5, e = .5) {
    return t[0] = this.padding[ht.LEFT] + this.width * i, t[1] = this.padding[ht.BOTTOM] + this.height * e, t[2] = .5, t;
  }
  setGLViewport(t) {
    const i = this.viewport,
      e = this.padding;
    t.setViewport(i[0] - e[3], i[1] - e[2], i[2] + e[1] + e[3], i[3] + e[0] + e[2]);
  }
  applyProjection(t, i) {
    t !== tt && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.c)(tt, t), tt[3] = 1, (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.t)(tt, tt, this.projectionMatrix);
    const e = Math.abs(tt[3]);
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.i)(tt, tt, 1 / e);
    const s = this.fullViewport;
    i[0] = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0, s[0] + s[2], .5 + .5 * tt[0]), i[1] = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0, s[1] + s[3], .5 + .5 * tt[1]), i[2] = .5 * (tt[2] + 1), i[3] = e;
  }
  unapplyProjection(t, i) {
    const e = this.fullViewport;
    tt[0] = (t[0] / (e[0] + e[2]) * 2 - 1) * t[3], tt[1] = (t[1] / (e[1] + e[3]) * 2 - 1) * t[3], tt[2] = (2 * t[2] - 1) * t[3], tt[3] = t[3], null != this.inverseProjectionMatrix && ((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.t)(tt, tt, this.inverseProjectionMatrix), i[0] = tt[0], i[1] = tt[1], i[2] = tt[2]);
  }
  projectToScreen(t, i) {
    return this.projectToRenderScreen(t, st), this.renderToScreen(st, i), i;
  }
  projectToRenderScreen(t, i) {
    if (tt[0] = t[0], tt[1] = t[1], tt[2] = t[2], tt[3] = 1, (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.t)(tt, tt, this.viewProjectionMatrix), 0 === tt[3]) return null;
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.i)(tt, tt, 1 / Math.abs(tt[3]));
    const e = this.fullViewport;
    return "x" in i ? (i.x = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0, e[0] + e[2], .5 + .5 * tt[0]), i.y = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0, e[1] + e[3], .5 + .5 * tt[1])) : (i[0] = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0, e[0] + e[2], .5 + .5 * tt[0]), i[1] = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0, e[1] + e[3], .5 + .5 * tt[1]), i.length > 2 && (i[2] = .5 * (tt[2] + 1))), i;
  }
  unprojectFromScreen(t, i) {
    return this.unprojectFromRenderScreen(this.screenToRender(t, st), i);
  }
  unprojectFromRenderScreen(t, i) {
    if ((0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.m)(it, this.projectionMatrix, this.viewMatrix), !(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.i)(it, it)) return null;
    const e = this.fullViewport;
    return tt[0] = 2 * (t[0] - e[0]) / e[2] - 1, tt[1] = 2 * (t[1] - e[1]) / e[3] - 1, tt[2] = 2 * t[2] - 1, tt[3] = 1, (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_16__.t)(tt, tt, it), 0 === tt[3] ? null : (i[0] = tt[0] / tt[3], i[1] = tt[1] / tt[3], i[2] = tt[2] / tt[3], i);
  }
  constrainWindowSize(t, i, e, r) {
    const s = t * this.pixelRatio,
      h = i * this.pixelRatio,
      o = Math.max(s - e / 2, 0),
      n = Math.max(this.fullHeight - h - r / 2, 0),
      a = -Math.min(s - e / 2, 0),
      p = -Math.min(this.fullHeight - h - r / 2, 0),
      u = e - a - -Math.min(this.fullWidth - s - e / 2, 0),
      _ = r - p - -Math.min(h - r / 2, 0);
    return [Math.round(o), Math.round(n), Math.round(u), Math.round(_)];
  }
  computeUp(t) {
    t === _ViewingMode_js__WEBPACK_IMPORTED_MODULE_21__.ViewingMode.Global ? this._computeUpGlobal() : this._computeUpLocal();
  }
  screenToRender(t, i) {
    const e = t[0] * this.pixelRatio,
      r = this.fullHeight - t[1] * this.pixelRatio;
    return i[0] = e, i[1] = r, i;
  }
  renderToScreen(t, i) {
    const e = t[0] / this.pixelRatio,
      r = (this.fullHeight - t[1]) / this.pixelRatio;
    i[0] = e, i[1] = r;
  }
  _computeUpGlobal() {
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.f)(et, this.center, this.eye);
    const t = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.l)(this.center);
    t < 1 ? ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.s)(this._up, 0, 0, 1), this._markViewDirty(), this.notifyChange("_up")) : Math.abs((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.j)(et, this.center)) > .9999 * (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.l)(et) * t || ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.b)(this._up, et, this.center), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.b)(this._up, this._up, et), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.n)(this._up, this._up), this.notifyChange("_up"), this._markViewDirty());
  }
  _computeUpLocal() {
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.C)(et, this.eye, this.center), Math.abs(et[2]) <= .9999 && ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.i)(et, et, et[2]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.s)(this._up, -et[0], -et[1], 1 - et[2]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.n)(this._up, this._up), this.notifyChange("_up"), this._markViewDirty());
  }
  _compareAndSetView(t, i, r = "") {
    "number" == typeof t[0] && isFinite(t[0]) && "number" == typeof t[1] && isFinite(t[1]) && "number" == typeof t[2] && isFinite(t[2]) ? (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.h)(t, i) || ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.c)(i, t), this._markViewDirty(), r.length && this.notifyChange(r)) : _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.3d.webgl-engine.lib.Camera").warn("Camera vector contains invalid number, ignoring value");
  }
  _markViewDirty() {
    this._viewDirty = !0, this._frustumDirty = !0, this._viewProjectionDirty = !0;
  }
  _recomputeFrustum() {
    this._frustumDirty && ((0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_18__.fromMatrix)(this.viewMatrix, this.projectionMatrix, this._frustum), this._frustumDirty = !1);
  }
  _ensureViewClean() {
    this._viewDirty && ((0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_10__.u)(this._viewMatrix, this.eye, this.center, this.up), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.s)(this._viewForward, -this._viewMatrix[2], -this._viewMatrix[6], -this._viewMatrix[10]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.s)(this._viewUp, this._viewMatrix[1], this._viewMatrix[5], this._viewMatrix[9]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.s)(this._viewRight, this._viewMatrix[0], this._viewMatrix[4], this._viewMatrix[8]), this._viewDirty = !1, this._viewInverseTransposeMatrixDirty = !0);
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "_center", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "_up", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "_viewport", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "_padding", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "_fov", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "_nearFar", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "_pixelRatio", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "pixelRatio", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "eye", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "center", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "up", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  readOnly: !0
})], $.prototype, "nearFar", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "near", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "far", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "viewport", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  readOnly: !0
})], $.prototype, "screenViewport", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  readOnly: !0
})], $.prototype, "screenPadding", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "x", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "y", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "width", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "height", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "fullWidth", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "fullHeight", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  readOnly: !0
})], $.prototype, "_aspect", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "padding", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  readOnly: !0
})], $.prototype, "projectionMatrix", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  readOnly: !0
})], $.prototype, "inverseProjectionMatrix", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "fov", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "fovX", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], $.prototype, "fovY", null), $ = Z = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.webgl-engine.lib.Camera")], $);
const tt = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_17__.c)(),
  it = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.a)(),
  et = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__.c)(),
  rt = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__.c)(),
  st = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.createRenderScreenPointArray3)();
var ht;
!function (t) {
  t[t.TOP = 0] = "TOP", t[t.RIGHT = 1] = "RIGHT", t[t.BOTTOM = 2] = "BOTTOM", t[t.LEFT = 3] = "LEFT";
}(ht || (ht = {}));


/***/ }),

/***/ 92995:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CascadeCamera": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _Camera_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Camera.js */ 39695);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








let p = class extends _Camera_js__WEBPACK_IMPORTED_MODULE_7__.Camera {
  constructor() {
    super(...arguments), this._projectionMatrix = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.a)();
  }
  get projectionMatrix() {
    return this._projectionMatrix;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()], p.prototype, "_projectionMatrix", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({
  readOnly: !0
})], p.prototype, "projectionMatrix", null), p = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.webgl-engine.lib.CascadeCamera")], p);


/***/ }),

/***/ 82715:
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChangeSet": () => (/* binding */ s),
/* harmony export */   "MaterialChangeSet": () => (/* binding */ t),
/* harmony export */   "RenderGeometryUpdate": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ 99249);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class s {
  constructor() {
    this.adds = new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](), this.removes = new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](), this.updates = new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"]({
      allocator: e => e || new r(),
      deallocator: e => (e.renderGeometry = null, e)
    });
  }
  clear() {
    this.adds.clear(), this.removes.clear(), this.updates.clear();
  }
  prune() {
    this.adds.prune(), this.removes.prune(), this.updates.prune();
  }
  get empty() {
    return 0 === this.adds.length && 0 === this.removes.length && 0 === this.updates.length;
  }
}
class r {}
class t {
  constructor() {
    this.adds = new Array(), this.removes = new Array(), this.updates = new Array();
  }
}


/***/ }),

/***/ 48901:
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Pos2": () => (/* binding */ t),
/* harmony export */   "Pos2Tex": () => (/* binding */ A),
/* harmony export */   "Pos3": () => (/* binding */ n),
/* harmony export */   "Pos3Col": () => (/* binding */ r),
/* harmony export */   "Pos3NormalTex": () => (/* binding */ I),
/* harmony export */   "Pos3Tex": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VertexAttribute.js */ 51663);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ 33269);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



const n = [new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION, 3, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT, 0, 12)],
  w = [new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION, 3, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT, 0, 20), new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.UV0, 2, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT, 12, 20)],
  I = [new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION, 3, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT, 0, 32), new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.NORMAL, 3, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT, 12, 32), new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.UV0, 2, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT, 24, 32)],
  r = [new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION, 3, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT, 0, 16), new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.COLOR, 4, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_BYTE, 12, 16)],
  t = [new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION, 2, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT, 0, 8)],
  A = [new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION, 2, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT, 0, 16), new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.UV0, 2, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT, 8, 16)];


/***/ }),

/***/ 56704:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DirtyEventNames": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e = ["layerObjectAdded", "layerObjectRemoved", "layerObjectsAdded", "layerObjectsRemoved", "transformationChanged", "shaderTransformationChanged", "visibilityChanged", "occlusionChanged", "highlightChanged", "geometryAdded", "geometryRemoved", "attributesChanged"];


/***/ }),

/***/ 18842:
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GLMaterialRepository": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Logger.js */ 28191);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ 53661);
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/NestedMap.js */ 22043);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Util.js */ 12042);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




class s {
  constructor(e, t, i, s) {
    this._textureRepository = e, this._techniqueRepository = t, this.materialChanged = i, this.requestRender = s, this._id2glMaterialRef = new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_2__.NestedMap();
  }
  dispose() {
    this._textureRepository.destroy();
  }
  acquire(e, t, r) {
    if (this._ownMaterial(e), !e.produces(t, r)) return null;
    let i = this._id2glMaterialRef.get(r, e.id);
    if (null == i) {
      const t = e.createGLMaterial({
        material: e,
        techniqueRep: this._techniqueRepository,
        textureRepository: this._textureRepository,
        output: r
      });
      i = new o(t), this._id2glMaterialRef.set(r, e.id, i);
    }
    return i.ref(), i.glMaterial;
  }
  release(e, r) {
    const i = this._id2glMaterialRef.get(r, e.id);
    null != i && (i.unref(), i.referenced || ((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(i.glMaterial), this._id2glMaterialRef.delete(r, e.id)));
  }
  _ownMaterial(t) {
    t.repository && t.repository !== this && _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.webgl-engine.lib.GLMaterialRepository").error("Material is already owned by a different material repository"), t.repository = this;
  }
}
class o {
  constructor(e) {
    this.glMaterial = e, this._refCnt = 0;
  }
  ref() {
    ++this._refCnt;
  }
  unref() {
    --this._refCnt, (0,_Util_js__WEBPACK_IMPORTED_MODULE_3__.assert)(this._refCnt >= 0);
  }
  get referenced() {
    return this._refCnt > 0;
  }
}


/***/ }),

/***/ 12080:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GLMaterials": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basicInterfaces.js */ 2754);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class t {
  constructor(s, t) {
    this._material = s, this._repository = t, this._map = new Map();
  }
  dispose() {
    this._map.forEach((s, t) => {
      null != s && this._repository.release(this._material, t);
    });
  }
  load(t, r, e) {
    if (!this._material.produces(r, e)) return null;
    this._map.has(e) || this._map.set(e, this._repository.acquire(this._material, r, e));
    const i = this._map.get(e);
    if (null != i) {
      if (i.ensureResources(t) === _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.ResourceState.LOADED) return i;
      this._repository.requestRender();
    }
    return null;
  }
}


/***/ }),

/***/ 25426:
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cgToGIS": () => (/* binding */ wt),
/* harmony export */   "createBoxGeometry": () => (/* binding */ E),
/* harmony export */   "createConeGeometry": () => (/* binding */ lt),
/* harmony export */   "createCylinderGeometry": () => (/* binding */ ut),
/* harmony export */   "createDiamondGeometry": () => (/* binding */ q),
/* harmony export */   "createExtrudedTriangle": () => (/* binding */ pt),
/* harmony export */   "createPathExtrusionGeometry": () => (/* binding */ at),
/* harmony export */   "createPointGeometry": () => (/* binding */ ot),
/* harmony export */   "createPolySphereData": () => (/* binding */ st),
/* harmony export */   "createPolySphereGeometry": () => (/* binding */ et),
/* harmony export */   "createPolylineGeometry": () => (/* binding */ ft),
/* harmony export */   "createSphereGeometry": () => (/* binding */ nt),
/* harmony export */   "createSquareGeometry": () => (/* binding */ ht),
/* harmony export */   "createTetrahedronGeometry": () => (/* binding */ tt),
/* harmony export */   "createTubeGeometry": () => (/* binding */ ct),
/* harmony export */   "makeOrthoBasisDirUpFallback": () => (/* binding */ Ot),
/* harmony export */   "transformInPlace": () => (/* binding */ it)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f32.js */ 49533);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ 10870);
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ 21214);
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ 8064);
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ 45903);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ 32684);
/* harmony import */ var _Attribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Attribute.js */ 49197);
/* harmony import */ var _BufferVectorMath_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BufferVectorMath.js */ 8382);
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ContentObjectType.js */ 25207);
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Geometry.js */ 4674);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Util.js */ 12042);
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














const b = _BufferVectorMath_js__WEBPACK_IMPORTED_MODULE_9__.Vec3Compact,
  j = [[-.5, -.5, .5], [.5, -.5, .5], [.5, .5, .5], [-.5, .5, .5], [-.5, -.5, -.5], [.5, -.5, -.5], [.5, .5, -.5], [-.5, .5, -.5]],
  d = [0, 0, 1, -1, 0, 0, 1, 0, 0, 0, -1, 0, 0, 1, 0, 0, 0, -1],
  U = [0, 0, 1, 0, 1, 1, 0, 1],
  V = [0, 1, 2, 2, 3, 0, 4, 0, 3, 3, 7, 4, 1, 5, 6, 6, 2, 1, 1, 0, 4, 4, 5, 1, 3, 2, 6, 6, 7, 3, 5, 4, 7, 7, 6, 5],
  v = new Array(36);
for (let At = 0; At < 6; At++) for (let t = 0; t < 6; t++) v[6 * At + t] = At;
const x = new Array(36);
for (let At = 0; At < 6; At++) x[6 * At] = 0, x[6 * At + 1] = 1, x[6 * At + 2] = 2, x[6 * At + 3] = 2, x[6 * At + 4] = 3, x[6 * At + 5] = 0;
function E(t, n) {
  Array.isArray(n) || (n = [n, n, n]);
  const e = new Array(24);
  for (let s = 0; s < 8; s++) e[3 * s] = j[s][0] * n[0], e[3 * s + 1] = j[s][1] * n[1], e[3 * s + 2] = j[s][2] * n[2];
  return new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(e, V, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(d, v, 3)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.UV0, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(U, x, 2)]]);
}
const F = [[-.5, 0, -.5], [.5, 0, -.5], [.5, 0, .5], [-.5, 0, .5], [0, -.5, 0], [0, .5, 0]],
  G = [0, 1, -1, 1, 1, 0, 0, 1, 1, -1, 1, 0, 0, -1, -1, 1, -1, 0, 0, -1, 1, -1, -1, 0],
  C = [5, 1, 0, 5, 2, 1, 5, 3, 2, 5, 0, 3, 4, 0, 1, 4, 1, 2, 4, 2, 3, 4, 3, 0],
  k = [0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4, 5, 5, 5, 6, 6, 6, 7, 7, 7];
function q(t, n) {
  Array.isArray(n) || (n = [n, n, n]);
  const e = new Array(18);
  for (let s = 0; s < 6; s++) e[3 * s] = F[s][0] * n[0], e[3 * s + 1] = F[s][1] * n[1], e[3 * s + 2] = F[s][2] * n[2];
  return new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(e, C, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(G, k, 3)]]);
}
const B = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(-.5, 0, -.5),
  z = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(.5, 0, -.5),
  D = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, 0, .5),
  X = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, .5, 0),
  Z = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
  H = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
  J = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
  K = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
  Q = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)();
(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(Z, B, X), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(H, B, z), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(J, Z, H), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(J, J), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(Z, z, X), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(H, z, D), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(K, Z, H), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(K, K), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(Z, D, X), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(H, D, B), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(Q, Z, H), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(Q, Q);
const W = [B, z, D, X],
  Y = [0, -1, 0, J[0], J[1], J[2], K[0], K[1], K[2], Q[0], Q[1], Q[2]],
  $ = [0, 1, 2, 3, 1, 0, 3, 2, 1, 3, 0, 2],
  _ = [0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3];
function tt(t, n) {
  Array.isArray(n) || (n = [n, n, n]);
  const e = new Array(12);
  for (let s = 0; s < 4; s++) e[3 * s] = W[s][0] * n[0], e[3 * s + 1] = W[s][1] * n[1], e[3 * s + 2] = W[s][2] * n[2];
  return new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(e, $, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(Y, _, 3)]]);
}
function nt(t, n, e, s, o = {
  uv: !0
}) {
  const r = -Math.PI,
    h = 2 * Math.PI,
    l = -Math.PI / 2,
    u = Math.PI,
    c = Math.max(3, Math.floor(e)),
    a = Math.max(2, Math.floor(s)),
    f = (c + 1) * (a + 1),
    p = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(3 * f),
    i = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(3 * f),
    g = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(2 * f),
    m = [];
  let M = 0;
  for (let w = 0; w <= a; w++) {
    const t = [],
      e = w / a,
      s = l + e * u,
      o = Math.cos(s);
    for (let l = 0; l <= c; l++) {
      const u = l / c,
        a = r + u * h,
        f = Math.cos(a) * o,
        w = Math.sin(s),
        O = -Math.sin(a) * o;
      p[3 * M] = f * n, p[3 * M + 1] = w * n, p[3 * M + 2] = O * n, i[3 * M] = f, i[3 * M + 1] = w, i[3 * M + 2] = O, g[2 * M] = u, g[2 * M + 1] = e, t.push(M), ++M;
    }
    m.push(t);
  }
  const A = new Array();
  for (let w = 0; w < a; w++) for (let t = 0; t < c; t++) {
    const n = m[w][t],
      e = m[w][t + 1],
      s = m[w + 1][t + 1],
      o = m[w + 1][t];
    0 === w ? (A.push(n), A.push(s), A.push(o)) : w === a - 1 ? (A.push(n), A.push(e), A.push(s)) : (A.push(n), A.push(e), A.push(s), A.push(s), A.push(o), A.push(n));
  }
  const I = [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(p, A, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(i, A, 3, !0)]];
  return o.uv && I.push([_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.UV0, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(g, A, 2, !0)]), o.offset && (I[0][0] = _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.OFFSET, I.push([_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(Float64Array.from(o.offset), (0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_5__.getZeroIndexArray)(A.length), 3, !0)])), new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, I);
}
function et(t, n, e, s) {
  const o = st(n, e, s);
  return new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, o);
}
function st(t, n, e) {
  const s = t;
  let o, r;
  if (e) o = [0, -1, 0, 1, 0, 0, 0, 0, 1, -1, 0, 0, 0, 0, -1, 0, 1, 0], r = [0, 1, 2, 0, 2, 3, 0, 3, 4, 0, 4, 1, 1, 5, 2, 2, 5, 3, 3, 5, 4, 4, 5, 1];else {
    const t = s * (1 + Math.sqrt(5)) / 2;
    o = [-s, t, 0, s, t, 0, -s, -t, 0, s, -t, 0, 0, -s, t, 0, s, t, 0, -s, -t, 0, s, -t, t, 0, -s, t, 0, s, -t, 0, -s, -t, 0, s], r = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];
  }
  for (let c = 0; c < o.length; c += 3) b.scale(o, c, t / b.length(o, c));
  let h = {};
  function l(n, e) {
    n > e && ([n, e] = [e, n]);
    const s = n.toString() + "." + e.toString();
    if (h[s]) return h[s];
    let r = o.length;
    return o.length += 3, b.add(o, 3 * n, o, 3 * e, o, r), b.scale(o, r, t / b.length(o, r)), r /= 3, h[s] = r, r;
  }
  for (let c = 0; c < n; c++) {
    const t = r.length,
      n = new Array(4 * t);
    for (let e = 0; e < t; e += 3) {
      const t = r[e],
        s = r[e + 1],
        o = r[e + 2],
        h = l(t, s),
        u = l(s, o),
        c = l(o, t),
        a = 4 * e;
      n[a] = t, n[a + 1] = h, n[a + 2] = c, n[a + 3] = s, n[a + 4] = u, n[a + 5] = h, n[a + 6] = o, n[a + 7] = c, n[a + 8] = u, n[a + 9] = h, n[a + 10] = u, n[a + 11] = c;
    }
    r = n, h = {};
  }
  const u = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.floatArrayFrom)(o);
  for (let c = 0; c < u.length; c += 3) b.normalize(u, c);
  return [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute((0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.floatArrayFrom)(o), r, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(u, r, 3, !0)]];
}
function ot(t, n, e, s, o, r, h, l, u = null) {
  const c = e ? [e[0], e[1], e[2]] : [0, 0, 0],
    a = n ? [n[0], n[1], n[2]] : [0, 0, 1];
  h = h || [0, 0];
  const f = s ? [255 * s[0], 255 * s[1], 255 * s[2], s.length > 3 ? 255 * s[3] : 255] : [255, 255, 255, 255],
    p = null != o && 2 === o.length ? o : [1, 1],
    i = (0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_5__.getZeroIndexArray)(1),
    w = [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(c, i, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(a, i, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.UV0, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(h, i, h.length)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.COLOR, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(f, i, 4, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.SIZE, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(p, i, 2)]];
  if (null != r) {
    const t = [r[0], r[1], r[2], r[3]];
    w.push([_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.AUXPOS1, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(t, i, 4)]);
  }
  if (null != l) {
    const t = [l[0], l[1], l[2], l[3]];
    w.push([_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.FEATUREATTRIBUTE, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(t, i, 4)]);
  }
  return new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, w, null, _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_10__.ContentObjectType.Point, u);
}
const rt = [[-1, -1, 0], [1, -1, 0], [1, 1, 0], [-1, 1, 0]];
function ht(t, n = rt) {
  const e = new Array(12);
  for (let c = 0; c < 4; c++) for (let t = 0; t < 3; t++) e[3 * c + t] = n[c][t];
  const s = [0, 1, 2, 2, 3, 0],
    o = [0, 0, 1],
    r = [0, 0, 0, 0, 0, 0],
    h = [0, 0, 1, 0, 1, 1, 0, 1],
    l = [255, 255, 255, 255],
    u = [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(e, s, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(o, r, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.UV0, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(h, s, 2, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.COLOR, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(l, r, 4, !0)]];
  return new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, u);
}
function lt(t, n, e, s, o, r = !0, h = !0) {
  let l = 0;
  const u = e,
    a = n;
  let f = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, l, 0),
    p = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, l + a, 0),
    i = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, -1, 0),
    g = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, 1, 0);
  o && (l = a, p = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, 0, 0), f = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, l, 0), i = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, 1, 0), g = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, -1, 0));
  const O = [p, f],
    m = [i, g],
    M = s + 2,
    A = Math.sqrt(a * a + u * u);
  if (o) for (let w = s - 1; w >= 0; w--) {
    const t = w * (2 * Math.PI / s),
      n = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(Math.cos(t) * u, l, Math.sin(t) * u);
    O.push(n);
    const e = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(a * Math.cos(t) / A, -u / A, a * Math.sin(t) / A);
    m.push(e);
  } else for (let w = 0; w < s; w++) {
    const t = w * (2 * Math.PI / s),
      n = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(Math.cos(t) * u, l, Math.sin(t) * u);
    O.push(n);
    const e = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(a * Math.cos(t) / A, u / A, a * Math.sin(t) / A);
    m.push(e);
  }
  const I = new Array(),
    y = new Array();
  if (r) {
    for (let t = 3; t < O.length; t++) I.push(1), I.push(t - 1), I.push(t), y.push(0), y.push(0), y.push(0);
    I.push(O.length - 1), I.push(2), I.push(1), y.push(0), y.push(0), y.push(0);
  }
  if (h) {
    for (let t = 3; t < O.length; t++) I.push(t), I.push(t - 1), I.push(0), y.push(t), y.push(t - 1), y.push(1);
    I.push(0), I.push(2), I.push(O.length - 1), y.push(1), y.push(2), y.push(m.length - 1);
  }
  const N = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(3 * M);
  for (let c = 0; c < M; c++) N[3 * c] = O[c][0], N[3 * c + 1] = O[c][1], N[3 * c + 2] = O[c][2];
  const T = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(3 * M);
  for (let c = 0; c < M; c++) T[3 * c] = m[c][0], T[3 * c + 1] = m[c][1], T[3 * c + 2] = m[c][2];
  const R = [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(N, I, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(T, y, 3, !0)]];
  return new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, R);
}
function ut(t, l, u, p, i, g, O) {
  const m = i ? (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.a)(i) : (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(1, 0, 0),
    M = g ? (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.a)(g) : (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, 0, 0);
  O ??= !0;
  const A = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)();
  (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(A, m);
  const I = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)();
  (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(I, A, Math.abs(l));
  const y = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)();
  (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(y, I, -.5), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(y, y, M);
  const N = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, 1, 0);
  Math.abs(1 - (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(A, N)) < .2 && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(N, 0, 0, 1);
  const T = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)();
  (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(T, A, N), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(T, T), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(N, T, A);
  const R = 2 * p + (O ? 2 : 0),
    b = p + (O ? 2 : 0),
    j = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(3 * R),
    d = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(3 * b),
    U = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(2 * R),
    V = new Array(3 * p * (O ? 4 : 2)),
    v = new Array(3 * p * (O ? 4 : 2));
  O && (j[3 * (R - 2)] = y[0], j[3 * (R - 2) + 1] = y[1], j[3 * (R - 2) + 2] = y[2], U[2 * (R - 2)] = 0, U[2 * (R - 2) + 1] = 0, j[3 * (R - 1)] = j[3 * (R - 2)] + I[0], j[3 * (R - 1) + 1] = j[3 * (R - 2) + 1] + I[1], j[3 * (R - 1) + 2] = j[3 * (R - 2) + 2] + I[2], U[2 * (R - 1)] = 1, U[2 * (R - 1) + 1] = 1, d[3 * (b - 2)] = -A[0], d[3 * (b - 2) + 1] = -A[1], d[3 * (b - 2) + 2] = -A[2], d[3 * (b - 1)] = A[0], d[3 * (b - 1) + 1] = A[1], d[3 * (b - 1) + 2] = A[2]);
  const x = (t, n, e) => {
    V[t] = n, v[t] = e;
  };
  let E = 0;
  const F = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    G = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)();
  for (let n = 0; n < p; n++) {
    const t = n * (2 * Math.PI / p);
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(F, N, Math.sin(t)), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(G, T, Math.cos(t)), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(F, F, G), d[3 * n] = F[0], d[3 * n + 1] = F[1], d[3 * n + 2] = F[2], (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(F, F, u), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(F, F, y), j[3 * n] = F[0], j[3 * n + 1] = F[1], j[3 * n + 2] = F[2], U[2 * n] = n / p, U[2 * n + 1] = 0, j[3 * (n + p)] = j[3 * n] + I[0], j[3 * (n + p) + 1] = j[3 * n + 1] + I[1], j[3 * (n + p) + 2] = j[3 * n + 2] + I[2], U[2 * (n + p)] = n / p, U[2 * n + 1] = 1;
    const e = (n + 1) % p;
    x(E++, n, n), x(E++, n + p, n), x(E++, e, e), x(E++, e, e), x(E++, n + p, n), x(E++, e + p, e);
  }
  if (O) {
    for (let t = 0; t < p; t++) {
      const n = (t + 1) % p;
      x(E++, R - 2, b - 2), x(E++, t, b - 2), x(E++, n, b - 2);
    }
    for (let t = 0; t < p; t++) {
      const n = (t + 1) % p;
      x(E++, t + p, b - 1), x(E++, R - 1, b - 1), x(E++, n + p, b - 1);
    }
  }
  const C = [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(j, V, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(d, v, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.UV0, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(U, V, 2, !0)]];
  return new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, C);
}
function ct(t, n, e, s, o, r) {
  s = s || 10, o = null == o || o, (0,_Util_js__WEBPACK_IMPORTED_MODULE_12__.assert)(n.length > 1);
  const h = [[0, 0, 0]],
    l = [],
    u = [];
  for (let c = 0; c < s; c++) {
    l.push([0, -c - 1, -(c + 1) % s - 1]);
    const t = c / s * 2 * Math.PI;
    u.push([Math.cos(t) * e, Math.sin(t) * e]);
  }
  return at(t, u, n, h, l, o, r);
}
function at(r, u, f, i, g, O, m = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.f)(0, 0, 0)) {
  const N = u.length,
    T = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(f.length * N * 3 + (6 * i.length || 0)),
    R = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(f.length * N * 3 + (i ? 6 : 0)),
    b = new Array(),
    j = new Array();
  let d = 0,
    U = 0;
  const V = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    v = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    x = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    E = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    F = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    G = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    C = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    k = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
    q = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    B = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    z = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    D = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    X = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    Z = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.create)();
  (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(q, 0, 1, 0), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(v, f[1], f[0]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(v, v), O ? ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(k, f[0], m), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(x, k)) : (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(x, 0, 0, 1), Ot(v, x, q, q, F, x, mt), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.c)(E, x), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.c)(D, F);
  for (let t = 0; t < i.length; t++) (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(G, F, i[t][0]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(k, x, i[t][2]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(G, G, k), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(G, G, f[0]), T[d++] = G[0], T[d++] = G[1], T[d++] = G[2];
  R[U++] = -v[0], R[U++] = -v[1], R[U++] = -v[2];
  for (let t = 0; t < g.length; t++) b.push(g[t][0] > 0 ? g[t][0] : -g[t][0] - 1 + i.length), b.push(g[t][1] > 0 ? g[t][1] : -g[t][1] - 1 + i.length), b.push(g[t][2] > 0 ? g[t][2] : -g[t][2] - 1 + i.length), j.push(0), j.push(0), j.push(0);
  let H = i.length;
  const J = i.length - 1;
  for (let h = 0; h < f.length; h++) {
    let r = !1;
    if (h > 0) {
      (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.c)(V, v), h < f.length - 1 ? ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(v, f[h + 1], f[h]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(v, v)) : r = !0, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(B, V, v), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(B, B), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(z, f[h - 1], E), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.fromPositionAndNormal)(f[h], B, Z);
      (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.intersectRay)(Z, (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_7__.wrap)(z, V), k) ? ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(k, k, f[h]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(x, k), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(F, B, x), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(F, F)) : Ot(B, E, D, q, F, x, mt), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.c)(E, x), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.c)(D, F);
    }
    O && ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(k, f[h], m), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(X, k));
    for (let t = 0; t < N; t++) if ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(G, F, u[t][0]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(k, x, u[t][1]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(G, G, k), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(C, G), R[U++] = C[0], R[U++] = C[1], R[U++] = C[2], (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(G, G, f[h]), T[d++] = G[0], T[d++] = G[1], T[d++] = G[2], !r) {
      const n = (t + 1) % N;
      b.push(H + t), b.push(H + N + t), b.push(H + n), b.push(H + n), b.push(H + N + t), b.push(H + N + n);
      for (let t = 0; t < 6; t++) {
        const n = b.length - 6;
        j.push(b[n + t] - J);
      }
    }
    H += N;
  }
  const K = f[f.length - 1];
  for (let t = 0; t < i.length; t++) (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(G, F, i[t][0]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(k, x, i[t][1]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(G, G, k), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(G, G, K), T[d++] = G[0], T[d++] = G[1], T[d++] = G[2];
  const Q = U / 3;
  R[U++] = v[0], R[U++] = v[1], R[U++] = v[2];
  const W = H - N;
  for (let t = 0; t < g.length; t++) b.push(g[t][0] >= 0 ? H + g[t][0] : -g[t][0] - 1 + W), b.push(g[t][2] >= 0 ? H + g[t][2] : -g[t][2] - 1 + W), b.push(g[t][1] >= 0 ? H + g[t][1] : -g[t][1] - 1 + W), j.push(Q), j.push(Q), j.push(Q);
  const Y = [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(T, b, 3, !0)], [_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(R, j, 3, !0)]];
  return new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(r, Y);
}
function ft(t, n, e, s) {
  (0,_Util_js__WEBPACK_IMPORTED_MODULE_12__.assert)(n.length > 1, "createPolylineGeometry(): polyline needs at least 2 points"), (0,_Util_js__WEBPACK_IMPORTED_MODULE_12__.assert)(3 === n[0].length, "createPolylineGeometry(): malformed vertex"), (0,_Util_js__WEBPACK_IMPORTED_MODULE_12__.assert)(null == e || e.length === n.length, "createPolylineGeometry: need same number of points and normals"), (0,_Util_js__WEBPACK_IMPORTED_MODULE_12__.assert)(null == e || 3 === e[0].length, "createPolylineGeometry(): malformed normal");
  const o = (0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__.newDoubleArray)(3 * n.length),
    r = new Array(2 * (n.length - 1));
  let h = 0,
    l = 0;
  for (let c = 0; c < n.length; c++) {
    for (let t = 0; t < 3; t++) o[h++] = n[c][t];
    c > 0 && (r[l++] = c - 1, r[l++] = c);
  }
  const u = [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(o, r, 3, !0)]];
  if (e) {
    const t = (0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_4__.newFloatArray)(3 * e.length);
    let s = 0;
    for (let o = 0; o < n.length; o++) for (let n = 0; n < 3; n++) t[s++] = e[o][n];
    u.push([_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(t, r, 3, !0)]);
  }
  return s && u.push([_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.COLOR, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(s, (0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_5__.getContinuousIndexArray)(s.length / 4), 4)]), new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, u, null, _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_10__.ContentObjectType.Line);
}
function pt(t, n, e, s, o, r = 0) {
  const h = new Array(18),
    l = [[-e, r, o / 2], [s, r, o / 2], [0, n + r, o / 2], [-e, r, -o / 2], [s, r, -o / 2], [0, n + r, -o / 2]],
    u = [0, 1, 2, 3, 0, 2, 2, 5, 3, 1, 4, 5, 5, 2, 1, 1, 0, 3, 3, 4, 1, 4, 3, 5];
  for (let c = 0; c < 6; c++) h[3 * c] = l[c][0], h[3 * c + 1] = l[c][1], h[3 * c + 2] = l[c][2];
  return new _Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t, [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(h, u, 3, !0)]]);
}
function it(t, n) {
  const e = t.getMutableAttribute(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION).data;
  for (let s = 0; s < e.length; s += 3) {
    const t = e[s],
      o = e[s + 1],
      r = e[s + 2];
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(Mt, t, o, r), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.e)(Mt, Mt, n), e[s] = Mt[0], e[s + 1] = Mt[1], e[s + 2] = Mt[2];
  }
}
function wt(t, n = t) {
  const e = t.attributes,
    s = e.get(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION).data,
    o = e.get(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL).data;
  if (o) {
    const t = n.getMutableAttribute(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.NORMAL).data;
    for (let n = 0; n < o.length; n += 3) {
      const e = o[n + 1];
      t[n + 1] = -o[n + 2], t[n + 2] = e;
    }
  }
  if (s) {
    const t = n.getMutableAttribute(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION).data;
    for (let n = 0; n < s.length; n += 3) {
      const e = s[n + 1];
      t[n + 1] = -s[n + 2], t[n + 2] = e;
    }
  }
}
function gt(t, s, o, h, l) {
  return !(Math.abs((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(s, t)) > l) && ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(o, t, s), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(o, o), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(h, o, t), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(h, h), !0);
}
function Ot(t, n, e, s, o, r, h) {
  return gt(t, n, o, r, h) || gt(t, e, o, r, h) || gt(t, s, o, r, h);
}
const mt = .99619469809,
  Mt = (0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ 12338:
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GridLocalOriginFactory": () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/uid.js */ 29962);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ 99128);
/* harmony import */ var _Attribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Attribute.js */ 49197);
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ContentObjectType.js */ 25207);
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Geometry.js */ 4674);
/* harmony import */ var _LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LocalOriginFactory.js */ 23180);
/* harmony import */ var _Object3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Object3D.js */ 80576);
/* harmony import */ var _testUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./testUtils.js */ 76524);
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./VertexAttribute.js */ 51663);
/* harmony import */ var _WebGLLayer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./WebGLLayer.js */ 9014);
/* harmony import */ var _materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../materials/RibbonLineMaterial.js */ 75287);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














class _ {
  constructor(i) {
    this._originSR = i, this._rootOriginId = "root/" + (0,_core_uid_js__WEBPACK_IMPORTED_MODULE_0__.generateUID)(), this._origins = new Map(), this._objects = new Map(), this._gridSize = 5e5;
  }
  getOrigin(t) {
    const r = this._origins.get(this._rootOriginId);
    if (null == r) {
      const i = _testUtils_js__WEBPACK_IMPORTED_MODULE_10__.gridLocalOriginFactory.rootOrigin;
      if (null != i) return this._origins.set(this._rootOriginId, (0,_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(i[0], i[1], i[2], this._rootOriginId)), this.getOrigin(t);
      const r = (0,_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(t[0] + Math.random() - .5, t[1] + Math.random() - .5, t[2] + Math.random() - .5, this._rootOriginId);
      return this._origins.set(this._rootOriginId, r), r;
    }
    const o = this._gridSize,
      s = Math.round(t[0] / o),
      e = Math.round(t[1] / o),
      n = Math.round(t[2] / o),
      a = `${s}/${e}/${n}`;
    let m = this._origins.get(a);
    const g = .5 * o;
    if ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(p, t, r.vec3), p[0] = Math.abs(p[0]), p[1] = Math.abs(p[1]), p[2] = Math.abs(p[2]), p[0] < g && p[1] < g && p[2] < g) {
      if (m) {
        const r = Math.max(...p);
        (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(p, t, m.vec3), p[0] = Math.abs(p[0]), p[1] = Math.abs(p[1]), p[2] = Math.abs(p[2]);
        if (Math.max(...p) < r) return m;
      }
      return r;
    }
    return m || (m = (0,_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(s * o, e * o, n * o, a), this._origins.set(a, m)), m;
  }
  _drawOriginBox(t, i = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(1, 1, 0, 1)) {
    const r = window.view,
      h = r._stage,
      c = i.toString();
    if (!this._objects.has(c)) {
      this._material = new _materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_13__.RibbonLineMaterial({
        width: 2,
        color: i
      }), h.add(this._material);
      const t = new _WebGLLayer_js__WEBPACK_IMPORTED_MODULE_12__.WebGLLayer(h, {
          pickable: !1
        }),
        r = new _Object3D_js__WEBPACK_IMPORTED_MODULE_9__.Object3D({
          castShadow: !1
        });
      h.add(r), t.add(r), this._objects.set(c, r);
    }
    const _ = this._objects.get(c),
      p = [0, 1, 5, 4, 0, 2, 1, 7, 6, 2, 0, 1, 3, 7, 5, 4, 6, 2, 0],
      j = p.length,
      u = new Array(3 * j),
      l = new Array(),
      b = .5 * this._gridSize;
    for (let o = 0; o < j; o++) u[3 * o] = t[0] + (1 & p[o] ? b : -b), u[3 * o + 1] = t[1] + (2 & p[o] ? b : -b), u[3 * o + 2] = t[2] + (4 & p[o] ? b : -b), o > 0 && l.push(o - 1, o);
    (0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__.projectBuffer)(u, this._originSR, 0, u, r.renderSpatialReference, 0, j);
    const M = new _Geometry_js__WEBPACK_IMPORTED_MODULE_7__.Geometry(this._material, [[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.POSITION, new _Attribute_js__WEBPACK_IMPORTED_MODULE_5__.Attribute(u, l, 3, !0)]], null, _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_6__.ContentObjectType.Line);
    h.add(M), _.addGeometry(M);
  }
  get test() {
    const t = this;
    return {
      set gridSize(i) {
        t._gridSize = i;
      }
    };
  }
}
const p = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();


/***/ }),

/***/ 13414:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultTolerance": () => (/* binding */ w),
/* harmony export */   "newIntersector": () => (/* binding */ b),
/* harmony export */   "newIntersectorResult": () => (/* binding */ M)
/* harmony export */ });
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ 71943);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ 32684);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../ViewingMode.js */ 56108);
/* harmony import */ var _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./IntersectorInterfaces.js */ 51813);
/* harmony import */ var _IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./IntersectorTarget.js */ 19802);
/* harmony import */ var _intersectorUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./intersectorUtils.js */ 35049);
/* harmony import */ var _verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./verticalOffsetUtils.js */ 62442);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/












const w = 1e-5;
class T {
  constructor(t) {
    this.options = new _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.IntersectorOptions(), this._results = new A(), this.transform = new _verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__.IntersectorTransform(), this.tolerance = w, this.verticalOffset = null, this._ray = (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.create)(), this._rayEnd = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(), this._rayBeginTransformed = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(), this._rayEndTransformed = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(), this.viewingMode = t ?? _ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__.ViewingMode.Global;
  }
  get results() {
    return this._results;
  }
  get ray() {
    return this._ray;
  }
  get rayBegin() {
    return this._ray.origin;
  }
  get rayEnd() {
    return this._rayEnd;
  }
  reset(t, r, s) {
    this.resetWithRay((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.fromPoints)(t, r, this._ray), s);
  }
  resetWithRay(t, r) {
    this.camera = r, t !== this._ray && (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.copy)(t, this._ray), 0 !== this.options.verticalOffset ? this.viewingMode === _ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__.ViewingMode.Local ? this._ray.origin[2] -= this.options.verticalOffset : this.verticalOffset = this.options.verticalOffset : this.verticalOffset = null, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(this._rayEnd, this._ray.origin, this._ray.direction), this._results.init(this._ray);
  }
  intersect(t = null, r, s, i, e) {
    this.point = r, this.filterPredicate = i, this.tolerance = s ?? w;
    const n = (0,_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__.getVerticalOffsetObject3D)(this.verticalOffset);
    if (t && t.length > 0) {
      const r = e ? t => {
        e(t) && this.intersectObject(t);
      } : t => {
        this.intersectObject(t);
      };
      for (const s of t) {
        const t = s.getSpatialQueryAccelerator?.();
        null != t ? (null != n ? t.forEachAlongRayWithVerticalOffset(this._ray.origin, this._ray.direction, r, n) : t.forEachAlongRay(this._ray.origin, this._ray.direction, r), this.options.selectionMode && this.options.hud && t.forEachDegenerateObject(r)) : s.objects.forAll(t => r(t));
      }
    }
    this.sortResults();
  }
  intersectObject(t) {
    const r = t.geometries;
    if (!r) return;
    const i = t.effectiveTransformation,
      n = (0,_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__.getVerticalOffsetObject3D)(this.verticalOffset);
    for (const a of r) {
      if (!a.visible) continue;
      const {
        material: r,
        id: o
      } = a;
      this.transform.setAndInvalidateLazyTransforms(i, a.transformation), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(this._rayBeginTransformed, this.rayBegin, this.transform.inverse), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(this._rayEndTransformed, this.rayEnd, this.transform.inverse);
      const h = this.transform.transform;
      null != n && (n.objectTransform = this.transform), r.intersect(a, this.transform.transform, this, this._rayBeginTransformed, this._rayEndTransformed, (r, i, e, n, a, d) => {
        if (r >= 0) {
          if (null != this.filterPredicate && !this.filterPredicate(this._ray.origin, this._rayEnd, r)) return;
          const l = n ? this._results.hud : this._results,
            c = n ? n => {
              const h = new _IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_9__.HudTarget(t, o, e, d);
              n.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.IntersectorType.HUD, h, r, i, _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.I, a);
            } : s => s.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.IntersectorType.OBJECT, {
              object: t,
              geometryId: o,
              triangleNr: e
            }, r, i, h, a);
          if ((null == l.min.drapedLayerOrder || a >= l.min.drapedLayerOrder) && (null == l.min.dist || r < l.min.dist) && c(l.min), this.options.store !== _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.StoreResults.MIN && (null == l.max.drapedLayerOrder || a < l.max.drapedLayerOrder) && (null == l.max.dist || r > l.max.dist) && c(l.max), this.options.store === _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.StoreResults.ALL) if (n) {
            const t = new I(this._ray);
            c(t), this._results.hud.all.push(t);
          } else {
            const t = new x(this._ray);
            c(t), this._results.all.push(t);
          }
        }
      });
    }
  }
  sortResults(t = this._results.all) {
    t.sort((t, r) => t.dist !== r.dist ? (t.dist ?? 0) - (r.dist ?? 0) : t.drapedLayerOrder !== r.drapedLayerOrder ? (t.drapedLayerOrder ?? Number.MAX_VALUE) - (r.drapedLayerOrder ?? Number.MAX_VALUE) : (r.drapedLayerGraphicOrder ?? Number.MIN_VALUE) - (t.drapedLayerGraphicOrder ?? Number.MIN_VALUE));
  }
}
function b(t) {
  return new T(t);
}
class A {
  constructor() {
    this.min = new x((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.create)()), this.max = new x((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.create)()), this.hud = {
      min: new I((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.create)()),
      max: new I((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.create)()),
      all: new Array()
    }, this.ground = new x((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.create)()), this.all = [];
  }
  init(t) {
    this.min.init(t), this.max.init(t), this.ground.init(t), this.all.length = 0, this.hud.min.init(t), this.hud.max.init(t), this.hud.all.length = 0;
  }
}
class x {
  get ray() {
    return this._ray;
  }
  get distanceInRenderSpace() {
    return null != this.dist ? ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(N, this.ray.direction, this.dist), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.l)(N)) : null;
  }
  getIntersectionPoint(t) {
    return !!(0,_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_10__.isValidIntersectorResult)(this) && ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(N, this.ray.direction, this.dist), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(t, this.ray.origin, N), !0);
  }
  getTransformedNormal(t) {
    return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(B, this.normal), B[3] = 0, (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__.t)(B, B, this.transformation), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(t, B), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.n)(t, t);
  }
  constructor(t) {
    this.intersector = _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.IntersectorType.OBJECT, this.normal = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(), this.transformation = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(), this._ray = (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.create)(), this.init(t);
  }
  init(t) {
    this.dist = null, this.target = null, this.drapedLayerOrder = null, this.drapedLayerGraphicOrder = null, this.intersector = _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.IntersectorType.OBJECT, (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.copy)(t, this._ray);
  }
  set(r, i, e, n, a, h, d) {
    this.intersector = r, this.dist = e, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.normal, n ?? _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.d), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.transformation, a ?? _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.I), this.target = i, this.drapedLayerOrder = h, this.drapedLayerGraphicOrder = d;
  }
  copy(r) {
    (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.copy)(r.ray, this._ray), this.intersector = r.intersector, this.dist = r.dist, this.target = r.target, this.drapedLayerOrder = r.drapedLayerOrder, this.drapedLayerGraphicOrder = r.drapedLayerGraphicOrder, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.normal, r.normal), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.transformation, r.transformation);
  }
}
class I extends x {
  constructor() {
    super(...arguments), this.intersector = _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.IntersectorType.HUD;
  }
}
function M(t) {
  return new x(t);
}
const N = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
  B = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.c)();


/***/ }),

/***/ 51813:
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IntersectorOptions": () => (/* binding */ e),
/* harmony export */   "IntersectorType": () => (/* binding */ i),
/* harmony export */   "StoreResults": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var i, t;
!function (i) {
  i[i.OBJECT = 0] = "OBJECT", i[i.HUD = 1] = "HUD", i[i.TERRAIN = 2] = "TERRAIN", i[i.OVERLAY = 3] = "OVERLAY", i[i.I3S = 4] = "I3S", i[i.PCL = 5] = "PCL", i[i.LOD = 6] = "LOD", i[i.VOXEL = 7] = "VOXEL";
}(i || (i = {}));
class e {
  constructor() {
    this.verticalOffset = 0, this.selectionMode = !1, this.hud = !0, this.selectOpaqueTerrainOnly = !0, this.invisibleTerrain = !1, this.backfacesTerrain = !0, this.isFiltered = !1, this.filteredLayerUids = [], this.store = t.ALL;
  }
}
!function (i) {
  i[i.MIN = 0] = "MIN", i[i.MINMAX = 1] = "MINMAX", i[i.ALL = 2] = "ALL";
}(t || (t = {}));


/***/ }),

/***/ 19802:
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorTarget.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Graphic3DTarget": () => (/* binding */ o),
/* harmony export */   "HudTarget": () => (/* binding */ r),
/* harmony export */   "LayerTarget": () => (/* binding */ e),
/* harmony export */   "ObjectTarget": () => (/* binding */ t),
/* harmony export */   "ValidHudTarget": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class t {
  constructor(s, t, r) {
    this.object = s, this.geometryId = t, this.triangleNr = r;
  }
}
class r extends t {
  constructor(t, r, c, e) {
    super(t, r, c), this.center = null != e ? (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.g)(e) : null;
  }
}
class c extends r {}
class e {
  constructor(s) {
    this.layerUid = s;
  }
}
class o extends e {
  constructor(s, t) {
    super(s), this.graphicUid = t;
  }
}


/***/ }),

/***/ 23180:
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LocalOrigin": () => (/* binding */ t),
/* harmony export */   "fromValues": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class t {
  constructor(s, t) {
    this.vec3 = s, this.id = t;
  }
}
function c(c, r, n, o) {
  return new t((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(c, r, n), o);
}


/***/ }),

/***/ 96572:
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DirtyOperation": () => (/* binding */ E),
/* harmony export */   "DirtyState": () => (/* binding */ I)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E, I;
!function (E) {
  E[E.ADD = 0] = "ADD", E[E.UPDATE = 1] = "UPDATE", E[E.REMOVE = 2] = "REMOVE";
}(E || (E = {})), function (E) {
  E[E.NONE = 0] = "NONE", E[E.VISIBILITY = 1] = "VISIBILITY", E[E.GEOMETRY = 2] = "GEOMETRY", E[E.TRANSFORMATION = 4] = "TRANSFORMATION", E[E.HIGHLIGHT = 8] = "HIGHLIGHT", E[E.OCCLUDEE = 16] = "OCCLUDEE";
}(I || (I = {}));


/***/ }),

/***/ 80576:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Object3D": () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ 85970);
/* harmony import */ var _support_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../support/mathUtils.js */ 1810);
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./basicInterfaces.js */ 2754);
/* harmony import */ var _ContentObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ContentObject.js */ 25472);
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ContentObjectType.js */ 25207);
/* harmony import */ var _Object3DStateID_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Object3DStateID.js */ 48835);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Util.js */ 12042);
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./VertexAttribute.js */ 51663);
/* harmony import */ var _materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../materials/renderers/utils.js */ 22094);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/













class V extends _ContentObject_js__WEBPACK_IMPORTED_MODULE_7__.ContentObject {
  get geometries() {
    return this._geometries;
  }
  get transformation() {
    return this._transformation ?? _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.I;
  }
  set transformation(e) {
    this._transformation = (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(this._transformation ?? (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(), e), this._invalidateBoundingVolume(), this._emit("transformationChanged", this);
  }
  get shaderTransformation() {
    return this._shaderTransformation;
  }
  set shaderTransformation(e) {
    this._shaderTransformation = e ? (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(this._shaderTransformation ?? (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(), e) : null, this._invalidateBoundingVolume(), this._emit("shaderTransformationChanged", this);
  }
  get effectiveTransformation() {
    return this.shaderTransformation ?? this.transformation;
  }
  constructor(t = {}) {
    super(), this.type = _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_8__.ContentObjectType.Object, this._shaderTransformation = null, this._parentLayer = null, this._visible = !0, this.castShadow = t.castShadow ?? !0, this.usesVerticalDistanceToGround = t.usesVerticalDistanceToGround ?? !1, this.graphicUid = t.graphicUid, this.layerUid = t.layerUid, t.isElevationSource && (this.lastValidElevationBB = new O()), this._geometries = t.geometries ? Array.from(t.geometries) : new Array();
  }
  dispose() {
    this._geometries.length = 0;
  }
  get parentLayer() {
    return this._parentLayer;
  }
  set parentLayer(t) {
    (0,_Util_js__WEBPACK_IMPORTED_MODULE_10__.assert)(null == this._parentLayer || null == t, "Object3D can only be added to a single Layer"), this._parentLayer = t;
  }
  addGeometry(t) {
    t.visible = this._visible, this._geometries.push(t), this._emit("geometryAdded", {
      object: this,
      geometry: t
    }), this._invalidateBoundingVolume();
  }
  removeGeometry(t) {
    const e = this._geometries.splice(t, 1)[0];
    e && (this._emit("geometryRemoved", {
      object: this,
      geometry: e
    }), this._invalidateBoundingVolume());
  }
  removeAllGeometries() {
    for (; this._geometries.length > 0;) this.removeGeometry(0);
  }
  geometryVertexAttributeUpdated(t, e, i = !1) {
    this._emit("attributesChanged", {
      object: this,
      geometry: t,
      attribute: e,
      sync: i
    }), (0,_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.affectsGeometry)(e) && this._invalidateBoundingVolume();
  }
  get visible() {
    return this._visible;
  }
  set visible(t) {
    if (this._visible !== t) {
      this._visible = t;
      for (const t of this._geometries) t.visible = this._visible;
      this._emit("visibilityChanged", this);
    }
  }
  maskOccludee() {
    const t = new _Object3DStateID_js__WEBPACK_IMPORTED_MODULE_9__.Object3DStateID(_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__.Object3DState.MaskOccludee);
    for (const e of this._geometries) e.occludees = (0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_12__.addObject3DStateID)(e.occludees, t);
    return this._emit("occlusionChanged", this), t;
  }
  removeOcclude(t) {
    for (const e of this._geometries) e.occludees = (0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_12__.removeObject3DStateID)(e.occludees, t);
    this._emit("occlusionChanged", this);
  }
  highlight() {
    const t = new _Object3DStateID_js__WEBPACK_IMPORTED_MODULE_9__.Object3DStateID(_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__.Object3DState.Highlight);
    for (const e of this._geometries) e.highlights = (0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_12__.addObject3DStateID)(e.highlights, t);
    return this._emit("highlightChanged", this), t;
  }
  removeHighlight(t) {
    for (const e of this._geometries) e.highlights = (0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_12__.removeObject3DStateID)(e.highlights, t);
    this._emit("highlightChanged", this);
  }
  getCombinedStaticTransformation(t, i) {
    return (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.m)(i, this.transformation, t.transformation);
  }
  getCombinedShaderTransformation(t, i = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)()) {
    return (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.m)(i, this.effectiveTransformation, t.transformation);
  }
  get boundingVolumeWorldSpace() {
    return this._bvWorldSpace || (this._bvWorldSpace = this._bvWorldSpace || new A(), this._validateBoundingVolume(this._bvWorldSpace, U.WorldSpace)), this._bvWorldSpace;
  }
  get boundingVolumeObjectSpace() {
    return this._bvObjectSpace || (this._bvObjectSpace = this._bvObjectSpace || new A(), this._validateBoundingVolume(this._bvObjectSpace, U.ObjectSpace)), this._bvObjectSpace;
  }
  _validateBoundingVolume(t, e) {
    const i = e === U.ObjectSpace;
    for (const s of this._geometries) {
      const e = s.boundingInfo;
      e && M(e, t, i ? s.transformation : this.getCombinedShaderTransformation(s));
    }
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.p)(t.bounds, t.min, t.max, .5);
    for (const s of this._geometries) {
      const e = s.boundingInfo;
      if (null == e) continue;
      const r = i ? s.transformation : this.getCombinedShaderTransformation(s),
        o = (0,_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.maxScale)(r);
      (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(B, e.center, r);
      const h = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.o)(B, t.bounds),
        m = e.radius * o;
      t.bounds[3] = Math.max(t.bounds[3], h + m);
    }
  }
  _invalidateBoundingVolume() {
    const t = this._bvWorldSpace?.bounds;
    this._bvObjectSpace = this._bvWorldSpace = void 0, this._parentLayer && t && this._parentLayer.notifyObjectBBChanged(this, t);
  }
  _emit(t, e) {
    this._parentLayer && this._parentLayer.events.emit(t, e);
  }
  get test() {
    const t = this;
    return {
      hasGeometry: e => t._geometries.includes(e),
      getGeometryIndex: e => t._geometries.indexOf(e)
    };
  }
}
class O {
  constructor() {
    this.min = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE), this.max = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);
  }
  isEmpty() {
    return this.max[0] < this.min[0] && this.max[1] < this.min[1] && this.max[2] < this.min[2];
  }
}
class A extends O {
  constructor() {
    super(...arguments), this.bounds = (0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__.c)();
  }
}
function M(t, e, s) {
  const r = t.bbMin,
    o = t.bbMax;
  if ((0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.y)(s)) {
    const t = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(L, s[12], s[13], s[14]);
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(T, r, t), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(C, o, t);
    for (let i = 0; i < 3; ++i) e.min[i] = Math.min(e.min[i], T[i]), e.max[i] = Math.max(e.max[i], C[i]);
  } else if ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(T, r, s), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.h)(r, o)) for (let i = 0; i < 3; ++i) e.min[i] = Math.min(e.min[i], T[i]), e.max[i] = Math.max(e.max[i], T[i]);else {
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(C, o, s);
    for (let t = 0; t < 3; ++t) e.min[t] = Math.min(e.min[t], T[t], C[t]), e.max[t] = Math.max(e.max[t], T[t], C[t]);
    for (let t = 0; t < 3; ++t) {
      (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(T, r), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(C, o), T[t] = o[t], C[t] = r[t], (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(T, T, s), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(C, C, s);
      for (let t = 0; t < 3; ++t) e.min[t] = Math.min(e.min[t], T[t], C[t]), e.max[t] = Math.max(e.max[t], T[t], C[t]);
    }
  }
}
const L = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
  T = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
  C = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
  B = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();
var U;
!function (t) {
  t[t.WorldSpace = 0] = "WorldSpace", t[t.ObjectSpace = 1] = "ObjectSpace";
}(U || (U = {}));


/***/ }),

/***/ 94268:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OverlayRenderContext": () => (/* binding */ i),
/* harmony export */   "RenderContext": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/time.js */ 69354);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _BindParameters_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BindParameters.js */ 69438);
/* harmony import */ var _Camera_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Camera.js */ 39695);
/* harmony import */ var _Material_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Material.js */ 32051);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class i {
  constructor(e, a, i = null) {
    this.rctx = e, this.sliceHelper = i, this.lastFrameCamera = new _Camera_js__WEBPACK_IMPORTED_MODULE_3__.Camera(), this.output = _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color, this.renderOccludedMask = l, this.bindParameters = new _BindParameters_js__WEBPACK_IMPORTED_MODULE_2__.BindParameters(a, null != i ? i.plane : null), this.bindParameters.alignPixelEnabled = !0;
  }
  resetRenderOccludedMask() {
    this.renderOccludedMask = l;
  }
}
class n extends i {
  constructor(r, s, t, a) {
    super(r, t, a), this.offscreenRenderingHelper = s, this.sliceHelper = a, this.time = (0,_core_time_js__WEBPACK_IMPORTED_MODULE_0__.Milliseconds)(0);
  }
}
const l = _Material_js__WEBPACK_IMPORTED_MODULE_4__.RenderOccludedFlag.Occlude | _Material_js__WEBPACK_IMPORTED_MODULE_4__.RenderOccludedFlag.OccludeAndTransparent | _Material_js__WEBPACK_IMPORTED_MODULE_4__.RenderOccludedFlag.OccludeAndTransparentStencil;


/***/ }),

/***/ 57662:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RenderGeometry": () => (/* binding */ h),
/* harmony export */   "ValidatedRenderGeometry": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/uid.js */ 29962);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ 85970);
/* harmony import */ var _support_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../support/mathUtils.js */ 1810);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






class h {
  constructor(r, s = {}) {
    this.geometry = r, this.screenToWorldRatio = 1, this._transformation = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(), this._shaderTransformation = null, this._boundingSphere = null, this.id = (0,_core_uid_js__WEBPACK_IMPORTED_MODULE_0__.generateUID)(), this.layerUid = s.layerUid, this.graphicUid = s.graphicUid, this.castShadow = s.castShadow ?? !1, null != s.objectShaderTransformation && this.objectShaderTransformationChanged(s.objectShaderTransformation);
  }
  get transformation() {
    return this._transformation;
  }
  set transformation(t) {
    (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.h)(this._transformation, t), this._boundingSphere = null;
  }
  get boundingInfo() {
    return this.geometry.boundingInfo;
  }
  objectShaderTransformationChanged(t) {
    null == t ? this._shaderTransformation = null : (this._shaderTransformation ??= (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.m)(this._shaderTransformation, t, this.geometry.transformation)), this._boundingSphere = null;
  }
  get boundingSphere() {
    return this.boundingInfo ? (null == this._boundingSphere && (this._boundingSphere ??= (0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__.c)(), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(this._boundingSphere, this.boundingInfo.center, this.shaderTransformation), this._boundingSphere[3] = this.boundingInfo.radius * (0,_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.maxScale)(this.shaderTransformation)), this._boundingSphere) : _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__.N;
  }
  get material() {
    return this.geometry.material;
  }
  get type() {
    return this.geometry.type;
  }
  get shaderTransformation() {
    return null == this._shaderTransformation ? this.transformation : this._shaderTransformation;
  }
  get attributes() {
    return this.geometry.attributes;
  }
  get highlights() {
    return this.geometry.highlights;
  }
  get occludees() {
    return this.geometry.occludees;
  }
  get visible() {
    return this.geometry.visible;
  }
  set visible(t) {
    this.geometry.visible = t;
  }
}
class m extends h {}


/***/ }),

/***/ 13637:
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShadowMap": () => (/* binding */ q),
/* harmony export */   "SnapshotSlot": () => (/* binding */ W)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ 93142);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ 53661);
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/mat3f64.js */ 53251);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ 80775);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec2f64.js */ 83457);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ 71943);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../ViewingMode.js */ 56108);
/* harmony import */ var _core_FBOCache_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/FBOCache.js */ 32245);
/* harmony import */ var _CascadeCamera_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./CascadeCamera.js */ 92995);
/* harmony import */ var _textureUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./textureUtils.js */ 62911);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Util.js */ 12042);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../webgl/Texture.js */ 74697);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



















var W;
!function (t) {
  t[t.Highlight = 0] = "Highlight", t[t.Default = 1] = "Default";
}(W || (W = {}));
class z {
  constructor() {
    this.camera = new _CascadeCamera_js__WEBPACK_IMPORTED_MODULE_14__.CascadeCamera(), this.lightMat = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)();
  }
}
class P {
  constructor() {
    this.maxNumCascadesHighQuality = 4, this.maxNumCascadesLowQuality = 4, this.textureSizeModHighQuality = 1.3, this.textureSizeModLowQuality = .9, this.splitSchemeLambda = 0;
  }
}
class q {
  get depthTexture() {
    return this._handle?.colorTexture;
  }
  get _textureWidth() {
    return this._textureHeight * this._numCascades;
  }
  get numCascades() {
    return this._numCascades;
  }
  get cascadeDistances() {
    return (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_10__.s)(this._usedCascadeDistances, this._cascadeDistances[0], this._numCascades > 1 ? this._cascadeDistances[1] : 1 / 0, this._numCascades > 2 ? this._cascadeDistances[2] : 1 / 0, this._numCascades > 3 ? this._cascadeDistances[3] : 1 / 0);
  }
  constructor(t, s) {
    this._fbos = t, this._viewingMode = s, this._enabled = !1, this._snapshots = new Array(), this._textureHeight = 0, this._numCascades = 1, this.settings = new P(), this._projectionView = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(), this._projectionViewInverse = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(), this._modelViewLight = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(), this._cascadeDistances = [0, 0, 0, 0, 0], this._usedCascadeDistances = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.c)(), this._cascades = [new z(), new z(), new z(), new z()], this._lastOrigin = null, this._maxTextureWidth = Math.min((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-mobile") ? 4096 : 16384, t.rctx.parameters.maxTextureSize);
  }
  dispose() {
    this.enabled = !1, this.disposeOffscreenBuffers();
  }
  disposeOffscreenBuffers() {
    this._handle = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._handle), this._discardSnapshots();
  }
  set maxCascades(s) {
    this.settings.maxNumCascadesHighQuality = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(Math.floor(s), 1, 4);
  }
  get maxCascades() {
    return this.settings.maxNumCascadesHighQuality;
  }
  set enabled(t) {
    this._enabled = t, t || this.disposeOffscreenBuffers();
  }
  get enabled() {
    return this._enabled;
  }
  get ready() {
    return this._enabled && null != this.depthTexture;
  }
  get cascades() {
    for (let t = 0; t < this._numCascades; ++t) et[t] = this._cascades[t];
    return et.length = this._numCascades, et;
  }
  start(t, s, e, a, i) {
    (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(this.enabled);
    const {
      near: r,
      far: h
    } = this._clampNearFar(e);
    this._computeCascadeDistances(r, h, a), this._textureHeight = this._computeTextureHeight(t, i, a), this._setupMatrices(t, s);
    const {
      viewMatrix: n,
      projectionMatrix: c
    } = t;
    for (let o = 0; o < this._numCascades; ++o) this._constructCascade(o, c, n, s);
    this._lastOrigin = null, this.clear();
  }
  finish() {
    (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(this.enabled), this._handle?.releaseDepth();
  }
  getShadowMapMatrices(t) {
    if (!this._lastOrigin || !(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.h)(t, this._lastOrigin)) {
      this._lastOrigin = this._lastOrigin || (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.c)(this._lastOrigin, t);
      for (let s = 0; s < this._numCascades; ++s) {
        (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.w)(at, this._cascades[s].lightMat, t);
        for (let t = 0; t < 16; ++t) it[16 * s + t] = at[t];
      }
    }
    return it;
  }
  moveSnapshot(t) {
    (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(this.enabled), this._handle?.releaseDepth(), this._snapshots[t]?.release(), this._snapshots[t] = this._handle, this._handle = null;
  }
  copySnapshot(t) {
    const s = this._handle?.colorTexture?.descriptor;
    if (!this.enabled || !s) return;
    this._snapshots[t]?.release();
    const {
      width: e,
      height: a
    } = s;
    this._snapshots[t] = this._fbos.acquire(_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_13__.ColorFormat.RGBA4, e, a);
    const i = this._fbos.rctx;
    this._bindFbo();
    const r = i.bindTexture(this._snapshots[t]?.colorTexture, _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__.Texture.TEXTURE_UNIT_FOR_UPDATES);
    i.gl.copyTexSubImage2D(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.TextureType.TEXTURE_2D, 0, 0, 0, 0, 0, e, a), i.bindTexture(r, _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__.Texture.TEXTURE_UNIT_FOR_UPDATES);
  }
  getSnapshot(t) {
    return this.enabled ? this._snapshots[t]?.colorTexture : null;
  }
  clear() {
    const t = this._fbos.rctx;
    this._ensureFbo(), this._bindFbo(), t.setClearColor(1, 1, 1, 1), t.clearSafe(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.ClearBufferBit.COLOR_BUFFER_BIT | _webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.ClearBufferBit.DEPTH_BUFFER_BIT);
  }
  _computeTextureHeight(t, s, e) {
    const a = Math.min(window.devicePixelRatio, s) / t.pixelRatio,
      i = e ? this.settings.textureSizeModHighQuality : this.settings.textureSizeModLowQuality,
      r = (0,_textureUtils_js__WEBPACK_IMPORTED_MODULE_15__.applyTextureResizeModulo)(Math.floor(Math.max(t.fullWidth, t.fullHeight) * a * i));
    return Math.min(this._maxTextureWidth, this._numCascades * r) / this._numCascades;
  }
  _ensureFbo() {
    this._handle?.fbo.width === this._textureWidth && this._handle?.fbo.height === this._textureHeight || (this._handle?.release(), this._handle = this._fbos.acquire(_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_13__.ColorFormat.RGBA4, this._textureWidth, this._textureHeight)), this._handle.acquireDepth(_core_FBOCache_js__WEBPACK_IMPORTED_MODULE_13__.DepthFormat.DEPTH16_BUFFER);
  }
  _discardSnapshot(t) {
    this._snapshots[t] = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._snapshots[t]);
  }
  _discardSnapshots() {
    for (let t = 0; t < this._snapshots.length; ++t) this._discardSnapshot(t);
    this._snapshots.length = 0;
  }
  _bindFbo() {
    const t = this._fbos.rctx;
    t.unbindTexture(this.depthTexture), t.bindFramebuffer(this._handle?.fbo);
  }
  _constructCascade(t, s, e, a) {
    const i = this._cascades[t],
      n = -this._cascadeDistances[t],
      c = -this._cascadeDistances[t + 1],
      o = (s[10] * n + s[14]) / Math.abs(s[11] * n + s[15]),
      u = (s[10] * c + s[14]) / Math.abs(s[11] * c + s[15]);
    (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(o < u);
    for (let r = 0; r < 8; ++r) {
      (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_10__.s)(X, r % 4 == 0 || r % 4 == 3 ? -1 : 1, r % 4 == 0 || r % 4 == 1 ? -1 : 1, r < 4 ? o : u, 1);
      const t = J[r];
      (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_10__.t)(t, X, this._projectionViewInverse), t[0] /= t[3], t[1] /= t[3], t[2] /= t[3];
    }
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.E)(st, J[0]), i.camera.viewMatrix = (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.w)(G, this._modelViewLight, st);
    for (let r = 0; r < 8; ++r) (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.e)(J[r], J[r], i.camera.viewMatrix);
    let l = J[0][2],
      _ = J[0][2];
    for (let r = 1; r < 8; ++r) l = Math.min(l, J[r][2]), _ = Math.max(_, J[r][2]);
    l -= 200, _ += 200, i.camera.near = -_, i.camera.far = -l, Ct(e, a, l, _, i.camera), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.m)(i.lightMat, i.camera.projectionMatrix, i.camera.viewMatrix);
    const d = this._textureHeight;
    i.camera.viewport = [t * d, 0, d, d];
  }
  _setupMatrices(t, s) {
    (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.m)(this._projectionView, t.projectionMatrix, t.viewMatrix), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.i)(this._projectionViewInverse, this._projectionView);
    const e = this._viewingMode === _ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__.ViewingMode.Global ? t.eye : (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.s)(st, 0, 0, 1);
    (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.u)(this._modelViewLight, [0, 0, 0], [-s[0], -s[1], -s[2]], e);
  }
  _clampNearFar(t) {
    let {
      near: s,
      far: e
    } = t;
    return s < 2 && (s = 2), e < 2 && (e = 2), s >= e && (s = 2, e = 4), {
      near: s,
      far: e
    };
  }
  _computeCascadeDistances(t, e, a) {
    const i = a ? this.settings.maxNumCascadesHighQuality : this.settings.maxNumCascadesLowQuality;
    this._numCascades = Math.min(1 + Math.floor((0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.logWithBase)(e / t, 4)), i);
    const r = (e - t) / this._numCascades,
      h = (e / t) ** (1 / this._numCascades);
    let n = t,
      c = t;
    for (let o = 0; o < this._numCascades + 1; ++o) this._cascadeDistances[o] = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.lerp)(n, c, this.settings.splitSchemeLambda), n *= h, c += r;
  }
  get test() {
    return {
      cascades: this._cascades,
      textureHeight: this._textureHeight
    };
  }
}
const G = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(),
  X = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.c)(),
  J = [];
for (let jt = 0; jt < 8; ++jt) J.push((0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.c)());
const K = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  Y = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  Z = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  $ = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  tt = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  st = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),
  et = [],
  at = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(),
  it = _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.I.concat(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.I, _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.I, _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.I, _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.I),
  rt = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  ht = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  nt = [(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(), (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(), (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(), (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)()],
  ct = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  ot = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  ut = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  lt = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  _t = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  dt = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  mt = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)();
function ft(t, s, e, a, i, r, h, n) {
  (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.s)(rt, 0, 0);
  for (let l = 0; l < 4; ++l) (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.i)(rt, rt, t[l]);
  (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.a)(rt, rt, .25), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.s)(ht, 0, 0);
  for (let l = 4; l < 8; ++l) (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.i)(ht, ht, t[l]);
  (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.a)(ht, ht, .25), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.l)(nt[0], t[4], t[5], .5), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.l)(nt[1], t[5], t[6], .5), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.l)(nt[2], t[6], t[7], .5), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.l)(nt[3], t[7], t[4], .5);
  let c = 0,
    o = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.k)(nt[0], rt);
  for (let l = 1; l < 4; ++l) {
    const t = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.k)(nt[l], rt);
    t < o && (o = t, c = l);
  }
  (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.c)(ct, nt[c], t[c + 4]);
  const u = ct[0];
  let w, C;
  ct[0] = -ct[1], ct[1] = u, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.c)(ot, ht, rt), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(ot, ct) < 0 && (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.n)(ct, ct), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.l)(ct, ct, ot, e), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.e)(ct, ct), w = C = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.c)(ut, t[0], rt), ct);
  for (let l = 1; l < 8; ++l) {
    const s = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.c)(ut, t[l], rt), ct);
    s < w ? w = s : s > C && (C = s);
  }
  (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.j)(a, rt), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.a)(ut, ct, w - s), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.i)(a, a, ut);
  let j = -1,
    T = 1,
    y = 0,
    D = 0;
  for (let l = 0; l < 8; ++l) {
    (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.c)(lt, t[l], a), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.e)(lt, lt);
    const s = ct[0] * lt[1] - ct[1] * lt[0];
    s > 0 ? s > j && (j = s, y = l) : s < T && (T = s, D = l);
  }
  (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(j > 0, "leftArea"), (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(T < 0, "rightArea"), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.a)(_t, ct, w), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.i)(_t, _t, rt), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.a)(dt, ct, C), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.i)(dt, dt, rt), mt[0] = -ct[1], mt[1] = ct[0];
  const H = (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(a, t[D], dt, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.i)(ut, dt, mt), 1, i),
    v = (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(a, t[y], dt, ut, 1, r),
    S = (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(a, t[y], _t, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.i)(ut, _t, mt), 1, h),
    F = (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(a, t[D], _t, ut, 1, n);
  (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(H, "rayRay"), (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(v, "rayRay"), (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(S, "rayRay"), (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(F, "rayRay");
}
function pt(t, s) {
  return 3 * s + t;
}
const gt = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)();
function xt(t, s) {
  return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.s)(gt, t[s], t[s + 3]), gt;
}
const bt = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  Mt = (0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__.a)();
function wt(t, s, e, a, i) {
  (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.c)(bt, e, a), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.a)(bt, bt, .5), Mt[0] = bt[0], Mt[1] = bt[1], Mt[2] = 0, Mt[3] = bt[1], Mt[4] = -bt[0], Mt[5] = 0, Mt[6] = bt[0] * bt[0] + bt[1] * bt[1], Mt[7] = bt[0] * bt[1] - bt[1] * bt[0], Mt[8] = 1, Mt[pt(0, 2)] = -(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 0), t), Mt[pt(1, 2)] = -(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 1), t);
  let r = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 0), e) + Mt[pt(0, 2)],
    h = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 1), e) + Mt[pt(1, 2)],
    n = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 0), a) + Mt[pt(0, 2)],
    c = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 1), a) + Mt[pt(1, 2)];
  r = -(r + n) / (h + c), Mt[pt(0, 0)] += Mt[pt(1, 0)] * r, Mt[pt(0, 1)] += Mt[pt(1, 1)] * r, Mt[pt(0, 2)] += Mt[pt(1, 2)] * r, r = 1 / ((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 0), e) + Mt[pt(0, 2)]), h = 1 / ((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 1), e) + Mt[pt(1, 2)]), Mt[pt(0, 0)] *= r, Mt[pt(0, 1)] *= r, Mt[pt(0, 2)] *= r, Mt[pt(1, 0)] *= h, Mt[pt(1, 1)] *= h, Mt[pt(1, 2)] *= h, Mt[pt(2, 0)] = Mt[pt(1, 0)], Mt[pt(2, 1)] = Mt[pt(1, 1)], Mt[pt(2, 2)] = Mt[pt(1, 2)], Mt[pt(1, 2)] += 1, r = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 1), s) + Mt[pt(1, 2)], h = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 2), s) + Mt[pt(2, 2)], n = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 1), e) + Mt[pt(1, 2)], c = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 2), e) + Mt[pt(2, 2)], r = -.5 * (r / h + n / c), Mt[pt(1, 0)] += Mt[pt(2, 0)] * r, Mt[pt(1, 1)] += Mt[pt(2, 1)] * r, Mt[pt(1, 2)] += Mt[pt(2, 2)] * r, r = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 1), s) + Mt[pt(1, 2)], h = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.g)(xt(Mt, 2), s) + Mt[pt(2, 2)], n = -h / r, Mt[pt(1, 0)] *= n, Mt[pt(1, 1)] *= n, Mt[pt(1, 2)] *= n, i[0] = Mt[0], i[1] = Mt[1], i[2] = 0, i[3] = Mt[2], i[4] = Mt[3], i[5] = Mt[4], i[6] = 0, i[7] = Mt[5], i[8] = 0, i[9] = 0, i[10] = 1, i[11] = 0, i[12] = Mt[6], i[13] = Mt[7], i[14] = 0, i[15] = Mt[8];
}
function Ct(t, s, a, i, r) {
  const h = 1 / J[0][3],
    n = 1 / J[4][3];
  (0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(h < n);
  let c = h + Math.sqrt(h * n);
  const o = Math.sin((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.acosClamped)(t[2] * s[0] + t[6] * s[1] + t[10] * s[2]));
  c /= o, ft(J, c, o, K, Y, Z, $, tt), wt(K, Y, $, tt, r.projectionMatrix), r.projectionMatrix[10] = 2 / (a - i), r.projectionMatrix[14] = -(a + i) / (a - i);
}


/***/ }),

/***/ 19922:
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SortedRenderGeometryRenderer": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ 2299);
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ 99249);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec2f64.js */ 83457);
/* harmony import */ var _terrain_Intersector_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../terrain/Intersector.js */ 57891);
/* harmony import */ var _ChangeSet_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ChangeSet.js */ 82715);
/* harmony import */ var _Intersector_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Intersector.js */ 13414);
/* harmony import */ var _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./IntersectorInterfaces.js */ 51813);
/* harmony import */ var _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ModelDirtyTypes.js */ 96572);
/* harmony import */ var _rendererUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./rendererUtils.js */ 40088);
/* harmony import */ var _materials_renderers_MergedRenderer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../materials/renderers/MergedRenderer.js */ 47197);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
















let u = class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"] {
  constructor(e) {
    super(e), this._pending = new y(), this._changes = new _ChangeSet_js__WEBPACK_IMPORTED_MODULE_10__.ChangeSet(), this._materialRenderers = new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_2__["default"](), this._sortedMaterialRenderers = new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_2__["default"](), this._geometries = new Map(), this._hasHighlights = !1, this._hasWater = !1;
  }
  destroy() {
    this._changes.prune(), this._materialRenderers.forAll(e => e.dispose()), this._materialRenderers.clear(), this._sortedMaterialRenderers.clear(), this._geometries.clear(), this._pending.clear();
  }
  get updating() {
    return !this._pending.empty || this._changes.updates.length > 0;
  }
  get rctx() {
    return this.rendererContext.rctx;
  }
  get _materialRepository() {
    return this.rendererContext.materialRepository;
  }
  get _localOriginFactory() {
    return this.rendererContext.localOriginFactory;
  }
  get hasHighlights() {
    return this._hasHighlights;
  }
  get hasWater() {
    return this._hasWater;
  }
  get rendersOccluded() {
    return this._materialRenderers.some(e => e.rendersOccluded);
  }
  get isEmpty() {
    return !this.updating && 0 === this._materialRenderers.length && 0 === this._geometries.size;
  }
  getMemoryForMaterial(e) {
    if (null == e) return 0;
    const r = this._materialRenderers.find(r => r.material === e);
    return r?.usedMemory ?? 0;
  }
  commitChanges() {
    if (!this.updating) return !1;
    this._processAddsRemoves();
    const e = (0,_rendererUtils_js__WEBPACK_IMPORTED_MODULE_14__.splitRenderGeometryChangeSetByMaterial)(this._changes);
    let r = !1,
      t = !1,
      s = !1;
    return e.forEach((e, i) => {
      let n = this._materialRenderers.find(e => e.material === i);
      if (!n && e.adds.length > 0) {
        const e = new _materials_renderers_MergedRenderer_js__WEBPACK_IMPORTED_MODULE_15__.MergedRenderer({
          material: i
        });
        e.initializeRenderContext(this.rendererContext.pluginContext, this._materialRepository), n = e, this._materialRenderers.push(n), r = !0, t = !0, s = !0;
      }
      if (!n) return;
      const o = t || n.hasHighlights,
        a = s || n.hasWater;
      n.modify(e), t = t || o !== n.hasHighlights, s = s || a !== n.hasWater, n.isEmpty && (this._materialRenderers.removeUnordered(n), n.dispose(), r = !0);
    }), this._changes.clear(), r && this._updateSortedMaterialRenderers(), t && (this._hasHighlights = this._materialRenderers.some(e => e.hasHighlights)), s && (this._hasWater = this._materialRenderers.some(e => e.hasWater)), this.notifyChange("updating"), !0;
  }
  addGeometries(e, r) {
    if (0 === e.length) return;
    const t = this._validateRenderGeometries(e);
    for (const i of t) this._geometries.set(i.id, i);
    const s = this._pending.empty;
    for (const i of t) this._pending.adds.add(i);
    s && this.notifyChange("updating"), r === _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_13__.DirtyOperation.UPDATE && this._notifyGraphicGeometryChanged(e);
  }
  removeGeometries(e, r) {
    const t = this._pending.empty,
      s = this._pending.adds;
    for (const i of e) s.has(i) ? (this._pending.removed.add(i), s.delete(i)) : this._pending.removed.has(i) || this._pending.removes.add(i), this._geometries.delete(i.id);
    t && !this._pending.empty && this.notifyChange("updating"), r === _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_13__.DirtyOperation.UPDATE && this._notifyGraphicGeometryChanged(e);
  }
  modifyGeometries(e, r) {
    const t = 0 === this._changes.updates.length;
    for (const s of e) {
      const e = this._changes.updates.pushNew();
      e.renderGeometry = this._validateRenderGeometry(s), e.updateType = r;
    }
    switch (t && this._changes.updates.length > 0 && this.notifyChange("updating"), r) {
      case _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_13__.DirtyState.TRANSFORMATION:
      case _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_13__.DirtyState.GEOMETRY:
        return this._notifyGraphicGeometryChanged(e);
      case _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_13__.DirtyState.VISIBILITY:
        return this._notifyGraphicVisibilityChanged(e);
    }
  }
  updateAnimation(e) {
    let r = !1;
    return this._sortedMaterialRenderers.forAll(t => r = t.updateAnimation(e) || r), r;
  }
  shouldRender(e) {
    return this._sortedMaterialRenderers.some(r => r.prepareTechnique(e));
  }
  render(e) {
    this._sortedMaterialRenderers.forAll(r => {
      const t = r.prepareTechnique(e);
      null != t && r.renderNode(e, t);
    });
  }
  intersect(e, r, t, s, i) {
    return this._geometries.forEach(n => {
      if (s && !s(n)) return;
      this._intersectRenderGeometry(n, t, r, 0, e, i);
      const o = this.rendererContext.longitudeCyclical;
      o && (n.boundingSphere[0] - n.boundingSphere[3] < o.min && this._intersectRenderGeometry(n, t, r, o.range, e, i), n.boundingSphere[0] + n.boundingSphere[3] > o.max && this._intersectRenderGeometry(n, t, r, -o.range, e, i)), i++;
    }), i;
  }
  _updateSortedMaterialRenderers() {
    this._sortedMaterialRenderers.clear(), this._materialRenderers.forAll((e, r) => {
      e.priority = r, this._sortedMaterialRenderers.push(e);
    }), this._sortedMaterialRenderers.sort((e, r) => r.material.renderPriority === e.material.renderPriority ? e.priority - r.priority : r.material.renderPriority - e.material.renderPriority);
  }
  _processAddsRemoves() {
    this._changes.adds.clear(), this._changes.removes.clear(), this._changes.adds.pushArray(Array.from(this._pending.adds)), this._changes.removes.pushArray(Array.from(this._pending.removes));
    for (let e = 0; e < this._changes.updates.length;) {
      const r = this._changes.updates.data[e];
      this._pending.has(r.renderGeometry) ? this._changes.updates.removeUnorderedIndex(e) : e++;
    }
    this._pending.clear();
  }
  _intersectRenderGeometry(e, r, t, s, i, n) {
    if (!e.visible) return;
    let o = 0;
    s += e.transformation[12], o = e.transformation[13], f[0] = t[0] - s, f[1] = t[1] - o, e.screenToWorldRatio = this.rendererContext.screenToWorldRatio, e.material.intersectDraped(e, null, i, f, (t, s, o) => {
      _(r, o, e.material.renderPriority, n, i, e.layerUid, e.graphicUid);
    }, r);
  }
  _notifyGraphicGeometryChanged(e) {
    if (null == this.drapeSource.notifyGraphicGeometryChanged) return;
    let r;
    for (const t of e) {
      const e = t.graphicUid;
      null != e && e !== r && (this.drapeSource.notifyGraphicGeometryChanged(e), r = e);
    }
  }
  _notifyGraphicVisibilityChanged(e) {
    if (null == this.drapeSource.notifyGraphicVisibilityChanged) return;
    let r;
    for (const t of e) {
      const e = t.graphicUid;
      null != e && e !== r && (this.drapeSource.notifyGraphicVisibilityChanged(e), r = e);
    }
  }
  _validateRenderGeometries(e) {
    for (const r of e) this._validateRenderGeometry(r);
    return e;
  }
  _validateRenderGeometry(e) {
    return null == e.localOrigin && (e.localOrigin = this._localOriginFactory.getOrigin(e.boundingSphere)), e;
  }
  get test() {
    return {
      sortedMaterialRenderers: this._sortedMaterialRenderers
    };
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], u.prototype, "drapeSource", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], u.prototype, "updating", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], u.prototype, "rctx", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  constructOnly: !0
})], u.prototype, "rendererContext", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], u.prototype, "_materialRepository", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], u.prototype, "_localOriginFactory", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  readOnly: !0
})], u.prototype, "isEmpty", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], u.prototype, "_materialRenderers", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], u.prototype, "_geometries", void 0), u = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer")], u);
class y {
  constructor() {
    this.adds = new Set(), this.removes = new Set(), this.removed = new Set();
  }
  get empty() {
    return 0 === this.adds.size && 0 === this.removes.size && 0 === this.removed.size;
  }
  has(e) {
    return this.adds.has(e) || this.removes.has(e) || this.removed.has(e);
  }
  clear() {
    this.adds.clear(), this.removes.clear(), this.removed.clear();
  }
}
function _(e, r, t, s, i, n, a) {
  const p = new _terrain_Intersector_js__WEBPACK_IMPORTED_MODULE_9__.OverlayTarget(n, a, r),
    c = r => {
      r.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_12__.IntersectorType.OVERLAY, p, e.dist, e.normal, e.transformation, t, s);
    };
  if ((null == i.results.min.drapedLayerOrder || t >= i.results.min.drapedLayerOrder) && (null == i.results.min.dist || i.results.ground.dist <= i.results.min.dist) && c(i.results.min), i.options.store !== _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_12__.StoreResults.MIN && (null == i.results.max.drapedLayerOrder || t < i.results.max.drapedLayerOrder) && (null == i.results.max.dist || i.results.ground.dist > i.results.max.dist) && c(i.results.max), i.options.store === _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_12__.StoreResults.ALL) {
    const e = (0,_Intersector_js__WEBPACK_IMPORTED_MODULE_11__.newIntersectorResult)(i.ray);
    c(e), i.results.all.push(e);
  }
}
const f = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.a)();


/***/ }),

/***/ 27434:
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextureTechnique": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/TextureOnly.glsl.js */ 43620);
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DefaultVertexAttributeLocations.js */ 61089);
/* harmony import */ var _Program_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Program.js */ 44505);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







class m extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique {
  initializeProgram(e) {
    return new _Program_js__WEBPACK_IMPORTED_MODULE_4__.Program(e.rctx, m.shader.get().build(), _DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_3__.Default3D);
  }
  initializePipeline() {
    return this.configuration.hasAlpha ? (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.makePipelineState)({
      blending: (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.separateBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.BlendFactor.SRC_ALPHA, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.BlendFactor.ONE_MINUS_SRC_ALPHA, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.BlendFactor.ONE_MINUS_SRC_ALPHA),
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.defaultColorWriteParams
    }) : (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.makePipelineState)({
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.defaultColorWriteParams
    });
  }
}
m.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_0__.a, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_core_shaderLibrary_util_TextureOnly_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../core/shaderLibrary/util/TextureOnly.glsl.js */ 43954)));


/***/ }),

/***/ 34809:
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextureTechniqueConfiguration": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ 88721);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class r extends _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechniqueConfiguration {
  constructor() {
    super(...arguments), this.hasAlpha = !1;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()], r.prototype, "hasAlpha", void 0);


/***/ }),

/***/ 17821:
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UpdatePolicy": () => (/* binding */ C)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var C;
!function (C) {
  C[C.ASYNC = 0] = "ASYNC", C[C.SYNC = 1] = "SYNC";
}(C || (C = {}));


/***/ }),

/***/ 97118:
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VertexArrayObject": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ 19955);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class r extends _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_0__.VertexArrayObject {}


/***/ }),

/***/ 9014:
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WebGLLayer": () => (/* binding */ a),
/* harmony export */   "isWebGLLayer": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Evented.js */ 95442);
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Handles.js */ 40070);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ 53661);
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ 99249);
/* harmony import */ var _ContentObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ContentObject.js */ 25472);
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ContentObjectType.js */ 25207);
/* harmony import */ var _DirtyEvents_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DirtyEvents.js */ 56704);
/* harmony import */ var _Octree_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Octree.js */ 14358);
/* harmony import */ var _UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./UpdatePolicy.js */ 17821);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/









class a extends _ContentObject_js__WEBPACK_IMPORTED_MODULE_4__.ContentObject {
  get objects() {
    return this._objects;
  }
  constructor(s, r, h = "") {
    super(), this.stage = s, this.apiLayerUid = h, this.type = _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__.ContentObjectType.Layer, this.events = new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"](), this.visible = !0, this.pickable = !0, this.sliceable = !1, this._objects = new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"](), this._objectsAdded = new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"](), this._handles = new _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__["default"](), this.apiLayerUid = h, this.visible = r?.visible ?? !0, this.pickable = r?.pickable ?? !0, this.updatePolicy = r?.updatePolicy ?? _UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_8__.UpdatePolicy.ASYNC, this._disableOctree = r?.disableOctree ?? !1, s.add(this);
    for (const e of _DirtyEvents_js__WEBPACK_IMPORTED_MODULE_6__.DirtyEventNames) this._handles.add(this.events.on(e, t => s.handleEvent(e, t)));
  }
  destroy() {
    this._handles.size && (this._handles.destroy(), this.stage.remove(this), this.invalidateSpatialQueryAccelerator());
  }
  add(e) {
    this._objects.push(e), e.parentLayer = this, this.events.emit("layerObjectAdded", {
      layer: this,
      object: e
    }), null != this._octree && this._objectsAdded.push(e);
  }
  remove(e) {
    this._objects.removeUnordered(e) && (e.parentLayer = null, this.events.emit("layerObjectRemoved", {
      layer: this,
      object: e
    }), null != this._octree && (this._objectsAdded.removeUnordered(e) || this._octree.remove([e])));
  }
  addMany(e) {
    this._objects.pushArray(e);
    for (const t of e) t.parentLayer = this;
    this.events.emit("layerObjectsAdded", {
      layer: this,
      objects: e
    }), null != this._octree && this._objectsAdded.pushArray(e);
  }
  removeMany(e) {
    const t = new Array();
    if (this._objects.removeUnorderedMany(e, e.length, t), 0 !== t.length) {
      for (const e of t) e.parentLayer = null;
      if (this.events.emit("layerObjectsRemoved", {
        layer: this,
        objects: t
      }), null != this._octree) {
        for (let e = 0; e < t.length;) this._objectsAdded.removeUnordered(t[e]) ? (t[e] = t[t.length - 1], t.length -= 1) : ++e;
        this._octree.remove(t);
      }
    }
  }
  sync() {
    this.updatePolicy !== _UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_8__.UpdatePolicy.SYNC && this.stage.syncLayer(this.id);
  }
  notifyObjectBBChanged(e, t) {
    null == this._octree || this._objectsAdded.includes(e) || this._octree.update(e, t);
  }
  getSpatialQueryAccelerator() {
    return null == this._octree && this._objects.length > 50 && !this._disableOctree ? (this._octree = new _Octree_js__WEBPACK_IMPORTED_MODULE_7__["default"](e => e.boundingVolumeWorldSpace.bounds), this._octree.add(this._objects.data, this._objects.length)) : null != this._octree && this._objectsAdded.length > 0 && (this._octree.add(this._objectsAdded.data, this._objectsAdded.length), this._objectsAdded.clear()), this._octree;
  }
  invalidateSpatialQueryAccelerator() {
    this._octree = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this._octree), this._objectsAdded.clear();
  }
}
function n(e) {
  return null != e && e.type === _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__.ContentObjectType.Layer;
}


/***/ }),

/***/ 32514:
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/fov.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fovd2fovx": () => (/* binding */ n),
/* harmony export */   "fovd2fovy": () => (/* binding */ r),
/* harmony export */   "fovx2fovd": () => (/* binding */ t),
/* harmony export */   "fovy2fovd": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t, a, n) {
  return 2 * Math.atan(Math.sqrt(a * a + n * n) * Math.tan(.5 * t) / a);
}
function a(t, a, n) {
  return 2 * Math.atan(Math.sqrt(a * a + n * n) * Math.tan(.5 * t) / n);
}
function n(t, a, n) {
  return 2 * Math.atan(a * Math.tan(.5 * t) / Math.sqrt(a * a + n * n));
}
function r(t, a, n) {
  return 2 * Math.atan(n * Math.tan(.5 * t) / Math.sqrt(a * a + n * n));
}


/***/ }),

/***/ 19009:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/glUtil3D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createEmptyDepthTexture": () => (/* binding */ w),
/* harmony export */   "createEmptyTexture": () => (/* binding */ c),
/* harmony export */   "createQuadVAO": () => (/* binding */ i),
/* harmony export */   "createScreenSizeTriangleVAO": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DefaultVertexAttributeLocations.js */ 61089);
/* harmony import */ var _DefaultVertexBufferLayouts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DefaultVertexBufferLayouts.js */ 48901);
/* harmony import */ var _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VertexArrayObject.js */ 97118);
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ 10615);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







function i(s, u = _DefaultVertexBufferLayouts_js__WEBPACK_IMPORTED_MODULE_1__.Pos2, f = _DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_0__.Default3D, i = -1, a = 1) {
  let l = null;
  if (u === _DefaultVertexBufferLayouts_js__WEBPACK_IMPORTED_MODULE_1__.Pos2Tex) l = new Float32Array([i, i, 0, 0, a, i, 1, 0, i, a, 0, 1, a, a, 1, 1]);else l = new Float32Array([i, i, a, i, i, a, a, a]);
  return new _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_2__.VertexArrayObject(s, f, {
    geometry: u
  }, {
    geometry: _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createVertex(s, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.STATIC_DRAW, l)
  });
}
function a(t, s = _DefaultVertexBufferLayouts_js__WEBPACK_IMPORTED_MODULE_1__.Pos2, u = _DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_0__.Default3D) {
  const f = new Float32Array([-1, -1, 3, -1, -1, 3]);
  return new _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_2__.VertexArrayObject(t, u, {
    geometry: s
  }, {
    geometry: _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createVertex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.STATIC_DRAW, f)
  });
}
const l = 4;
function c(e) {
  const r = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__.TextureDescriptor(l);
  return r.samplingMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureSamplingMode.NEAREST, new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_5__.Texture(e, r);
}
function w(e) {
  const r = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__.TextureDescriptor(1);
  return r.samplingMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureSamplingMode.NEAREST, new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_5__.Texture(e, r, new Uint8Array([255, 255, 255, 255]));
}


/***/ }),

/***/ 35049:
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isHudIntersectorResult": () => (/* binding */ u),
/* harmony export */   "isObjectIntersectorResult": () => (/* binding */ s),
/* harmony export */   "isValidIntersectorResult": () => (/* binding */ o),
/* harmony export */   "sliceFilterPredicate": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/boundedPlane.js */ 51719);
/* harmony import */ var _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IntersectorInterfaces.js */ 51813);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




function o(t) {
  return null != t?.dist;
}
function c(r) {
  return (e, o, c) => ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.p)(i, e, o, c), !(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_2__.e)(r, i));
}
function s(t) {
  return o(t) && t.intersector === _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_3__.IntersectorType.OBJECT && !!t.target;
}
function u(t) {
  return o(t) && t.intersector === _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_3__.IntersectorType.HUD && !!t.target && "center" in t.target && null != t.target.center;
}
const i = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ 40088:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "splitRenderGeometryChangeSetByMaterial": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _ChangeSet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChangeSet.js */ 82715);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function r(r) {
  const n = new Map(),
    o = r => {
      let t = n.get(r);
      return t || (t = new _ChangeSet_js__WEBPACK_IMPORTED_MODULE_0__.MaterialChangeSet(), n.set(r, t)), t;
    };
  return r.removes.forAll(e => {
    t(e) && o(e.material).removes.push(e);
  }), r.adds.forAll(e => {
    t(e) && o(e.material).adds.push(e);
  }), r.updates.forAll(e => {
    t(e.renderGeometry) && o(e.renderGeometry.material).updates.push(e);
  }), n;
}
function t(e) {
  return e.geometry.indexCount >= 1;
}


/***/ }),

/***/ 76524:
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/testUtils.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "gridLocalOriginFactory": () => (/* binding */ e),
/* harmony export */   "textTextureAtlas": () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n = {
    stableRendering: !1
  },
  e = {
    rootOrigin: null
  };


/***/ }),

/***/ 20600:
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ColorMaterial": () => (/* binding */ f),
/* harmony export */   "Parameters": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ 61462);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ 2754);
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/GLMaterial.js */ 44272);
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ 31700);
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/RenderSlot.js */ 66176);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ 51663);
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ 55718);
/* harmony import */ var _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TriangleMaterial.js */ 40590);
/* harmony import */ var _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./VisualVariablePassParameters.js */ 41595);
/* harmony import */ var _shaders_ColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../shaders/ColorMaterialTechnique.js */ 47992);
/* harmony import */ var _shaders_ColorMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../shaders/ColorMaterialTechniqueConfiguration.js */ 25239);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














class f extends _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_10__.TriangleMaterial {
  constructor(e) {
    super(e, new d()), this.supportsEdges = !0, this._configuration = new _shaders_ColorMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__.ColorMaterialTechniqueConfiguration();
  }
  getConfiguration(e, r) {
    return this._configuration.output = e, this._configuration.cullFace = this.parameters.cullFace, this._configuration.hasVertexColors = this.parameters.hasVertexColors && !this.parameters.vvColor, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.transparent = this._isTransparent, this._configuration.polygonOffset = this.parameters.polygonOffset, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.hasOccludees = this.parameters.hasOccludees, this._configuration.transparencyPassType = r.transparencyPassType, this._configuration.enableOffset = r.camera.relativeElevation < _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__.OITPolygonOffsetLimit, this._configuration.multipassEnabled = r.multipassEnabled, this._configuration.cullAboveGround = r.multipassTerrain.cullAboveGround, this._configuration.vvColor = !!this.parameters.vvColor, this._configuration;
  }
  produces(e, r) {
    if (r === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color || r === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Alpha || r === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Highlight || r === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Depth && this.parameters.writeLinearDepth || r === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.ObjectAndLayerIdColor) {
      if (e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.DRAPED_MATERIAL) return !0;
      if (r === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Highlight) return e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.OPAQUE_MATERIAL;
      return e === (this._isTransparent ? this.parameters.writeDepth ? _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.TRANSPARENT_MATERIAL : _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL : _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.OPAQUE_MATERIAL);
    }
    return !1;
  }
  createGLMaterial(e) {
    return new m(e);
  }
  createBufferWriter() {
    const e = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION);
    return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("enable-feature:objectAndLayerId-rendering") && e.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.OBJECTANDLAYERIDCOLOR), this.parameters.vvColor ? e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLORFEATUREATTRIBUTE) : e.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLOR), new _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_9__.DefaultBufferWriter(e);
  }
  get _isTransparent() {
    return this.parameters.color[3] < 1 || this.parameters.forceTransparentMode;
  }
}
class m extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_5__["default"] {
  _updateOccludeeState(e) {
    e.hasOccludees !== this._material.parameters.hasOccludees && this._material.setParameters({
      hasOccludees: e.hasOccludees
    });
  }
  beginSlot(e) {
    return this._output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color && this._output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Alpha || this._updateOccludeeState(e), this.ensureTechnique(_shaders_ColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_12__.ColorMaterialTechnique, e);
  }
}
class d extends _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_11__.VisualVariablePassParameters {
  constructor() {
    super(...arguments), this.color = _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__.Z, this.forceTransparentMode = !1, this.writeDepth = !0, this.writeLinearDepth = !1, this.hasVertexColors = !1, this.polygonOffset = !1, this.hasSlicePlane = !1, this.cullFace = _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.CullFaceOptions.None, this.hasOccludees = !1;
  }
}


/***/ }),

/***/ 57754:
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PositionColorLayout": () => (/* binding */ v),
/* harmony export */   "PositionColorLayoutObjectAndLayerId": () => (/* binding */ r),
/* harmony export */   "PositionLayout": () => (/* binding */ I),
/* harmony export */   "PositionLayoutObjectAndLayerId": () => (/* binding */ f),
/* harmony export */   "PositionUVLayout": () => (/* binding */ c),
/* harmony export */   "PositionUVLayoutObjectAndLayerId": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ 61462);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


const I = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION),
  c = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.UV0),
  v = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.COLOR),
  f = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.OBJECTANDLAYERIDCOLOR),
  t = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.UV0).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.OBJECTANDLAYERIDCOLOR),
  r = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.COLOR).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.OBJECTANDLAYERIDCOLOR);


/***/ }),

/***/ 30416:
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DrawParameters.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DrawParameters": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/VertexNormal.glsl.js */ 16568);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class i extends _core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_1__.VertexNormalDrawParameters {
  constructor(s = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)()) {
    super(), this.origin = s, this.slicePlaneLocalOrigin = this.origin;
  }
}


/***/ }),

/***/ 66036:
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HUDMaterial": () => (/* binding */ $),
/* harmony export */   "Parameters": () => (/* binding */ Te)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ 93142);
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat3.js */ 38974);
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/mat3f64.js */ 53251);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ 80775);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec2f64.js */ 83457);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _core_libs_gl_matrix_2_types_mat4_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/types/mat4.js */ 6568);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ 97498);
/* harmony import */ var _layers_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/support/FastSymbolUpdates.js */ 43196);
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/debugFlags.js */ 65933);
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ 61462);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../core/shaderLibrary/hud/HUD.glsl.js */ 81573);
/* harmony import */ var _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../lib/GLTextureMaterial.js */ 65894);
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../lib/Material.js */ 32051);
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../lib/RenderSlot.js */ 66176);
/* harmony import */ var _lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../lib/screenSizePerspectiveUtils.js */ 41097);
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../lib/Util.js */ 12042);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ 51663);
/* harmony import */ var _ScaleInfo_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ScaleInfo.js */ 88765);
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ 35919);
/* harmony import */ var _internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./internal/MaterialUtil.js */ 87578);
/* harmony import */ var _chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../chunks/HUDMaterial.glsl.js */ 38723);
/* harmony import */ var _shaders_HUDMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../shaders/HUDMaterialTechnique.js */ 49614);
/* harmony import */ var _shaders_HUDMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../shaders/HUDMaterialTechniqueConfiguration.js */ 72091);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/































class $ extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_20__.Material {
  constructor(e) {
    super(e, new Te()), this._configuration = new _shaders_HUDMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_30__.HUDMaterialTechniqueConfiguration();
  }
  getConfiguration(e, t) {
    return this._configuration.output = e, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.hasVerticalOffset = !!this.parameters.verticalOffset, this._configuration.hasScreenSizePerspective = !!this.parameters.screenSizePerspective, this._configuration.screenCenterOffsetUnitsEnabled = "screen" === this.parameters.centerOffsetUnits, this._configuration.hasPolygonOffset = this.parameters.polygonOffset, this._configuration.draped = this.parameters.isDraped, this._configuration.occlusionTestEnabled = this.parameters.occlusionTest, this._configuration.pixelSnappingEnabled = this.parameters.pixelSnappingEnabled, this._configuration.signedDistanceFieldEnabled = this.parameters.textureIsSignedDistanceField, this._configuration.sampleSignedDistanceFieldTexelCenter = this.parameters.sampleSignedDistanceFieldTexelCenter, this._configuration.vvSize = !!this.parameters.vvSize, this._configuration.vvColor = !!this.parameters.vvColor, this._configuration.occlusionPass = t.slot === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_21__.RenderSlot.OCCLUSION_PIXELS && this.parameters.occlusionTest && (e === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Color || e === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Alpha), e === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Color && (this._configuration.debugDrawLabelBorder = !!_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_15__.debugFlags.LABELS_SHOW_BORDER), this._configuration.depthEnabled = this.parameters.depthEnabled, this._configuration.transparencyPassType = t.transparencyPassType, this._configuration.multipassEnabled = t.multipassEnabled, this._configuration.cullAboveGround = t.multipassTerrain.cullAboveGround, this._configuration;
  }
  intersect(e, s, i, a, n, o) {
    if (!(i.options.selectionMode && i.options.hud && e.visible && i.point)) return;
    const g = this.parameters,
      S = i.point,
      O = i.camera;
    let {
      scaleX: A,
      scaleY: v
    } = this._getScreenScale(e);
    A *= O.pixelRatio, v *= O.pixelRatio, (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.f)(ue, s), e.attributes.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.FEATUREATTRIBUTE) && se(ue);
    const T = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.POSITION),
      _ = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.SIZE),
      I = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.NORMAL),
      y = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.AUXPOS1);
    (0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_23__.assert)(T.size >= 3);
    const P = (0,_chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_28__.c)(g),
      E = "screen" === this.parameters.centerOffsetUnits;
    for (let t = 0; t < T.data.length / T.size; t++) {
      const e = t * T.size;
      (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.s)(ne, T.data[e], T.data[e + 1], T.data[e + 2]), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.e)(ne, ne, s);
      const a = t * _.size;
      Ae[0] = _.data[a] * A, Ae[1] = _.data[a + 1] * v, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.e)(ne, ne, O.viewMatrix);
      const n = t * y.size;
      if ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.s)(me, y.data[n], y.data[n + 1], y.data[n + 2]), !E && (ne[0] += me[0], ne[1] += me[1], 0 !== me[2])) {
        const e = me[2];
        (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.n)(me, ne), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.f)(ne, ne, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.i)(me, me, e));
      }
      const R = t * I.size;
      if ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.s)(oe, I.data[R], I.data[R + 1], I.data[R + 2]), this._normalAndViewAngle(oe, ue, O, Se), this._applyVerticalOffsetTransformationView(ne, Se, O, ie), O.applyProjection(ne, ce), ce[0] > -1) {
        E && (me[0] || me[1]) && (ce[0] += me[0] * O.pixelRatio, 0 !== me[1] && (ce[1] += (0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.applyScaleFactor)(me[1], ie.factorAlignment) * O.pixelRatio), O.unapplyProjection(ce, ne)), ce[0] += this.parameters.screenOffset[0] * O.pixelRatio, ce[1] += this.parameters.screenOffset[1] * O.pixelRatio, ce[0] = Math.floor(ce[0]), ce[1] = Math.floor(ce[1]), (0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.applyPrecomputedScaleFactor)(Ae, ie.factor, Ae);
        const e = Oe * O.pixelRatio;
        let t = 0;
        if (g.textureIsSignedDistanceField && (t = g.outlineSize * O.pixelRatio / 2), re(S, ce[0], ce[1], Ae, e, t, g, P)) {
          const e = i.ray;
          if ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.e)(fe, ne, (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.i)(he, O.viewMatrix)), ce[0] = S[0], ce[1] = S[1], O.unprojectFromRenderScreen(ce, ne)) {
            const t = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)();
            (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.c)(t, e.direction);
            const s = 1 / (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.l)(t);
            (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.i)(t, t, s);
            o((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.o)(e.origin, ne) * s, t, -1, !0, 1, fe);
          }
        }
      }
    }
  }
  intersectDraped(e, t, s, r, i, a) {
    const n = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.POSITION),
      o = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.SIZE),
      c = this.parameters,
      l = (0,_chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_28__.c)(c);
    let {
      scaleX: f,
      scaleY: u
    } = this._getScreenScale(e);
    f *= e.screenToWorldRatio, u *= e.screenToWorldRatio;
    const p = be * e.screenToWorldRatio;
    for (let h = 0; h < n.data.length / n.size; h++) {
      const t = h * n.size,
        s = n.data[t],
        m = n.data[t + 1],
        d = h * o.size;
      Ae[0] = o.data[d] * f, Ae[1] = o.data[d + 1] * u;
      let g = 0;
      c.textureIsSignedDistanceField && (g = c.outlineSize * e.screenToWorldRatio / 2), re(r, s, m, Ae, p, g, c, l) && i(a.dist, a.normal, -1, !1);
    }
  }
  createBufferWriter() {
    return new ye(this);
  }
  _normalAndViewAngle(e, s, r, i) {
    return (0,_core_libs_gl_matrix_2_types_mat4_js__WEBPACK_IMPORTED_MODULE_11__.isMat4)(s) && (s = (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.f)(pe, s)), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.t)(i.normal, e, s), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.e)(i.normal, i.normal, r.viewInverseTransposeMatrix), i.cosAngle = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.j)(le, ve), i;
  }
  _updateScaleInfo(e, t, s) {
    const r = this.parameters;
    null != r.screenSizePerspective ? (0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.precomputeScaleFactor)(s, t, r.screenSizePerspective, e.factor) : (e.factor.scale = 1, e.factor.factor = 0, e.factor.minScaleFactor = 0), null != r.screenSizePerspectiveAlignment ? (0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.precomputeScaleFactor)(s, t, r.screenSizePerspectiveAlignment, e.factorAlignment) : (e.factorAlignment.factor = e.factor.factor, e.factorAlignment.scale = e.factor.scale, e.factorAlignment.minScaleFactor = e.factor.minScaleFactor);
  }
  applyShaderOffsetsView(e, t, s, r, i, a, n) {
    const o = this._normalAndViewAngle(t, s, i, Se);
    return this._applyVerticalGroundOffsetView(e, o, i, n), this._applyVerticalOffsetTransformationView(n, o, i, a), this._applyPolygonOffsetView(n, o, r[3], i, n), this._applyCenterOffsetView(n, r, n), n;
  }
  applyShaderOffsetsNDC(e, t, s, r, i) {
    return this._applyCenterOffsetNDC(e, t, s, r), null != i && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.c)(i, r), this._applyPolygonOffsetNDC(r, t, s, r), r;
  }
  _applyPolygonOffsetView(t, s, r, i, a) {
    const n = i.aboveGround ? 1 : -1;
    let o = Math.sign(r);
    0 === o && (o = n);
    const c = n * o;
    if (this.parameters.shaderPolygonOffset <= 0) return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.c)(a, t);
    const l = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(Math.abs(s.cosAngle), .01, 1),
      f = 1 - Math.sqrt(1 - l * l) / l / i.viewport[2];
    return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.i)(a, t, c > 0 ? f : 1 / f), a;
  }
  _applyVerticalGroundOffsetView(e, t, s, r) {
    const i = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.l)(e),
      a = s.aboveGround ? 1 : -1,
      n = s.computeRenderPixelSizeAtDist(i) * _core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_18__.HUDVerticalPixelOffset,
      o = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.i)(ne, t.normal, a * n);
    return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.g)(r, e, o), r;
  }
  _applyVerticalOffsetTransformationView(e, t, s, r) {
    const i = this.parameters;
    if (!i.verticalOffset?.screenLength) {
      if (i.screenSizePerspective || i.screenSizePerspectiveAlignment) {
        const s = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.l)(e);
        this._updateScaleInfo(r, s, t.cosAngle);
      } else r.factor.scale = 1, r.factorAlignment.scale = 1;
      return e;
    }
    const a = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.l)(e),
      n = i.screenSizePerspectiveAlignment ?? i.screenSizePerspective,
      o = (0,_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_27__.verticalOffsetAtDistance)(s, a, i.verticalOffset, t.cosAngle, n);
    return this._updateScaleInfo(r, a, t.cosAngle), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.i)(t.normal, t.normal, o), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.g)(e, e, t.normal);
  }
  _applyCenterOffsetView(e, t, s) {
    const r = "screen" !== this.parameters.centerOffsetUnits;
    return s !== e && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.c)(s, e), r && (s[0] += t[0], s[1] += t[1], t[2] && ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.n)(oe, s), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.g)(s, s, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.i)(oe, oe, t[2])))), s;
  }
  _applyCenterOffsetNDC(e, t, s, r) {
    const i = "screen" !== this.parameters.centerOffsetUnits;
    return r !== e && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.c)(r, e), i || (r[0] += t[0] / s.fullWidth * 2, r[1] += t[1] / s.fullHeight * 2), r;
  }
  _applyPolygonOffsetNDC(e, t, s, r) {
    const i = this.parameters.shaderPolygonOffset;
    if (e !== r && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.c)(r, e), i) {
      const e = s.aboveGround ? 1 : -1,
        a = e * Math.sign(t[3]);
      r[2] -= (a || e) * i;
    }
    return r;
  }
  produces(e, t) {
    if (t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Color || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Alpha || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Highlight || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.ObjectAndLayerIdColor) {
      if (e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_21__.RenderSlot.DRAPED_MATERIAL) return !0;
      const {
        drawInSecondSlot: t,
        occlusionTest: s
      } = this.parameters;
      return e === (t ? _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_21__.RenderSlot.LABEL_MATERIAL : _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_21__.RenderSlot.HUD_MATERIAL) || s && e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_21__.RenderSlot.OCCLUSION_PIXELS;
    }
    return !1;
  }
  createGLMaterial(e) {
    return new ee(e);
  }
  calculateRelativeScreenBounds(e, t, s = (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.create)()) {
    return te(this.parameters, e, t, s), s[2] = s[0] + e[0], s[3] = s[1] + e[1], s;
  }
  _getScreenScale(e) {
    const t = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.FEATUREATTRIBUTE);
    if (null == t) return {
      scaleX: 1,
      scaleY: 1
    };
    const s = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__.b)(t.data, ge),
      [r, i] = (0,_layers_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_14__.evaluateModelTransformScale)(de, this.parameters, s);
    return {
      scaleX: r,
      scaleY: i
    };
  }
}
class ee extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_19__.GLTextureMaterial {
  constructor(e) {
    super({
      ...e,
      ...e.material.parameters
    });
  }
  selectProgram(e) {
    return this.ensureTechnique(_shaders_HUDMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_29__.HUDMaterialTechnique, e);
  }
  beginSlot(e) {
    return this.updateTexture(this._material.parameters.textureId), this._material.setParameters(this.textureBindParameters), this.selectProgram(e);
  }
}
function te(e, t, s, r = ae) {
  return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_6__.j)(r, e.anchorPosition), r[0] *= -t[0], r[1] *= -t[1], r[0] += e.screenOffset[0] * s, r[1] += e.screenOffset[1] * s, r;
}
function se(e) {
  const t = e[0],
    s = e[1],
    r = e[2],
    i = e[3],
    a = e[4],
    n = e[5],
    o = e[6],
    c = e[7],
    l = e[8],
    f = 1 / Math.sqrt(t * t + s * s + r * r),
    u = 1 / Math.sqrt(i * i + a * a + n * n),
    p = 1 / Math.sqrt(o * o + c * c + l * l);
  return e[0] = t * f, e[1] = s * f, e[2] = r * f, e[3] = i * u, e[4] = a * u, e[5] = n * u, e[6] = o * p, e[7] = c * p, e[8] = l * p, e;
}
function re(e, t, s, r, i, a, n, o) {
  let c = t - i - (o[0] > 0 ? r[0] * o[0] : 0),
    l = c + r[0] + 2 * i,
    f = s - i - (o[1] > 0 ? r[1] * o[1] : 0),
    u = f + r[1] + 2 * i;
  const p = n.distanceFieldBoundingBox;
  return n.textureIsSignedDistanceField && null != p && (c += r[0] * p[0], f += r[1] * p[1], l -= r[0] * (1 - p[2]), u -= r[1] * (1 - p[3]), c -= a, l += a, f -= a, u += a), e[0] > c && e[0] < l && e[1] > f && e[1] < u;
}
const ie = new _ScaleInfo_js__WEBPACK_IMPORTED_MODULE_25__.ScaleInfo(),
  ae = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),
  ne = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),
  oe = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),
  ce = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(),
  le = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),
  fe = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),
  ue = (0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),
  pe = (0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),
  he = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(),
  me = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),
  de = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(),
  ge = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(),
  Se = {
    normal: le,
    cosAngle: 0
  },
  Oe = 1,
  be = 2,
  Ae = [0, 0],
  ve = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.f)(0, 0, 1);
class Te extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_19__.GLTextureMaterialBindParameters {
  constructor() {
    super(...arguments), this.renderOccluded = _lib_Material_js__WEBPACK_IMPORTED_MODULE_20__.RenderOccludedFlag.Occlude, this.isDecoration = !1, this.color = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__.f)(1, 1, 1, 1), this.texCoordScale = [1, 1], this.polygonOffset = !1, this.anchorPosition = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.f)(.5, .5), this.screenOffset = [0, 0], this.shaderPolygonOffset = 1e-5, this.textureIsSignedDistanceField = !1, this.sampleSignedDistanceFieldTexelCenter = !1, this.outlineColor = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__.f)(1, 1, 1, 1), this.outlineSize = 0, this.vvSizeEnabled = !1, this.vvSize = null, this.vvColor = null, this.vvOpacity = null, this.vvSymbolAnchor = null, this.vvSymbolRotationMatrix = null, this.hasSlicePlane = !1, this.pixelSnappingEnabled = !0, this.occlusionTest = !0, this.centerOffsetUnits = "world", this.drawInSecondSlot = !1, this.depthEnabled = !0, this.isDraped = !1;
  }
}
const _e = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_16__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.POSITION).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.NORMAL).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.UV0).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.COLOR).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.SIZE).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.AUXPOS1).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.FEATUREATTRIBUTE),
  Ie = _e.clone().vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.OBJECTANDLAYERIDCOLOR);
class ye {
  constructor(e) {
    this._material = e, this.vertexBufferLayout = (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("enable-feature:objectAndLayerId-rendering") ? Ie : _e;
  }
  elementCount(e) {
    return 6 * e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.POSITION).indices.length;
  }
  write(e, t, s, r, i) {
    (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_26__.writePosition)(s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.POSITION), e, r.position, i, 6), (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_26__.writeNormal)(s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.NORMAL), t, r.normal, i, 6);
    const a = s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.UV0).data;
    let n, o, c, l;
    if (null == a || a.length < 4) {
      const e = this._material.parameters;
      n = 0, o = 0, c = e.texCoordScale[0], l = e.texCoordScale[1];
    } else n = a[0], o = a[1], c = a[2], l = a[3];
    c = Math.min(1.99999, c + 1), l = Math.min(1.99999, l + 1);
    let f = s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.POSITION).indices.length,
      u = i;
    const p = r.uv0;
    for (let g = 0; g < f; ++g) p.set(u, 0, n), p.set(u, 1, o), u++, p.set(u, 0, c), p.set(u, 1, o), u++, p.set(u, 0, c), p.set(u, 1, l), u++, p.set(u, 0, c), p.set(u, 1, l), u++, p.set(u, 0, n), p.set(u, 1, l), u++, p.set(u, 0, n), p.set(u, 1, o), u++;
    (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_26__.writeColor)(s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.COLOR), 4, r.color, i, 6);
    const {
      data: h,
      indices: m
    } = s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.SIZE);
    f = m.length;
    const d = r.size;
    u = i;
    for (let g = 0; g < f; ++g) {
      const e = h[2 * m[g]],
        t = h[2 * m[g] + 1];
      for (let s = 0; s < 6; ++s) d.set(u, 0, e), d.set(u, 1, t), u++;
    }
    if (s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.AUXPOS1) ? (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_26__.writeBufferVec4)(s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.AUXPOS1), r.auxpos1, i, 6) : (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_26__.writeBufferVec4Zeros)(r.auxpos1, i, 6 * f), s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.FEATUREATTRIBUTE) ? (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_26__.writeBufferVec4)(s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.FEATUREATTRIBUTE), r.featureAttribute, i, 6) : (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_26__.writeBufferVec4Zeros)(r.featureAttribute, i, 6 * f), null != s.objectAndLayerIdColor) {
      const e = s.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.POSITION)?.indices;
      if (e) {
        const t = e.length,
          a = r.getField(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.OBJECTANDLAYERIDCOLOR, _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec4u8);
        (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_26__.writeObjectAndLayerIdColor)(s.objectAndLayerIdColor, a, t, i, 6);
      }
    }
  }
}


/***/ }),

/***/ 17970:
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ProceduralTextureRepository.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProceduralTextureRepository": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/uid.js */ 29962);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class t {
  constructor(t, r, s) {
    this._createTexture = t, this._parametersKey = r, this._repository = new Map(), this._orphanCache = s.newCache(`procedural-texture-repository:${(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_0__.generateUID)()}`, e => e.dispose());
  }
  destroy() {
    for (const [e, {
      texture: t
    }] of this._repository) t.dispose();
    this._repository.clear(), this._orphanCache.destroy();
  }
  swap(e, t = null) {
    const r = this._acquire(e);
    return this.release(t), r;
  }
  release(e) {
    if (null == e) return;
    const t = this._parametersKey(e),
      r = this._repository.get(t);
    if (r && (r.refCount--, 0 === r.refCount)) {
      this._repository.delete(t);
      const {
          texture: e
        } = r,
        s = e.gpuMemoryUsage;
      this._orphanCache.put(t, e, s);
    }
  }
  _acquire(e) {
    if (null == e) return null;
    const t = this._parametersKey(e),
      s = this._repository.get(t);
    if (s) return s.refCount++, s.texture;
    const o = this._orphanCache.pop(t) ?? this._createTexture(e),
      i = new r(o);
    return this._repository.set(t, i), o;
  }
}
class r {
  constructor(e) {
    this.texture = e, this.refCount = 1;
  }
}


/***/ }),

/***/ 75287:
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Parameters": () => (/* binding */ z),
/* harmony export */   "RibbonLineMaterial": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ 28191);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ 93142);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ 55798);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ 80775);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/frustum.js */ 68075);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ 19511);
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ 45903);
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ 61462);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../lib/GLMaterial.js */ 44272);
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../lib/Material.js */ 32051);
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../lib/RenderSlot.js */ 66176);
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../lib/Util.js */ 12042);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ 51663);
/* harmony import */ var _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./VisualVariablePassParameters.js */ 41595);
/* harmony import */ var _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../shaders/LineMarkerTechniqueConfiguration.js */ 6276);
/* harmony import */ var _chunks_RibbonLine_glsl_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../chunks/RibbonLine.glsl.js */ 14757);
/* harmony import */ var _shaders_RibbonLineTechnique_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../shaders/RibbonLineTechnique.js */ 80804);
/* harmony import */ var _shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../shaders/RibbonLineTechniqueConfiguration.js */ 97288);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/























var M;
!function (e) {
  e[e.LEFT_JOIN_START = -2] = "LEFT_JOIN_START", e[e.LEFT_JOIN_END = -1] = "LEFT_JOIN_END", e[e.LEFT_CAP_START = -4] = "LEFT_CAP_START", e[e.LEFT_CAP_END = -5] = "LEFT_CAP_END", e[e.RIGHT_JOIN_START = 2] = "RIGHT_JOIN_START", e[e.RIGHT_JOIN_END = 1] = "RIGHT_JOIN_END", e[e.RIGHT_CAP_START = 4] = "RIGHT_CAP_START", e[e.RIGHT_CAP_END = 5] = "RIGHT_CAP_END";
}(M || (M = {}));
class x extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_14__.Material {
  constructor(e) {
    super(e, new z()), this._configuration = new _shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_22__.RibbonLineTechniqueConfiguration(), this._vertexAttributeLocations = _shaders_RibbonLineTechnique_js__WEBPACK_IMPORTED_MODULE_21__.vertexAttributeLocations;
  }
  getConfiguration(e, t) {
    this._configuration.output = e, this._configuration.draped = t.slot === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.DRAPED_MATERIAL;
    const r = null != this.parameters.stipplePattern && e !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Highlight;
    return this._configuration.stippleEnabled = r, this._configuration.stippleOffColorEnabled = r && null != this.parameters.stippleOffColor, this._configuration.stipplePreferContinuous = r && this.parameters.stipplePreferContinuous, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.hasOccludees = this.parameters.hasOccludees, this._configuration.roundJoins = "round" === this.parameters.join, this._configuration.capType = this.parameters.cap, this._configuration.applyMarkerOffset = null != this.parameters.markerParameters && V(this.parameters.markerParameters), this._configuration.hasPolygonOffset = this.parameters.hasPolygonOffset, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.vvSize = !!this.parameters.vvSize, this._configuration.vvColor = !!this.parameters.vvColor, this._configuration.vvOpacity = !!this.parameters.vvOpacity, this._configuration.innerColorEnabled = this.parameters.innerWidth > 0 && null != this.parameters.innerColor, this._configuration.falloffEnabled = this.parameters.falloff > 0, this._configuration.occluder = this.parameters.renderOccluded === _lib_Material_js__WEBPACK_IMPORTED_MODULE_14__.RenderOccludedFlag.OccludeAndTransparentStencil, this._configuration.transparencyPassType = t.transparencyPassType, this._configuration.multipassEnabled = t.multipassEnabled, this._configuration.cullAboveGround = t.multipassTerrain.cullAboveGround, this._configuration.wireframe = this.parameters.wireframe, this._configuration;
  }
  intersectDraped(e, r, s, i, a, n) {
    if (!s.options.selectionMode) return;
    const o = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION).data,
      l = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZE);
    let u = this.parameters.width;
    if (this.parameters.vvSize) {
      const r = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZEFEATUREATTRIBUTE).data[0];
      u *= (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.clamp)(this.parameters.vvSize.offset[0] + r * this.parameters.vvSize.factor[0], this.parameters.vvSize.minSize[0], this.parameters.vvSize.maxSize[0]);
    } else l && (u *= l.data[0]);
    const c = i[0],
      h = i[1],
      p = (u / 2 + 4) * e.screenToWorldRatio;
    let f = Number.MAX_VALUE,
      m = 0;
    for (let T = 0; T < o.length - 5; T += 3) {
      const e = o[T],
        r = o[T + 1],
        s = c - e,
        i = h - r,
        a = o[T + 3] - e,
        n = o[T + 4] - r,
        l = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.clamp)((a * s + n * i) / (a * a + n * n), 0, 1),
        u = a * l - s,
        p = n * l - i,
        d = u * u + p * p;
      d < f && (f = d, m = T / 3);
    }
    f < p * p && a(n.dist, n.normal, m, !1);
  }
  intersect(r, p, f, m, d, R) {
    if (!f.options.selectionMode || !r.visible) return;
    if (!(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_16__.isTranslationMatrix)(p)) return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.3d.webgl-engine.materials.RibbonLineMaterial").error("intersection assumes a translation-only matrix");
    const O = r.attributes,
      b = O.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION).data;
    let v = this.parameters.width;
    if (this.parameters.vvSize) {
      const e = O.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZEFEATUREATTRIBUTE).data[0];
      v *= (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.clamp)(this.parameters.vvSize.offset[0] + e * this.parameters.vvSize.factor[0], this.parameters.vvSize.minSize[0], this.parameters.vvSize.maxSize[0]);
    } else O.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZE) && (v *= O.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZE).data[0]);
    const L = f.camera,
      P = Q;
    (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_4__.j)(P, f.point);
    const N = v * L.pixelRatio / 2 + 4 * L.pixelRatio;
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(oe[0], P[0] - N, P[1] + N, 0), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(oe[1], P[0] + N, P[1] + N, 0), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(oe[2], P[0] + N, P[1] - N, 0), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(oe[3], P[0] - N, P[1] - N, 0);
    for (let e = 0; e < 4; e++) if (!L.unprojectFromRenderScreen(oe[e], le[e])) return;
    (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.fromPoints)(L.eye, le[0], le[1], ue), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.fromPoints)(L.eye, le[1], le[2], ce), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.fromPoints)(L.eye, le[2], le[3], he), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.fromPoints)(L.eye, le[3], le[0], pe);
    let j = Number.MAX_VALUE,
      U = 0;
    const D = Z(this.parameters, O) ? b.length - 2 : b.length - 5;
    for (let e = 0; e < D; e += 3) {
      W[0] = b[e] + p[12], W[1] = b[e + 1] + p[13], W[2] = b[e + 2] + p[14];
      const t = (e + 3) % b.length;
      if (Y[0] = b[t] + p[12], Y[1] = b[t + 1] + p[13], Y[2] = b[t + 2] + p[14], (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.signedDistance)(ue, W) < 0 && (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.signedDistance)(ue, Y) < 0 || (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.signedDistance)(ce, W) < 0 && (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.signedDistance)(ce, Y) < 0 || (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.signedDistance)(he, W) < 0 && (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.signedDistance)(he, Y) < 0 || (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.signedDistance)(pe, W) < 0 && (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.signedDistance)(pe, Y) < 0) continue;
      if (L.projectToRenderScreen(W, K), L.projectToRenderScreen(Y, $), K[2] < 0 && $[2] > 0) {
        (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.f)(X, W, Y);
        const e = L.frustum,
          t = -(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.signedDistance)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_8__.PlaneIndex.NEAR], W) / (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.j)(X, (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.normal)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_8__.PlaneIndex.NEAR]));
        (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(X, X, t), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.g)(W, W, X), L.projectToRenderScreen(W, K);
      } else if (K[2] > 0 && $[2] < 0) {
        (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.f)(X, Y, W);
        const e = L.frustum,
          t = -(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.signedDistance)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_8__.PlaneIndex.NEAR], Y) / (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.j)(X, (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.normal)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_8__.PlaneIndex.NEAR]));
        (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(X, X, t), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.g)(Y, Y, X), L.projectToRenderScreen(Y, $);
      } else if (K[2] < 0 && $[2] < 0) continue;
      K[2] = 0, $[2] = 0;
      const r = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.distance2)((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(K, $, re), P);
      r < j && (j = r, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(ee, W), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(te, Y), U = e / 3);
    }
    const F = f.rayBegin,
      w = f.rayEnd;
    if (j < N * N) {
      let e = Number.MAX_VALUE;
      if ((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.closestLineSegmentPoint)((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(ee, te, re), (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(F, w, se), q)) {
        (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.f)(q, q, F);
        const t = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.l)(q);
        (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(q, q, 1 / t), e = t / (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.o)(F, w);
      }
      R(e, q, U, !1);
    }
  }
  get _layout() {
    const e = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_11__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION).f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SUBDIVISIONFACTOR).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.UV0).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.AUXPOS1).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.AUXPOS2);
    return this.parameters.vvSize ? e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZEFEATUREATTRIBUTE) : e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZE), this.parameters.vvColor ? e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.COLORFEATUREATTRIBUTE) : e.vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.COLOR), this.parameters.vvOpacity && e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.OPACITYFEATUREATTRIBUTE), (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("enable-feature:objectAndLayerId-rendering") && e.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.OBJECTANDLAYERIDCOLOR), e;
  }
  createBufferWriter() {
    return new H(this._layout, this.parameters);
  }
  produces(e, t) {
    if (t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Color || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Alpha || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Highlight || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Depth || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.ObjectAndLayerIdColor) {
      if (e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.DRAPED_MATERIAL) return !0;
      if (this.parameters.renderOccluded === _lib_Material_js__WEBPACK_IMPORTED_MODULE_14__.RenderOccludedFlag.OccludeAndTransparentStencil) return e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.OPAQUE_MATERIAL || e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.OCCLUDER_MATERIAL || e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL;
      if (t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Color || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Alpha) {
        return e === (this.parameters.writeDepth ? _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.TRANSPARENT_MATERIAL : _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL);
      }
      return e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.OPAQUE_MATERIAL;
    }
    return !1;
  }
  createGLMaterial(e) {
    return new G(e);
  }
  validateParameters(e) {
    "miter" !== e.join && (e.miterLimit = 0), null != e.markerParameters && (e.markerScale = e.markerParameters.width / e.width);
  }
}
class G extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_13__["default"] {
  constructor() {
    super(...arguments), this._stipplePattern = null;
  }
  dispose() {
    super.dispose(), this._stippleTextureRepository.release(this._stipplePattern), this._stipplePattern = null;
  }
  _updateOccludeeState(e) {
    e.hasOccludees !== this._material.parameters.hasOccludees && this._material.setParameters({
      hasOccludees: e.hasOccludees
    });
  }
  beginSlot(e) {
    this._output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Color && this._output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Alpha || this._updateOccludeeState(e);
    const t = this._material.parameters.stipplePattern;
    return this._stipplePattern !== t && (this._material.setParameters({
      stippleTexture: this._stippleTextureRepository.swap(t, this._stipplePattern)
    }), this._stipplePattern = t), this.ensureTechnique(_shaders_RibbonLineTechnique_js__WEBPACK_IMPORTED_MODULE_21__.RibbonLineTechnique, e);
  }
}
class z extends _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_18__.VisualVariablePassParameters {
  constructor() {
    super(...arguments), this.width = 0, this.color = _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_7__.O, this.join = "miter", this.cap = _shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_22__.CapType.BUTT, this.miterLimit = 5, this.writeDepth = !0, this.hasPolygonOffset = !1, this.stippleTexture = null, this.stipplePreferContinuous = !0, this.markerParameters = null, this.markerScale = 1, this.hasSlicePlane = !1, this.vvFastUpdate = !1, this.isClosed = !1, this.falloff = 0, this.innerWidth = 0, this.hasOccludees = !1, this.wireframe = !1;
  }
}
class H {
  constructor(e, t) {
    this.vertexBufferLayout = e, this._parameters = t, this.numJoinSubdivisions = 0;
    const r = t.stipplePattern ? 1 : 0;
    switch (this._parameters.join) {
      case "miter":
      case "bevel":
        this.numJoinSubdivisions = r;
        break;
      case "round":
        this.numJoinSubdivisions = _chunks_RibbonLine_glsl_js__WEBPACK_IMPORTED_MODULE_20__.r + r;
    }
  }
  _isClosed(e) {
    return Z(this._parameters, e.attributes);
  }
  allocate(e) {
    return this.vertexBufferLayout.createBuffer(e);
  }
  elementCount(e) {
    const t = 2,
      r = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION).indices.length / 2 + 1,
      s = this._isClosed(e);
    let i = s ? 2 : 2 * t;
    return i += ((s ? r : r - 1) - (s ? 0 : 1)) * (2 * this.numJoinSubdivisions + 4), i += 2, this._parameters.wireframe && (i = 2 + 4 * (i - 2)), i;
  }
  write(e, t, r, s, a) {
    const n = ie,
      o = ae,
      l = ne,
      c = r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION),
      f = c.indices,
      m = c.data.length / 3,
      T = r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.DISTANCETOSTART)?.data;
    f && f.length !== 2 * (m - 1) && console.warn("RibbonLineMaterial does not support indices");
    let d = 1,
      _ = 0;
    const E = this.vertexBufferLayout.fields.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZEFEATUREATTRIBUTE);
    E ? _ = r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZEFEATUREATTRIBUTE).data[0] : r.attributes.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZE) && (d = r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SIZE).data[0]);
    let A = [1, 1, 1, 1],
      R = 0;
    const I = this.vertexBufferLayout.fields.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.COLORFEATUREATTRIBUTE);
    I ? R = r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.COLORFEATUREATTRIBUTE).data[0] : r.attributes.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.COLOR) && (A = r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.COLOR).data);
    const S = (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("enable-feature:objectAndLayerId-rendering") ? r.objectAndLayerIdColor : null;
    let g = 0;
    const O = this.vertexBufferLayout.fields.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.OPACITYFEATUREATTRIBUTE);
    O && (g = r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.OPACITYFEATUREATTRIBUTE).data[0]);
    const b = new Float32Array(s.buffer),
      v = (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("enable-feature:objectAndLayerId-rendering") ? new Uint8Array(s.buffer) : null,
      L = this.vertexBufferLayout.stride / 4;
    let P = a * L;
    const N = P;
    let C = 0;
    const j = T ? (e, t, r) => C = T[r] : (e, t, r) => C += (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.o)(e, t),
      U = (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("enable-feature:objectAndLayerId-rendering"),
      D = (e, t, r, s, i, a, n) => {
        if (b[P++] = t[0], b[P++] = t[1], b[P++] = t[2], b[P++] = s, b[P++] = n, b[P++] = i, b[P++] = e[0], b[P++] = e[1], b[P++] = e[2], b[P++] = r[0], b[P++] = r[1], b[P++] = r[2], b[P++] = E ? _ : d, I) b[P++] = R;else {
          const e = Math.min(4 * a, A.length - 4);
          b[P++] = A[e], b[P++] = A[e + 1], b[P++] = A[e + 2], b[P++] = A[e + 3];
        }
        O && (b[P++] = g), U && (null != S && (v[4 * P] = S[0], v[4 * P + 1] = S[1], v[4 * P + 2] = S[2], v[4 * P + 3] = S[3]), P++);
      };
    P += L, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(o, c.data[0], c.data[1], c.data[2]), e && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)(o, o, e);
    const F = this._isClosed(r);
    if (F) {
      const t = c.data.length - 3;
      (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(n, c.data[t], c.data[t + 1], c.data[t + 2]), e && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)(n, n, e);
    } else (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(l, c.data[3], c.data[4], c.data[5]), e && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)(l, l, e), D(o, o, l, 1, M.LEFT_CAP_START, 0, 0), D(o, o, l, 1, M.RIGHT_CAP_START, 0, 0), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(n, o), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(o, l);
    const w = F ? 0 : 1,
      B = F ? m : m - 1;
    for (let h = w; h < B; h++) {
      const t = (h + 1) % m * 3;
      (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(l, c.data[t], c.data[t + 1], c.data[t + 2]), e && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)(l, l, e), j(n, o, h), D(n, o, l, 0, M.LEFT_JOIN_END, h, C), D(n, o, l, 0, M.RIGHT_JOIN_END, h, C);
      const r = this.numJoinSubdivisions;
      for (let e = 0; e < r; ++e) {
        const t = (e + 1) / (r + 1);
        D(n, o, l, t, M.LEFT_JOIN_END, h, C), D(n, o, l, t, M.RIGHT_JOIN_END, h, C);
      }
      D(n, o, l, 1, M.LEFT_JOIN_START, h, C), D(n, o, l, 1, M.RIGHT_JOIN_START, h, C), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(n, o), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(o, l);
    }
    F ? ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(l, c.data[3], c.data[4], c.data[5]), e && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)(l, l, e), C = j(n, o, B), D(n, o, l, 0, M.LEFT_JOIN_END, w, C), D(n, o, l, 0, M.RIGHT_JOIN_END, w, C)) : (C = j(n, o, B), D(n, o, o, 0, M.LEFT_CAP_END, B, C), D(n, o, o, 0, M.RIGHT_CAP_END, B, C)), k(b, N + L, b, N, L);
    P = k(b, P - L, b, P, L), this._parameters.wireframe && this._addWireframeVertices(s, N, P, L);
  }
  _addWireframeVertices(e, t, r, s) {
    const i = new Float32Array(e.buffer, r * Float32Array.BYTES_PER_ELEMENT),
      a = new Float32Array(e.buffer, t * Float32Array.BYTES_PER_ELEMENT, r - t);
    let n = 0;
    const o = e => n = k(a, e, i, n, s);
    for (let l = 0; l < a.length - 1; l += 2 * s) o(l), o(l + 2 * s), o(l + 1 * s), o(l + 2 * s), o(l + 1 * s), o(l + 3 * s);
  }
}
function k(e, t, r, s, i) {
  for (let a = 0; a < i; a++) r[s++] = e[t++];
  return s;
}
function Z(e, t) {
  if (!e.isClosed) return !1;
  return t.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION).indices.length > 2;
}
function V(e) {
  return e.anchor === _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_19__.LineMarkerAnchor.Tip && e.hideOnShortSegments && "begin-end" === e.placement && e.worldSpace;
}
const W = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  Y = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  X = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  q = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  Q = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  K = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.createRenderScreenPointArray3)(),
  $ = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.createRenderScreenPointArray3)(),
  ee = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  te = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  re = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.create)(),
  se = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__.create)(),
  ie = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  ae = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  ne = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  oe = [(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.createRenderScreenPointArray3)(), (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.createRenderScreenPointArray3)(), (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.createRenderScreenPointArray3)(), (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.createRenderScreenPointArray3)()],
  le = [(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(), (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(), (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(), (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)()],
  ue = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.create)(),
  ce = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.create)(),
  he = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.create)(),
  pe = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__.create)();


/***/ }),

/***/ 88765:
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ScaleInfo.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ScaleFactor": () => (/* binding */ c),
/* harmony export */   "ScaleInfo": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t {
  constructor() {
    this.factor = new c(), this.factorAlignment = new c();
  }
}
class c {
  constructor() {
    this.scale = 0, this.factor = 0, this.minScaleFactor = 0;
  }
}


/***/ }),

/***/ 40590:
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TriangleMaterial": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/Material.js */ 32051);
/* harmony import */ var _internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/MaterialUtil.js */ 87578);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class e extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_0__.Material {
  intersect(r, e, i, a, l, o) {
    return (0,_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_1__.intersectTriangleGeometry)(r, i, a, l, void 0, o);
  }
}


/***/ }),

/***/ 4069:
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WaterGLMaterial": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/GLMaterial.js */ 44272);
/* harmony import */ var _WaterTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WaterTechnique.js */ 69102);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class s extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_1__["default"] {
  _updateShadowState(e) {
    e.shadowMap.enabled !== this._material.parameters.receiveShadows && this._material.setParameters({
      receiveShadows: e.shadowMap.enabled
    });
  }
  _updateSSRState(e) {
    const t = null != e.ssr.lastFrameColor;
    t !== this._material.parameters.hasScreenSpaceReflections && this._material.setParameters({
      hasScreenSpaceReflections: t
    });
  }
  _updateCloudsReflectionState(e) {
    const t = null != e.cloudsFade.data;
    t !== this._material.parameters.hasCloudsReflections && this._material.setParameters({
      hasCloudsReflections: t
    });
  }
  ensureResources(e) {
    return this._techniqueRepository.constructionContext.waterTextureRepository.ensureResources(e);
  }
  beginSlot(t) {
    return this._output === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color && (this._updateShadowState(t), this._updateSSRState(t), this._updateCloudsReflectionState(t)), this._material.setParameters(this._techniqueRepository.constructionContext.waterTextureRepository.passParameters), this.ensureTechnique(_WaterTechnique_js__WEBPACK_IMPORTED_MODULE_2__.WaterTechnique, t);
  }
}


/***/ }),

/***/ 82488:
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WaterMaterial": () => (/* binding */ d),
/* harmony export */   "WaterMaterialParameters": () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/time.js */ 69354);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec2f64.js */ 83457);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _lib_AnimationTimer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/AnimationTimer.js */ 18356);
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Material.js */ 32051);
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ 31700);
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/RenderSlot.js */ 66176);
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ 55718);
/* harmony import */ var _DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DefaultLayouts.js */ 57754);
/* harmony import */ var _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./TriangleMaterial.js */ 40590);
/* harmony import */ var _WaterGLMaterial_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./WaterGLMaterial.js */ 4069);
/* harmony import */ var _WaterTechnique_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./WaterTechnique.js */ 69102);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/















class d extends _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_12__.TriangleMaterial {
  constructor(e) {
    super(e, new _()), this._configuration = new _WaterTechnique_js__WEBPACK_IMPORTED_MODULE_14__.WaterTechniqueConfiguration(), this._animation = new _lib_AnimationTimer_js__WEBPACK_IMPORTED_MODULE_6__.AnimationTimer();
  }
  getConfiguration(e, t) {
    return this._configuration.output = e, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.receiveShadows = this.parameters.receiveShadows, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.transparent = this.parameters.transparent, this._configuration.hasScreenSpaceReflections = this.parameters.hasScreenSpaceReflections, this._configuration.hasCloudsReflections = this.parameters.hasCloudsReflections, this._configuration.isDraped = this.parameters.isDraped, this._configuration.transparencyPassType = t.transparencyPassType, this._configuration.enableOffset = t.camera.relativeElevation < _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__.OITPolygonOffsetLimit, this._configuration.multipassEnabled = t.multipassEnabled, this._configuration.cullAboveGround = t.multipassTerrain.cullAboveGround, this._configuration;
  }
  update(t) {
    const r = Math.min(t.camera.relativeElevation, t.camera.distance);
    this._animation.enabled = Math.sqrt(this.parameters.waveTextureRepeat / this.parameters.waveStrength) * r < A;
    const a = this._animation.advance(t);
    return this.setParameters({
      timeElapsed: (0,_core_time_js__WEBPACK_IMPORTED_MODULE_1__.secondsFromMilliseconds)(this._animation.time) * this.parameters.animationSpeed
    }, !1), this._animation.enabled && a;
  }
  produces(e, t) {
    switch (t) {
      case _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Normal:
        return e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.DRAPED_WATER;
      case _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Color:
        if (this.parameters.isDraped) return e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.DRAPED_MATERIAL;
        break;
      case _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Alpha:
        break;
      case _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Highlight:
      case _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ObjectAndLayerIdColor:
        return e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.OPAQUE_MATERIAL || e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.DRAPED_MATERIAL;
      default:
        return !1;
    }
    let r = _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.OPAQUE_MATERIAL;
    return this.parameters.transparent && (r = this.parameters.writeDepth ? _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.TRANSPARENT_MATERIAL : _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL), e === r;
  }
  createGLMaterial(e) {
    return new _WaterGLMaterial_js__WEBPACK_IMPORTED_MODULE_13__.WaterGLMaterial(e);
  }
  createBufferWriter() {
    return new _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_10__.DefaultBufferWriter((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("enable-feature:objectAndLayerId-rendering") ? _DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_11__.PositionUVLayoutObjectAndLayerId : _DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_11__.PositionUVLayout);
  }
  get test() {
    return {
      animationEnabled: this._animation.enabled
    };
  }
}
class _ extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_7__.MaterialParameters {
  constructor() {
    super(...arguments), this.waveStrength = .06, this.waveTextureRepeat = 32, this.waveDirection = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(1, 0), this.waveVelocity = .05, this.flowStrength = .015, this.flowOffset = -.5, this.animationSpeed = .35, this.timeElapsed = 0, this.color = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(0, 0, 0, 0), this.transparent = !0, this.writeDepth = !0, this.hasSlicePlane = !1, this.isDraped = !1, this.receiveShadows = !0, this.hasScreenSpaceReflections = !1, this.hasCloudsReflections = !1, this.origin = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(), this.modelTransformation = null;
  }
}
const A = 35e3;


/***/ }),

/***/ 69102:
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WaterMaterialPassParameters": () => (/* binding */ P),
/* harmony export */   "WaterTechnique": () => (/* binding */ S),
/* harmony export */   "WaterTechniqueConfiguration": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../ViewingMode.js */ 56108);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ 85950);
/* harmony import */ var _core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/shading/WaterDistortion.glsl.js */ 73034);
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ 88721);
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ 61089);
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ 31700);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/Program.js */ 44505);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./DefaultTechniqueConfiguration.js */ 58396);
/* harmony import */ var _chunks_WaterSurface_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/WaterSurface.glsl.js */ 66355);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/















class P extends _core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_4__.WaterDistortionPassParameters {}
class S extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_6__.ShaderTechnique {
  initializeConfiguration(e, o) {
    o.spherical = e.viewingMode === _ViewingMode_js__WEBPACK_IMPORTED_MODULE_1__.ViewingMode.Global, o.doublePrecisionRequiresObfuscation = e.rctx.driverTest.doublePrecisionRequiresObfuscation.result;
  }
  initializeProgram(e) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_10__.Program(e.rctx, S.shader.get().build(this.configuration), _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_8__.Default3D);
  }
  _setPipelineState(e) {
    const t = this.configuration,
      r = e === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__.TransparencyPassType.NONE,
      i = e === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__.TransparencyPassType.FrontFace;
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_14__.makePipelineState)({
      blending: t.output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Normal && t.output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Highlight && t.output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.ObjectAndLayerIdColor && t.transparent ? r ? _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__.blendingDefault : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__.oitBlending)(e) : null,
      depthTest: {
        func: (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__.oitDepthTest)(e)
      },
      depthWrite: r ? t.writeDepth ? _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_14__.defaultDepthWriteParams : null : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__.oitDepthWrite)(e),
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_14__.defaultColorWriteParams,
      polygonOffset: r || i ? null : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__.getOITPolygonOffset)(t.enableOffset)
    });
  }
  initializePipeline() {
    return this._setPipelineState(this.configuration.transparencyPassType);
  }
}
S.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_5__.ReloadableShaderModule(_chunks_WaterSurface_glsl_js__WEBPACK_IMPORTED_MODULE_13__.W, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_WaterSurface_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../shaders/WaterSurface.glsl.js */ 74524)));
class T extends _DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.DefaultTechniqueConfiguration {
  constructor() {
    super(...arguments), this.output = _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Color, this.transparencyPassType = _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__.TransparencyPassType.NONE, this.spherical = !1, this.receiveShadows = !1, this.hasSlicePlane = !1, this.transparent = !1, this.enableOffset = !0, this.writeDepth = !1, this.hasScreenSpaceReflections = !1, this.doublePrecisionRequiresObfuscation = !1, this.hasCloudsReflections = !1, this.objectAndLayerIdColorInstanced = !1, this.isDraped = !1, this.multipassEnabled = !1, this.cullAboveGround = !1;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)({
  count: _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.COUNT
})], T.prototype, "output", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)({
  count: _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__.TransparencyPassType.COUNT
})], T.prototype, "transparencyPassType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "spherical", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "receiveShadows", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "hasSlicePlane", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "transparent", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "enableOffset", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "writeDepth", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "hasScreenSpaceReflections", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "doublePrecisionRequiresObfuscation", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "hasCloudsReflections", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "objectAndLayerIdColorInstanced", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "isDraped", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "multipassEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)()], T.prototype, "cullAboveGround", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)({
  constValue: !1
})], T.prototype, "occlusionPass", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)({
  constValue: _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_3__.PBRMode.Water
})], T.prototype, "pbrMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)({
  constValue: !0
})], T.prototype, "useCustomDTRExponentForWater", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)({
  constValue: !0
})], T.prototype, "highStepCount", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.parameter)({
  constValue: !1
})], T.prototype, "useFillLights", void 0);


/***/ }),

/***/ 92367:
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BufferRange": () => (/* binding */ t),
/* harmony export */   "mergeAdjacentRanges": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t {
  constructor(t = 0, o = 0) {
    this.from = t, this.to = o;
  }
  get numElements() {
    return this.to - this.from;
  }
}
function o(t) {
  const o = new Map();
  t.forAll(t => o.set(t.from, t));
  let e = !0;
  for (; e;) e = !1, t.forEach(r => {
    const s = o.get(r.to);
    s && (r.to = s.to, o.delete(s.from), t.removeUnordered(s), e = !0);
  });
}


/***/ }),

/***/ 84170:
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/DrawCommand.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DrawCommand": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t {
  constructor() {
    this.first = 0, this.count = 0;
  }
}


/***/ }),

/***/ 27109:
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Instance": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _BufferRange_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BufferRange.js */ 92367);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class s extends _BufferRange_js__WEBPACK_IMPORTED_MODULE_0__.BufferRange {
  constructor(e, s, t) {
    super(s, t), this.geometry = e;
  }
  get isVisible() {
    return this.geometry.visible;
  }
  get hasHighlights() {
    return null != this.geometry.highlights && this.isVisible;
  }
  get hasOccludees() {
    return null != this.geometry.occludees;
  }
}


/***/ }),

/***/ 47197:
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MergedRenderer": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/MapUtils.js */ 20359);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ 93142);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ 53661);
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/NestedMap.js */ 22043);
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/PooledArray.js */ 99249);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../support/buffer/glUtil.js */ 36475);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../effects/RenderPlugin.js */ 44122);
/* harmony import */ var _lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../lib/GLMaterials.js */ 12080);
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../lib/Material.js */ 32051);
/* harmony import */ var _lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../lib/ModelDirtyTypes.js */ 96572);
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../lib/RenderSlot.js */ 66176);
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../lib/Util.js */ 12042);
/* harmony import */ var _DrawParameters_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../DrawParameters.js */ 30416);
/* harmony import */ var _WaterMaterial_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../WaterMaterial.js */ 82488);
/* harmony import */ var _BufferRange_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./BufferRange.js */ 92367);
/* harmony import */ var _Instance_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Instance.js */ 27109);
/* harmony import */ var _PerBufferData_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./PerBufferData.js */ 59036);
/* harmony import */ var _PerOriginData_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./PerOriginData.js */ 4486);
/* harmony import */ var _VaoCache_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./VaoCache.js */ 72289);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




























let S = class extends _effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_15__.SyncPrepareRenderPlugin {
  constructor(e) {
    super(e), this._vaoCache = null, this._glMaterials = null, this._bufferWriter = null, this._dataByOrigin = new Map(), this._hasHighlights = !1, this._hasOccludees = !1, this.priority = 0, this.produces = new Map();
  }
  dispose() {
    this._glMaterials = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._glMaterials), this._dataByOrigin.forEach(e => e.dispose()), this._dataByOrigin.clear(), this._vaoCache = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._vaoCache);
  }
  initializeRenderContext(e, t) {
    const {
      rctx: r
    } = e.renderContext;
    this._glMaterials = new _lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_16__.GLMaterials(this.material, t ?? e.materialRepository), this._bufferWriter = this.material.createBufferWriter(), this._vaoCache = new _VaoCache_js__WEBPACK_IMPORTED_MODULE_27__.VaoCache(r, this.material.vertexAttributeLocations, (0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_13__.glLayout)(this._bufferWriter.vertexBufferLayout));
  }
  uninitializeRenderContext() {}
  get isEmpty() {
    return 0 === this._dataByOrigin.size;
  }
  get hasHighlights() {
    return this._hasHighlights;
  }
  get hasOccludees() {
    return this._hasOccludees;
  }
  get hasWater() {
    return !this.isEmpty && this.material instanceof _WaterMaterial_js__WEBPACK_IMPORTED_MODULE_22__.WaterMaterial;
  }
  get isDecoration() {
    return this.material.parameters.isDecoration;
  }
  get rendersOccluded() {
    return !this.isEmpty && this.material.parameters.renderOccluded !== _lib_Material_js__WEBPACK_IMPORTED_MODULE_17__.RenderOccludedFlag.Occlude;
  }
  get numGeometries() {
    let e = 0;
    return this._dataByOrigin.forEach(t => e += t.buffers.reduce((e, t) => e + t.instances.size, 0)), e;
  }
  get usedMemory() {
    let e = 0;
    return this._dataByOrigin.forEach(t => e += t.buffers.reduce((e, t) => e + t.vao.usedMemory, 0)), e;
  }
  forEachGeometry(e) {
    this._dataByOrigin.forEach(t => t.buffers.forEach(t => t.instances.forEach(t => e(t.geometry))));
  }
  modify(e) {
    this._updateGeometries(e.updates), this._addAndRemoveGeometries(e.adds, e.removes), this._updateDrawCommands();
  }
  _updateGeometries(e) {
    const t = this._bufferWriter;
    if (null === t) return;
    const r = t.vertexBufferLayout.stride / 4;
    for (const s of e) {
      const e = s.renderGeometry,
        i = this._dataByOrigin.get(e.localOrigin.id),
        a = i?.findBuffer(e.id);
      if (null == a) return;
      const o = a.instances.get(e.id);
      if (s.updateType & (_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.GEOMETRY | _lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.TRANSFORMATION)) {
        const s = F(t.elementCount(o.geometry.geometry) * r),
          i = t.vertexBufferLayout.createView(s.buffer);
        this._writeGeometry(e, i, 0), a.vao.vertexBuffers.geometry.setSubData(s, o.from * r, 0, o.numElements * r);
      }
      s.updateType & (_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.HIGHLIGHT | _lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.OCCLUDEE | _lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.VISIBILITY) && (a.drawCommandsDirty = !0);
    }
  }
  _computeDeltas(e, t) {
    const r = new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_5__.NestedMap();
    for (const s of e) {
      const e = s.localOrigin;
      if (null == e) continue;
      let t = r.get(e.id, null);
      null == t && (t = new x(e.vec3), r.set(e.id, null, t)), t.changes.push(s);
    }
    for (const s of t) {
      const e = s.localOrigin;
      if (null == e) continue;
      const t = this._dataByOrigin.get(e.id),
        i = t?.findBuffer(s.id);
      if (null == i) continue;
      let a = r.get(e.id, i);
      null == a && (a = new x(e.vec3), r.set(e.id, i, a)), a.changes.push(s);
    }
    return r;
  }
  _addAndRemoveGeometries(e, r) {
    if (null === this._bufferWriter || null === this._vaoCache) return;
    const {
        _bufferWriter: s,
        _dataByOrigin: i
      } = this,
      a = s.vertexBufferLayout.stride / 4,
      o = this._computeDeltas(e, r);
    o.forEach((e, r) => {
      const n = e.get(null),
        l = null != n ? n.changes : [];
      o.delete(r, null);
      let u = i.get(r);
      if (e.forEach((e, n) => {
        if (o.delete(r, n), null == n) return void (0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_20__.assert)(!1, "No VAO for removed geometries");
        if (n.instances.size === e.changes.length) return this._vaoCache.deleteVao(n.vao), (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.removeUnordered)(u.buffers, n), void (0 === u.buffers.length && 0 === l.length && i.delete(r));
        const h = n.numElements,
          c = n.vao.byteSize / 4,
          f = l.reduce((e, t) => e + s.elementCount(t.geometry), 0),
          m = e.changes.reduce((e, t) => e + s.elementCount(t.geometry), 0),
          d = Math.min((h + f - m) * a, U),
          g = d > c;
        d > P && d < c / 2 ? (e.changes.forEach(({
          id: e
        }) => n.deleteInstance(e)), n.instances.forEach(({
          geometry: e
        }) => l.push(e)), this._vaoCache.deleteVao(n.vao), (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.removeUnordered)(u.buffers, n)) : g ? this._applyAndRebuild(n, l, e) : this._applyRemoves(n, e);
      }), l.length > 0) for (null == u && (u = new _PerOriginData_js__WEBPACK_IMPORTED_MODULE_26__.PerOriginData(n.origin), i.set(r, u)), u.buffers.forEach(e => this._applyAdds(e, l)); l.length > 0;) u.buffers.push(this._applyAndRebuild(new _PerBufferData_js__WEBPACK_IMPORTED_MODULE_25__.PerBufferData(), l, null));
    });
  }
  _updateDrawCommands() {
    this._hasHighlights = !1, this._hasOccludees = !1, this._dataByOrigin.forEach(e => {
      e.buffers.forEach(e => {
        e.drawCommandsDirty && (e.hasHiddenInstances = !1, e.hasHighlights = !1, e.hasOccludees = !1, (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.someMap)(e.instances, t => (e.updateDrawState(t), e.hasHiddenInstances && e.hasHighlights && e.hasOccludees)), e.updateDrawCommands(this._bufferWriter.vertexBufferLayout.stride)), this._hasHighlights = this._hasHighlights || e.hasHighlights, this._hasOccludees = this._hasOccludees || e.hasOccludees;
      });
    });
  }
  _applyAndRebuild(e, t, r) {
    if (null != r) for (const m of r.changes) e.deleteInstance(m.id);
    const s = this._bufferWriter,
      i = s.vertexBufferLayout.stride,
      a = i / 4,
      o = Math.floor(U / a);
    let n = e.numElements;
    for (; t.length > 0;) {
      const r = t.pop(),
        i = s.elementCount(r.geometry);
      if (n + i > o && n > 0) {
        t.push(r);
        break;
      }
      n += i;
      const a = new _Instance_js__WEBPACK_IMPORTED_MODULE_24__.Instance(r, 0, 0);
      (0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_20__.assert)(null == e.instances.get(r.id)), e.addInstance(r.id, a);
    }
    const l = n * a,
      u = F(l),
      h = s.vertexBufferLayout.createView(u.buffer);
    let c = 0;
    e.hasHiddenInstances = !1, e.hasHighlights = !1, e.hasOccludees = !1, e.instances.forEach((t, r) => {
      this._writeGeometry(t.geometry, h, c);
      const i = c;
      c += s.elementCount(t.geometry.geometry), e.updateInstance(r, i, c), e.updateDrawState(t);
    }), this._vaoCache.deleteVao(e.vao), e.vao = this._vaoCache.newVao(q(l)), e.vao.vertexBuffers.geometry.setSubData(u, 0, 0, c * a), e.holes.clear();
    const f = e.holes.pushNew();
    return f.from = c, f.to = Math.floor(e.vao.byteSize / i), e.updateDrawCommands(i), e;
  }
  _applyRemoves(e, t) {
    if (0 === t.changes.length || null === this._bufferWriter) return;
    for (const o of t.changes) {
      const t = o.id,
        r = e.instances.get(t);
      if (!r) continue;
      e.deleteInstance(t);
      const s = G.back();
      if (s) {
        if (s.to === r.from) {
          s.to = r.to;
          continue;
        }
        if (s.from === r.to) {
          s.from = r.from;
          continue;
        }
      }
      const i = G.pushNew();
      i.from = r.from, i.to = r.to;
    }
    (0,_BufferRange_js__WEBPACK_IMPORTED_MODULE_23__.mergeAdjacentRanges)(G);
    const r = this._bufferWriter.vertexBufferLayout.stride / 4,
      s = G.reduce((e, t) => Math.max(e, t.numElements), 0) * r,
      i = F(s);
    i.fill(0, 0, s);
    const a = e.vao.vertexBuffers.geometry;
    G.forAll(e => a.setSubData(i, e.from * r, 0, e.numElements * r)), e.holes.pushArray(G.data, G.length), G.forAll((e, t) => G.data[t] = null), G.clear(), e.drawCommandsDirty = !0;
  }
  _applyAdds(e, t) {
    if (0 === t.length || null === this._bufferWriter) return;
    if (!(0,_PerBufferData_js__WEBPACK_IMPORTED_MODULE_25__.hasVao)(e)) return void this._applyAndRebuild(e, t, null);
    const s = this._bufferWriter,
      i = s.vertexBufferLayout.stride / 4,
      a = e.numElements,
      o = t.reduce((e, t) => e + s.elementCount(t.geometry), 0),
      n = Math.min((a + o) * i, U),
      l = 4 * n;
    if (e.vao.byteSize < q(U - P) && l > e.vao.byteSize) return void this._applyAndRebuild(e, t, null);
    (0,_BufferRange_js__WEBPACK_IMPORTED_MODULE_23__.mergeAdjacentRanges)(e.holes);
    const u = new Array();
    for (const r of t) {
      const t = s.elementCount(r.geometry),
        i = L(e.holes, t);
      u.push(i);
    }
    const h = e.vao.vertexBuffers.geometry;
    let c = 0,
      f = 0,
      m = 0;
    const d = F(n),
      g = s.vertexBufferLayout.createView(d.buffer);
    t.forEach((t, r) => {
      const a = u[r];
      if (null == a) return;
      if (!(m === a)) {
        const e = m - f;
        e > 0 && h.setSubData(d, f * i, 0, e * i), f = a, c = 0;
      }
      const o = s.elementCount(t.geometry);
      this._writeGeometry(t, g, c), c += o, m = a + o;
      const n = new _Instance_js__WEBPACK_IMPORTED_MODULE_24__.Instance(t, a, a + o);
      (0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_20__.assert)(null == e.instances.get(t.id)), e.addInstance(t.id, n), e.drawCommandsDirty = !0;
    });
    const p = m - f;
    p > 0 && h.setSubData(d, f * i, 0, p * i), (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.filterInPlace)(t, (e, t) => null == u[t]);
  }
  _writeGeometry(e, t, r) {
    if (null === this._bufferWriter) return;
    const s = e.localOrigin.vec3;
    (0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_20__.setMatrixTranslation3)(I, -s[0], -s[1], -s[2]);
    const i = (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_11__.m)(T, I, e.transformation);
    (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_11__.i)(W, i), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_11__.t)(W, W), this._bufferWriter.write(i, W, e.geometry, t, r);
  }
  updateAnimation(e) {
    return this.material.update(e);
  }
  prepareTechnique(e) {
    if (!this.material.shouldRender(e)) return null;
    const {
      output: t,
      bindParameters: r
    } = e;
    if (!this.material.produces(r.slot, t)) return null;
    const s = t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.Highlight || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowHighlight;
    if (s && !this._hasHighlights) return null;
    const i = t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowExcludeHighlight,
      a = !(s || i);
    for (const o of this._dataByOrigin.values()) for (const n of o.buffers) {
      if (s && !n.hasHighlights) continue;
      const o = (s ? n.drawCommandsHighlight : i && n.needsMultipleCommands() ? n.drawCommandsShadowHighlightRest : n.drawCommandsDefault) || null,
        l = a && n.drawCommandsOccludees || null;
      if (o?.length || l?.length) {
        const s = this._glMaterials.load(e.rctx, r.slot, t),
          i = null != s ? s.beginSlot(r) : null;
        if (null != i) return i;
      }
    }
    return null;
  }
  renderNode(e, t) {
    const {
        output: r,
        bindParameters: s
      } = e,
      i = r === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.Highlight || r === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowHighlight,
      a = r === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowExcludeHighlight,
      o = !(i || a),
      n = e.rctx,
      l = e.bindParameters.slot === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_19__.RenderSlot.OCCLUDER_MATERIAL,
      u = e.bindParameters.slot === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_19__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL;
    n.runAppleAmdDriverHelper(), n.bindTechnique(t, this.material.parameters, s);
    for (const h of this._dataByOrigin.values()) for (const e of h.buffers) {
      if (i && !e.hasHighlights) continue;
      const r = (i ? e.drawCommandsHighlight : a && e.needsMultipleCommands() ? e.drawCommandsShadowHighlightRest : e.drawCommandsDefault) || null,
        c = o && e.drawCommandsOccludees || null;
      if (r?.length || c?.length) {
        t.program.bindDraw(new _DrawParameters_js__WEBPACK_IMPORTED_MODULE_21__.DrawParameters(h.origin), s, this.material.parameters), t.ensureAttributeLocations(e.vao), n.bindVAO(e.vao), r?.length && (n.setPipelineState(t.getPipeline(!1, l, u)), r.forAll(e => n.drawArrays(t.primitiveType, e.first, e.count))), c?.length && (n.setPipelineState(t.getPipeline(!0, l, u)), c.forAll(e => n.drawArrays(t.primitiveType, e.first, e.count)));
      }
    }
  }
  get test() {
    return {
      material: this.material,
      glMaterials: this._glMaterials,
      dataByOrigin: this._dataByOrigin
    };
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({
  constructOnly: !0
})], S.prototype, "material", void 0), S = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.webgl-engine.materials.renderers.MergedRenderer")], S);
class x {
  constructor(e) {
    this.origin = e, this.changes = new Array();
  }
}
function L(e, t) {
  let r;
  if (!e.some(e => !(e.numElements < t) && (r = e, !0))) return null;
  const s = r.from;
  return r.from += t, r.from >= r.to && e.removeUnordered(r), s;
}
const I = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.a)(),
  T = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.a)(),
  W = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.a)(),
  G = new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_6__["default"]({
    allocator: e => e || new _BufferRange_js__WEBPACK_IMPORTED_MODULE_23__.BufferRange(),
    deallocator: null
  }),
  P = 65536,
  V = 4 * P,
  z = 1024,
  N = 16777216,
  U = N / 4;
let k = new Float32Array(P);
function F(e) {
  return k.length < e && (k = new Float32Array(e)), k;
}
function q(e) {
  const t = 4 * e;
  return t <= z ? z : t < V ? (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.nextHighestPowerOfTwo)(t) : Math.max(Math.min(Math.ceil(1.5 * t / V) * V, N), t);
}


/***/ }),

/***/ 59036:
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerBufferData.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PerBufferData": () => (/* binding */ n),
/* harmony export */   "PerVaoData": () => (/* binding */ i),
/* harmony export */   "hasVao": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/PooledArray.js */ 99249);
/* harmony import */ var _BufferRange_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferRange.js */ 92367);
/* harmony import */ var _DrawCommand_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DrawCommand.js */ 84170);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class n {
  constructor() {
    this._numElements = 0, this._instances = new Map(), this.holes = new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"]({
      allocator: s => s || new _BufferRange_js__WEBPACK_IMPORTED_MODULE_1__.BufferRange(),
      deallocator: null
    }), this.hasHiddenInstances = !1, this.hasHighlights = !1, this.hasOccludees = !1, this.drawCommandsDirty = !0, this.drawCommandsDefault = o(), this.drawCommandsHighlight = o(), this.drawCommandsOccludees = o(), this.drawCommandsShadowHighlightRest = o();
  }
  get numElements() {
    return this._numElements;
  }
  get instances() {
    return this._instances;
  }
  addInstance(s, t) {
    this.deleteInstance(s), this._instances.set(s, t), this._numElements += t.numElements;
  }
  deleteInstance(s) {
    const t = this._instances.get(s);
    t && (this._numElements -= t.numElements, this._instances.delete(s));
  }
  updateInstance(s, t, e) {
    const n = this._instances.get(s);
    n && (this._numElements -= n.numElements, n.from = t, n.to = e, this._numElements += n.numElements);
  }
  updateDrawState(s) {
    s.isVisible ? (s.hasHighlights && (this.hasHighlights = !0), s.hasOccludees && (this.hasOccludees = !0)) : this.hasHiddenInstances = !0;
  }
  updateDrawCommands(s) {
    if (this.drawCommandsDefault.clear(), this.drawCommandsHighlight.clear(), this.drawCommandsOccludees.clear(), this.drawCommandsShadowHighlightRest.clear(), this.drawCommandsDirty = !1, 0 === this._instances.size) return;
    if (!this.needsMultipleCommands()) {
      const t = this.drawCommandsDefault.pushNew(),
        e = this.holes.front();
      return null != this.vao && 1 === this.holes.length && e.to === Math.floor(this.vao.byteSize / s) ? (t.first = 0, void (t.count = e.from)) : (t.first = 1 / 0, t.count = 0, this._instances.forEach(s => {
        t.first = Math.min(t.first, s.from), t.count = Math.max(t.count, s.to);
      }), void (t.count -= t.first));
    }
    const t = Array.from(this._instances.values()).sort((s, t) => s.from === t.from ? s.to - t.to : s.from - t.from);
    for (const e of t) e.isVisible && (h(e.hasOccludees ? this.drawCommandsOccludees : this.drawCommandsDefault, e), h(e.hasHighlights ? this.drawCommandsHighlight : this.drawCommandsShadowHighlightRest, e));
  }
  needsMultipleCommands() {
    return this.hasOccludees || this.hasHighlights || this.hasHiddenInstances;
  }
}
class i extends n {}
function a(s) {
  return null != s.vao;
}
function o() {
  return new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"]({
    allocator: s => s || new _DrawCommand_js__WEBPACK_IMPORTED_MODULE_2__.DrawCommand(),
    deallocator: s => s
  });
}
function h(s, t) {
  const e = s.back();
  if (null == e) {
    const e = s.pushNew();
    return e.first = t.from, void (e.count = t.numElements);
  }
  if (r(e, t)) {
    const s = t.from - e.first + t.numElements;
    e.count = s;
  } else {
    const e = s.pushNew();
    e.first = t.from, e.count = t.numElements;
  }
}
function r(s, t) {
  return s.first + s.count >= t.from;
}


/***/ }),

/***/ 4486:
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerOriginData.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PerOriginData": () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s {
  constructor(s) {
    this.origin = s, this.buffers = new Array();
  }
  dispose() {
    this.buffers.forEach(s => s.vao.dispose()), this.buffers.length = 0;
  }
  findBuffer(s) {
    return this.buffers.find(r => r.instances.has(s));
  }
}


/***/ }),

/***/ 72289:
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/VaoCache.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VaoCache": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_MemCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/MemCache.js */ 9029);
/* harmony import */ var _core_MemCachePool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/MemCachePool.js */ 69272);
/* harmony import */ var _lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/VertexArrayObject.js */ 97118);
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/BufferObject.js */ 10615);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../webgl/enums.js */ 69923);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





const c = _core_MemCache_js__WEBPACK_IMPORTED_MODULE_0__.minPriority + 1;
class i {
  constructor(e, o, r) {
    this._rctx = e, this._locations = o, this._layout = r, this._cache = new _core_MemCachePool_js__WEBPACK_IMPORTED_MODULE_1__.MemCachePool(e.newCache, "VAOCache");
  }
  dispose() {
    this._cache.destroy();
  }
  newVao(e) {
    const t = e.toString();
    let c = this._cache.pop(t);
    return c || (c = new _lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_2__.VertexArrayObject(this._rctx, this._locations, {
      geometry: this._layout
    }, {
      geometry: _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createVertex(this._rctx, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.STATIC_DRAW)
    }), c.vertexBuffers.geometry.setSize(e), c);
  }
  deleteVao(e) {
    if (null == e) return;
    const t = e.byteSize.toString();
    this._cache.put(t, e, c);
  }
}


/***/ }),

/***/ 18702:
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "computeLongestPattern": () => (/* binding */ s),
/* harmony export */   "computeTextureSize": () => (/* binding */ f),
/* harmony export */   "createStippleTextureRepository": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/floatRGBA.js */ 1671);
/* harmony import */ var _ProceduralTextureRepository_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ProceduralTextureRepository.js */ 17970);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





function u(t, u) {
  return new _ProceduralTextureRepository_js__WEBPACK_IMPORTED_MODULE_1__.ProceduralTextureRepository(e => {
    const {
        encodedData: u,
        textureSize: c
      } = a(e),
      f = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__.TextureDescriptor();
    return f.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.RGBA, f.width = c, f.height = 1, f.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.REPEAT, new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__.Texture(t, f, u);
  }, t => `${t.pattern.join(",")}-r${t.pixelRatio}`, u);
}
function a(e) {
  const r = c(e),
    o = 1 / e.pixelRatio,
    n = f(e),
    i = s(e),
    u = (Math.floor(.5 * (i - 1)) + .5) * o,
    a = [];
  let l = 1;
  for (const t of r) {
    for (let e = 0; e < t; e++) {
      const r = l * (Math.min(e, t - 1 - e) + .5) * o / u * .5 + .5;
      a.push(r);
    }
    l = -l;
  }
  const p = Math.round(r[0] / 2),
    m = [...a.slice(p), ...a.slice(0, p)],
    d = new Uint8Array(4 * n);
  let x = 0;
  for (const c of m) (0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__.packFloatRGBA)(c, d, x), x += 4;
  return {
    encodedData: d,
    textureSize: n
  };
}
function c(t) {
  return t.pattern.map(e => Math.round(e * t.pixelRatio));
}
function f(t) {
  if (null == t) return 1;
  const e = c(t);
  return Math.floor(e.reduce((t, e) => t + e));
}
function s(t) {
  return c(t).reduce((t, e) => Math.max(t, e));
}


/***/ }),

/***/ 47992:
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ColorMaterialPassParameters": () => (/* binding */ y),
/* harmony export */   "ColorMaterialTechnique": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ 61089);
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ 31700);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/Program.js */ 44505);
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/StencilUtils.js */ 20247);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../materials/VisualVariablePassParameters.js */ 41595);
/* harmony import */ var _chunks_ColorMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/ColorMaterial.glsl.js */ 34046);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/












class y extends _materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_9__.VisualVariablePassParameters {
  constructor() {
    super(...arguments), this.color = _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.Z;
  }
}
class T extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__.ShaderTechnique {
  initializeProgram(e) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__.Program(e.rctx, T.shader.get().build(this.configuration), _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__.Default3D);
  }
  _createPipeline(e, t) {
    const i = this.configuration,
      s = e === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__.TransparencyPassType.NONE,
      c = e === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__.TransparencyPassType.FrontFace;
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.makePipelineState)({
      blending: i.output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color && i.output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha || !i.transparent ? null : s ? _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.blendingDefault : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.oitBlending)(e),
      culling: (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.cullingParams)(i.cullFace),
      depthTest: {
        func: (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.oitDepthTest)(e)
      },
      depthWrite: (s || c) && i.writeDepth ? _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.defaultDepthWriteParams : null,
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.defaultColorWriteParams,
      stencilWrite: i.hasOccludees ? _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilWriteMaskOn : null,
      stencilTest: i.hasOccludees ? t ? _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilToolMaskBaseParams : _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilBaseAllZerosParams : null,
      polygonOffset: s || c ? i.polygonOffset ? O : null : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.getOITPolygonOffset)(i.enableOffset)
    });
  }
  initializePipeline() {
    return this._occludeePipelineState = this._createPipeline(this.configuration.transparencyPassType, !0), this._createPipeline(this.configuration.transparencyPassType, !1);
  }
  getPipeline(e) {
    return e ? this._occludeePipelineState : super.getPipeline();
  }
}
T.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__.ReloadableShaderModule(_chunks_ColorMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_10__.C, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_ColorMaterial_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./ColorMaterial.glsl.js */ 72317)));
const O = {
  factor: 1,
  units: 1
};


/***/ }),

/***/ 25239:
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ColorMaterialTechniqueConfiguration": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ 88721);
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ 2754);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ 58396);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






class i extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.DefaultTechniqueConfiguration {
  constructor() {
    super(...arguments), this.output = _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color, this.cullFace = _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_3__.CullFaceOptions.None, this.transparencyPassType = _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_4__.TransparencyPassType.NONE, this.hasSlicePlane = !1, this.hasVertexColors = !1, this.transparent = !1, this.polygonOffset = !1, this.enableOffset = !0, this.writeDepth = !0, this.hasOccludees = !1, this.multipassEnabled = !1, this.cullAboveGround = !1, this.objectAndLayerIdColorInstanced = !1, this.vvColor = !1;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT
})], i.prototype, "output", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_3__.CullFaceOptions.COUNT
})], i.prototype, "cullFace", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_4__.TransparencyPassType.COUNT
})], i.prototype, "transparencyPassType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "hasSlicePlane", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "hasVertexColors", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "transparent", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "polygonOffset", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "enableOffset", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "writeDepth", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "hasOccludees", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "multipassEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "cullAboveGround", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "objectAndLayerIdColorInstanced", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], i.prototype, "vvColor", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !1
})], i.prototype, "occlusionPass", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !0
})], i.prototype, "hasVvInstancing", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !1
})], i.prototype, "vvSize", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !1
})], i.prototype, "vvOpacity", void 0);


/***/ }),

/***/ 49614:
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HUDMaterialTechnique": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../ViewingMode.js */ 56108);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ 61089);
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ 31700);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/Program.js */ 44505);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/HUDMaterial.glsl.js */ 38723);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/











class g extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__.ShaderTechnique {
  initializeConfiguration(e, i) {
    i.spherical = e.viewingMode === _ViewingMode_js__WEBPACK_IMPORTED_MODULE_0__.ViewingMode.Global;
  }
  initializeProgram(r) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__.Program(r.rctx, g.shader.get().build(this.configuration), _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__.Default3D);
  }
  initializePipeline() {
    const r = this.configuration.transparencyPassType,
      i = this.configuration,
      t = r === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_7__.TransparencyPassType.NONE,
      o = r === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_7__.TransparencyPassType.FrontFace,
      s = this.configuration.hasPolygonOffset ? b : null,
      l = (t || o) && i.output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight && (i.depthEnabled || i.occlusionPass) ? _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultDepthWriteParams : null;
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({
      blending: i.output === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color || i.output === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha || i.output === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight ? t ? j : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.oitBlending)(r) : null,
      depthTest: {
        func: _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.CompareFunction.LEQUAL
      },
      depthWrite: l,
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWriteParams,
      polygonOffset: s
    });
  }
  get primitiveType() {
    return this.configuration.occlusionPass ? _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.PrimitiveType.POINTS : _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.PrimitiveType.TRIANGLES;
  }
}
g.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__.ReloadableShaderModule(_chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_8__.H, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_HUDMaterial_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./HUDMaterial.glsl.js */ 64309)));
const b = {
    factor: 0,
    units: -4
  },
  j = (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE_MINUS_SRC_ALPHA);


/***/ }),

/***/ 72091:
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HUDMaterialTechniqueConfiguration": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ 88721);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ 58396);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class r extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultTechniqueConfiguration {
  constructor() {
    super(...arguments), this.output = _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color, this.transparencyPassType = _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__.TransparencyPassType.NONE, this.screenCenterOffsetUnitsEnabled = !1, this.spherical = !1, this.occlusionTestEnabled = !0, this.signedDistanceFieldEnabled = !1, this.sampleSignedDistanceFieldTexelCenter = !1, this.vvSize = !1, this.vvColor = !1, this.hasVerticalOffset = !1, this.hasScreenSizePerspective = !1, this.debugDrawLabelBorder = !1, this.hasSlicePlane = !1, this.hasPolygonOffset = !1, this.depthEnabled = !0, this.pixelSnappingEnabled = !0, this.draped = !1, this.multipassEnabled = !1, this.cullAboveGround = !1, this.occlusionPass = !1, this.objectAndLayerIdColorInstanced = !1;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT
})], r.prototype, "output", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__.TransparencyPassType.COUNT
})], r.prototype, "transparencyPassType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "screenCenterOffsetUnitsEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "spherical", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "occlusionTestEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "signedDistanceFieldEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "sampleSignedDistanceFieldTexelCenter", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "vvSize", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "vvColor", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "hasVerticalOffset", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "hasScreenSizePerspective", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "debugDrawLabelBorder", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "hasSlicePlane", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "hasPolygonOffset", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "depthEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "pixelSnappingEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "draped", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "multipassEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "cullAboveGround", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "occlusionPass", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], r.prototype, "objectAndLayerIdColorInstanced", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !0
})], r.prototype, "hasSliceInVertexProgram", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !1
})], r.prototype, "hasVvInstancing", void 0);


/***/ }),

/***/ 6276:
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LineMarkerAnchor": () => (/* binding */ s),
/* harmony export */   "LineMarkerSpace": () => (/* binding */ p),
/* harmony export */   "LineMarkerTechniqueConfiguration": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ 88721);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ 58396);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





var p, s;
!function (o) {
  o[o.Draped = 0] = "Draped", o[o.Screen = 1] = "Screen", o[o.World = 2] = "World", o[o.COUNT = 3] = "COUNT";
}(p || (p = {})), function (o) {
  o[o.Center = 0] = "Center", o[o.Tip = 1] = "Tip", o[o.COUNT = 2] = "COUNT";
}(s || (s = {}));
class a extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultTechniqueConfiguration {
  constructor() {
    super(...arguments), this.output = _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color, this.transparencyPassType = _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__.TransparencyPassType.NONE, this.occluder = !1, this.hasSlicePlane = !1, this.writeDepth = !1, this.space = p.Screen, this.hideOnShortSegments = !1, this.hasCap = !1, this.anchor = s.Center, this.hasTip = !1, this.vvSize = !1, this.vvColor = !1, this.vvOpacity = !1, this.hasOccludees = !1, this.multipassEnabled = !1, this.cullAboveGround = !1;
  }
  get draped() {
    return this.space === p.Draped;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT
})], a.prototype, "output", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__.TransparencyPassType.COUNT
})], a.prototype, "transparencyPassType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "occluder", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "hasSlicePlane", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "writeDepth", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: p.COUNT
})], a.prototype, "space", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "hideOnShortSegments", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "hasCap", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: s.COUNT
})], a.prototype, "anchor", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "hasTip", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "vvSize", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "vvColor", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "vvOpacity", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "hasOccludees", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "multipassEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], a.prototype, "cullAboveGround", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !1
})], a.prototype, "occlusionPass", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !0
})], a.prototype, "hasVvInstancing", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !0
})], a.prototype, "hasSliceTranslatedView", void 0);


/***/ }),

/***/ 96534:
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OverlayCompositingTechnique": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ 61089);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/Program.js */ 44505);
/* harmony import */ var _chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/OverlayCompositing.glsl.js */ 67657);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







class n extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique {
  initializeProgram(e) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_3__.Program(e.rctx, n.shader.get().build(), _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__.Default3D);
  }
  initializePipeline() {
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.makePipelineState)({
      blending: (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.BlendFactor.ONE_MINUS_SRC_ALPHA),
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.defaultColorWriteParams
    });
  }
}
n.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_4__.a, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_OverlayCompositing_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./OverlayCompositing.glsl.js */ 23056)));


/***/ }),

/***/ 80804:
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RibbonLineTechnique": () => (/* binding */ y),
/* harmony export */   "vertexAttributeLocations": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ 31700);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/Program.js */ 44505);
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/StencilUtils.js */ 20247);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ 51663);
/* harmony import */ var _chunks_RibbonLine_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/RibbonLine.glsl.js */ 14757);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/











const I = new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION, 0], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.SUBDIVISIONFACTOR, 1], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.UV0, 2], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.AUXPOS1, 3], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.AUXPOS2, 4], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.COLOR, 5], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.COLORFEATUREATTRIBUTE, 5], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.SIZE, 6], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.SIZEFEATUREATTRIBUTE, 6], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.OPACITYFEATUREATTRIBUTE, 7], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.OBJECTANDLAYERIDCOLOR, 8]]);
class y extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique {
  initializeProgram(e) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_4__.Program(e.rctx, y.shader.get().build(this.configuration), I);
  }
  _makePipelineState(t, i) {
    const c = this.configuration,
      h = t === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_6__.TransparencyPassType.NONE,
      d = t === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_6__.TransparencyPassType.FrontFace;
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({
      blending: c.output === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color || c.output === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Alpha ? h ? _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.blendingDefault : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.oitBlending)(t) : null,
      depthTest: {
        func: (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.oitDepthTest)(t)
      },
      depthWrite: h ? c.writeDepth ? _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultDepthWriteParams : null : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.oitDepthWrite)(t),
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWriteParams,
      stencilWrite: c.hasOccludees ? _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilWriteMaskOn : null,
      stencilTest: c.hasOccludees ? i ? _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolMaskBaseParams : _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilBaseAllZerosParams : null,
      polygonOffset: h || d ? c.hasPolygonOffset ? A : null : _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.OITPolygonOffset
    });
  }
  initializePipeline() {
    const e = this.configuration;
    if (e.occluder) {
      const t = e.hasPolygonOffset ? A : null;
      this._occluderPipelineTransparent = (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({
        blending: _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.blendingDefault,
        polygonOffset: t,
        depthTest: _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.depthCompareAlways,
        depthWrite: null,
        colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWriteParams,
        stencilWrite: null,
        stencilTest: _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolTransparentOccluderParams
      }), this._occluderPipelineOpaque = (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({
        blending: _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.blendingDefault,
        polygonOffset: t,
        depthTest: _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.depthCompareAlways,
        depthWrite: null,
        colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWriteParams,
        stencilWrite: _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilWriteMaskOff,
        stencilTest: _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolMaskOccluderParams
      }), this._occluderPipelineMaskWrite = (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({
        blending: null,
        polygonOffset: t,
        depthTest: _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.depthCompareLess,
        depthWrite: null,
        colorWrite: null,
        stencilWrite: _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilWriteMaskOn,
        stencilTest: _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolMaskBaseParams
      });
    }
    return this._occludeePipelineState = this._makePipelineState(this.configuration.transparencyPassType, !0), this._makePipelineState(this.configuration.transparencyPassType, !1);
  }
  get primitiveType() {
    return this.configuration.wireframe ? _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.PrimitiveType.LINES : _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.PrimitiveType.TRIANGLE_STRIP;
  }
  getPipeline(e, t, i) {
    return e ? this._occludeePipelineState : this.configuration.occluder ? i ? this._occluderPipelineTransparent : t ? this._occluderPipelineOpaque : this._occluderPipelineMaskWrite : super.getPipeline();
  }
}
y.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_RibbonLine_glsl_js__WEBPACK_IMPORTED_MODULE_8__.R, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_RibbonLine_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./RibbonLine.glsl.js */ 58250)));
const A = {
  factor: 0,
  units: -4
};


/***/ }),

/***/ 97288:
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CapType": () => (/* binding */ r),
/* harmony export */   "RibbonLineTechniqueConfiguration": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ 88721);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ 58396);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





var r;
!function (o) {
  o[o.BUTT = 0] = "BUTT", o[o.SQUARE = 1] = "SQUARE", o[o.ROUND = 2] = "ROUND", o[o.COUNT = 3] = "COUNT";
}(r || (r = {}));
class s extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultTechniqueConfiguration {
  constructor() {
    super(...arguments), this.output = _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color, this.capType = r.BUTT, this.transparencyPassType = _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__.TransparencyPassType.NONE, this.occluder = !1, this.hasSlicePlane = !1, this.hasPolygonOffset = !1, this.writeDepth = !1, this.draped = !1, this.stippleEnabled = !1, this.stippleOffColorEnabled = !1, this.stipplePreferContinuous = !0, this.roundJoins = !1, this.applyMarkerOffset = !1, this.vvSize = !1, this.vvColor = !1, this.vvOpacity = !1, this.falloffEnabled = !1, this.innerColorEnabled = !1, this.hasOccludees = !1, this.multipassEnabled = !1, this.cullAboveGround = !1, this.wireframe = !1, this.objectAndLayerIdColorInstanced = !1;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT
})], s.prototype, "output", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: r.COUNT
})], s.prototype, "capType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  count: _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__.TransparencyPassType.COUNT
})], s.prototype, "transparencyPassType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "occluder", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "hasSlicePlane", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "hasPolygonOffset", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "writeDepth", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "draped", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "stippleEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "stippleOffColorEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "stipplePreferContinuous", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "roundJoins", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "applyMarkerOffset", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "vvSize", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "vvColor", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "vvOpacity", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "falloffEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "innerColorEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "hasOccludees", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "multipassEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "cullAboveGround", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "wireframe", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()], s.prototype, "objectAndLayerIdColorInstanced", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !1
})], s.prototype, "occlusionPass", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !0
})], s.prototype, "hasVvInstancing", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({
  constValue: !0
})], s.prototype, "hasSliceTranslatedView", void 0);


/***/ }),

/***/ 7487:
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ensureColor4": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ 71943);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


function o(c) {
  return null == c ? _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__.Z : 4 === c.length ? c : (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_0__.s)(r, c[0], c[1], c[2], 1);
}
const r = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ 19955:
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VertexArrayObject": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Logger.js */ 28191);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/maybe.js */ 53661);
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ 13878);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ 69923);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Util.js */ 68267);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





const o = _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.webgl.VertexArrayObject");
let f = class {
  constructor(t, e, i, r, s = null) {
    this._context = t, this._locations = e, this._layout = i, this._buffers = r, this._indexBuffer = s, this._glName = null, this._initialized = !1;
  }
  get glName() {
    return this._glName;
  }
  get context() {
    return this._context;
  }
  get vertexBuffers() {
    return this._buffers;
  }
  get indexBuffer() {
    return this._indexBuffer;
  }
  get byteSize() {
    return Object.keys(this._buffers).reduce((t, e) => t + this._buffers[e].byteLength, null != this._indexBuffer ? this._indexBuffer.byteLength : 0);
  }
  get layout() {
    return this._layout;
  }
  get locations() {
    return this._locations;
  }
  get usedMemory() {
    return this.byteSize + (Object.keys(this._buffers).length + (this._indexBuffer ? 1 : 0)) * _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__.typedArrayStaticSize;
  }
  dispose() {
    if (this._context) {
      this._context.getBoundVAO() === this && this._context.bindVAO(null);
      for (const t in this._buffers) this._buffers[t]?.dispose(), delete this._buffers[t];
      this._indexBuffer = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._indexBuffer), this.disposeVAOOnly();
    } else (this._glName || Object.getOwnPropertyNames(this._buffers).length > 0) && o.warn("Leaked WebGL VAO");
  }
  disposeVAOOnly() {
    if (this._glName) {
      const t = this._context?.capabilities?.vao;
      t.deleteVertexArray(this._glName), this._glName = null, this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_3__.ResourceType.VertexArrayObject, this);
    }
    this._context = null;
  }
  initialize() {
    if (this._initialized) return;
    const t = this._context.capabilities.vao;
    if (t) {
      const e = t.createVertexArray();
      t.bindVertexArray(e), this._bindLayout(), t.bindVertexArray(null), this._glName = e, this._context.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_3__.ResourceType.VertexArrayObject, this);
    }
    this._initialized = !0;
  }
  bind() {
    this.initialize();
    const t = this._context.capabilities.vao;
    t ? t.bindVertexArray(this.glName) : (this._context.bindVAO(null), this._bindLayout());
  }
  _bindLayout() {
    const {
      _buffers: t,
      _layout: e,
      _indexBuffer: i
    } = this;
    t || o.error("Vertex buffer dictionary is empty!");
    const r = this._context.gl;
    for (const n in t) {
      const i = t[n];
      i || o.error("Vertex buffer is uninitialized!");
      const r = e[n];
      r || o.error("Vertex element descriptor is empty!"), (0,_Util_js__WEBPACK_IMPORTED_MODULE_4__.bindVertexBufferLayout)(this._context, this._locations, i, r);
    }
    if (null != i) {
      !!this._context.capabilities.vao ? r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, i.glName) : this._context.bindBuffer(i);
    }
  }
  unbind() {
    this.initialize();
    const t = this._context.capabilities.vao;
    t ? t.bindVertexArray(null) : this._unbindLayout();
  }
  _unbindLayout() {
    const {
      _buffers: t,
      _layout: e
    } = this;
    t || o.error("Vertex buffer dictionary is empty!");
    for (const i in t) {
      const r = t[i];
      r || o.error("Vertex buffer is uninitialized!");
      const s = e[i];
      (0,_Util_js__WEBPACK_IMPORTED_MODULE_4__.unbindVertexBufferLayout)(this._context, this._locations, r, s);
    }
    null != this._indexBuffer && this._context.unbindBuffer(this._indexBuffer.bufferType);
  }
};


/***/ })

}]);
//# sourceMappingURL=default-node_modules_arcgis_core_geometry_projection_projectVectorToVector_js-node_modules_ar-a3b49c.js.map