"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_views_2d_layers_VectorTileLayerView2D_js"],{

/***/ 1671:
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/floatRGBA.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "packFloatRGBA": () => (/* binding */ o),
/* harmony export */   "unpackFloatRGBA": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mathUtils.js */ 93142);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function o(o, r, e = 0) {
  const i = (0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(o, 0, f);
  for (let t = 0; t < 4; t++) r[e + t] = Math.floor(256 * l(i * n[t]));
}
function r(t, o = 0) {
  let r = 0;
  for (let n = 0; n < 4; n++) r += t[o + n] * e[n];
  return r;
}
const n = [1, 256, 65536, 16777216],
  e = [1 / 256, 1 / 65536, 1 / 16777216, 1 / 4294967296],
  f = r(new Uint8ClampedArray([255, 255, 255, 255]));
function l(t) {
  return t - Math.floor(t);
}


/***/ }),

/***/ 74617:
/*!***********************************************!*\
  !*** ./node_modules/@arcgis/core/core/pbf.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./has.js */ 67087);
/* harmony import */ var _ObjectPool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ObjectPool.js */ 5261);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


var e;
!function (t) {
  t[t.varint = 0] = "varint", t[t.fixed64 = 1] = "fixed64", t[t.delimited = 2] = "delimited", t[t.fixed32 = 5] = "fixed32", t[t.unknown = 99] = "unknown";
}(e || (e = {}));
const i = 4294967296,
  s = new TextDecoder("utf-8"),
  n = (0,_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("safari") || (0,_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("ios") ? 6 : (0,_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("ff") ? 12 : 32;
class r {
  constructor(t, i, s = 0, n = t ? t.byteLength : 0) {
    this._tag = 0, this._dataType = e.unknown, this._init(t, i, s, n);
  }
  _init(t, e, i, s) {
    this._data = t, this._dataView = e, this._pos = i, this._end = s;
  }
  asUnsafe() {
    return this;
  }
  clone() {
    return new r(this._data, this._dataView, this._pos, this._end);
  }
  pos() {
    return this._pos;
  }
  move(t) {
    this._pos = t;
  }
  nextTag(t) {
    for (;;) {
      if (this._pos === this._end) return !1;
      const e = this._decodeVarint();
      if (this._tag = e >> 3, this._dataType = 7 & e, !t || t === this._tag) break;
      this.skip();
    }
    return !0;
  }
  next() {
    if (this._pos === this._end) return !1;
    const t = this._decodeVarint();
    return this._tag = t >> 3, this._dataType = 7 & t, !0;
  }
  empty() {
    return this._pos >= this._end;
  }
  tag() {
    return this._tag;
  }
  getInt32() {
    return this._decodeVarint();
  }
  getInt64() {
    return this._decodeVarint();
  }
  getUInt32() {
    let t = 4294967295;
    return t = (127 & this._data[this._pos]) >>> 0, this._data[this._pos++] < 128 ? t : (t = (t | (127 & this._data[this._pos]) << 7) >>> 0, this._data[this._pos++] < 128 ? t : (t = (t | (127 & this._data[this._pos]) << 14) >>> 0, this._data[this._pos++] < 128 ? t : (t = (t | (127 & this._data[this._pos]) << 21) >>> 0, this._data[this._pos++] < 128 ? t : (t = (t | (15 & this._data[this._pos]) << 28) >>> 0, this._data[this._pos++] < 128 ? t : void 0))));
  }
  getUInt64() {
    return this._decodeVarint();
  }
  getSInt32() {
    const t = this.getUInt32();
    if (void 0 !== t) return t >>> 1 ^ -(1 & t) | 0;
  }
  getSInt64() {
    return this._decodeSVarint();
  }
  getBool() {
    const t = 0 !== this._data[this._pos];
    return this._skip(1), t;
  }
  getEnum() {
    return this._decodeVarint();
  }
  getFixed64() {
    const t = this._dataView,
      e = this._pos,
      s = t.getUint32(e, !0) + t.getUint32(e + 4, !0) * i;
    return this._skip(8), s;
  }
  getSFixed64() {
    const t = this._dataView,
      e = this._pos,
      s = t.getUint32(e, !0) + t.getInt32(e + 4, !0) * i;
    return this._skip(8), s;
  }
  getDouble() {
    const t = this._dataView.getFloat64(this._pos, !0);
    return this._skip(8), t;
  }
  getFixed32() {
    const t = this._dataView.getUint32(this._pos, !0);
    return this._skip(4), t;
  }
  getSFixed32() {
    const t = this._dataView.getInt32(this._pos, !0);
    return this._skip(4), t;
  }
  getFloat() {
    const t = this._dataView.getFloat32(this._pos, !0);
    return this._skip(4), t;
  }
  getString() {
    const t = this._getLength(),
      e = this._pos,
      i = this._toString(this._data, e, e + t);
    return this._skip(t), i;
  }
  getBytes() {
    const t = this._getLength(),
      e = this._pos,
      i = this._toBytes(this._data, e, e + t);
    return this._skip(t), i;
  }
  getLength() {
    return this._getLengthUnsafe();
  }
  processMessageWithArgs(t, e, i, s) {
    const n = this.getMessage(),
      r = t(n, e, i, s);
    return n.release(), r;
  }
  processMessage(t) {
    const e = this.getMessage(),
      i = t(e);
    return e.release(), i;
  }
  getMessage() {
    const t = this._getLength(),
      e = r.pool.acquire();
    return e._init(this._data, this._dataView, this._pos, this._pos + t), this._skip(t), e;
  }
  release() {
    r.pool.release(this);
  }
  dataType() {
    return this._dataType;
  }
  skip() {
    switch (this._dataType) {
      case e.varint:
        this._decodeVarint();
        break;
      case e.fixed64:
        this._skip(8);
        break;
      case e.delimited:
        this._skip(this._getLength());
        break;
      case e.fixed32:
        this._skip(4);
        break;
      default:
        throw new Error("Invalid data type!");
    }
  }
  skipLen(t) {
    this._skip(t);
  }
  _skip(t) {
    if (this._pos + t > this._end) throw new Error("Attempt to skip past the end of buffer!");
    this._pos += t;
  }
  _decodeVarint() {
    const t = this._data;
    let e = this._pos,
      i = 0,
      s = 0;
    if (this._end - e >= 10) do {
      if (s = t[e++], i |= 127 & s, 0 == (128 & s)) break;
      if (s = t[e++], i |= (127 & s) << 7, 0 == (128 & s)) break;
      if (s = t[e++], i |= (127 & s) << 14, 0 == (128 & s)) break;
      if (s = t[e++], i |= (127 & s) << 21, 0 == (128 & s)) break;
      if (s = t[e++], i += 268435456 * (127 & s), 0 == (128 & s)) break;
      if (s = t[e++], i += 34359738368 * (127 & s), 0 == (128 & s)) break;
      if (s = t[e++], i += 4398046511104 * (127 & s), 0 == (128 & s)) break;
      if (s = t[e++], i += 562949953421312 * (127 & s), 0 == (128 & s)) break;
      if (s = t[e++], i += 72057594037927940 * (127 & s), 0 == (128 & s)) break;
      if (s = t[e++], i += 0x8000000000000000 * (127 & s), 0 == (128 & s)) break;
      throw new Error("Varint too long!");
    } while (0);else {
      let n = 1;
      for (; e !== this._end && (s = t[e], 0 != (128 & s));) ++e, i += (127 & s) * n, n *= 128;
      if (e === this._end) throw new Error("Varint overrun!");
      ++e, i += s * n;
    }
    return this._pos = e, i;
  }
  _decodeSVarint() {
    const t = this._data;
    let e,
      i = 0,
      s = 0;
    const n = 1 & t[this._pos];
    if (s = t[this._pos++], i |= 127 & s, 0 == (128 & s)) return n ? -(i + 1) / 2 : i / 2;
    if (s = t[this._pos++], i |= (127 & s) << 7, 0 == (128 & s)) return n ? -(i + 1) / 2 : i / 2;
    if (s = t[this._pos++], i |= (127 & s) << 14, 0 == (128 & s)) return n ? -(i + 1) / 2 : i / 2;
    if (s = t[this._pos++], i |= (127 & s) << 21, 0 == (128 & s)) return n ? -(i + 1) / 2 : i / 2;
    if (s = t[this._pos++], i += 268435456 * (127 & s), 0 == (128 & s)) return n ? -(i + 1) / 2 : i / 2;
    if (s = t[this._pos++], i += 34359738368 * (127 & s), 0 == (128 & s)) return n ? -(i + 1) / 2 : i / 2;
    if (s = t[this._pos++], i += 4398046511104 * (127 & s), 0 == (128 & s)) return n ? -(i + 1) / 2 : i / 2;
    if (e = BigInt(i), s = t[this._pos++], e += 0x2000000000000n * BigInt(127 & s), 0 == (128 & s)) return Number(n ? -(e + 1n) / 2n : e / 2n);
    if (s = t[this._pos++], e += 0x100000000000000n * BigInt(127 & s), 0 == (128 & s)) return Number(n ? -(e + 1n) / 2n : e / 2n);
    if (s = t[this._pos++], e += 0x8000000000000000n * BigInt(127 & s), 0 == (128 & s)) return Number(n ? -(e + 1n) / 2n : e / 2n);
    throw new Error("Varint too long!");
  }
  _getLength() {
    if (this._dataType !== e.delimited) throw new Error("Not a delimited data type!");
    return this._decodeVarint();
  }
  _getLengthUnsafe() {
    return this.getUInt32();
  }
  _toString(t, e, i) {
    if ((i = Math.min(this._end, i)) - e > n) {
      const n = t.subarray(e, i);
      return s.decode(n);
    }
    let r = "",
      h = "";
    for (let s = e; s < i; ++s) {
      const e = t[s];
      128 & e ? h += "%" + e.toString(16) : (r += decodeURIComponent(h) + String.fromCharCode(e), h = "");
    }
    return h.length && (r += decodeURIComponent(h)), r;
  }
  _toBytes(t, e, i) {
    return i = Math.min(this._end, i), new Uint8Array(t.buffer, e, i - e);
  }
}
r.pool = new _ObjectPool_js__WEBPACK_IMPORTED_MODULE_1__["default"](r, void 0, t => {
  t._data = null, t._dataView = null;
});


/***/ }),

/***/ 75109:
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "rasterizeDash": () => (/* binding */ e),
/* harmony export */   "rasterizeSimpleFill": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/floatRGBA.js */ 1671);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/mathUtils.js */ 93142);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


const a = o => "vertical" === o || "horizontal" === o || "cross" === o || "esriSFSCross" === o || "esriSFSVertical" === o || "esriSFSHorizontal" === o;
function r(o, r, e) {
  const i = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.nextPowerOfTwo)(Math.ceil(e)),
    n = a(r) ? 8 * i : 16 * i,
    s = 2 * i;
  o.width = n, o.height = n;
  const l = o.getContext("2d");
  l.strokeStyle = "#FFFFFF", l.lineWidth = i, l.beginPath(), "vertical" !== r && "cross" !== r && "esriSFSCross" !== r && "esriSFSVertical" !== r || (l.moveTo(n / 2, -s), l.lineTo(n / 2, n + s)), "horizontal" !== r && "cross" !== r && "esriSFSCross" !== r && "esriSFSHorizontal" !== r || (l.moveTo(-s, n / 2), l.lineTo(n + s, n / 2)), "forward-diagonal" !== r && "diagonal-cross" !== r && "esriSFSDiagonalCross" !== r && "esriSFSForwardDiagonal" !== r || (l.moveTo(-s, -s), l.lineTo(n + s, n + s), l.moveTo(n - s, -s), l.lineTo(n + s, s), l.moveTo(-s, n - s), l.lineTo(s, n + s)), "backward-diagonal" !== r && "diagonal-cross" !== r && "esriSFSBackwardDiagonal" !== r && "esriSFSDiagonalCross" !== r || (l.moveTo(n + s, -s), l.lineTo(-s, n + s), l.moveTo(s, -s), l.lineTo(-s, s), l.moveTo(n + s, n - s), l.lineTo(n - s, n + s)), l.stroke();
  const h = l.getImageData(0, 0, o.width, o.height),
    c = new Uint8Array(h.data);
  let m;
  for (let t = 0; t < c.length; t += 4) m = c[t + 3] / 255, c[t] = c[t] * m, c[t + 1] = c[t + 1] * m, c[t + 2] = c[t + 2] * m;
  return [c, o.width, o.height];
}
function e(t, a) {
  const r = "Butt" === a,
    e = "Square" === a,
    i = !r && !e;
  t.length % 2 == 1 && (t = [...t, ...t]);
  const n = 15.5,
    s = 2 * n;
  let l = 0;
  for (const o of t) l += o;
  const h = Math.round(l * n),
    c = new Float32Array(h * s),
    m = .5 * n;
  let S = 0,
    F = 0,
    g = .5,
    T = !0;
  for (const o of t) {
    for (S = F, F += o * n; g <= F;) {
      let o = .5;
      for (; o < s;) {
        const t = (o - .5) * h + g - .5,
          a = i ? (o - n) * (o - n) : Math.abs(o - n);
        c[t] = T ? r ? Math.max(Math.max(S + m - g, a), Math.max(g - F + m, a)) : a : i ? Math.min((g - S) * (g - S) + a, (g - F) * (g - F) + a) : e ? Math.min(Math.max(g - S, a), Math.max(F - g, a)) : Math.min(Math.max(g - S + m, a), Math.max(F + m - g, a)), o++;
      }
      g++;
    }
    T = !T;
  }
  const d = c.length,
    f = new Uint8Array(4 * d);
  for (let M = 0; M < d; ++M) {
    const t = (i ? Math.sqrt(c[M]) : c[M]) / n;
    (0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__.packFloatRGBA)(t, f, 4 * M);
  }
  return [f, h, s];
}


/***/ }),

/***/ 88729:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RectangleBinPack.js */ 93786);
/* harmony import */ var _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl/Rect.js */ 26057);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class n {
  constructor(e, s, i) {
    this.width = 0, this.height = 0, this._dirties = [], this._glyphData = [], this._currentPage = 0, this._glyphIndex = {}, this._textures = [], this._rangePromises = new Map(), this.width = e, this.height = s, this._glyphSource = i, this._binPack = new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_0__["default"](e - 4, s - 4), this._glyphData.push(new Uint8Array(e * s)), this._dirties.push(!0), this._textures.push(void 0);
  }
  getGlyphItems(s, i) {
    const h = [],
      r = this._glyphSource,
      n = new Set(),
      o = 1 / 256;
    for (const t of i) {
      const e = Math.floor(t * o);
      n.add(e);
    }
    const a = [];
    return n.forEach(t => {
      const e = s + t;
      if (this._rangePromises.has(e)) a.push(this._rangePromises.get(e));else {
        const i = r.getRange(s, t).then(() => {
          this._rangePromises.delete(e);
        }, () => {
          this._rangePromises.delete(e);
        });
        this._rangePromises.set(e, i), a.push(i);
      }
    }), Promise.all(a).then(() => {
      let n = this._glyphIndex[s];
      n || (n = {}, this._glyphIndex[s] = n);
      for (const o of i) {
        const i = n[o];
        if (i) {
          h[o] = {
            sdf: !0,
            rect: i.rect,
            metrics: i.metrics,
            page: i.page,
            code: o
          };
          continue;
        }
        const a = r.getGlyph(s, o);
        if (!a?.metrics) continue;
        const l = a.metrics;
        let c;
        if (0 === l.width) c = new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_1__["default"](0, 0, 0, 0);else {
          const e = 3,
            s = l.width + 2 * e,
            i = l.height + 2 * e;
          let h = s % 4 ? 4 - s % 4 : 4,
            r = i % 4 ? 4 - i % 4 : 4;
          1 === h && (h = 5), 1 === r && (r = 5), c = this._binPack.allocate(s + h, i + r), c.isEmpty && (this._dirties[this._currentPage] || (this._glyphData[this._currentPage] = null), this._currentPage = this._glyphData.length, this._glyphData.push(new Uint8Array(this.width * this.height)), this._dirties.push(!0), this._textures.push(void 0), this._binPack = new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_0__["default"](this.width - 4, this.height - 4), c = this._binPack.allocate(s + h, i + r));
          const n = this._glyphData[this._currentPage],
            o = a.bitmap;
          let g, _;
          if (o) for (let t = 0; t < i; t++) {
            g = s * t, _ = this.width * (c.y + t + 1) + c.x;
            for (let t = 0; t < s; t++) n[_ + t + 1] = o.at(g + t);
          }
        }
        n[o] = {
          rect: c,
          metrics: l,
          tileIDs: null,
          page: this._currentPage
        }, h[o] = {
          sdf: !0,
          rect: c,
          metrics: l,
          page: this._currentPage,
          code: o
        }, this._dirties[this._currentPage] = !0;
      }
      return h;
    });
  }
  removeGlyphs(t) {
    for (const e in this._glyphIndex) {
      const s = this._glyphIndex[e];
      if (!s) continue;
      let i;
      for (const e in s) if (i = s[e], i.tileIDs.delete(t), 0 === i.tileIDs.size) {
        const t = this._glyphData[i.page],
          h = i.rect;
        let r, n;
        for (let e = 0; e < h.height; e++) for (r = this.width * (h.y + e) + h.x, n = 0; n < h.width; n++) t[r + n] = 0;
        delete s[e], this._dirties[i.page] = !0;
      }
    }
  }
  bind(t, e, n, o = 0) {
    if (!this._textures[n]) {
      const e = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__.TextureDescriptor();
      e.pixelFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.ALPHA, e.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.CLAMP_TO_EDGE, e.width = this.width, e.height = this.height, this._textures[n] = new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__.Texture(t, e, new Uint8Array(this.width * this.height));
    }
    const a = this._textures[n];
    a.setSamplingMode(e), this._dirties[n] && a.setData(this._glyphData[n]), t.bindTexture(a, o), this._dirties[n] = !1;
  }
  destroy() {
    this.dispose();
  }
  dispose() {
    this._glyphData.length = 0, this._binPack = null;
    for (const t of this._textures) t && t.dispose();
    this._textures.length = 0;
  }
}


/***/ }),

/***/ 22160:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../request.js */ 1897);
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/pbf.js */ 74617);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class s {
  constructor(t) {
    if (this._metrics = [], !t) return void (this._allBitmaps = null);
    const e = new Map();
    let s = 0;
    for (; t.next();) switch (t.tag()) {
      case 1:
        {
          const a = t.getMessage();
          for (; a.next();) switch (a.tag()) {
            case 3:
              {
                const t = a.getMessage();
                let r, n, i, c, o, g, h;
                for (; t.next();) switch (t.tag()) {
                  case 1:
                    r = t.getUInt32();
                    break;
                  case 2:
                    n = t.getBytes();
                    break;
                  case 3:
                    i = t.getUInt32();
                    break;
                  case 4:
                    c = t.getUInt32();
                    break;
                  case 5:
                    o = t.getSInt32();
                    break;
                  case 6:
                    g = t.getSInt32();
                    break;
                  case 7:
                    h = t.getUInt32();
                    break;
                  default:
                    t.skip();
                }
                if (t.release(), r) {
                  const t = n?.length ?? 0;
                  this._metrics[r] = {
                    width: i,
                    height: c,
                    left: o,
                    top: g,
                    advance: h,
                    startOffset: s,
                    length: t
                  }, e.set(r, n), s += t;
                }
                break;
              }
            default:
              a.skip();
          }
          a.release();
          break;
        }
      default:
        t.skip();
    }
    const a = new Uint8Array(s),
      r = this._metrics;
    for (const [n, i] of e) {
      const {
        startOffset: t,
        length: e
      } = r[n];
      if (i) for (let s = 0; s < e; ++s) a[t + s] = i[s];
    }
    this._allBitmaps = a;
  }
  getMetrics(t) {
    return this._metrics[t];
  }
  getBitmap(t) {
    if (!this._allBitmaps) return;
    const e = this._metrics[t];
    if (void 0 === e) return;
    const {
      startOffset: s,
      length: a
    } = e;
    return 0 !== a ? new n(this._allBitmaps, s, a) : void 0;
  }
}
class a {
  constructor() {
    this._ranges = [];
  }
  get ranges() {
    return this._ranges;
  }
  getRange(t) {
    return this._ranges[t];
  }
  addRange(t, e) {
    this._ranges[t] = e;
  }
}
class r {
  constructor(t) {
    this._glyphInfo = {}, this._baseURL = t;
  }
  getRange(a, r) {
    const n = this._getFontStack(a);
    if (n.getRange(r)) return Promise.resolve();
    const i = 256 * r,
      c = i + 255;
    if (this._baseURL) {
      const o = this._baseURL.replace("{fontstack}", a).replace("{range}", i + "-" + c);
      return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(o, {
        responseType: "array-buffer"
      }).then(t => {
        n.addRange(r, new s(new _core_pbf_js__WEBPACK_IMPORTED_MODULE_1__["default"](new Uint8Array(t.data), new DataView(t.data))));
      }).catch(() => {
        n.addRange(r, new s());
      });
    }
    return n.addRange(r, new s()), Promise.resolve();
  }
  getGlyph(t, e) {
    const s = this._getFontStack(t);
    if (!s) return;
    const a = Math.floor(e / 256),
      r = s.getRange(a);
    return r ? {
      metrics: r.getMetrics(e),
      bitmap: r.getBitmap(e)
    } : void 0;
  }
  _getFontStack(t) {
    let e = this._glyphInfo[t];
    return e || (e = this._glyphInfo[t] = new a()), e;
  }
}
class n {
  constructor(t, e, s) {
    this._array = t, this._start = e, this.length = s;
  }
  at(t) {
    return 0 <= t && t < this.length ? this._array[this._start + t] : void 0;
  }
}


/***/ }),

/***/ 93786:
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../webgl/Rect.js */ 26057);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class e {
  constructor(e, t) {
    this._width = 0, this._height = 0, this._free = [], this._width = e, this._height = t, this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, e, t));
  }
  get width() {
    return this._width;
  }
  get height() {
    return this._height;
  }
  allocate(e, t) {
    if (e > this._width || t > this._height) return new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"]();
    let i = null,
      s = -1;
    for (let h = 0; h < this._free.length; ++h) {
      const w = this._free[h];
      e <= w.width && t <= w.height && (null === i || w.y <= i.y && w.x <= i.x) && (i = w, s = h);
    }
    return null === i ? new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"]() : (this._free.splice(s, 1), i.width < i.height ? (i.width > e && this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x + e, i.y, i.width - e, t)), i.height > t && this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x, i.y + t, i.width, i.height - t))) : (i.width > e && this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x + e, i.y, i.width - e, i.height)), i.height > t && this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x, i.y + t, e, i.height - t))), new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x, i.y, e, t));
  }
  release(h) {
    for (let e = 0; e < this._free.length; ++e) {
      const t = this._free[e];
      if (t.y === h.y && t.height === h.height && t.x + t.width === h.x) t.width += h.width;else if (t.x === h.x && t.width === h.width && t.y + t.height === h.y) t.height += h.height;else if (h.y === t.y && h.height === t.height && h.x + h.width === t.x) t.x = h.x, t.width += h.width;else {
        if (h.x !== t.x || h.width !== t.width || h.y + h.height !== t.y) continue;
        t.y = h.y, t.height += h.height;
      }
      this._free.splice(e, 1), this.release(h);
    }
    this._free.push(h);
  }
}


/***/ }),

/***/ 45938:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RenderBucket.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CircleRenderBucket": () => (/* binding */ l),
/* harmony export */   "FillRenderBucket": () => (/* binding */ f),
/* harmony export */   "LineRenderBucket": () => (/* binding */ h),
/* harmony export */   "RenderBucketBase": () => (/* binding */ o),
/* harmony export */   "SymbolRenderBucket": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ 53661);
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/typedArrayUtil.js */ 13878);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./enums.js */ 41780);
/* harmony import */ var _decluttering_util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./decluttering/util.js */ 91109);
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ 10615);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ 19955);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







class o {
  constructor(t, e) {
    this.layerUIDs = [], this.isDestroyed = !1, this._data = t;
    let r = 1;
    const n = new Uint32Array(t);
    this.layerUIDs = [];
    const s = n[r++];
    for (let i = 0; i < s; i++) this.layerUIDs[i] = n[r++];
    this.bufferDataOffset = r, e && (this.layer = e.getStyleLayerByUID(this.layerUIDs[0]));
  }
  get isPreparedForRendering() {
    return null == this._data;
  }
  get offset() {
    return this.bufferDataOffset;
  }
  get data() {
    return this._data;
  }
  destroy() {
    this.isDestroyed || (this.doDestroy(), this._data = null, this.isDestroyed = !0);
  }
  prepareForRendering(t) {
    null != this._data && (this.doPrepareForRendering(t, this._data, this.bufferDataOffset), this._data = null);
  }
}
class h extends o {
  constructor(t, e) {
    super(t, e), this.type = _enums_js__WEBPACK_IMPORTED_MODULE_2__.BucketType.LINE, this.lineIndexStart = 0, this.lineIndexCount = 0;
    const n = new Uint32Array(t);
    let s = this.bufferDataOffset;
    this.lineIndexStart = n[s++], this.lineIndexCount = n[s++];
    const i = n[s++];
    if (i > 0) {
      this.patternMap = new Map();
      for (let t = 0; t < i; t++) {
        const t = n[s++],
          e = n[s++],
          r = n[s++];
        this.patternMap.set(t, [e, r]);
      }
    }
    this.bufferDataOffset = s;
  }
  get memoryUsed() {
    return (this.data?.byteLength ?? 0) + (this.vao?.usedMemory ?? 0);
  }
  hasData() {
    return this.lineIndexCount > 0;
  }
  triangleCount() {
    return this.lineIndexCount / 3;
  }
  doDestroy() {
    this.vao = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.vao);
  }
  doPrepareForRendering(t, e, r) {
    const n = new Uint32Array(e),
      o = new Int32Array(n.buffer),
      h = n[r++],
      f = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Int32Array(o.buffer, 4 * r, h));
    r += h;
    const c = n[r++],
      l = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Uint32Array(n.buffer, 4 * r, c));
    r += c;
    const u = this.layer.lineMaterial;
    this.vao = new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t, u.getAttributeLocations(), u.getLayoutInfo(), {
      geometry: f
    }, l);
  }
}
class f extends o {
  constructor(t, e) {
    super(t, e), this.type = _enums_js__WEBPACK_IMPORTED_MODULE_2__.BucketType.FILL, this.fillIndexStart = 0, this.fillIndexCount = 0, this.outlineIndexStart = 0, this.outlineIndexCount = 0;
    const n = new Uint32Array(t);
    let s = this.bufferDataOffset;
    this.fillIndexStart = n[s++], this.fillIndexCount = n[s++], this.outlineIndexStart = n[s++], this.outlineIndexCount = n[s++];
    const i = n[s++];
    if (i > 0) {
      this.patternMap = new Map();
      for (let t = 0; t < i; t++) {
        const t = n[s++],
          e = n[s++],
          r = n[s++];
        this.patternMap.set(t, [e, r]);
      }
    }
    this.bufferDataOffset = s;
  }
  get memoryUsed() {
    return (this.data?.byteLength ?? 0) + (this.fillVAO?.usedMemory ?? 0) + (this.outlineVAO?.usedMemory ?? 0);
  }
  hasData() {
    return this.fillIndexCount > 0 || this.outlineIndexCount > 0;
  }
  triangleCount() {
    return (this.fillIndexCount + this.outlineIndexCount) / 3;
  }
  doDestroy() {
    this.fillVAO = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.fillVAO), this.outlineVAO = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.outlineVAO);
  }
  doPrepareForRendering(t, e, r) {
    const n = new Uint32Array(e),
      o = new Int32Array(n.buffer),
      h = n[r++],
      f = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Int32Array(o.buffer, 4 * r, h));
    r += h;
    const c = n[r++],
      l = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Uint32Array(n.buffer, 4 * r, c));
    r += c;
    const u = n[r++],
      y = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Int32Array(o.buffer, 4 * r, u));
    r += u;
    const d = n[r++],
      A = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Uint32Array(n.buffer, 4 * r, d));
    r += d;
    const I = this.layer,
      g = I.fillMaterial,
      p = I.outlineMaterial;
    this.fillVAO = new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t, g.getAttributeLocations(), g.getLayoutInfo(), {
      geometry: f
    }, l), this.outlineVAO = new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t, p.getAttributeLocations(), p.getLayoutInfo(), {
      geometry: y
    }, A);
  }
}
class c extends o {
  constructor(t, e, s) {
    super(t, e), this.type = _enums_js__WEBPACK_IMPORTED_MODULE_2__.BucketType.SYMBOL, this.iconPerPageElementsMap = new Map(), this.glyphPerPageElementsMap = new Map(), this.symbolInstances = [], this.isIconSDF = !1, this.opacityChanged = !1, this.lastOpacityUpdate = 0, this.symbols = [];
    const i = new Uint32Array(t),
      a = new Int32Array(t),
      o = new Float32Array(t);
    let h = this.bufferDataOffset;
    this.isIconSDF = !!i[h++];
    const f = i[h++];
    for (let r = 0; r < f; r++) {
      const t = i[h++],
        e = i[h++],
        r = i[h++];
      this.iconPerPageElementsMap.set(t, [e, r]);
    }
    const c = i[h++];
    for (let r = 0; r < c; r++) {
      const t = i[h++],
        e = i[h++],
        r = i[h++];
      this.glyphPerPageElementsMap.set(t, [e, r]);
    }
    const l = i[h++],
      u = i[h++];
    this.iconOpacity = new Int32Array(l), this.textOpacity = new Int32Array(u), h = (0,_decluttering_util_js__WEBPACK_IMPORTED_MODULE_3__.deserializeSymbols)(i, a, o, h, this.symbols, s), this.bufferDataOffset = h;
  }
  get memoryUsed() {
    return (this.data?.byteLength ?? 0) + (this.iconVAO?.usedMemory ?? 0) + (this.textVAO?.usedMemory ?? 0) + (0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__.estimateSize)(this.iconOpacity) + (0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__.estimateSize)(this.textOpacity);
  }
  hasData() {
    return this.iconPerPageElementsMap.size > 0 || this.glyphPerPageElementsMap.size > 0;
  }
  triangleCount() {
    let t = 0;
    for (const [e, r] of this.iconPerPageElementsMap) t += r[1];
    for (const [e, r] of this.glyphPerPageElementsMap) t += r[1];
    return t / 3;
  }
  doDestroy() {
    this.iconVAO = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.iconVAO), this.textVAO = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.textVAO);
  }
  updateOpacityInfo() {
    if (!this.opacityChanged) return;
    this.opacityChanged = !1;
    const t = this.iconOpacity,
      e = this.iconVAO.vertexBuffers.opacity;
    t.length > 0 && t.byteLength === e.byteLength && e.setSubData(t, 0, 0, t.length);
    const r = this.textOpacity,
      n = this.textVAO.vertexBuffers.opacity;
    r.length > 0 && r.byteLength === n.byteLength && n.setSubData(r, 0, 0, r.length);
  }
  doPrepareForRendering(t, e, r) {
    const n = new Uint32Array(e),
      o = new Int32Array(n.buffer),
      h = n[r++],
      f = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Int32Array(o.buffer, 4 * r, h));
    r += h;
    const c = n[r++],
      l = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Uint32Array(n.buffer, 4 * r, c));
    r += c;
    const u = n[r++],
      y = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Int32Array(o.buffer, 4 * r, u));
    r += u;
    const d = n[r++],
      A = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Uint32Array(n.buffer, 4 * r, d));
    r += d;
    const I = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, this.iconOpacity.buffer),
      g = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, this.textOpacity.buffer),
      p = this.layer,
      x = p.iconMaterial,
      b = p.textMaterial;
    this.iconVAO = new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t, x.getAttributeLocations(), x.getLayoutInfo(), {
      geometry: f,
      opacity: I
    }, l), this.textVAO = new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t, b.getAttributeLocations(), b.getLayoutInfo(), {
      geometry: y,
      opacity: g
    }, A);
  }
}
class l extends o {
  constructor(t, e) {
    super(t, e), this.type = _enums_js__WEBPACK_IMPORTED_MODULE_2__.BucketType.CIRCLE, this.circleIndexStart = 0, this.circleIndexCount = 0;
    const n = new Uint32Array(t);
    let s = this.bufferDataOffset;
    this.circleIndexStart = n[s++], this.circleIndexCount = n[s++], this.bufferDataOffset = s;
  }
  get memoryUsed() {
    return (this.data?.byteLength ?? 0) + (this.vao?.usedMemory ?? 0);
  }
  hasData() {
    return this.circleIndexCount > 0;
  }
  triangleCount() {
    return this.circleIndexCount / 3;
  }
  doDestroy() {
    this.vao = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.vao);
  }
  doPrepareForRendering(t, e, r) {
    const n = new Uint32Array(e),
      o = new Int32Array(n.buffer),
      h = n[r++],
      f = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Int32Array(o.buffer, 4 * r, h));
    r += h;
    const c = n[r++],
      l = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Uint32Array(n.buffer, 4 * r, c));
    r += c;
    const u = this.layer.circleMaterial;
    this.vao = new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t, u.getAttributeLocations(), u.getLayoutInfo(), {
      geometry: f
    }, l);
  }
}


/***/ }),

/***/ 95990:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _symbols_cim_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../symbols/cim/rasterizingUtils.js */ 75109);
/* harmony import */ var _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RectangleBinPack.js */ 93786);
/* harmony import */ var _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../webgl/Rect.js */ 26057);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






const r = "dasharray-";
class o {
  constructor(t, e, s = 0) {
    this._size = [], this._mosaicsData = [], this._textures = [], this._dirties = [], this._maxItemSize = 0, this._currentPage = 0, this._pageWidth = 0, this._pageHeight = 0, this._mosaicRects = {}, this.pixelRatio = 1, (t <= 0 || e <= 0) && console.error("Sprites mosaic defaultWidth and defaultHeight must be greater than zero!"), this._pageWidth = t, this._pageHeight = e, s > 0 && (this._maxItemSize = s), this._binPack = new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_1__["default"](t - 4, e - 4);
  }
  destroy() {
    this.dispose();
  }
  dispose() {
    this._binPack = null, this._mosaicsData.length = 0, this._mosaicRects = {};
    for (const t of this._textures) t && t.dispose();
    this._textures.length = 0;
  }
  getWidth(t) {
    return t >= this._size.length ? -1 : this._size[t][0];
  }
  getHeight(t) {
    return t >= this._size.length ? -1 : this._size[t][1];
  }
  getPageSize(t) {
    return t >= this._size.length ? null : this._size[t];
  }
  setSpriteSource(t) {
    if (this.dispose(), this.pixelRatio = t.devicePixelRatio, 0 === this._mosaicsData.length) {
      this._binPack = new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_1__["default"](this._pageWidth - 4, this._pageHeight - 4);
      const t = Math.floor(this._pageWidth),
        e = Math.floor(this._pageHeight),
        s = new Uint32Array(t * e);
      this._mosaicsData[0] = s, this._dirties.push(!0), this._size.push([this._pageWidth, this._pageHeight]), this._textures.push(void 0);
    }
    this._sprites = t;
  }
  getSpriteItem(t, i = !1) {
    let e,
      s,
      h = this._mosaicRects[t];
    if (h) return h;
    if (!this._sprites || "loaded" !== this._sprites.loadStatus) return null;
    if (t && t.startsWith(r) ? ([e, s] = this._rasterizeDash(t), i = !0) : e = this._sprites.getSpriteInfo(t), !e?.width || !e.height || e.width < 0 || e.height < 0) return null;
    const a = e.width,
      o = e.height,
      [n, _, g] = this._allocateImage(a, o);
    return n.width <= 0 ? null : (this._copy(n, e, _, g, i, s), h = {
      rect: n,
      width: a,
      height: o,
      sdf: e.sdf,
      simplePattern: !1,
      pixelRatio: e.pixelRatio,
      page: _
    }, this._mosaicRects[t] = h, h);
  }
  getSpriteItems(t) {
    const i = {};
    for (const e of t) i[e.name] = this.getSpriteItem(e.name, e.repeat);
    return i;
  }
  getMosaicItemPosition(t, i) {
    const e = this.getSpriteItem(t, i),
      s = e && e.rect;
    if (!s) return null;
    s.width = e.width, s.height = e.height;
    const h = e.width,
      a = e.height,
      r = 2;
    return {
      tl: [s.x + r, s.y + r],
      br: [s.x + r + h, s.y + r + a],
      page: e.page
    };
  }
  bind(t, i, e = 0, r = 0) {
    if (e >= this._size.length || e >= this._mosaicsData.length) return;
    if (!this._textures[e]) {
      const i = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_5__.TextureDescriptor();
      i.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureWrapMode.CLAMP_TO_EDGE, i.width = this._size[e][0], i.height = this._size[e][1], this._textures[e] = new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_4__.Texture(t, i, new Uint8Array(this._mosaicsData[e].buffer));
    }
    const o = this._textures[e];
    o.setSamplingMode(i), this._dirties[e] && o.setData(new Uint8Array(this._mosaicsData[e].buffer)), t.bindTexture(o, r), this._dirties[e] = !1;
  }
  static _copyBits(t, i, e, s, h, a, r, o, n, _, g) {
    let c = s * i + e,
      l = o * a + r;
    if (g) {
      l -= a;
      for (let r = -1; r <= _; r++, c = ((r + _) % _ + s) * i + e, l += a) for (let i = -1; i <= n; i++) h[l + i] = t[c + (i + n) % n];
    } else for (let p = 0; p < _; p++) {
      for (let i = 0; i < n; i++) h[l + i] = t[c + i];
      c += i, l += a;
    }
  }
  _copy(t, i, e, s, h, a) {
    if (!this._sprites || "loaded" !== this._sprites.loadStatus || e >= this._mosaicsData.length) return;
    const r = new Uint32Array(a ? a.buffer : this._sprites.image.buffer),
      n = this._mosaicsData[e];
    n && r || console.error("Source or target images are uninitialized!");
    const _ = 2,
      g = a ? i.width : this._sprites.width;
    o._copyBits(r, g, i.x, i.y, n, s[0], t.x + _, t.y + _, i.width, i.height, h), this._dirties[e] = !0;
  }
  _allocateImage(t, s) {
    t += 2, s += 2;
    const h = Math.max(t, s);
    if (this._maxItemSize && this._maxItemSize < h) {
      const i = new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0, t, s);
      return this._mosaicsData.push(new Uint32Array(t * s)), this._dirties.push(!0), this._size.push([t, s]), this._textures.push(void 0), [i, this._mosaicsData.length - 1, [t, s]];
    }
    let a = t % 4 ? 4 - t % 4 : 4,
      r = s % 4 ? 4 - s % 4 : 4;
    1 === a && (a = 5), 1 === r && (r = 5);
    const o = this._binPack.allocate(t + a, s + r);
    return o.width <= 0 ? (this._dirties[this._currentPage] || (this._mosaicsData[this._currentPage] = null), this._currentPage = this._mosaicsData.length, this._mosaicsData.push(new Uint32Array(this._pageWidth * this._pageHeight)), this._dirties.push(!0), this._size.push([this._pageWidth, this._pageHeight]), this._textures.push(void 0), this._binPack = new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_1__["default"](this._pageWidth - 4, this._pageHeight - 4), this._allocateImage(t, s)) : [o, this._currentPage, [this._pageWidth, this._pageHeight]];
  }
  _rasterizeDash(i) {
    const e = /\[(.*?)\]/,
      s = i.match(e);
    if (!s) return null;
    const h = s[1].split(",").map(Number),
      a = i.slice(i.lastIndexOf("-") + 1),
      [r, o, n] = (0,_symbols_cim_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_0__.rasterizeDash)(h, a);
    return [{
      x: 0,
      y: 0,
      width: o,
      height: n,
      sdf: !0,
      pixelRatio: 1
    }, new Uint8Array(r.buffer)];
  }
}


/***/ }),

/***/ 49306:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TileHandler": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ 53661);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ 55050);
/* harmony import */ var _core_workers_workers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/workers/workers.js */ 78914);
/* harmony import */ var _GlyphMosaic_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GlyphMosaic.js */ 88729);
/* harmony import */ var _GlyphSource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GlyphSource.js */ 22160);
/* harmony import */ var _SpriteMosaic_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SpriteMosaic.js */ 95990);
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../tiling/TileKey.js */ 67026);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








class u {
  constructor(t, e, s) {
    this._layer = t, this._styleRepository = e, this.devicePixelRatio = s, this._spriteMosaic = null, this._glyphMosaic = null, this._connection = null, this._spriteSourceAbortController = null, this._startOptionsInputSignal = null, this._inputSignalEventListener = null;
  }
  destroy() {
    this._connection?.close(), this._connection = null, this._styleRepository = null, this._layer = null, this._spriteMosaic?.destroy(), this._spriteMosaic = null, this._glyphMosaic = null, this._spriteSourceAbortController = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.abortMaybe)(this._spriteSourceAbortController), this._spriteSourcePromise = null, this._inputSignalEventListener && this._startOptionsInputSignal?.removeEventListener("abort", this._inputSignalEventListener), this._startOptionsInputSignal = null, this._inputSignalEventListener = null;
  }
  get spriteMosaic() {
    return this._spriteSourcePromise.then(() => this._spriteMosaic);
  }
  get glyphMosaic() {
    return this._glyphMosaic;
  }
  start(t) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this._requestSprite(t);
      const s = _this._layer.currentStyleInfo.glyphsUrl,
        r = new _GlyphSource_js__WEBPACK_IMPORTED_MODULE_6__["default"](s ? (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.addQueryParameters)(s, {
          ..._this._layer.customParameters,
          token: _this._layer.apiKey
        }) : null);
      _this._glyphMosaic = new _GlyphMosaic_js__WEBPACK_IMPORTED_MODULE_5__["default"](1024, 1024, r), _this._broadcastPromise = (0,_core_workers_workers_js__WEBPACK_IMPORTED_MODULE_4__.open)("WorkerTileHandler", {
        client: _this,
        schedule: t.schedule,
        signal: t.signal
      }).then(s => {
        if (_this._layer && (_this._connection?.close(), _this._connection = s, _this._layer && !_this._connection.closed)) {
          const r = s.broadcast("setStyle", _this._layer.currentStyleInfo.style, t);
          Promise.all(r).catch(t => (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfNotAbortError)(t));
        }
      });
    })();
  }
  _requestSprite(t) {
    this._spriteSourceAbortController?.abort();
    const e = new AbortController();
    this._spriteSourceAbortController = e;
    const r = t?.signal;
    this._inputSignalEventListener && this._startOptionsInputSignal?.removeEventListener("abort", this._inputSignalEventListener), this._startOptionsInputSignal = null, r && (this._inputSignalEventListener = h(e), r.addEventListener("abort", this._inputSignalEventListener, {
      once: !0
    }));
    const {
        signal: i
      } = e,
      o = {
        ...t,
        signal: i
      };
    this._spriteSourcePromise = this._layer.loadSpriteSource(this.devicePixelRatio, o), this._spriteSourcePromise.then(t => {
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAbortError)(i), this._spriteMosaic = new _SpriteMosaic_js__WEBPACK_IMPORTED_MODULE_7__["default"](1024, 1024, 250), this._spriteMosaic.setSpriteSource(t);
    });
  }
  updateStyle(t) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this2._broadcastPromise, _this2._broadcastPromise = Promise.all(_this2._connection.broadcast("updateStyle", t)), _this2._broadcastPromise;
    })();
  }
  setSpriteSource(t) {
    const e = new _SpriteMosaic_js__WEBPACK_IMPORTED_MODULE_7__["default"](1024, 1024, 250);
    return e.setSpriteSource(t), this._spriteMosaic = e, this._spriteSourcePromise = Promise.resolve(t), this._spriteSourceAbortController = null, e;
  }
  setStyle(t, e) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this3._broadcastPromise, _this3._styleRepository = t, _this3._requestSprite();
      const s = new _GlyphSource_js__WEBPACK_IMPORTED_MODULE_6__["default"](_this3._layer.currentStyleInfo.glyphsUrl ? (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.addQueryParameters)(_this3._layer.currentStyleInfo.glyphsUrl, {
        ..._this3._layer.customParameters,
        token: _this3._layer.apiKey
      }) : null);
      return _this3._glyphMosaic = new _GlyphMosaic_js__WEBPACK_IMPORTED_MODULE_5__["default"](1024, 1024, s), _this3._broadcastPromise = Promise.all(_this3._connection.broadcast("setStyle", e)), _this3._broadcastPromise;
    })();
  }
  fetchTileData(t, e) {
    return this._getRefKeys(t, e).then(t => {
      const s = this._layer.sourceNameToSource,
        r = [];
      for (const e in s) r.push(e);
      return this._getSourcesData(r, t, e);
    });
  }
  parseTileData(t, e) {
    const s = t && t.data;
    if (!s) return Promise.resolve(null);
    const {
      sourceName2DataAndRefKey: r,
      transferList: i
    } = s;
    return 0 === Object.keys(r).length ? Promise.resolve(null) : this._broadcastPromise.then(() => this._connection.invoke("createTileAndParse", {
      key: t.key.id,
      sourceName2DataAndRefKey: r,
      styleLayerUIDs: t.styleLayerUIDs
    }, {
      ...e,
      transferList: i
    }));
  }
  getSprites(t) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this4._spriteSourcePromise, _this4._spriteMosaic.getSpriteItems(t);
    })();
  }
  getGlyphs(t) {
    return this._glyphMosaic.getGlyphItems(t.font, t.codePoints);
  }
  _getTilePayload(t, e, s) {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const i = _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_8__["default"].pool.acquire(t.id),
        o = _this5._layer.sourceNameToSource[e],
        {
          level: n,
          row: l,
          col: a
        } = i;
      _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_8__["default"].pool.release(i);
      try {
        return {
          protobuff: yield o.requestTile(n, l, a, s),
          sourceName: e
        };
      } catch (u) {
        if ((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(u)) throw u;
        return {
          protobuff: null,
          sourceName: e
        };
      }
    })();
  }
  _getRefKeys(t, e) {
    const s = this._layer.sourceNameToSource,
      r = new Array();
    for (const i in s) {
      const o = s[i].getRefKey(t, e);
      r.push(o);
    }
    return Promise.allSettled(r);
  }
  _getSourcesData(t, e, s) {
    const r = [];
    for (let i = 0; i < e.length; i++) {
      const o = e[i],
        n = "fulfilled" === o.status ? o.value : null;
      if (null == n || null == t[i]) r.push(null);else {
        const e = this._getTilePayload(n, t[i], s);
        r.push(e);
      }
    }
    return Promise.allSettled(r).then(t => {
      const s = {},
        r = [];
      for (let i = 0; i < t.length; i++) {
        const o = t[i],
          n = "fulfilled" === o.status ? o.value : null,
          l = n?.protobuff;
        if (!n || !l?.byteLength) continue;
        const a = e[i],
          c = "fulfilled" === a.status ? a.value : null;
        if (c) {
          const t = c.id;
          s[n.sourceName] = {
            refKey: t,
            protobuff: l
          }, r.push(l);
        }
      }
      return {
        sourceName2DataAndRefKey: s,
        transferList: r
      };
    });
  }
}
function h(t) {
  return () => t.abort();
}


/***/ }),

/***/ 19923:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TileManager": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/LRUCache.js */ 61101);
/* harmony import */ var _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tiling/TileCoverage.js */ 97726);
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tiling/TileKey.js */ 67026);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



const l = 512,
  s = 1e-6,
  r = (e, i) => e + 1 / (1 << 2 * i);
class o {
  constructor(i, t) {
    this._tiles = new Map(), this._tileCache = new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_0__.LRUCache(40, e => e.dispose()), this._viewSize = [0, 0], this._visibleTiles = new Map(), this.acquireTile = i.acquireTile, this.releaseTile = i.releaseTile, this.tileInfoView = i.tileInfoView, this._container = t;
  }
  destroy() {
    for (const [e, i] of this._tiles) i.dispose();
    this._tiles = null, this._tileCache.clear(), this._tileCache = null;
  }
  update(e) {
    this._updateCacheSize(e);
    const l = this.tileInfoView,
      s = l.getTileCoverage(e.state, 0, !0, "smallest");
    if (!s) return !0;
    const {
        spans: r,
        lodInfo: o
      } = s,
      {
        level: n
      } = o,
      a = this._tiles,
      c = new Set(),
      h = new Set();
    for (const {
      row: i,
      colFrom: _,
      colTo: f
    } of r) for (let e = _; e <= f; e++) {
      const l = _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].getId(n, i, o.normalizeCol(e), o.getWorldForColumn(e)),
        s = this._getOrAcquireTile(l);
      c.add(l), s.processed() ? this._addToContainer(s) : h.add(new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"](l));
    }
    for (const [i, t] of a) t.isCoverage = c.has(i);
    for (const i of h) this._findPlaceholdersForMissingTiles(i, c);
    let d = !1;
    for (const [i, t] of a) t.neededForCoverage = c.has(i), t.neededForCoverage || t.isHoldingForFade && l.intersects(s, t.key) && c.add(i), t.isFading && (d = !0);
    for (const [i, t] of this._tiles) c.has(i) || this._releaseTile(i);
    return _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_1__["default"].pool.release(s), !d;
  }
  clear() {
    this._tiles.clear(), this._tileCache.clear(), this._visibleTiles.clear();
  }
  clearCache() {
    this._tileCache.clear();
  }
  _findPlaceholdersForMissingTiles(e, i) {
    const t = [];
    for (const [s, r] of this._tiles) this._addPlaceholderChild(t, r, e, i);
    const l = t.reduce(r, 0);
    Math.abs(1 - l) < s || this._addPlaceholderParent(e.id, i);
  }
  _addPlaceholderChild(e, i, t, l) {
    i.key.level <= t.level || !i.hasData() || a(t, i.key) && (this._addToContainer(i), l.add(i.id), e.push(i.key.level - t.level));
  }
  _addPlaceholderParent(e, i) {
    const t = this._tiles;
    let l = e;
    for (;;) {
      if (l = n(l), !l || i.has(l)) return;
      const e = t.get(l);
      if (e && e.hasData()) return this._addToContainer(e), void i.add(e.id);
    }
  }
  _getOrAcquireTile(e) {
    let i = this._tiles.get(e);
    return i || (i = this._tileCache.pop(e), i || (i = this.acquireTile(new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"](e))), this._tiles.set(e, i), i);
  }
  _releaseTile(e) {
    const i = this._tiles.get(e);
    this.releaseTile(i), this._removeFromContainer(i), this._tiles.delete(e), i.hasData() ? this._tileCache.put(e, i, 1) : i.dispose();
  }
  _addToContainer(e) {
    let i;
    const t = [],
      l = this._container;
    if (l.contains(e)) return;
    const s = this._visibleTiles;
    for (const [r, o] of s) this._canConnectDirectly(e, o) && t.push(o), null == i && this._canConnectDirectly(o, e) && (i = o);
    if (null != i) {
      for (const l of t) i.childrenTiles.delete(l), e.childrenTiles.add(l), l.parentTile = e;
      i.childrenTiles.add(e), e.parentTile = i;
    } else for (const r of t) e.childrenTiles.add(r), r.parentTile = e;
    s.set(e.id, e), l.addChild(e);
  }
  _removeFromContainer(e) {
    if (this._visibleTiles.delete(e.id), this._container.removeChild(e), null != e.parentTile) {
      e.parentTile.childrenTiles.delete(e);
      for (const i of e.childrenTiles) null != e.parentTile && e.parentTile.childrenTiles.add(i);
    }
    for (const i of e.childrenTiles) i.parentTile = e.parentTile;
    e.parentTile = null, e.childrenTiles.clear();
  }
  _canConnectDirectly(e, i) {
    const t = e.key;
    let {
      level: l,
      row: s,
      col: r,
      world: o
    } = i.key;
    const n = this._visibleTiles;
    for (; l > 0;) {
      if (l--, s >>= 1, r >>= 1, t.level === l && t.row === s && t.col === r && t.world === o) return !0;
      if (n.has(`${l}/${s}/${r}/${o}`)) return !1;
    }
    return !1;
  }
  _updateCacheSize(e) {
    const i = e.state.size;
    if (i[0] === this._viewSize[0] && i[1] === this._viewSize[1]) return;
    const t = Math.ceil(i[0] / l) + 1,
      s = Math.ceil(i[1] / l) + 1;
    this._viewSize[0] = i[0], this._viewSize[1] = i[1], this._tileCache.maxSize = 5 * t * s;
  }
}
function n(e) {
  const [i, t, l, s] = e.split("/"),
    r = parseInt(i, 10);
  return 0 === r ? null : `${r - 1}/${parseInt(t, 10) >> 1}/${parseInt(l, 10) >> 1}/${parseInt(s, 10)}`;
}
function a(e, i) {
  const t = i.level - e.level;
  return e.row === i.row >> t && e.col === i.col >> t && e.world === i.world;
}


/***/ }),

/***/ 44395:
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTile.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VectorTile": () => (/* binding */ d),
/* harmony export */   "printAllocations": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat3.js */ 38974);
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat3f32.js */ 40334);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ 41780);
/* harmony import */ var _RenderBucket_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RenderBucket.js */ 45938);
/* harmony import */ var _decluttering_config_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./decluttering/config.js */ 72157);
/* harmony import */ var _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../webgl/TiledDisplayObject.js */ 11653);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







class d extends _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_6__.TiledDisplayObject {
  constructor(e, t, s, a, r, i, o, h = null) {
    super(e, t, s, a, r, i, 4096, 4096), this.styleRepository = o, this._memCache = h, this.type = "vector-tile", this._referenced = 0, this._hasSymbolBuckets = !1, this._memoryUsedByLayerData = 0, this.layerData = new Map(), this.status = "loading", this.allSymbolsFadingOut = !1, this.lastOpacityUpdate = 0, this.symbols = new Map(), this.isCoverage = !1, this.neededForCoverage = !1, this.decluttered = !1, this.parentTile = null, this.childrenTiles = new Set(), this._processed = !1, this._referenced = 1, this.id = e.id;
  }
  get hasSymbolBuckets() {
    return this._hasSymbolBuckets;
  }
  get isFading() {
    return this._hasSymbolBuckets && performance.now() - this.lastOpacityUpdate < _decluttering_config_js__WEBPACK_IMPORTED_MODULE_5__.fadeDuration;
  }
  get isHoldingForFade() {
    return this._hasSymbolBuckets && (!this.allSymbolsFadingOut || performance.now() - this.lastOpacityUpdate < _decluttering_config_js__WEBPACK_IMPORTED_MODULE_5__.fadeDuration);
  }
  get wasRequested() {
    return "errored" === this.status || "loaded" === this.status || "reloading" === this.status;
  }
  setData(e) {
    this.changeDataImpl(e), this.requestRender(), this.ready(), this._processed = !0;
  }
  deleteLayerData(e) {
    let t = !1;
    for (const s of e) {
      const e = this.layerData.get(s);
      e && (this._memoryUsedByLayerData -= e.memoryUsed, e.type === _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.SYMBOL && this.symbols.delete(s) && (t = !0), e.destroy(), this.layerData.delete(s));
    }
    this._memCache?.updateSize(this.key.id, this, this._memoryUsedByLayerData), t && this.emit("symbols-changed"), this.requestRender();
  }
  processed() {
    return this._processed;
  }
  hasData() {
    return this.layerData.size > 0;
  }
  dispose() {
    "unloaded" !== this.status && (m.delete(this), d._destroyRenderBuckets(this.layerData), this.layerData = null, this._memoryUsedByLayerData = 0, this.destroy(), this.status = "unloaded");
  }
  release() {
    return 0 == --this._referenced && (this.dispose(), this.stage = null, !0);
  }
  retain() {
    ++this._referenced;
  }
  get referenced() {
    return this._referenced;
  }
  get memoryUsed() {
    return this._memoryUsedByLayerData + 256;
  }
  changeDataImpl(e) {
    let t = !1;
    if (e) {
      const {
          bucketsWithData: s,
          emptyBuckets: a
        } = e,
        r = this._createRenderBuckets(s);
      if (a && a.byteLength > 0) {
        const e = new Uint32Array(a);
        for (const t of e) this._deleteLayerData(t);
      }
      for (const [e, o] of r) this._deleteLayerData(e), o.type === _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.SYMBOL && (this.symbols.set(e, o.symbols), t = !0), this._memoryUsedByLayerData += o.memoryUsed, this.layerData.set(e, o);
      this._memCache?.updateSize(this.key.id, this, this.memoryUsed);
    }
    this._hasSymbolBuckets = !1;
    for (const [s, a] of this.layerData) a.type === _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.SYMBOL && (this._hasSymbolBuckets = !0);
    t && this.emit("symbols-changed");
  }
  attachWithContext(e) {
    this.stage = {
      context: e,
      trashDisplayObject(e) {
        e.processDetach();
      },
      untrashDisplayObject: () => !1
    };
  }
  setTransform(r) {
    super.setTransform(r);
    const i = this.resolution / (r.resolution * r.pixelRatio),
      o = this.width / this.rangeX * i,
      h = this.height / this.rangeY * i,
      n = [0, 0];
    r.toScreen(n, [this.x, this.y]);
    const l = this.transforms.tileUnitsToPixels;
    (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.g)(l), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.h)(l, l, n), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.r)(l, l, Math.PI * r.rotation / 180), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.c)(l, l, [o, h, 1]);
  }
  _createTransforms() {
    return {
      dvs: (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
      tileMat3: (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
      tileUnitsToPixels: (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)()
    };
  }
  static _destroyRenderBuckets(e) {
    if (!e) return;
    const t = new Set();
    for (const s of e.values()) t.has(s) || (s.destroy(), t.add(s));
    e.clear();
  }
  _createRenderBuckets(e) {
    const t = new Map(),
      s = new Map();
    for (const a of e) {
      const e = this._deserializeBucket(a, s);
      for (const s of e.layerUIDs) t.set(s, e);
    }
    return t;
  }
  _deserializeBucket(e, t) {
    let s = t.get(e);
    if (s) return s;
    switch (new Uint32Array(e)[0]) {
      case _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.FILL:
        s = new _RenderBucket_js__WEBPACK_IMPORTED_MODULE_4__.FillRenderBucket(e, this.styleRepository);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.LINE:
        s = new _RenderBucket_js__WEBPACK_IMPORTED_MODULE_4__.LineRenderBucket(e, this.styleRepository);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.SYMBOL:
        s = new _RenderBucket_js__WEBPACK_IMPORTED_MODULE_4__.SymbolRenderBucket(e, this.styleRepository, this);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.CIRCLE:
        s = new _RenderBucket_js__WEBPACK_IMPORTED_MODULE_4__.CircleRenderBucket(e, this.styleRepository);
    }
    return t.set(e, s), s;
  }
  _deleteLayerData(e) {
    if (!this.layerData.has(e)) return;
    const t = this.layerData.get(e);
    this._memoryUsedByLayerData -= t.memoryUsed, t.destroy(), this.layerData.delete(e);
  }
}
const m = new Map();
function u() {
  m.forEach((e, t) => {
    console.log(`\n${t.key}:`), e[0].forEach(e => console.log(e)), console.log("========"), e[1].forEach(e => console.log(e));
  });
}


/***/ }),

/***/ 51230:
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VectorTileContainer": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _decluttering_SymbolFader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./decluttering/SymbolFader.js */ 95423);
/* harmony import */ var _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./style/StyleDefinition.js */ 37599);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webgl/enums.js */ 20753);
/* harmony import */ var _webgl_RenderableTile_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../webgl/RenderableTile.js */ 95934);
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../webgl/TileContainer.js */ 53971);
/* harmony import */ var _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../tiling/TileCoverage.js */ 97726);
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../tiling/TileKey.js */ 67026);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










const y = 1e-6;
function p(e, t) {
  if (e) {
    const s = e.getLayoutProperty("visibility");
    if (!s || s.getValue() !== _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__.Visibility.NONE && (void 0 === e.minzoom || e.minzoom < t + y) && (void 0 === e.maxzoom || e.maxzoom >= t - y)) return !0;
  }
  return !1;
}
class m extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_7__["default"] {
  constructor(e) {
    super(e), this._backgroundTiles = [], this._pointToCallbacks = new Map();
  }
  destroy() {
    this.removeAllChildren(), this._spriteMosaic?.dispose(), this._spriteMosaic = null, this._glyphMosaic?.dispose(), this._glyphMosaic = null, null != this._symbolFader && (this._symbolFader.clear(), this._symbolFader = null), this._styleRepository = null, this._backgroundTiles = [], this._pointToCallbacks.clear();
  }
  get fading() {
    return this._symbolFader?.fading ?? !1;
  }
  setStyleResources(e, t, r) {
    this._spriteMosaic = e, this._glyphMosaic = t, this._styleRepository = r, null == this._symbolFader && (this._symbolFader = new _decluttering_SymbolFader_js__WEBPACK_IMPORTED_MODULE_3__.SymbolFader(this._styleRepository, this.children)), this._symbolFader.styleRepository = r;
  }
  setSpriteMosaic(e) {
    this._spriteMosaic?.dispose(), this._spriteMosaic = e;
  }
  deleteStyleLayers(e) {
    null != this._symbolFader && this._symbolFader.deleteStyleLayers(e);
  }
  hitTest(t) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const s = (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createResolver)();
      return _this._pointToCallbacks.set(t, s), _this.requestRender(), s.promise;
    })();
  }
  createRenderParams(e) {
    return {
      ...super.createRenderParams(e),
      renderPass: null,
      styleLayer: null,
      styleLayerUID: -1,
      glyphMosaic: this._glyphMosaic,
      spriteMosaic: this._spriteMosaic,
      hasClipping: !!this._clippingInfos
    };
  }
  doRender(e) {
    !this.visible || e.drawPhase !== _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.MAP && e.drawPhase !== _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.DEBUG || void 0 === this._spriteMosaic || super.doRender(e);
  }
  addChild(e) {
    return super.addChild(e), null != this._symbolFader ? this._symbolFader.addTile(e) : e.decluttered = !0, this.requestRender(), e;
  }
  removeChild(e) {
    return null != this._symbolFader && this._symbolFader.removeTile(e), this.requestRender(), super.removeChild(e);
  }
  renderChildren(e) {
    const {
      drawPhase: t
    } = e;
    if (t !== _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.DEBUG) {
      if (this._doRender(e), this._pointToCallbacks.size > 0) {
        e.drawPhase = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.HITTEST;
        const s = e.painter.effects.hittestVTL;
        s.bind(e), this._doRender(e), s.draw(e, this._pointToCallbacks), s.unbind(e), e.drawPhase = t;
      }
    } else super.renderChildren(e);
  }
  removeAllChildren() {
    for (let e = 0; e < this.children.length; e++) {
      const t = this.children[e];
      null != this._symbolFader && this._symbolFader.removeTile(t), t.dispose();
    }
    super.removeAllChildren();
  }
  getStencilTarget() {
    return this.children.filter(e => e.neededForCoverage && e.hasData());
  }
  restartDeclutter() {
    null != this._symbolFader && this._symbolFader.restartDeclutter();
  }
  _doRender(e) {
    const {
        context: t
      } = e,
      s = this._styleRepository;
    if (!s) return;
    const r = s.layers;
    let i = !0;
    e.drawPhase === _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.HITTEST && (i = !1), s.backgroundBucketIds.length > 0 && (e.renderPass = "background", this._renderBackgroundLayers(e, s.backgroundBucketIds)), super.renderChildren(e), e.drawPhase === _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.MAP && this._fade(e.displayLevel, e.state);
    const o = this.children.filter(e => e.visible && e.hasData());
    if (!o || 0 === o.length) return t.bindVAO(), t.setStencilTestEnabled(!0), void t.setBlendingEnabled(!0);
    for (const l of o) l.triangleCount = 0;
    t.setStencilWriteMask(0), t.setColorMask(!0, !0, !0, !0), t.setStencilOp(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.StencilOperation.KEEP, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.StencilOperation.KEEP, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.StencilOperation.REPLACE), t.setStencilTestEnabled(!0), t.setBlendingEnabled(!1), t.setDepthTestEnabled(!0), t.setDepthWriteEnabled(!0), t.setDepthFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.CompareFunction.LEQUAL), t.setClearDepth(1), t.clear(t.gl.DEPTH_BUFFER_BIT), e.renderPass = "opaque";
    for (let l = r.length - 1; l >= 0; l--) this._renderStyleLayer(r[l], e, o);
    t.setDepthWriteEnabled(!1), t.setBlendingEnabled(i), t.setBlendFunctionSeparate(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.BlendFactor.ONE_MINUS_SRC_ALPHA, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.BlendFactor.ONE_MINUS_SRC_ALPHA), e.renderPass = "translucent";
    for (let l = 0; l < r.length; l++) this._renderStyleLayer(r[l], e, o);
    t.bindVAO(), t.setStencilTestEnabled(!0), t.setBlendingEnabled(!0);
  }
  _fade(e, t) {
    null != this._symbolFader && (this._symbolFader.update(e, t) || this.requestRender());
  }
  _renderStyleLayer(e, t, s) {
    const {
      painter: l,
      renderPass: o
    } = t;
    if (void 0 === e) return;
    const n = e.getLayoutProperty("visibility");
    if (n && n.getValue() === _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__.Visibility.NONE) return;
    let a;
    switch (e.type) {
      case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__.StyleLayerType.BACKGROUND:
        return;
      case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__.StyleLayerType.FILL:
        if ("opaque" !== o && "translucent" !== t.renderPass) return;
        a = "vtlFill";
        break;
      case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__.StyleLayerType.LINE:
        if ("translucent" !== o) return;
        a = "vtlLine";
        break;
      case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__.StyleLayerType.CIRCLE:
        if ("translucent" !== o) return;
        a = "vtlCircle";
        break;
      case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__.StyleLayerType.SYMBOL:
        if ("translucent" !== o) return;
        a = "vtlSymbol";
    }
    if (s = e.type === _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__.StyleLayerType.SYMBOL ? s.filter(e => e.decluttered) : s.filter(e => e.neededForCoverage), "vtlSymbol" !== a) {
      const r = t.displayLevel;
      if (0 === s.length || void 0 !== e.minzoom && e.minzoom >= r + y || void 0 !== e.maxzoom && e.maxzoom < r - y) return;
    }
    const d = e.uid;
    t.styleLayerUID = d, t.styleLayer = e;
    for (const r of s) if (r.layerData.has(d)) {
      l.renderObjects(t, s, a);
      break;
    }
  }
  _renderBackgroundLayers(e, s) {
    const {
        context: r,
        displayLevel: n,
        painter: u,
        state: y
      } = e,
      m = this._styleRepository;
    let _ = !1;
    for (const t of s) {
      if (m.getLayerById(t).type === _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__.StyleLayerType.BACKGROUND && p(m.getLayerById(t), n)) {
        _ = !0;
        break;
      }
    }
    if (!_) return;
    const b = this._tileInfoView.getTileCoverage(e.state, 0, !0, "smallest"),
      {
        spans: f,
        lodInfo: g
      } = b,
      {
        level: T
      } = g,
      E = (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(),
      C = [];
    if (this._renderPasses) {
      const t = this._renderPasses[0];
      null != this._clippingInfos && (t.brushes[0].prepareState(e), t.brushes[0].drawMany(e, this._clippingInfos));
    }
    const L = this._backgroundTiles;
    let v,
      F = 0;
    for (const {
      row: i,
      colFrom: l,
      colTo: a
    } of f) for (let e = l; e <= a; e++) {
      if (F < L.length) v = L[F], v.key.set(T, i, g.normalizeCol(e), g.getWorldForColumn(e)), this._tileInfoView.getTileBounds(E, v.key, !1), v.x = E[0], v.y = E[3], v.resolution = this._tileInfoView.getTileResolution(T);else {
        const s = new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_9__["default"](T, i, g.normalizeCol(e), g.getWorldForColumn(e)),
          r = this._tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(), s),
          l = this._tileInfoView.getTileResolution(T);
        v = new _webgl_RenderableTile_js__WEBPACK_IMPORTED_MODULE_6__.RenderableTile(s, l, r[0], r[3], 512, 512, 4096, 4096), L.push(v);
      }
      v.setTransform(y), C.push(v), F++;
    }
    r.setStencilWriteMask(0), r.setColorMask(!0, !0, !0, !0), r.setStencilOp(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.StencilOperation.KEEP, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.StencilOperation.KEEP, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.StencilOperation.REPLACE), r.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.CompareFunction.EQUAL, 0, 255);
    let S = !0;
    e.drawPhase === _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.HITTEST && (S = !1), r.setStencilTestEnabled(S);
    for (const t of s) {
      const s = m.getLayerById(t);
      s.type === _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_4__.StyleLayerType.BACKGROUND && p(s, n) && (e.styleLayerUID = s.uid, e.styleLayer = s, u.renderObjects(e, C, "vtlBackground"));
    }
    _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_8__["default"].pool.release(b);
  }
}


/***/ }),

/***/ 24045:
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SymbolDeclutterer": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ 72157);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function t(o, t) {
  if (o.priority - t.priority) return o.priority - t.priority;
  const e = o.tile.key,
    i = t.tile.key;
  return e.world - i.world ? e.world - i.world : e.level - i.level ? e.level - i.level : e.row - i.row ? e.row - i.row : e.col - i.col ? e.col - i.col : o.xTile - t.xTile ? o.xTile - t.xTile : o.yTile - t.yTile;
}
class e {
  get running() {
    return this._running;
  }
  constructor(o, t, e, i, s, n) {
    this._visibleTiles = o, this._symbolRepository = t, this._createCollisionJob = e, this._assignTileSymbolsOpacity = i, this._symbolLayerSorter = s, this._isLayerVisible = n, this._selectionJob = null, this._selectionJobCompleted = !1, this._collisionJob = null, this._collisionJobCompleted = !1, this._opacityJob = null, this._opacityJobCompleted = !1, this._running = !0;
  }
  setScreenSize(o, t) {
    this._screenWidth === o && this._screenHeight === t || this.restart(), this._screenWidth = o, this._screenHeight = t;
  }
  restart() {
    this._selectionJob = null, this._selectionJobCompleted = !1, this._collisionJob = null, this._collisionJobCompleted = !1, this._opacityJob = null, this._opacityJobCompleted = !1, this._running = !0;
  }
  continue(o) {
    if (this._selectionJob || (this._selectionJob = this._createSelectionJob()), !this._selectionJobCompleted) {
      const t = performance.now();
      if (!this._selectionJob.work(o)) return !1;
      if (this._selectionJobCompleted = !0, 0 === (o = Math.max(0, o - (performance.now() - t)))) return !1;
    }
    if (this._collisionJob || (this._collisionJob = this._createCollisionJob(this._selectionJob.sortedSymbols, this._screenWidth, this._screenHeight)), !this._collisionJobCompleted) {
      const t = performance.now();
      if (!this._collisionJob.work(o)) return !1;
      if (this._collisionJobCompleted = !0, 0 === (o = Math.max(0, o - (performance.now() - t)))) return !1;
    }
    if (this._opacityJob || (this._opacityJob = this._createOpacityJob()), !this._opacityJobCompleted) {
      const t = performance.now();
      if (!this._opacityJob.work(o)) return !1;
      if (this._opacityJobCompleted = !0, 0 === (o = Math.max(0, o - (performance.now() - t)))) return !1;
    }
    return this._running = !1, !0;
  }
  _createSelectionJob() {
    const o = this._symbolRepository.uniqueSymbols;
    for (let t = 0; t < o.length; t++) {
      const e = o[t];
      for (let o = 0; o < e.uniqueSymbols.length; o++) {
        const t = e.uniqueSymbols[o];
        for (const o of t.tileSymbols) o.selectedForRendering = !1;
      }
    }
    const e = [];
    let i = 0,
      s = 0;
    const n = this._isLayerVisible;
    function r(r) {
      let l;
      const c = performance.now();
      for (; s < o.length; s++, i = 0) {
        const t = o[s],
          h = t.styleLayerUID;
        if (!n(h)) {
          e[s] || (e[s] = {
            styleLayerUID: h,
            symbols: []
          });
          continue;
        }
        e[s] = e[s] || {
          styleLayerUID: h,
          symbols: []
        };
        const a = e[s];
        for (; i < t.uniqueSymbols.length; i++) {
          if (l = t.uniqueSymbols[i], i % 100 == 99 && performance.now() - c > r) return !1;
          let o = null,
            e = !1,
            s = !1;
          for (const t of l.tileSymbols) if (!s || !e) {
            const i = t.tile;
            (!o || i.isCoverage || i.neededForCoverage && !e) && (o = t, (i.neededForCoverage || i.isCoverage) && (s = !0), i.isCoverage && (e = !0));
          }
          if (o.selectedForRendering = !0, s) {
            a.symbols.push(o), l.show = !0;
            for (const o of l.parts) o.show = !0;
          } else l.show = !1;
        }
      }
      for (const o of e) o.symbols.sort(t);
      return !0;
    }
    const l = this._symbolLayerSorter;
    return {
      work: r,
      get sortedSymbols() {
        return e.sort(l);
      }
    };
  }
  _createOpacityJob() {
    const o = this._assignTileSymbolsOpacity,
      t = this._visibleTiles;
    let e = 0;
    function s(t, e) {
      const n = t.symbols;
      for (const [o, s] of n) i(s, e);
      o(t, e);
      for (const o of t.childrenTiles) s(o, e);
    }
    return {
      work(o) {
        const i = performance.now();
        for (; e < t.length; e++) {
          if (performance.now() - i > o) return !1;
          const n = t[e];
          if (null != n.parentTile) continue;
          s(n, performance.now());
        }
        return !0;
      }
    };
  }
}
function i(t, e) {
  for (const i of t) {
    const t = i.unique;
    for (const i of t.parts) {
      const s = i.targetOpacity > .5 ? 1 : -1;
      i.startOpacity += s * ((e - i.startTime) / _config_js__WEBPACK_IMPORTED_MODULE_0__.fadeDuration), i.startOpacity = Math.min(Math.max(i.startOpacity, 0), 1), i.startTime = e, i.targetOpacity = t.show && i.show ? 1 : 0;
    }
  }
}


/***/ }),

/***/ 95423:
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SymbolFader": () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _core_signal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/signal.js */ 93492);
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config.js */ 72157);
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core.js */ 86837);
/* harmony import */ var _jobs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./jobs.js */ 25141);
/* harmony import */ var _SymbolDeclutterer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SymbolDeclutterer.js */ 24045);
/* harmony import */ var _SymbolRepository_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SymbolRepository.js */ 31579);
/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util.js */ 91109);
/* harmony import */ var _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../style/StyleDefinition.js */ 37599);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








const n = .5,
  c = 1e-6;
class _ {
  constructor(e, i) {
    this.styleRepository = e, this._tileToHandle = new Map(), this._viewState = {
      scale: 0,
      rotation: 0,
      center: [0, 0],
      size: [0, 0]
    }, this._declutterViewState = {
      scale: 0,
      rotation: 0,
      center: [0, 0],
      size: [0, 0]
    }, this._completed = !1, this._fading = (0,_core_signal_js__WEBPACK_IMPORTED_MODULE_0__.signal)(!1), this._symbolRepository = new _SymbolRepository_js__WEBPACK_IMPORTED_MODULE_5__.SymbolRepository(4096, i, () => new _core_js__WEBPACK_IMPORTED_MODULE_2__.VTLUniqueSymbol()), this._symbolDeclutterer = new _SymbolDeclutterer_js__WEBPACK_IMPORTED_MODULE_4__.SymbolDeclutterer(i, this._symbolRepository, (t, e, i) => new _jobs_js__WEBPACK_IMPORTED_MODULE_3__.CollisionJob(t, e, i, this.styleRepository, this._zoom, this._viewState.rotation), (t, e) => {
      t.allSymbolsFadingOut = !0, t.lastOpacityUpdate = e, (0,_util_js__WEBPACK_IMPORTED_MODULE_6__.writeOpacityToBuffers)(t, e, !0), t.decluttered = !0, t.requestRender();
    }, (t, e) => this.styleRepository.getStyleLayerByUID(t.styleLayerUID).z - this.styleRepository.getStyleLayerByUID(e.styleLayerUID).z, t => {
      const e = this.styleRepository.getStyleLayerByUID(t);
      if (this._zoom + c < e.minzoom || this._zoom - c >= e.maxzoom) return !1;
      const i = e.getLayoutProperty("visibility");
      return !i || i.getValue() !== _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_7__.Visibility.NONE;
    });
  }
  get fading() {
    return this._fading.value;
  }
  addTile(t) {
    t.decluttered = !1, this._tileToHandle.set(t, t.on("symbols-changed", () => {
      this._symbolRepository.add(t), this.restartDeclutter();
    })), this._symbolRepository.add(t), this.restartDeclutter();
  }
  removeTile(t) {
    const e = this._tileToHandle.get(t);
    e && (this._symbolRepository.removeTile(t), this.restartDeclutter(), e.remove(), this._tileToHandle.delete(t));
  }
  update(t, e) {
    return this._zoom = t, this._viewState = {
      scale: e.scale,
      rotation: e.rotation,
      center: [e.center[0], e.center[1]],
      size: [e.size[0], e.size[1]]
    }, this._continueDeclutter(), this._completed;
  }
  restartDeclutter() {
    this._completed = !1, this._symbolDeclutterer.restart(), this._notifyUnstable();
  }
  clear() {
    this._completed = !1, this._symbolRepository = null, this._symbolDeclutterer.restart(), this._tileToHandle.forEach(t => t.remove()), this._tileToHandle.clear();
  }
  get stale() {
    return this._zoom !== this._declutterZoom || this._viewState.size[0] !== this._declutterViewState.size[0] || this._viewState.size[1] !== this._declutterViewState.size[1] || this._viewState.scale !== this._declutterViewState.scale || this._viewState.rotation !== this._declutterViewState.rotation;
  }
  deleteStyleLayers(t) {
    this._symbolRepository.deleteStyleLayers(t);
  }
  _continueDeclutter() {
    this._completed && !this.stale || (this._symbolDeclutterer.running || (this._declutterZoom = this._zoom, this._declutterViewState.center[0] = this._viewState.center[0], this._declutterViewState.center[1] = this._viewState.center[1], this._declutterViewState.rotation = this._viewState.rotation, this._declutterViewState.scale = this._viewState.scale, this._declutterViewState.size[0] = this._viewState.size[0], this._declutterViewState.size[1] = this._viewState.size[1], this._symbolDeclutterer.restart()), this._symbolDeclutterer.setScreenSize(this._viewState.size[0], this._viewState.size[1]), this._completed = this._symbolDeclutterer.continue(_config_js__WEBPACK_IMPORTED_MODULE_1__.declutterBudget), this._completed && this._scheduleNotifyStable());
  }
  _scheduleNotifyStable() {
    null != this._stableNotificationHandle && clearTimeout(this._stableNotificationHandle), this._stableNotificationHandle = setTimeout(() => {
      this._stableNotificationHandle = null, this._fading.value = !1;
    }, (1 + n) * _config_js__WEBPACK_IMPORTED_MODULE_1__.fadeDuration);
  }
  _notifyUnstable() {
    null != this._stableNotificationHandle && (clearTimeout(this._stableNotificationHandle), this._stableNotificationHandle = null), this._fading.value = !0;
  }
}


/***/ }),

/***/ 31579:
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SymbolRepository": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ 91109);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

const l = 32,
  o = 8,
  t = 64;
class i {
  constructor(e, s, l) {
    this.tileCoordRange = e, this._visibleTiles = s, this._createUnique = l, this._tiles = new Map(), this._uniqueSymbolsReferences = new Map();
  }
  get uniqueSymbols() {
    return null == this._uniqueSymbolLayerArray && (this._uniqueSymbolLayerArray = this._createUniqueSymbolLayerArray()), this._uniqueSymbolLayerArray;
  }
  add(s, i) {
    this._uniqueSymbolLayerArray = null;
    let n = this._tiles.get(s.id);
    n || (n = {
      symbols: new Map()
    }, this._tiles.set(s.id, n));
    const r = new Map();
    if (i) for (const e of i) n.symbols.has(e) && (r.set(e, n.symbols.get(e)), n.symbols.delete(e));else for (const [e, l] of s.layerData) n.symbols.has(e) && (r.set(e, n.symbols.get(e)), n.symbols.delete(e));
    this._removeSymbols(r);
    const y = s.symbols,
      a = new Map();
    for (const [f, c] of y) {
      let s = c.length;
      if (s >= l) {
        let l = this.tileCoordRange;
        do {
          l /= 2, s /= 4;
        } while (s > o && l > t);
        const i = new _util_js__WEBPACK_IMPORTED_MODULE_0__.GridIndex(this.tileCoordRange, this.tileCoordRange, l);
        a.set(f, {
          flat: c,
          index: i
        }), n.symbols.set(f, {
          flat: c,
          index: i
        });
        for (const e of c) i.getCell(e.xTile, e.yTile).push(e);
      } else a.set(f, {
        flat: c
      }), n.symbols.set(f, {
        flat: c
      });
    }
    this._addSymbols(s.key, y);
  }
  deleteStyleLayers(e) {
    this._uniqueSymbolLayerArray = null;
    for (const [s, l] of this._tiles) {
      const o = new Map();
      for (const s of e) l.symbols.has(s) && (o.set(s, l.symbols.get(s)), l.symbols.delete(s));
      this._removeSymbols(o), 0 === l.symbols.size && this._tiles.delete(s);
    }
  }
  removeTile(e) {
    this._uniqueSymbolLayerArray = null;
    const s = this._tiles.get(e.id);
    if (!s) return;
    const l = new Map();
    for (const [o, t] of e.symbols) s.symbols.has(o) && (l.set(o, s.symbols.get(o)), s.symbols.delete(o));
    this._removeSymbols(l), 0 === s.symbols.size && this._tiles.delete(e.id);
  }
  _removeSymbols(e) {
    for (const [s, {
      flat: l
    }] of e) for (const e of l) {
      const l = e.unique,
        o = l.tileSymbols,
        t = o.length - 1;
      for (let s = 0; s < t; s++) if (o[s] === e) {
        o[s] = o[t];
        break;
      }
      if (o.length = t, 0 === t) {
        const e = this._uniqueSymbolsReferences.get(s);
        e.delete(l), 0 === e.size && this._uniqueSymbolsReferences.delete(s);
      }
      e.unique = null;
    }
  }
  _addSymbols(e, s) {
    if (0 === s.size) return;
    const l = this._visibleTiles;
    for (const o of l) o.parentTile || o.key.world !== e.world || o.key.level === e.level && !o.key.equals(e) || this._matchSymbols(o, e, s);
    for (const [o, t] of s) for (const e of t) if (null == e.unique) {
      const s = this._createUnique();
      e.unique = s, s.tileSymbols.push(e);
      let l = this._uniqueSymbolsReferences.get(o);
      l || (l = new Set(), this._uniqueSymbolsReferences.set(o, l)), l.add(s);
    }
  }
  _matchSymbols(e, l, o) {
    if (e.key.level > l.level) {
      const s = e.key.level - l.level;
      if (e.key.row >> s !== l.row || e.key.col >> s !== l.col) return;
    }
    if (l.level > e.key.level) {
      const s = l.level - e.key.level;
      if (l.row >> s !== e.key.row || l.col >> s !== e.key.col) return;
    }
    if (l.equals(e.key)) {
      for (const s of e.childrenTiles) this._matchSymbols(s, l, o);
      return;
    }
    const t = new Map();
    for (const [i, n] of o) {
      const o = [];
      for (const t of n) {
        const i = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.tileCoordChange)(this.tileCoordRange, t.xTile, l.level, l.col, e.key.level, e.key.col),
          n = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.tileCoordChange)(this.tileCoordRange, t.yTile, l.level, l.row, e.key.level, e.key.row);
        i >= 0 && i < this.tileCoordRange && n >= 0 && n < this.tileCoordRange && o.push({
          symbol: t,
          xTransformed: i,
          yTransformed: n
        });
      }
      const r = [],
        y = e.key.level < l.level ? 1 : 1 << e.key.level - l.level,
        a = this._tiles.get(e.id).symbols.get(i);
      if (a) {
        const e = a.flat;
        for (const s of o) {
          let l,
            o = !1;
          const t = s.xTransformed,
            i = s.yTransformed;
          l = null != a.index ? a.index.getCell(t, i) : e;
          const n = s.symbol,
            f = n.hash;
          for (const e of l) if (f === e.hash && Math.abs(t - e.xTile) <= y && Math.abs(i - e.yTile) <= y) {
            const s = e.unique;
            n.unique = s, s.tileSymbols.push(n), o = !0;
            break;
          }
          o || r.push(n);
        }
      }
      r.length > 0 && t.set(i, r);
    }
    for (const s of e.childrenTiles) this._matchSymbols(s, l, t);
  }
  _createUniqueSymbolLayerArray() {
    const e = this._uniqueSymbolsReferences,
      s = new Array(e.size);
    let l,
      o = 0;
    for (const [t, i] of e) {
      const e = new Array(i.size);
      l = 0;
      for (const s of i) e[l++] = s;
      s[o] = {
        styleLayerUID: t,
        uniqueSymbols: e
      }, o++;
    }
    return s;
  }
}


/***/ }),

/***/ 86837:
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/core.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VTLSymbol": () => (/* binding */ t),
/* harmony export */   "VTLUniqueSymbol": () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t {
  constructor(t) {
    this.xTile = 0, this.yTile = 0, this.hash = 0, this.priority = 1, this.colliders = [], this.textVertexRanges = [], this.iconVertexRanges = [], this.tile = t;
  }
}
class s {
  constructor() {
    this.tileSymbols = [], this.parts = [{
      startTime: 0,
      startOpacity: 0,
      targetOpacity: 0,
      show: !1
    }, {
      startTime: 0,
      startOpacity: 0,
      targetOpacity: 0,
      show: !1
    }], this.show = !1;
  }
}


/***/ }),

/***/ 25141:
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CollisionJob": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/mat3f32.js */ 40334);
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config.js */ 72157);
/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ 91109);
/* harmony import */ var _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../style/StyleDefinition.js */ 37599);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




function i(e, t, n, o, i, l) {
  const {
    iconRotationAlignment: a,
    textRotationAlignment: c,
    iconTranslate: h,
    iconTranslateAnchor: u,
    textTranslate: d,
    textTranslateAnchor: y
  } = o;
  let x = 0;
  for (const g of e.colliders) {
    const [e, o] = 0 === g.partIndex ? h : d,
      m = 0 === g.partIndex ? u : y,
      f = g.minLod <= l && l <= g.maxLod;
    x += f ? 0 : 1, g.enabled = f, g.xScreen = g.xTile * i[0] + g.yTile * i[3] + i[6], g.yScreen = g.xTile * i[1] + g.yTile * i[4] + i[7], m === _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.TranslateAnchor.MAP ? (g.xScreen += n * e - t * o, g.yScreen += t * e + n * o) : (g.xScreen += e, g.yScreen += o), _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.VIEWPORT === (0 === g.partIndex ? a : c) ? (g.dxScreen = g.dxPixels, g.dyScreen = g.dyPixels) : (g.dxScreen = n * (g.dxPixels + g.width / 2) - t * (g.dyPixels + g.height / 2) - g.width / 2, g.dyScreen = t * (g.dxPixels + g.width / 2) + n * (g.dyPixels + g.height / 2) - g.height / 2);
  }
  e.colliders.length > 0 && x === e.colliders.length && (e.unique.show = !1);
}
class l {
  constructor(o, r, s, i, l, a) {
    this._symbols = o, this._styleRepository = i, this._zoom = l, this._currentLayerCursor = 0, this._currentSymbolCursor = 0, this._styleProps = new Map(), this._allNeededMatrices = new Map(), this._gridIndex = new _util_js__WEBPACK_IMPORTED_MODULE_2__.GridIndex(r, s, _config_js__WEBPACK_IMPORTED_MODULE_1__.collisionGridCellSize), this._si = Math.sin(Math.PI * a / 180), this._co = Math.cos(Math.PI * a / 180);
    for (const t of o) for (const n of t.symbols) this._allNeededMatrices.has(n.tile) || this._allNeededMatrices.set(n.tile, (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.a)(n.tile.transforms.tileUnitsToPixels));
  }
  work(e) {
    const t = this._gridIndex;
    function n(e) {
      const n = e.xScreen + e.dxScreen,
        o = e.yScreen + e.dyScreen,
        r = n + e.width,
        s = o + e.height,
        [i, l, a, c] = t.getCellSpan(n, o, r, s);
      for (let h = l; h <= c; h++) for (let e = i; e <= a; e++) {
        const i = t.cells[h][e];
        for (const e of i) {
          const t = e.xScreen + e.dxScreen,
            i = e.yScreen + e.dyScreen,
            l = t + e.width,
            a = i + e.height;
          if (!(r < t || n > l || s < i || o > a)) return !0;
        }
      }
      return !1;
    }
    const o = performance.now();
    for (; this._currentLayerCursor < this._symbols.length; this._currentLayerCursor++, this._currentSymbolCursor = 0) {
      const t = this._symbols[this._currentLayerCursor],
        r = this._getProperties(t.styleLayerUID);
      for (; this._currentSymbolCursor < t.symbols.length; this._currentSymbolCursor++) {
        if (this._currentSymbolCursor % 100 == 99 && performance.now() - o > e) return !1;
        const s = t.symbols[this._currentSymbolCursor];
        if (!s.unique.show) continue;
        i(s, this._si, this._co, r, this._allNeededMatrices.get(s.tile), this._zoom);
        const l = s.unique;
        if (!l.show) continue;
        const {
          iconAllowOverlap: a,
          iconIgnorePlacement: c,
          textAllowOverlap: h,
          textIgnorePlacement: u
        } = r;
        for (const e of s.colliders) {
          if (!e.enabled) continue;
          const t = l.parts[e.partIndex];
          if (!t.show) continue;
          !(e.partIndex ? h : a) && n(e) && (e.hard ? l.show = !1 : t.show = !1);
        }
        if (l.show) for (const e of s.colliders) {
          if (!e.enabled) continue;
          if (e.partIndex ? u : c) continue;
          if (!l.parts[e.partIndex].show) continue;
          const t = e.xScreen + e.dxScreen,
            n = e.yScreen + e.dyScreen,
            o = t + e.width,
            r = n + e.height,
            [s, i, a, h] = this._gridIndex.getCellSpan(t, n, o, r);
          for (let l = i; l <= h; l++) for (let t = s; t <= a; t++) {
            this._gridIndex.cells[l][t].push(e);
          }
        }
      }
    }
    return !0;
  }
  _getProperties(e) {
    const t = this._styleProps.get(e);
    if (t) return t;
    const n = this._zoom,
      s = this._styleRepository.getStyleLayerByUID(e),
      i = s.getLayoutValue("symbol-placement", n) !== _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.SymbolPlacement.POINT;
    let l = s.getLayoutValue("icon-rotation-alignment", n);
    l === _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.AUTO && (l = i ? _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.MAP : _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.VIEWPORT);
    let a = s.getLayoutValue("text-rotation-alignment", n);
    a === _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.AUTO && (a = i ? _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.MAP : _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.VIEWPORT);
    const c = s.getPaintValue("icon-translate", n),
      h = s.getPaintValue("icon-translate-anchor", n),
      u = s.getPaintValue("text-translate", n),
      d = s.getPaintValue("text-translate-anchor", n),
      y = {
        iconAllowOverlap: s.getLayoutValue("icon-allow-overlap", n),
        iconIgnorePlacement: s.getLayoutValue("icon-ignore-placement", n),
        textAllowOverlap: s.getLayoutValue("text-allow-overlap", n),
        textIgnorePlacement: s.getLayoutValue("text-ignore-placement", n),
        iconRotationAlignment: l,
        textRotationAlignment: a,
        iconTranslateAnchor: h,
        iconTranslate: c,
        textTranslateAnchor: d,
        textTranslate: u
      };
    return this._styleProps.set(e, y), y;
  }
}


/***/ }),

/***/ 91109:
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GridIndex": () => (/* binding */ o),
/* harmony export */   "deserializeSymbols": () => (/* binding */ l),
/* harmony export */   "tileCoordChange": () => (/* binding */ s),
/* harmony export */   "writeOpacityToBuffers": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ 41780);
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ 86837);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


function s(t, e, s, o, l, i) {
  const r = s - l;
  if (r >= 0) return (e >> r) + (o - (i << r)) * (t >> r);
  const n = -r;
  return e - (i - (o << n)) * (t >> n) << n;
}
class o {
  constructor(t, e, s) {
    this._rows = Math.ceil(e / s), this._columns = Math.ceil(t / s), this._cellSize = s, this.cells = new Array(this._rows);
    for (let o = 0; o < this._rows; o++) {
      this.cells[o] = new Array(this._columns);
      for (let t = 0; t < this._columns; t++) this.cells[o][t] = [];
    }
  }
  getCell(t, e) {
    const s = Math.min(Math.max(Math.floor(e / this._cellSize), 0), this._rows - 1),
      o = Math.min(Math.max(Math.floor(t / this._cellSize), 0), this._columns - 1);
    return this.cells[s] && this.cells[s][o] || null;
  }
  getCellSpan(t, e, s, o) {
    return [Math.min(Math.max(Math.floor(t / this._cellSize), 0), this.columns - 1), Math.min(Math.max(Math.floor(e / this._cellSize), 0), this.rows - 1), Math.min(Math.max(Math.floor(s / this._cellSize), 0), this.columns - 1), Math.min(Math.max(Math.floor(o / this._cellSize), 0), this.rows - 1)];
  }
  get cellSize() {
    return this._cellSize;
  }
  get columns() {
    return this._columns;
  }
  get rows() {
    return this._rows;
  }
}
function l(t, s, o, l, i, r) {
  const n = s[l++];
  for (let a = 0; a < n; a++) {
    const n = new _core_js__WEBPACK_IMPORTED_MODULE_1__.VTLSymbol(r);
    n.xTile = s[l++], n.yTile = s[l++], n.hash = s[l++], n.priority = s[l++];
    const a = s[l++];
    for (let t = 0; t < a; t++) {
      const t = s[l++],
        e = s[l++],
        i = s[l++],
        r = s[l++],
        a = !!s[l++],
        c = s[l++],
        h = o[l++],
        f = o[l++],
        u = s[l++],
        m = s[l++];
      n.colliders.push({
        xTile: t,
        yTile: e,
        dxPixels: i,
        dyPixels: r,
        hard: a,
        partIndex: c,
        width: u,
        height: m,
        minLod: h,
        maxLod: f
      });
    }
    const c = t[l++];
    for (let e = 0; e < c; e++) n.textVertexRanges.push([t[l++], t[l++]]);
    const h = t[l++];
    for (let e = 0; e < h; e++) n.iconVertexRanges.push([t[l++], t[l++]]);
    i.push(n);
  }
  return l;
}
function i(t, e, s) {
  for (const [o, l] of t.symbols) r(t, e, s, l, o);
}
function r(e, s, o, l, i) {
  const r = e.layerData.get(i);
  if (r.type === _enums_js__WEBPACK_IMPORTED_MODULE_0__.BucketType.SYMBOL) {
    for (const t of l) {
      const s = t.unique;
      let l;
      if (t.selectedForRendering) {
        const t = s.parts[0],
          i = t.startOpacity,
          r = t.targetOpacity;
        e.allSymbolsFadingOut = e.allSymbolsFadingOut && 0 === r;
        const n = o ? Math.floor(127 * i) | r << 7 : r ? 255 : 0;
        l = n << 24 | n << 16 | n << 8 | n;
      } else l = 0;
      for (const [e, o] of t.iconVertexRanges) for (let t = e; t < e + o; t += 4) r.iconOpacity[t / 4] = l;
      if (t.selectedForRendering) {
        const t = s.parts[1],
          i = t.startOpacity,
          r = t.targetOpacity;
        e.allSymbolsFadingOut = e.allSymbolsFadingOut && 0 === r;
        const n = o ? Math.floor(127 * i) | r << 7 : r ? 255 : 0;
        l = n << 24 | n << 16 | n << 8 | n;
      } else l = 0;
      for (const [e, o] of t.textVertexRanges) for (let t = e; t < e + o; t += 4) r.textOpacity[t / 4] = l;
    }
    r.lastOpacityUpdate = s, r.opacityChanged = !0;
  }
}


/***/ }),

/***/ 26057:
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t {
  constructor(t = 0, h = 0, i = 0, s = 0) {
    this.x = t, this.y = h, this.width = i, this.height = s;
  }
  get isEmpty() {
    return this.width <= 0 || this.height <= 0;
  }
  union(t) {
    this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.width = Math.max(this.width, t.width), this.height = Math.max(this.height, t.height);
  }
}


/***/ }),

/***/ 95934:
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/RenderableTile.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RenderableTile": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/mat3f32.js */ 40334);
/* harmony import */ var _TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TiledDisplayObject.js */ 11653);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class t extends _TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_1__.TiledDisplayObject {
  _createTransforms() {
    return {
      dvs: (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)(),
      tileMat3: (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)()
    };
  }
}


/***/ }),

/***/ 53971:
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ 20753);
/* harmony import */ var _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLContainer.js */ 98694);
/* harmony import */ var _brushes_WGLBrushInfo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./brushes/WGLBrushInfo.js */ 26877);
/* harmony import */ var _brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./brushes/WGLBrushStencil.js */ 67135);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





const n = (e, r) => e.key.level - r.key.level != 0 ? e.key.level - r.key.level : e.key.row - r.key.row != 0 ? e.key.row - r.key.row : e.key.col - r.key.col;
class i extends _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__["default"] {
  constructor(e) {
    super(), this._tileInfoView = e;
  }
  renderChildren(e) {
    this.sortChildren(n), this.setStencilReference(e), super.renderChildren(e);
  }
  createRenderParams(e) {
    const {
        state: r
      } = e,
      s = super.createRenderParams(e);
    return s.requiredLevel = this._tileInfoView.getClosestInfoForScale(r.scale).level, s.displayLevel = this._tileInfoView.tileInfo.scaleToZoom(r.scale), s;
  }
  prepareRenderPasses(r) {
    const n = super.prepareRenderPasses(r);
    return n.push(r.registerRenderPass({
      name: "stencil",
      brushes: [_brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_4__["default"]],
      drawPhase: _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG | _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP | _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.HIGHLIGHT,
      target: () => this.getStencilTarget()
    })), (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-tiles-debug") && n.push(r.registerRenderPass({
      name: "tileInfo",
      brushes: [_brushes_WGLBrushInfo_js__WEBPACK_IMPORTED_MODULE_3__["default"]],
      drawPhase: _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG,
      target: () => this.children
    })), n;
  }
  getStencilTarget() {
    return this.children;
  }
  setStencilReference(e) {
    let r = 1;
    for (const s of this.children) s.stencilRef = r++;
  }
}


/***/ }),

/***/ 11653:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TiledDisplayObject": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/mat3.js */ 38974);
/* harmony import */ var _DisplayObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DisplayObject.js */ 99390);
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tiling/TileKey.js */ 67026);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class r extends _DisplayObject_js__WEBPACK_IMPORTED_MODULE_1__.DisplayObject {
  constructor(t, s, i, r, h, o, n = h, a = o) {
    super(), this.triangleCountReportedInDebug = 0, this.triangleCount = 0, this.texture = null, this.key = new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"](t), this.resolution = s, this.x = i, this.y = r, this.width = h, this.height = o, this.rangeX = n, this.rangeY = a;
  }
  destroy() {
    this.texture && (this.texture.dispose(), this.texture = null);
  }
  setTransform(i) {
    const e = this.resolution / (i.resolution * i.pixelRatio),
      r = this.transforms.tileMat3,
      [h, o] = i.toScreenNoRotation([0, 0], [this.x, this.y]),
      n = this.width / this.rangeX * e,
      a = this.height / this.rangeY * e;
    (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.s)(r, n, 0, 0, 0, a, 0, h, o, 1), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.m)(this.transforms.dvs, i.displayViewMat3, r);
  }
}


/***/ }),

/***/ 82587:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Graphic.js */ 26763);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/lang.js */ 88684);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ 28191);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/maybe.js */ 53661);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/diffUtils.js */ 51118);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ 53492);
/* harmony import */ var _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../engine/vectorTiles/enums.js */ 41780);
/* harmony import */ var _engine_vectorTiles_TileHandler_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../engine/vectorTiles/TileHandler.js */ 49306);
/* harmony import */ var _engine_vectorTiles_TileManager_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../engine/vectorTiles/TileManager.js */ 19923);
/* harmony import */ var _engine_vectorTiles_VectorTile_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../engine/vectorTiles/VectorTile.js */ 44395);
/* harmony import */ var _engine_vectorTiles_VectorTileContainer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../engine/vectorTiles/VectorTileContainer.js */ 51230);
/* harmony import */ var _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../engine/vectorTiles/style/StyleDefinition.js */ 37599);
/* harmony import */ var _engine_vectorTiles_style_StyleRepository_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../engine/vectorTiles/style/StyleRepository.js */ 70292);
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./LayerView2D.js */ 49322);
/* harmony import */ var _tiling_TileInfoViewPOT_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../tiling/TileInfoViewPOT.js */ 96451);
/* harmony import */ var _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../tiling/TileQueue.js */ 90026);
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../layers/LayerView.js */ 3589);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/























let v = class extends (0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_20__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_23__["default"]) {
  constructor() {
    super(...arguments), this._styleChanges = [], this._fetchQueue = null, this._parseQueue = null, this._tileHandlerPromise = null, this._isTileHandlerReady = !1;
  }
  get fading() {
    return this._vectorTileContainer?.fading ?? !1;
  }
  hitTest(e, i) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this._tileHandlerPromise) return null;
      yield _this._tileHandlerPromise;
      const s = yield _this._vectorTileContainer.hitTest(i);
      if (!s || 0 === s.length) return null;
      const r = s[0] - 1,
        a = _this._styleRepository,
        l = a.getStyleLayerByUID(r);
      if (!l) return null;
      const o = a.getStyleLayerIndex(l.id);
      return [{
        type: "graphic",
        mapPoint: e,
        layer: _this.layer,
        graphic: new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({
          attributes: {
            layerId: o,
            layerName: l.id,
            layerUID: r
          },
          layer: _this.layer,
          sourceLayer: _this.layer
        })
      }];
    })();
  }
  update(e) {
    if (this._tileHandlerPromise && this._isTileHandlerReady) return e.pixelRatio !== this._tileHandler.devicePixelRatio ? (this._start(), void (this._tileHandler.devicePixelRatio = e.pixelRatio)) : void (this._styleChanges.length > 0 ? this._tileHandlerPromise = this._applyStyleChanges() : (this._fetchQueue.pause(), this._parseQueue.pause(), this._fetchQueue.state = e.state, this._parseQueue.state = e.state, this._tileManager.update(e) || this.requestUpdate(), this._parseQueue.resume(), this._fetchQueue.resume()));
  }
  attach() {
    const {
      style: e
    } = this.layer.currentStyleInfo;
    this._styleRepository = new _engine_vectorTiles_style_StyleRepository_js__WEBPACK_IMPORTED_MODULE_19__["default"](e), this._tileInfoView = new _tiling_TileInfoViewPOT_js__WEBPACK_IMPORTED_MODULE_21__["default"](this.layer.tileInfo, this.layer.fullExtent), this._vectorTileContainer = new _engine_vectorTiles_VectorTileContainer_js__WEBPACK_IMPORTED_MODULE_17__.VectorTileContainer(this._tileInfoView), this._tileHandler = new _engine_vectorTiles_TileHandler_js__WEBPACK_IMPORTED_MODULE_14__.TileHandler(this.layer, this._styleRepository, window.devicePixelRatio || 1), this.container.addChild(this._vectorTileContainer), this._start(), this.addAttachHandles([this.layer.on("paint-change", e => {
      if (e.isDataDriven) this._styleChanges.push({
        type: _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.PAINTER_CHANGED,
        data: e
      }), this.requestUpdate();else {
        const t = this._styleRepository,
          i = t.getLayerById(e.layer);
        if (!i) return;
        const s = i.type === _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL;
        t.setPaintProperties(e.layer, e.paint), s && this._vectorTileContainer?.restartDeclutter(), this._vectorTileContainer?.requestRender();
      }
    }), this.layer.on("layout-change", e => {
      const t = this._styleRepository,
        i = t.getLayerById(e.layer);
      if (!i) return;
      const s = (0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_10__.diff)(i.layout, e.layout);
      if (null != s) {
        if ((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_10__.hasDiff)(s, "visibility") && 1 === D(s)) return t.setLayoutProperties(e.layer, e.layout), i.type === _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL && this._vectorTileContainer?.restartDeclutter(), void this._vectorTileContainer?.requestRender();
        this._styleChanges.push({
          type: _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYOUT_CHANGED,
          data: e
        }), this.requestUpdate();
      }
    }), this.layer.on("style-layer-visibility-change", e => {
      const t = this._styleRepository,
        i = t.getLayerById(e.layer);
      i && (t.setStyleLayerVisibility(e.layer, e.visibility), i.type === _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL && this._vectorTileContainer?.restartDeclutter(), this._vectorTileContainer?.requestRender());
    }), this.layer.on("style-layer-change", e => {
      this._styleChanges.push({
        type: _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYER_CHANGED,
        data: e
      }), this.requestUpdate();
    }), this.layer.on("delete-style-layer", e => {
      this._styleChanges.push({
        type: _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYER_REMOVED,
        data: e
      }), this.requestUpdate();
    }), this.layer.on("load-style", () => this._loadStyle()), this.layer.on("spriteSource-change", e => {
      this._styleChanges.push({
        type: _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.SPRITES_CHANGED,
        data: e
      });
      const t = this._styleRepository.layers;
      for (const i of t) switch (i.type) {
        case _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL:
          i.getLayoutProperty("icon-image") && this._styleChanges.push({
            type: _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYOUT_CHANGED,
            data: {
              layer: i.id,
              layout: i.layout
            }
          });
          break;
        case _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.LINE:
          i.getPaintProperty("line-pattern") && this._styleChanges.push({
            type: _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.PAINTER_CHANGED,
            data: {
              layer: i.id,
              paint: i.paint,
              isDataDriven: i.isPainterDataDriven()
            }
          });
          break;
        case _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.FILL:
          i.getLayoutProperty("fill-pattern") && this._styleChanges.push({
            type: _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.PAINTER_CHANGED,
            data: {
              layer: i.id,
              paint: i.paint,
              isDataDriven: i.isPainterDataDriven()
            }
          });
      }
      this.requestUpdate();
    })]);
  }
  detach() {
    this._stop(), this.container.removeAllChildren(), this._vectorTileContainer = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._vectorTileContainer), this._tileHandler = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._tileHandler);
  }
  moveStart() {
    this.requestUpdate();
  }
  viewChange() {
    this.requestUpdate();
  }
  moveEnd() {
    this.requestUpdate();
  }
  supportsSpatialReference(e) {
    return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__.equals)(this.layer.tileInfo?.spatialReference, e);
  }
  canResume() {
    let e = super.canResume();
    const {
      currentStyleInfo: t
    } = this.layer;
    if (e && t?.layerDefinition) {
      const i = this.view.scale,
        {
          minScale: s,
          maxScale: r
        } = t.layerDefinition;
      t?.layerDefinition && (s && s < i && (e = !1), r && r > i && (e = !1));
    }
    return e;
  }
  isUpdating() {
    return this.fading;
  }
  acquireTile(e) {
    const t = this._createVectorTile(e);
    return this._updatingHandles.addPromise(this._fetchQueue.push(t.key).then(e => this._parseQueue.push({
      key: t.key,
      data: e
    })).then(e => {
      t.once("attach", () => this.requestUpdate()), t.setData(e), this.requestUpdate();
    }).catch(e => {
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.isAbortError)(e) || _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error(e);
    })), t;
  }
  releaseTile(e) {
    const t = e.key.id;
    this._fetchQueue.abort(t), this._parseQueue.abort(t), this.requestUpdate();
  }
  _start() {
    if (this._stop(), this._tileManager = new _engine_vectorTiles_TileManager_js__WEBPACK_IMPORTED_MODULE_15__.TileManager({
      acquireTile: e => this.acquireTile(e),
      releaseTile: e => this.releaseTile(e),
      tileInfoView: this._tileInfoView
    }, this._vectorTileContainer), !this.layer.currentStyleInfo) return;
    const e = new AbortController(),
      t = this._tileHandler.start({
        signal: e.signal
      }).then(() => {
        this._fetchQueue = new _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_22__["default"]({
          tileInfoView: this._tileInfoView,
          process: (e, t) => this._getTileData(e, t),
          concurrency: 15
        }), this._parseQueue = new _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_22__["default"]({
          tileInfoView: this._tileInfoView,
          process: (e, t) => this._parseTileData(e, t),
          concurrency: 8
        }), this.requestUpdate(), this._isTileHandlerReady = !0;
      });
    this._tileHandler.spriteMosaic.then(e => {
      this._vectorTileContainer.setStyleResources(e, this._tileHandler.glyphMosaic, this._styleRepository), this.requestUpdate();
    }), this._tileHandlerAbortController = e, this._tileHandlerPromise = t;
  }
  _stop() {
    if (!this._tileHandlerAbortController || !this._vectorTileContainer) return;
    const e = this._tileHandlerAbortController;
    e && e.abort(), this._tileHandlerPromise = null, this._isTileHandlerReady = !1, this._fetchQueue = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._fetchQueue), this._parseQueue = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._parseQueue), this._tileManager = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._tileManager), this._vectorTileContainer.removeAllChildren();
  }
  _getTileData(e, t) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this2._tileHandler.fetchTileData(e, t);
    })();
  }
  _parseTileData(e, t) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this3._tileHandler.parseTileData(e, t);
    })();
  }
  _applyStyleChanges() {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this4._isTileHandlerReady = !1, _this4._fetchQueue.pause(), _this4._parseQueue.pause(), _this4._fetchQueue.clear(), _this4._parseQueue.clear(), _this4._tileManager.clearCache();
      const e = _this4._styleChanges;
      try {
        yield _this4._tileHandler.updateStyle(e);
      } catch (l) {
        _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(_this4).error("error applying vector-tiles style update", l.message), _this4._fetchQueue.resume(), _this4._parseQueue.resume(), _this4._isTileHandlerReady = !0;
      }
      const t = _this4._styleRepository,
        i = new Set();
      e.forEach(e => {
        if (e.type !== _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYER_REMOVED) return;
        const s = e.data,
          r = t.getLayerById(s.layer);
        r && i.add(r.uid);
      });
      const r = new Set();
      e.forEach(e => {
        let i;
        switch (e.type) {
          case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.PAINTER_CHANGED:
            t.setPaintProperties(e.data.layer, e.data.paint), i = e.data.layer;
            break;
          case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYOUT_CHANGED:
            t.setLayoutProperties(e.data.layer, e.data.layout), i = e.data.layer;
            break;
          case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYER_REMOVED:
            return void t.deleteStyleLayer(e.data.layer);
          case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYER_CHANGED:
            t.setStyleLayer(e.data.layer, e.data.index), i = e.data.layer.id;
            break;
          case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.SPRITES_CHANGED:
            _this4._vectorTileContainer.setSpriteMosaic(_this4._tileHandler.setSpriteSource(e.data.spriteSource));
        }
        if (i) {
          const e = t.getLayerById(i);
          e && r.add(e.uid);
        }
      });
      const a = _this4._vectorTileContainer.children;
      if (i.size > 0) {
        const e = Array.from(i);
        _this4._vectorTileContainer.deleteStyleLayers(e);
        for (const t of a) t.deleteLayerData(e);
      }
      if (_this4._fetchQueue.resume(), _this4._parseQueue.resume(), r.size > 0) {
        const e = Array.from(r),
          t = [];
        for (const i of a) {
          const s = _this4._updatingHandles.addPromise(_this4._fetchQueue.push(i.key).then(t => _this4._parseQueue.push({
            key: i.key,
            data: t,
            styleLayerUIDs: e
          })).then(e => i.setData(e)));
          t.push(s);
        }
        yield Promise.all(t);
      }
      _this4._styleChanges = [], _this4._isTileHandlerReady = !0, _this4.requestUpdate();
    })();
  }
  _loadStyle() {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          style: e
        } = _this5.layer.currentStyleInfo,
        t = (0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(e);
      _this5._isTileHandlerReady = !1, _this5._fetchQueue.pause(), _this5._parseQueue.pause(), _this5._fetchQueue.clear(), _this5._parseQueue.clear(), _this5._styleRepository = new _engine_vectorTiles_style_StyleRepository_js__WEBPACK_IMPORTED_MODULE_19__["default"](t), _this5._vectorTileContainer.destroy(), _this5._tileManager.clear(), _this5._tileHandlerAbortController.abort(), _this5._tileHandlerAbortController = new AbortController();
      const {
        signal: s
      } = _this5._tileHandlerAbortController;
      try {
        _this5._tileHandlerPromise = _this5._tileHandler.setStyle(_this5._styleRepository, t), yield _this5._tileHandlerPromise;
      } catch (l) {
        if (!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.isAbortError)(l)) throw l;
      }
      if (s.aborted) return _this5._fetchQueue.resume(), _this5._parseQueue.resume(), _this5._isTileHandlerReady = !0, void _this5.requestUpdate();
      const r = yield _this5._tileHandler.spriteMosaic;
      _this5._vectorTileContainer.setStyleResources(r, _this5._tileHandler.glyphMosaic, _this5._styleRepository), _this5._fetchQueue.resume(), _this5._parseQueue.resume(), _this5._isTileHandlerReady = !0, _this5.requestUpdate();
    })();
  }
  _createVectorTile(e) {
    const t = this._tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.create)(), e),
      i = this._tileInfoView.getTileResolution(e.level);
    return new _engine_vectorTiles_VectorTile_js__WEBPACK_IMPORTED_MODULE_16__.VectorTile(e, i, t[0], t[3], 512, 512, this._styleRepository);
  }
};
function D(e) {
  if (null == e) return 0;
  switch (e.type) {
    case "partial":
      return Object.keys(e.diff).length;
    case "complete":
      return Math.max(Object.keys(e.oldValue).length, Object.keys(e.newValue).length);
    case "collection":
      return Object.keys(e.added).length + Object.keys(e.changed).length + Object.keys(e.removed).length;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()], v.prototype, "_isTileHandlerReady", void 0), v = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.VectorTileLayerView2D")], v);
const w = v;


/***/ }),

/***/ 96451:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/TileInfo.js */ 51015);
/* harmony import */ var _TileInfoView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TileInfoView.js */ 3795);
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileKey.js */ 67026);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class t extends _TileInfoView_js__WEBPACK_IMPORTED_MODULE_1__["default"] {
  constructor() {
    super(...arguments), this._fullCacheLodInfos = null, this._levelByScale = {};
  }
  getTileParentId(e) {
    const l = _TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].pool.acquire(e),
      t = 0 === l.level ? null : _TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].getId(l.level - 1, l.row >> 1, l.col >> 1, l.world);
    return _TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].pool.release(l), t;
  }
  getTileCoverage(e, l, s = !0, t) {
    const o = super.getTileCoverage(e, l, s, t);
    if (!o) return o;
    const i = 1 << o.lodInfo.level;
    return o.spans = o.spans.filter(e => e.row >= 0 && e.row < i), o;
  }
  scaleToLevel(e) {
    if (this._fullCacheLodInfos || this._initializeFullCacheLODs(this._lodInfos), this._levelByScale[e]) return this._levelByScale[e];
    {
      const l = this._fullCacheLodInfos;
      if (e > l[0].scale) return l[0].level;
      let s, t;
      for (let o = 0; o < l.length - 1; o++) if (t = l[o + 1], e > t.scale) return s = l[o], s.level + (s.scale - e) / (s.scale - t.scale);
      return l[l.length - 1].level;
    }
  }
  _initializeFullCacheLODs(l) {
    let s;
    if (0 === l[0].level) s = l.map(e => ({
      level: e.level,
      resolution: e.resolution,
      scale: e.scale
    }));else {
      const l = this.tileInfo.size[0],
        t = this.tileInfo.spatialReference;
      s = _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_0__["default"].create({
        size: l,
        spatialReference: t
      }).lods.map(e => ({
        level: e.level,
        resolution: e.resolution,
        scale: e.scale
      }));
    }
    for (let e = 0; e < s.length; e++) this._levelByScale[s[e].scale] = s[e].level;
    this._fullCacheLodInfos = s;
  }
}


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_views_2d_layers_VectorTileLayerView2D_js.js.map