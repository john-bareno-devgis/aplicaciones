{"version":3,"file":"node_modules_arcgis_core_views_2d_layers_GroupLayerView2D_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/views/2d/layers/GroupLayerView2D.js","./node_modules/@arcgis/core/views/layers/GroupLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/Error.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView2DMixin as t}from\"./LayerView2D.js\";import s from\"../../layers/GroupLayerView.js\";let a=class extends(t(s)){attach(){this._updateStageChildren(),this.addAttachHandles(this.layerViews.on(\"after-changes\",(()=>this._updateStageChildren())))}detach(){this.container.removeAllChildren()}update(e){}moveStart(){}viewChange(){}moveEnd(){}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach(((e,r)=>this.container.addChildAt(e.container,r)))}};a=e([r(\"esri.views.2d.layers.GroupLayerView2D\")],a);const o=a;export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{referenceSetter as s,castForReferenceSetter as r}from\"../../core/collectionUtils.js\";import{watch as t,sync as l}from\"../../core/reactiveUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as y}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./LayerView.js\";let h=class extends o{constructor(i){super(i),this.type=\"group\",this.layerViews=new e}destroy(){this.layerViews.length=0}_allLayerViewVisibility(i){this.layerViews.forEach((e=>{e.visible=i}))}initialize(){this.addHandles([this.layerViews.on(\"change\",(i=>this._layerViewsChangeHandler(i))),t((()=>this.layer?.visibilityMode),(()=>{this.layer&&this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(null)))}),l),t((()=>this.visible),(i=>{this._applyVisibility((()=>this._allLayerViewVisibility(i)),(()=>{}))}),l)],\"grouplayerview\"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}set layerViews(i){this._set(\"layerViews\",s(i,this._get(\"layerViews\")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce(((i,e)=>i+e.updatingProgress),0)/this.layerViews.length}isUpdating(){return this.layerViews.some((i=>i.updating))}_hasLayerViewVisibleOverrides(){return this.layerViews.some((i=>i._isOverridden(\"visible\")))}_findLayerViewForLayer(i){return i&&this.layerViews.find((e=>e.layer===i))}_firstVisibleOnLayerOrder(){const i=this.layer.layers.find((i=>{const e=this._findLayerViewForLayer(i);return!!e?.visible}));return i&&this._findLayerViewForLayer(i)}_applyExclusiveVisibility(i){null==i&&null==(i=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(i=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach((e=>{e.visible=e===i}))}_layerViewsChangeHandler(i){this.removeHandles(\"grouplayerview:visible\"),this.addHandles(this.layerViews.map((i=>t((()=>i.visible),(e=>this._applyVisibility((()=>{e!==this.visible&&(i.visible=this.visible)}),(()=>this._applyExclusiveVisibility(e?i:null)))),l))).toArray(),\"grouplayerview:visible\");const e=i.added[i.added.length-1];this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(e?.visible?e:null)))}_applyVisibility(i,e){this._hasLayerViewVisibleOverrides()&&(\"inherited\"===this.layer?.visibilityMode?i():\"exclusive\"===this.layer?.visibilityMode&&e())}};i([a({cast:r})],h.prototype,\"layerViews\",null),i([a({readOnly:!0})],h.prototype,\"updatingProgress\",null),i([a()],h.prototype,\"view\",void 0),h=i([y(\"esri.views.layers.GroupLayerView\")],h);const n=h;export{n as default};\n"],"names":["_","e","subclass","r","LayerView2DMixin","t","s","a","attach","_updateStageChildren","addAttachHandles","layerViews","on","detach","container","removeAllChildren","update","moveStart","viewChange","moveEnd","forEach","addChildAt","o","default","i","referenceSetter","castForReferenceSetter","watch","sync","l","property","y","h","constructor","type","destroy","length","_allLayerViewVisibility","visible","initialize","addHandles","_layerViewsChangeHandler","layer","visibilityMode","_applyVisibility","_applyExclusiveVisibility","target","added","toArray","removed","moved","_set","_get","updatingProgress","reduce","isUpdating","some","updating","_hasLayerViewVisibleOverrides","_isOverridden","_findLayerViewForLayer","find","_firstVisibleOnLayerOrder","layers","at","removeHandles","map","cast","prototype","readOnly","n"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1]}