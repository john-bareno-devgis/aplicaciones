"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["default-node_modules_arcgis_core_layers_ogc_wfsUtils_js"],{

/***/ 70554:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createOptimizedFeatures": () => (/* binding */ N),
/* harmony export */   "getGeometryType": () => (/* binding */ u),
/* harmony export */   "inferLayerProperties": () => (/* binding */ I),
/* harmony export */   "validateGeoJSON": () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _core_date_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/date.js */ 77029);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ 32995);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ 53492);
/* harmony import */ var _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../OptimizedFeature.js */ 33510);
/* harmony import */ var _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../OptimizedGeometry.js */ 93846);
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../support/fieldUtils.js */ 32746);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






const c = {
  LineString: "esriGeometryPolyline",
  MultiLineString: "esriGeometryPolyline",
  MultiPoint: "esriGeometryMultipoint",
  Point: "esriGeometryPoint",
  Polygon: "esriGeometryPolygon",
  MultiPolygon: "esriGeometryPolygon"
};
function u(e) {
  return c[e];
}
function* l(e) {
  switch (e.type) {
    case "Feature":
      yield e;
      break;
    case "FeatureCollection":
      for (const t of e.features) t && (yield t);
  }
}
function* f(e) {
  if (e) switch (e.type) {
    case "Point":
      yield e.coordinates;
      break;
    case "LineString":
    case "MultiPoint":
      yield* e.coordinates;
      break;
    case "MultiLineString":
    case "Polygon":
      for (const t of e.coordinates) yield* t;
      break;
    case "MultiPolygon":
      for (const t of e.coordinates) for (const e of t) yield* e;
  }
}
function* p(e, t = {}) {
  const {
    geometryType: n,
    objectIdField: i
  } = t;
  for (const s of e) {
    const {
      geometry: e,
      properties: c,
      id: l
    } = s;
    if (e && u(e.type) !== n) continue;
    const f = c || {};
    let p;
    i && (p = f[i], null == l || p || (f[i] = p = l));
    const a = new _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_3__.OptimizedFeature(e ? h(new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"](), e, t) : null, f, null, p ?? void 0);
    yield a;
  }
}
function a(e) {
  for (const t of e) if (t.length > 2) return !0;
  return !1;
}
function y(e) {
  return !g(e);
}
function d(e) {
  return g(e);
}
function g(e) {
  let t = 0;
  for (let n = 0; n < e.length; n++) {
    const o = e[n],
      r = e[(n + 1) % e.length];
    t += o[0] * r[1] - r[0] * o[1];
  }
  return t <= 0;
}
function m(e) {
  const t = e[0],
    n = e[e.length - 1];
  return t[0] === n[0] && t[1] === n[1] && t[2] === n[2] || e.push(t), e;
}
function h(e, t, n) {
  switch (t.type) {
    case "LineString":
      return w(e, t, n);
    case "MultiLineString":
      return P(e, t, n);
    case "MultiPoint":
      return j(e, t, n);
    case "MultiPolygon":
      return b(e, t, n);
    case "Point":
      return S(e, t, n);
    case "Polygon":
      return F(e, t, n);
  }
}
function w(e, t, n) {
  return M(e, t.coordinates, n), e;
}
function P(e, t, n) {
  for (const o of t.coordinates) M(e, o, n);
  return e;
}
function j(e, t, n) {
  return M(e, t.coordinates, n), e;
}
function b(e, t, n) {
  for (const o of t.coordinates) {
    G(e, o[0], n);
    for (let t = 1; t < o.length; t++) k(e, o[t], n);
  }
  return e;
}
function S(e, t, n) {
  return O(e, t.coordinates, n), e;
}
function F(e, t, n) {
  const o = t.coordinates;
  G(e, o[0], n);
  for (let r = 1; r < o.length; r++) k(e, o[r], n);
  return e;
}
function G(e, t, n) {
  const o = m(t);
  y(o) ? T(e, o, n) : M(e, o, n);
}
function k(e, t, n) {
  const o = m(t);
  d(o) ? T(e, o, n) : M(e, o, n);
}
function M(e, t, n) {
  for (const o of t) O(e, o, n);
  e.lengths.push(t.length);
}
function T(e, t, n) {
  for (let o = t.length - 1; o >= 0; o--) O(e, t[o], n);
  e.lengths.push(t.length);
}
function O(e, t, n) {
  const [o, r, i] = t;
  e.coords.push(o, r), n.hasZ && e.coords.push(i || 0);
}
function L(t) {
  switch (typeof t) {
    case "string":
      return (0,_core_date_js__WEBPACK_IMPORTED_MODULE_0__.isISO8601Date)(t) ? "esriFieldTypeDate" : "esriFieldTypeString";
    case "number":
      return "esriFieldTypeDouble";
    default:
      return "unknown";
  }
}
function E(e, o = 4326) {
  if (!e) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("geojson-layer:empty", "GeoJSON data is empty");
  if ("Feature" !== e.type && "FeatureCollection" !== e.type) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("geojson-layer:unsupported-geojson-object", "missing or not supported GeoJSON object type", {
    data: e
  });
  const {
    crs: r
  } = e;
  if (!r) return;
  const i = "string" == typeof r ? r : "name" === r.type ? r.properties.name : "EPSG" === r.type ? r.properties.code : null,
    s = (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__.isWGS84)({
      wkid: o
    }) ? new RegExp(".*(CRS84H?|4326)$", "i") : new RegExp(`.*(${o})$`, "i");
  if (!i || !s.test(i)) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("geojson:unsupported-crs", "unsupported GeoJSON 'crs' member", {
    crs: r
  });
}
function I(e, t = {}) {
  const n = [],
    o = new Set(),
    r = new Set();
  let c,
    p = !1,
    y = null,
    d = !1,
    {
      geometryType: g = null
    } = t,
    m = !1;
  for (const s of l(e)) {
    const {
      geometry: e,
      properties: t,
      id: l
    } = s;
    if (!e || (g || (g = u(e.type)), u(e.type) === g)) {
      if (!p) {
        p = a(f(e));
      }
      if (d || (d = null != l, d && (c = typeof l, t && (y = Object.keys(t).filter(e => t[e] === l)))), t && y && d && null != l && (y.length > 1 ? y = y.filter(e => t[e] === l) : 1 === y.length && (y = t[y[0]] === l ? y : [])), !m && t) {
        let e = !0;
        for (const s in t) {
          if (o.has(s)) continue;
          const c = t[s];
          if (null == c) {
            e = !1, r.add(s);
            continue;
          }
          const u = L(c);
          if ("unknown" === u) {
            r.add(s);
            continue;
          }
          r.delete(s), o.add(s);
          const l = (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_5__.normalizeFieldName)(s);
          l && n.push({
            name: l,
            alias: s,
            type: u
          });
        }
        m = e;
      }
    }
  }
  const h = (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_5__.normalizeFieldName)(1 === y?.length && y[0] || null) ?? void 0;
  if (h) for (const i of n) if (i.name === h && (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_5__.isNumericField)(i)) {
    i.type = "esriFieldTypeOID";
    break;
  }
  return {
    fields: n,
    geometryType: g,
    hasZ: p,
    objectIdFieldName: h,
    objectIdFieldType: c,
    unknownFields: Array.from(r)
  };
}
function N(e, t) {
  return Array.from(p(l(e), t));
}


/***/ }),

/***/ 23337:
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ogc/wfsUtils.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "describeFeatureType": () => (/* binding */ _),
/* harmony export */   "findFeatureType": () => (/* binding */ V),
/* harmony export */   "getCapabilities": () => (/* binding */ v),
/* harmony export */   "getFeature": () => (/* binding */ B),
/* harmony export */   "getFeatureCount": () => (/* binding */ Z),
/* harmony export */   "getFeatureTypeInfo": () => (/* binding */ X),
/* harmony export */   "getGetFeatureSpatialReference": () => (/* binding */ ae),
/* harmony export */   "getWFSLayerInfo": () => (/* binding */ W),
/* harmony export */   "parseDescribeFeatureTypeResponse": () => (/* binding */ Q),
/* harmony export */   "parseGetCapabilitiesResponse": () => (/* binding */ U),
/* harmony export */   "prepareWFSLayerFields": () => (/* binding */ q),
/* harmony export */   "wfsOidFieldName": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ 6010);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../request.js */ 1897);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Error.js */ 32995);
/* harmony import */ var _core_iteratorUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/iteratorUtils.js */ 91800);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/urlUtils.js */ 55050);
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/projection.js */ 89487);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ 53492);
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/support/typeUtils.js */ 86230);
/* harmony import */ var _graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graphics/sources/geojson/geojson.js */ 70554);
/* harmony import */ var _xmlUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./xmlUtils.js */ 53890);
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ 4583);
/* harmony import */ var _support_Field_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../support/Field.js */ 23973);
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/fieldUtils.js */ 32746);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ 68230);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../geometry/Extent.js */ 10465);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/















const T = "xlink:href",
  F = "2.0.0",
  S = "__esri_wfs_id__",
  x = "wfs-layer:getWFSLayerTypeInfo-error",
  C = "wfs-layer:empty-service",
  E = "wfs-layer:feature-type-not-found",
  R = "wfs-layer:geojson-not-supported",
  k = "wfs-layer:kvp-encoding-not-supported",
  P = "wfs-layer:malformed-json",
  j = "wfs-layer:unknown-geometry-type",
  N = "wfs-layer:unknown-field-type",
  A = "wfs-layer:unsupported-spatial-reference",
  G = "wfs-layer:unsupported-wfs-version";
function v(_x, _x2) {
  return _v.apply(this, arguments);
}
function _v() {
  _v = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, r) {
    const n = U((yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(t, {
      responseType: "text",
      query: {
        SERVICE: "WFS",
        REQUEST: "GetCapabilities",
        VERSION: F,
        ...r?.customParameters
      },
      signal: r?.signal
    })).data);
    return L(t, n), n;
  });
  return _v.apply(this, arguments);
}
function U(e) {
  const t = ee(e);
  re(t), ne(t);
  const n = t.firstElementChild,
    a = (0,_core_iteratorUtils_js__WEBPACK_IMPORTED_MODULE_4__.cache)(M(n));
  return {
    operations: D(n),
    get featureTypes() {
      return Array.from(a());
    },
    readFeatureTypes: a
  };
}
const I = new Set(["json", "application/json", "geojson", "application/json; subtype=geojson"]);
function D(e) {
  let r = !1;
  const n = {
    GetCapabilities: {
      url: ""
    },
    DescribeFeatureType: {
      url: ""
    },
    GetFeature: {
      url: "",
      outputFormat: null,
      supportsPagination: !1
    }
  };
  if ((0,_xmlUtils_js__WEBPACK_IMPORTED_MODULE_10__.visitXML)(e, {
    OperationsMetadata: {
      Operation: e => {
        switch (e.getAttribute("name")) {
          case "GetCapabilities":
            return {
              DCP: {
                HTTP: {
                  Get: e => {
                    n.GetCapabilities.url = e.getAttribute(T);
                  }
                }
              }
            };
          case "DescribeFeatureType":
            return {
              DCP: {
                HTTP: {
                  Get: e => {
                    n.DescribeFeatureType.url = e.getAttribute(T);
                  }
                }
              }
            };
          case "GetFeature":
            return {
              DCP: {
                HTTP: {
                  Get: e => {
                    n.GetFeature.url = e.getAttribute(T);
                  }
                }
              },
              Parameter: e => {
                if ("outputFormat" === e.getAttribute("name")) return {
                  AllowedValues: {
                    Value: e => {
                      const t = e.textContent;
                      t && I.has(t.toLowerCase()) && (n.GetFeature.outputFormat = t);
                    }
                  }
                };
              }
            };
        }
      },
      Constraint: e => {
        switch (e.getAttribute("name")) {
          case "KVPEncoding":
            return {
              DefaultValue: e => {
                r = "true" === e.textContent.toLowerCase();
              }
            };
          case "ImplementsResultPaging":
            return {
              DefaultValue: e => {
                n.GetFeature.supportsPagination = "true" === e.textContent.toLowerCase();
              }
            };
        }
      }
    }
  }), !r) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](k, "WFS service doesn't support key/value pair (KVP) encoding");
  if (null == n.GetFeature.outputFormat) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](R, "WFS service doesn't support GeoJSON output format");
  return n;
}
function L(e, t) {
  (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.isHTTPSProtocol)(e) && ((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.hasSameOrigin)(e, t.operations.DescribeFeatureType.url, !0) && (t.operations.DescribeFeatureType.url = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.toHTTPS)(t.operations.DescribeFeatureType.url)), (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.hasSameOrigin)(e, t.operations.GetFeature.url, !0) && (t.operations.GetFeature.url = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.toHTTPS)(t.operations.GetFeature.url)));
}
function $(e) {
  const t = parseInt(e.textContent?.match(/(?<wkid>\d+$)/i)?.groups?.wkid ?? "", 10);
  if (!Number.isNaN(t)) return t;
}
function M(e) {
  return (0,_xmlUtils_js__WEBPACK_IMPORTED_MODULE_10__.iterateXML)(e, {
    FeatureTypeList: {
      FeatureType: e => {
        const t = {
            typeName: "undefined:undefined",
            name: "",
            title: "",
            description: "",
            extent: null,
            namespacePrefix: "",
            namespaceUri: "",
            defaultSpatialReference: 4326,
            supportedSpatialReferences: []
          },
          r = new Set();
        return (0,_xmlUtils_js__WEBPACK_IMPORTED_MODULE_10__.visitXML)(e, {
          Name: e => {
            const {
              name: r,
              prefix: n
            } = te(e.textContent);
            t.typeName = `${n}:${r}`, t.name = r, t.namespacePrefix = n, t.namespaceUri = e.lookupNamespaceURI(n);
          },
          Abstract: e => {
            t.description = e.textContent;
          },
          Title: e => {
            t.title = e.textContent;
          },
          WGS84BoundingBox: e => {
            t.extent = O(e);
          },
          DefaultCRS: e => {
            const n = $(e);
            n && (t.defaultSpatialReference = n, r.add(n));
          },
          OtherCRS: e => {
            const t = $(e);
            t && r.add(t);
          }
        }), t.title || (t.title = t.name), r.add(4326), t.supportedSpatialReferences.push(...r), t;
      }
    }
  });
}
function O(e) {
  let t, r, n, a;
  for (const o of e.children) switch (o.localName) {
    case "LowerCorner":
      [t, r] = o.textContent.split(" ").map(e => Number.parseFloat(e));
      break;
    case "UpperCorner":
      [n, a] = o.textContent.split(" ").map(e => Number.parseFloat(e));
  }
  return {
    xmin: t,
    ymin: r,
    xmax: n,
    ymax: a,
    spatialReference: _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__.WGS84
  };
}
function V(e, t, r) {
  return (0,_core_iteratorUtils_js__WEBPACK_IMPORTED_MODULE_4__.find)(e, e => r ? e.name === t && e.namespaceUri === r : e.typeName === t || e.name === t);
}
function W(_x3, _x4, _x5) {
  return _W.apply(this, arguments);
}
function _W() {
  _W = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, t, r, n = {}) {
    const {
        featureType: a,
        extent: o
      } = yield X(e, t, r, n),
      {
        spatialReference: i
      } = ae(e.operations.GetFeature.url, a, n.spatialReference),
      {
        fields: s,
        geometryType: p,
        swapXY: u,
        objectIdField: l,
        geometryField: c
      } = yield Y(e, a, i, n);
    return {
      url: e.operations.GetCapabilities.url,
      name: a.name,
      namespaceUri: a.namespaceUri,
      fields: s,
      geometryField: c,
      geometryType: p,
      objectIdField: l,
      spatialReference: n.spatialReference ?? new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"]({
        wkid: a.defaultSpatialReference
      }),
      extent: o,
      swapXY: u,
      wfsCapabilities: e,
      customParameters: n.customParameters
    };
  });
  return _W.apply(this, arguments);
}
function X(_x6, _x7, _x8) {
  return _X.apply(this, arguments);
}
function _X() {
  _X = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, r, n, a = {}) {
    const o = e.readFeatureTypes(),
      i = r ? V(o, r, n) : o.next().value,
      {
        spatialReference: u = new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"]({
          wkid: i?.defaultSpatialReference
        })
      } = a;
    if (null == i) throw r ? new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](E, `The type '${r}' could not be found in the service`) : new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](C, "The service is empty");
    let c = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_15__["default"]({
      ...i.extent,
      spatialReference: _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"].WGS84
    });
    if (!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__.equals)(c.spatialReference, u)) try {
      yield (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__.initializeProjection)(c.spatialReference, u, void 0, a), c = (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__.project)(c, u);
    } catch {
      throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](A, "Projection not supported");
    }
    return {
      extent: c,
      spatialReference: u,
      featureType: i
    };
  });
  return _X.apply(this, arguments);
}
function Y(_x9, _x10, _x11) {
  return _Y.apply(this, arguments);
}
function _Y() {
  _Y = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, r, n, a = {}) {
    const {
        typeName: o
      } = r,
      [i, s] = yield Promise.allSettled([_(e.operations.DescribeFeatureType.url, o, a), z(e, o, n, a)]),
      p = e => new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](x, `An error occurred while getting info about the feature type '${o}'`, {
        error: e
      });
    if ("rejected" === i.status) throw p(i.reason);
    if ("rejected" === s.status) throw p(s.reason);
    const {
        fields: u,
        errors: l
      } = i.value ?? {},
      c = i.value?.geometryType || s.value?.geometryType,
      m = s.value?.swapXY ?? !1;
    if (null == c) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](j, `The geometry type could not be determined for type '${o}`, {
      typeName: o,
      geometryType: c,
      fields: u,
      errors: l
    });
    return {
      ...q(u ?? []),
      geometryType: c,
      swapXY: m
    };
  });
  return _Y.apply(this, arguments);
}
function q(e) {
  const t = e.find(e => "geometry" === e.type);
  let r = e.find(e => "oid" === e.type);
  return e = e.filter(e => "geometry" !== e.type), r || (r = new _support_Field_js__WEBPACK_IMPORTED_MODULE_12__["default"]({
    name: S,
    type: "oid",
    alias: S
  }), e.unshift(r)), {
    geometryField: t?.name ?? null,
    objectIdField: r.name,
    fields: e
  };
}
function z(_x12, _x13, _x14) {
  return _z.apply(this, arguments);
}
function _z() {
  _z = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, r, n, a = {}) {
    let o,
      i = !1;
    const [s, p] = yield Promise.all([B(t.operations.GetFeature.url, r, n, t.operations.GetFeature.outputFormat, {
        ...a,
        count: 1
      }), (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(t.operations.GetFeature.url, {
        responseType: "text",
        query: K(r, n, void 0, {
          ...a,
          count: 1
        }),
        signal: a?.signal
      })]),
      u = "FeatureCollection" === s.type && s.features[0]?.geometry;
    if (u) {
      let e;
      switch (o = _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_8__.featureGeometryTypeKebabDictionary.fromJSON((0,_graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__.getGeometryType)(u.type)), u.type) {
        case "Point":
          e = u.coordinates;
          break;
        case "LineString":
        case "MultiPoint":
          e = u.coordinates[0];
          break;
        case "MultiLineString":
        case "Polygon":
          e = u.coordinates[0][0];
          break;
        case "MultiPolygon":
          e = u.coordinates[0][0][0];
      }
      const t = /<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(p.data);
      if (t) {
        const r = e[0].toFixed(3),
          n = e[1].toFixed(3),
          a = parseFloat(t[1]).toFixed(3);
        r === parseFloat(t[2]).toFixed(3) && n === a && (i = !0);
      }
    }
    return {
      geometryType: o,
      swapXY: i
    };
  });
  return _z.apply(this, arguments);
}
function _(_x15, _x16, _x17) {
  return _2.apply(this, arguments);
}
function _2() {
  _2 = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, r, n) {
    return Q(r, (yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(t, {
      responseType: "text",
      query: {
        SERVICE: "WFS",
        REQUEST: "DescribeFeatureType",
        VERSION: F,
        TYPENAME: r,
        ...n?.customParameters
      },
      signal: n?.signal
    })).data);
  });
  return _2.apply(this, arguments);
}
function Q(e, r) {
  const {
      name: a
    } = te(e),
    o = ee(r);
  ne(o);
  const i = (0,_core_iteratorUtils_js__WEBPACK_IMPORTED_MODULE_4__.find)((0,_xmlUtils_js__WEBPACK_IMPORTED_MODULE_10__.iterateXML)(o.firstElementChild, {
    element: e => ({
      name: e.getAttribute("name"),
      typeName: te(e.getAttribute("type")).name
    })
  }), ({
    name: e
  }) => e === a);
  if (null != i) {
    const e = (0,_core_iteratorUtils_js__WEBPACK_IMPORTED_MODULE_4__.find)((0,_xmlUtils_js__WEBPACK_IMPORTED_MODULE_10__.iterateXML)(o.firstElementChild, {
      complexType: e => e
    }), e => e.getAttribute("name") === i.typeName);
    if (null != e) return J(e);
  }
  throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](E, `Type '${e}' not found in document`, {
    document: new XMLSerializer().serializeToString(o)
  });
}
const H = new Set(["objectid", "fid"]);
function J(e) {
  const r = [],
    n = [];
  let a;
  const o = (0,_xmlUtils_js__WEBPACK_IMPORTED_MODULE_10__.iterateXML)(e, {
    complexContent: {
      extension: {
        sequence: {
          element: e => e
        }
      }
    }
  });
  for (const i of o) {
    const o = i.getAttribute("name");
    if (!o) continue;
    let s, p;
    if (i.hasAttribute("type") ? s = te(i.getAttribute("type")).name : (0,_xmlUtils_js__WEBPACK_IMPORTED_MODULE_10__.visitXML)(i, {
      simpleType: {
        restriction: e => (s = te(e.getAttribute("base")).name, {
          maxLength: e => {
            p = +e.getAttribute("value");
          }
        })
      }
    }), !s) continue;
    const u = "true" === i.getAttribute("nillable");
    let l = !1;
    switch (s.toLowerCase()) {
      case "integer":
      case "nonpositiveinteger":
      case "negativeinteger":
      case "long":
      case "int":
      case "short":
      case "byte":
      case "nonnegativeinteger":
      case "unsignedlong":
      case "unsignedint":
      case "unsignedshort":
      case "unsignedbyte":
      case "positiveinteger":
        n.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_12__["default"]({
          name: o,
          alias: o,
          type: "integer",
          nullable: u,
          length: (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.getFieldDefaultLength)("integer")
        }));
        break;
      case "float":
      case "double":
      case "decimal":
        n.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_12__["default"]({
          name: o,
          alias: o,
          type: "double",
          nullable: u,
          length: (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.getFieldDefaultLength)("double")
        }));
        break;
      case "boolean":
      case "string":
      case "gyearmonth":
      case "gyear":
      case "gmonthday":
      case "gday":
      case "gmonth":
      case "anyuri":
      case "qname":
      case "notation":
      case "normalizedstring":
      case "token":
      case "language":
      case "idrefs":
      case "entities":
      case "nmtoken":
      case "nmtokens":
      case "name":
      case "ncname":
      case "id":
      case "idref":
      case "entity":
      case "duration":
      case "time":
        n.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_12__["default"]({
          name: o,
          alias: o,
          type: "string",
          nullable: u,
          length: p ?? (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.getFieldDefaultLength)("string")
        }));
        break;
      case "datetime":
      case "date":
        n.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_12__["default"]({
          name: o,
          alias: o,
          type: "date",
          nullable: u,
          length: p ?? (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.getFieldDefaultLength)("date")
        }));
        break;
      case "pointpropertytype":
        a = "point", l = !0;
        break;
      case "multipointpropertytype":
        a = "multipoint", l = !0;
        break;
      case "curvepropertytype":
      case "multicurvepropertytype":
      case "multilinestringpropertytype":
        a = "polyline", l = !0;
        break;
      case "surfacepropertytype":
      case "multisurfacepropertytype":
      case "multipolygonpropertytype":
        a = "polygon", l = !0;
        break;
      case "geometrypropertytype":
      case "multigeometrypropertytype":
        l = !0, r.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](j, `geometry type '${s}' is not supported`, {
          type: new XMLSerializer().serializeToString(e)
        }));
        break;
      default:
        r.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](N, `Unknown field type '${s}'`, {
          type: new XMLSerializer().serializeToString(e)
        }));
    }
    l && n.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_12__["default"]({
      name: o,
      alias: o,
      type: "geometry",
      nullable: u
    }));
  }
  for (const t of n) if ("integer" === t.type && !t.nullable && H.has(t.name.toLowerCase())) {
    t.type = "oid";
    break;
  }
  return {
    geometryType: a,
    fields: n,
    errors: r
  };
}
function B(_x18, _x19, _x20, _x21, _x22) {
  return _B.apply(this, arguments);
}
function _B() {
  _B = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (r, n, a, o, i) {
    let {
      data: s
    } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(r, {
      responseType: "text",
      query: K(n, a, o, i),
      signal: i?.signal
    });
    s = s.replaceAll(/": +(-?\d+),(\d+)(,)?/g, '": $1.$2$3');
    try {
      return JSON.parse(s);
    } catch (p) {
      throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](P, "Error while parsing the response", {
        response: s,
        error: p
      });
    }
  });
  return _B.apply(this, arguments);
}
function K(e, t, r, n) {
  const a = "number" == typeof t ? t : t.wkid;
  return {
    SERVICE: "WFS",
    REQUEST: "GetFeature",
    VERSION: F,
    TYPENAMES: e,
    OUTPUTFORMAT: r,
    SRSNAME: "EPSG:" + a,
    STARTINDEX: n?.startIndex,
    COUNT: n?.count,
    ...n?.customParameters
  };
}
function Z(_x23, _x24, _x25) {
  return _Z.apply(this, arguments);
}
function _Z() {
  _Z = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, r, n) {
    const a = ee((yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(t, {
      responseType: "text",
      query: {
        SERVICE: "WFS",
        REQUEST: "GetFeature",
        VERSION: F,
        TYPENAMES: r,
        RESULTTYPE: "hits",
        ...n?.customParameters
      },
      signal: n?.signal
    })).data);
    ne(a);
    const o = Number.parseFloat(a.firstElementChild.getAttribute("numberMatched"));
    return Number.isNaN(o) ? 0 : o;
  });
  return _Z.apply(this, arguments);
}
function ee(e) {
  return new DOMParser().parseFromString(e.trim(), "text/xml");
}
function te(e) {
  const [t, r] = e.split(":");
  return {
    prefix: r ? t : "",
    name: r ?? t
  };
}
function re(e) {
  const r = e.firstElementChild?.getAttribute("version");
  if (r && r !== F) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](G, `Unsupported WFS version ${r}. Supported version: ${F}`);
}
function ne(e) {
  let r = "",
    n = "";
  if ((0,_xmlUtils_js__WEBPACK_IMPORTED_MODULE_10__.visitXML)(e.firstElementChild, {
    Exception: e => (r = e.getAttribute("exceptionCode"), {
      ExceptionText: e => {
        n = e.textContent;
      }
    })
  }), r) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](`wfs-layer:${r}`, n);
}
function ae(e, t, r) {
  const n = {
      wkid: t.defaultSpatialReference
    },
    a = null != r?.wkid ? {
      wkid: r.wkid
    } : n;
  return {
    spatialReference: a,
    getFeatureSpatialReference: (0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_11__.isArcGISUrl)(e) || a.wkid && t.supportedSpatialReferences.includes(a.wkid) ? {
      wkid: a.wkid
    } : {
      wkid: t.defaultSpatialReference
    }
  };
}


/***/ }),

/***/ 53890:
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ogc/xmlUtils.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "iterateXML": () => (/* binding */ n),
/* harmony export */   "visitXML": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(n, c) {
  if (n && c) for (const f of n.children) if (f.localName in c) {
    const n = c[f.localName];
    if ("function" == typeof n) {
      const c = n(f);
      c && o(f, c);
    } else o(f, n);
  }
}
function* n(o, c) {
  for (const f of o.children) if (f.localName in c) {
    const o = c[f.localName];
    "function" == typeof o ? yield o(f) : yield* n(f, o);
  }
}


/***/ })

}]);
//# sourceMappingURL=default-node_modules_arcgis_core_layers_ogc_wfsUtils_js.js.map