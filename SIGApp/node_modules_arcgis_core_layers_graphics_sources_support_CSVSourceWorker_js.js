"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_layers_graphics_sources_support_CSVSourceWorker_js"],{

/***/ 77029:
/*!************************************************!*\
  !*** ./node_modules/@arcgis/core/core/date.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isDateString": () => (/* binding */ e),
/* harmony export */   "isISO8601Date": () => (/* binding */ t),
/* harmony export */   "parseDate": () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e) {
  return null != r(e) || null != u(e);
}
function t(e) {
  return s.test(e);
}
function n(e) {
  return r(e) ?? u(e);
}
function u(e) {
  const t = new Date(e);
  return o(t, e) ? Number.isNaN(t.getTime()) ? null : t.getTime() - 6e4 * t.getTimezoneOffset() : null;
}
function r(e) {
  const t = s.exec(e);
  if (!t?.groups) return null;
  const n = t.groups,
    u = +n.year,
    r = +n.month - 1,
    o = +n.day,
    i = +(n.hours ?? "0"),
    f = +(n.minutes ?? "0"),
    l = +(n.seconds ?? "0");
  if (i > 23) return null;
  if (f > 59) return null;
  if (l > 59) return null;
  const m = n.ms ?? "0",
    a = m ? +m.padEnd(3, "0").substring(0, 3) : 0;
  let c;
  if (n.isUTC || !n.offsetSign) c = Date.UTC(u, r, o, i, f, l, a);else {
    const e = +n.offsetHours,
      t = +n.offsetMinutes;
    c = 6e4 * ("+" === n.offsetSign ? -1 : 1) * (60 * e + t) + Date.UTC(u, r, o, i, f, l, a);
  }
  return Number.isNaN(c) ? null : c;
}
const s = /^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/;
function o(e, t) {
  if (Number.isNaN(e.getTime())) return !1;
  let n = !0;
  if (f && /\d+\W*$/.test(t)) {
    const e = t.match(/[a-zA-Z]{2,}/);
    if (e) {
      let t = !1,
        u = 0;
      for (; !t && u <= e.length;) t = !i.test(e[u]), u++;
      n = !t;
    }
  }
  return n;
}
const i = /^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,
  f = !Number.isNaN(new Date("technology 10").getTime());


/***/ }),

/***/ 49389:
/*!**************************************************!*\
  !*** ./node_modules/@arcgis/core/core/number.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "_parseInfo": () => (/* binding */ a),
/* harmony export */   "format": () => (/* binding */ s),
/* harmony export */   "getCustoms": () => (/* binding */ r),
/* harmony export */   "parse": () => (/* binding */ p),
/* harmony export */   "regexp": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./string.js */ 3758);
/* harmony import */ var _intl_locale_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../intl/locale.js */ 92051);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


const n = {
  ar: [".", ","],
  bg: [",", " "],
  bs: [",", "."],
  ca: [",", "."],
  cs: [",", " "],
  da: [",", "."],
  de: [",", "."],
  "de-ch": [".", "’"],
  el: [",", "."],
  en: [".", ","],
  "en-au": [".", ","],
  es: [",", "."],
  "es-mx": [".", ","],
  et: [",", " "],
  fi: [",", " "],
  fr: [",", " "],
  "fr-ch": [",", " "],
  he: [".", ","],
  hi: [".", ",", "#,##,##0.###"],
  hr: [",", "."],
  hu: [",", " "],
  id: [",", "."],
  it: [",", "."],
  "it-ch": [".", "’"],
  ja: [".", ","],
  ko: [".", ","],
  lt: [",", " "],
  lv: [",", " "],
  mk: [",", "."],
  nb: [",", " "],
  nl: [",", "."],
  pl: [",", " "],
  pt: [",", "."],
  "pt-pt": [",", " "],
  ro: [",", "."],
  ru: [",", " "],
  sk: [",", " "],
  sl: [",", "."],
  sr: [",", "."],
  sv: [",", " "],
  th: [".", ","],
  tr: [",", "."],
  uk: [",", " "],
  vi: [",", "."],
  zh: [".", ","]
};
function r(e = (0,_intl_locale_js__WEBPACK_IMPORTED_MODULE_1__.getLocale)()) {
  let r = ((e = e.toLowerCase()) in n);
  if (!r) {
    const t = e.split("-");
    t.length > 1 && t[0] in n && (e = t[0], r = !0), r || (e = "en");
  }
  const [s, l, o = "#,##0.###"] = n[e];
  return {
    decimal: s,
    group: l,
    pattern: o
  };
}
function s(e, t) {
  const n = r((t = {
    ...t
  }).locale);
  t.customs = n;
  const s = t.pattern || n.pattern;
  return isNaN(e) || Math.abs(e) === 1 / 0 ? null : o(e, s, t);
}
const l = /[#0,]*[#0](?:\.0*#*)?/;
function o(e, t, n) {
  const r = (n = n || {}).customs.group,
    s = n.customs.decimal,
    o = t.split(";"),
    c = o[0];
  if ((t = o[e < 0 ? 1 : 0] || "-" + c).includes("%")) e *= 100;else if (t.includes("‰")) e *= 1e3;else {
    if (t.includes("¤")) throw new Error("currency notation not supported");
    if (t.includes("E")) throw new Error("exponential notation not supported");
  }
  const a = l,
    p = c.match(a);
  if (!p) throw new Error("unable to find a number expression in pattern: " + t);
  return !1 === n.fractional && (n.places = 0), t.replace(a, i(e, p[0], {
    decimal: s,
    group: r,
    places: n.places,
    round: n.round
  }));
}
function i(e, t, n) {
  !0 === (n = n || {}).places && (n.places = 0), n.places === 1 / 0 && (n.places = 6);
  const r = t.split("."),
    s = "string" == typeof n.places && n.places.indexOf(",");
  let l = n.places;
  s ? l = n.places.substring(s + 1) : +l >= 0 || (l = (r[1] || []).length), n.round < 0 || (e = Number(e.toFixed(Number(l))));
  const o = String(Math.abs(e)).split("."),
    i = o[1] || "";
  if (r[1] || n.places) {
    s && (n.places = n.places.substring(0, s));
    const e = void 0 !== n.places ? n.places : r[1] && r[1].lastIndexOf("0") + 1;
    +e > i.length && (o[1] = i.padEnd(Number(e), "0")), +l < i.length && (o[1] = i.substr(0, Number(l)));
  } else o[1] && o.pop();
  const c = r[0].replace(",", "");
  let a = c.indexOf("0");
  -1 !== a && (a = c.length - a, a > o[0].length && (o[0] = o[0].padStart(a, "0")), c.includes("#") || (o[0] = o[0].substr(o[0].length - a)));
  let p,
    u,
    d = r[0].lastIndexOf(",");
  if (-1 !== d) {
    p = r[0].length - d - 1;
    const e = r[0].substr(0, d);
    d = e.lastIndexOf(","), -1 !== d && (u = e.length - d - 1);
  }
  const g = [];
  for (let f = o[0]; f;) {
    const e = f.length - p;
    g.push(e > 0 ? f.substr(e) : f), f = e > 0 ? f.slice(0, e) : "", u && (p = u, u = void 0);
  }
  return o[0] = g.reverse().join(n.group || ","), o.join(n.decimal || ".");
}
function c(e) {
  return a(e).regexp;
}
function a(t) {
  const n = r((t = t || {}).locale),
    s = t.pattern || n.pattern,
    o = n.group,
    i = n.decimal;
  let c = 1;
  if (s.includes("%")) c /= 100;else if (s.includes("‰")) c /= 1e3;else if (s.includes("¤")) throw new Error("currency notation not supported");
  const a = s.split(";");
  1 === a.length && a.push("-" + a[0]);
  const p = g(a, n => (n = "(?:" + (0,_string_js__WEBPACK_IMPORTED_MODULE_0__.escapeRegExpString)(n, ".") + ")").replace(l, e => {
    const n = {
        signed: !1,
        separator: t.strict ? o : [o, ""],
        fractional: t.fractional,
        decimal: i,
        exponent: !1
      },
      r = e.split(".");
    let s = t.places;
    1 === r.length && 1 !== c && (r[1] = "###"), 1 === r.length || 0 === s ? n.fractional = !1 : (void 0 === s && (s = t.pattern ? r[1].lastIndexOf("0") + 1 : 1 / 0), s && null == t.fractional && (n.fractional = !0), !t.places && +s < r[1].length && (s += "," + r[1].length), n.places = s);
    const l = r[0].split(",");
    return l.length > 1 && (n.groupSize = l.pop().length, l.length > 1 && (n.groupSize2 = l.pop().length)), "(" + u(n) + ")";
  }), !0);
  return {
    regexp: p.replaceAll(/[\xa0 ]/g, "[\\s\\xa0]"),
    group: o,
    decimal: i,
    factor: c
  };
}
function p(e, t) {
  const n = a(t),
    r = new RegExp("^" + n.regexp + "$").exec(e);
  if (!r) return NaN;
  let s = r[1];
  if (!r[1]) {
    if (!r[2]) return NaN;
    s = r[2], n.factor *= -1;
  }
  return s = s.replaceAll(new RegExp("[" + n.group + "\\s\\xa0]", "g"), "").replace(n.decimal, "."), Number(s) * n.factor;
}
function u(e) {
  "places" in (e = e || {}) || (e.places = 1 / 0), "string" != typeof e.decimal && (e.decimal = "."), "fractional" in e && !String(e.places).startsWith("0") || (e.fractional = [!0, !1]), "exponent" in e || (e.exponent = [!0, !1]), "eSigned" in e || (e.eSigned = [!0, !1]);
  const t = d(e),
    n = g(e.fractional, t => {
      let n = "";
      return t && 0 !== e.places && (n = "\\" + e.decimal, e.places === 1 / 0 ? n = "(?:" + n + "\\d+)?" : n += "\\d{" + e.places + "}"), n;
    }, !0);
  let r = t + n;
  return n && (r = "(?:(?:" + r + ")|(?:" + n + "))"), r + g(e.exponent, t => t ? "([eE]" + d({
    signed: e.eSigned
  }) + ")" : "");
}
function d(t) {
  "signed" in (t = t || {}) || (t.signed = [!0, !1]), "separator" in t ? "groupSize" in t || (t.groupSize = 3) : t.separator = "";
  return g(t.signed, e => e ? "[-+]" : "", !0) + g(t.separator, n => {
    if (!n) return "(?:\\d+)";
    " " === (n = (0,_string_js__WEBPACK_IMPORTED_MODULE_0__.escapeRegExpString)(n)) ? n = "\\s" : " " === n && (n = "\\s\\xa0");
    const r = t.groupSize,
      s = t.groupSize2;
    if (s) {
      const e = "(?:0|[1-9]\\d{0," + (s - 1) + "}(?:[" + n + "]\\d{" + s + "})*[" + n + "]\\d{" + r + "})";
      return r - s > 0 ? "(?:" + e + "|(?:0|[1-9]\\d{0," + (r - 1) + "}))" : e;
    }
    return "(?:0|[1-9]\\d{0," + (r - 1) + "}(?:[" + n + "]\\d{" + r + "})*)";
  }, !0);
}
const g = (e, t, n) => {
    if (!(e instanceof Array)) return t(e);
    const r = [];
    for (let s = 0; s < e.length; s++) r.push(t(e[s]));
    return f(r.join("|"), Boolean(n));
  },
  f = (e, t) => "(" + (t ? "?:" : "") + e + ")";


/***/ }),

/***/ 97135:
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BoundsStore": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/rbush/PooledRBush.js */ 52674);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ 6848);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



const d = 5e4,
  n = {
    minX: 0,
    minY: 0,
    maxX: 0,
    maxY: 0
  };
function t(i) {
  n.minX = i[0], n.minY = i[1], n.maxX = i[2], n.maxY = i[3];
}
function e(i, s, d) {
  t(s), i.search(n, d);
}
class o {
  constructor() {
    this._indexInvalid = !1, this._boundsToLoad = [], this._boundsById = new Map(), this._idByBounds = new Map(), this._index = new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__.PooledRBush(9, (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-csp-restrictions") ? i => ({
      minX: i[0],
      minY: i[1],
      maxX: i[2],
      maxY: i[3]
    }) : ["[0]", "[1]", "[2]", "[3]"]), this._loadIndex = () => {
      if (this._indexInvalid) {
        const i = new Array(this._idByBounds.size);
        let s = 0;
        this._idByBounds.forEach((d, n) => {
          i[s++] = n;
        }), this._indexInvalid = !1, this._index.clear(), this._index.load(i);
      } else this._boundsToLoad.length && (this._index.load(Array.from(new Set(this._boundsToLoad.filter(i => this._idByBounds.has(i))))), this._boundsToLoad.length = 0);
    };
  }
  get fullBounds() {
    if (!this._boundsById.size) return null;
    const i = (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.empty)();
    for (const s of this._boundsById.values()) s && (i[0] = Math.min(s[0], i[0]), i[1] = Math.min(s[1], i[1]), i[2] = Math.max(s[2], i[2]), i[3] = Math.max(s[3], i[3]));
    return i;
  }
  get valid() {
    return !this._indexInvalid;
  }
  clear() {
    this._indexInvalid = !1, this._boundsToLoad.length = 0, this._boundsById.clear(), this._idByBounds.clear(), this._index.clear();
  }
  delete(i) {
    const s = this._boundsById.get(i);
    this._boundsById.delete(i), s && (this._idByBounds.delete(s), this._indexInvalid || this._index.remove(s));
  }
  forEachInBounds(i, s) {
    this._loadIndex(), e(this._index, i, i => s(this._idByBounds.get(i)));
  }
  get(i) {
    return this._boundsById.get(i);
  }
  has(i) {
    return this._boundsById.has(i);
  }
  invalidateIndex() {
    this._indexInvalid || (this._indexInvalid = !0, this._boundsToLoad.length = 0);
  }
  set(i, s) {
    if (!this._indexInvalid) {
      const s = this._boundsById.get(i);
      s && (this._index.remove(s), this._idByBounds.delete(s));
    }
    this._boundsById.set(i, s), s && (this._idByBounds.set(s, i), this._indexInvalid || (this._boundsToLoad.push(s), this._boundsToLoad.length > d && this._loadIndex()));
  }
}


/***/ }),

/***/ 92203:
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Evented.js */ 95442);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ 28191);
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ 73327);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../featureConversionUtils.js */ 50805);
/* harmony import */ var _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BoundsStore.js */ 97135);
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./geometryUtils.js */ 11089);
/* harmony import */ var _optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./optimizedFeatureQueryEngineAdapter.js */ 33348);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










const f = (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.create)();
class m {
  constructor(e) {
    this.geometryInfo = e, this._boundsStore = new _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__.BoundsStore(), this._featuresById = new Map(), this._markedIds = new Set(), this.events = new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"](), this.featureAdapter = _optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__.optimizedFeatureQueryEngineAdapter;
  }
  get geometryType() {
    return this.geometryInfo.geometryType;
  }
  get hasM() {
    return this.geometryInfo.hasM;
  }
  get hasZ() {
    return this.geometryInfo.hasZ;
  }
  get numFeatures() {
    return this._featuresById.size;
  }
  get fullBounds() {
    return this._boundsStore.fullBounds;
  }
  get storeStatistics() {
    let e = 0;
    return this._featuresById.forEach(t => {
      null != t.geometry && t.geometry.coords && (e += t.geometry.coords.length);
    }), {
      featureCount: this._featuresById.size,
      vertexCount: e / (this.hasZ ? this.hasM ? 4 : 3 : this.hasM ? 3 : 2)
    };
  }
  getFullExtent(e) {
    if (null == this.fullBounds) return null;
    const [t, r, s, o] = this.fullBounds;
    return {
      xmin: t,
      ymin: r,
      xmax: s,
      ymax: o,
      spatialReference: (0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__.cleanFromGeometryEngine)(e)
    };
  }
  add(e) {
    this._add(e), this._emitChanged();
  }
  addMany(e) {
    for (const t of e) this._add(t);
    this._emitChanged();
  }
  upsertMany(t) {
    const r = t.map(e => this._upsert(e));
    return this._emitChanged(), r.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);
  }
  clear() {
    this._featuresById.clear(), this._boundsStore.clear(), this._emitChanged();
  }
  removeById(e) {
    const t = this._featuresById.get(e);
    return t ? (this._remove(t), this._emitChanged(), t) : null;
  }
  removeManyById(e) {
    this._boundsStore.invalidateIndex();
    for (const t of e) {
      const e = this._featuresById.get(t);
      e && this._remove(e);
    }
    this._emitChanged();
  }
  forEachBounds(e, t) {
    for (const r of e) {
      const e = this._boundsStore.get(r.objectId);
      e && t((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromRect)(f, e));
    }
  }
  getFeature(e) {
    return this._featuresById.get(e);
  }
  has(e) {
    return this._featuresById.has(e);
  }
  forEach(e) {
    this._featuresById.forEach(t => e(t));
  }
  forEachInBounds(e, t) {
    this._boundsStore.forEachInBounds(e, e => {
      t(this._featuresById.get(e));
    });
  }
  startMarkingUsedFeatures() {
    this._boundsStore.invalidateIndex(), this._markedIds.clear();
  }
  sweep() {
    let e = !1;
    this._featuresById.forEach((t, r) => {
      this._markedIds.has(r) || (e = !0, this._remove(t));
    }), this._markedIds.clear(), e && this._emitChanged();
  }
  _emitChanged() {
    this.events.emit("changed", void 0);
  }
  _add(e) {
    if (!e) return;
    const r = e.objectId;
    if (null == r) return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature", "feature id is missing", {
      feature: e
    }));
    const o = this._featuresById.get(r);
    let i;
    if (this._markedIds.add(r), o ? (e.displayId = o.displayId, i = this._boundsStore.get(r), this._boundsStore.delete(r)) : null != this.onFeatureAdd && this.onFeatureAdd(e), !e.geometry?.coords?.length) return this._boundsStore.set(r, null), void this._featuresById.set(r, e);
    i = (0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)(null != i ? i : (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(), e.geometry, this.geometryInfo.hasZ, this.geometryInfo.hasM), null != i && this._boundsStore.set(r, i), this._featuresById.set(r, e);
  }
  _upsert(e) {
    const r = e?.objectId;
    if (null == r) return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature", "feature id is missing", {
      feature: e
    })), null;
    const o = this._featuresById.get(r);
    if (!o) return this._add(e), e;
    this._markedIds.add(r);
    const {
      geometry: i,
      attributes: d
    } = e;
    for (const t in d) o.attributes[t] = d[t];
    return i && (o.geometry = i, this._boundsStore.set(r, (0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(), i, this.geometryInfo.hasZ, this.geometryInfo.hasM) ?? null)), o;
  }
  _remove(e) {
    null != this.onFeatureRemove && this.onFeatureRemove(e);
    const t = e.objectId;
    return this._markedIds.delete(t), this._boundsStore.delete(t), this._featuresById.delete(t), e;
  }
}


/***/ }),

/***/ 91468:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/csv/csv.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "extractFieldNamesAndAliasesFromRow": () => (/* binding */ g),
/* harmony export */   "inferDelimiterAndLocationInfo": () => (/* binding */ f),
/* harmony export */   "inferFieldType": () => (/* binding */ N),
/* harmony export */   "inferFields": () => (/* binding */ b),
/* harmony export */   "parseNumber": () => (/* binding */ x),
/* harmony export */   "parseRows": () => (/* binding */ a),
/* harmony export */   "readRowParts": () => (/* binding */ d),
/* harmony export */   "readRows": () => (/* binding */ c),
/* harmony export */   "splitSingleRow": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_date_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/date.js */ 77029);
/* harmony import */ var _core_number_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/number.js */ 49389);
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../support/fieldUtils.js */ 32746);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



const r = /^\s*"([\S\s]*)"\s*$/,
  l = /""/g,
  o = "\n",
  s = [",", " ", ";", "|", "\t"];
function* u(e, t, n) {
  let i = 0;
  for (; i <= e.length;) {
    const r = e.indexOf(t, i),
      l = e.substring(i, r > -1 ? r : void 0);
    i += l.length + t.length, n && !l.trim() || (yield l);
  }
}
function c(e) {
  const t = e.includes("\r\n") ? "\r\n" : o;
  return u(e, t, !0);
}
function d(e, t) {
  return u(e, t, !1);
}
function f(e, t, n) {
  e = e.trim(), t = t?.trim();
  const i = [],
    r = Array.from(new Set([n?.delimiter, ...s])).filter(e => null != e);
  for (const o of r) {
    const n = m(e, o).length,
      r = m(t, o).length ?? n;
    n > 1 && i.push({
      weight: Math.min(n, r),
      delimiter: o
    });
  }
  const l = i.sort(({
    weight: e
  }, {
    weight: t
  }) => t - e).map(({
    delimiter: e
  }) => e);
  for (const o of l) {
    const t = h(g(e, o).names, n?.longitudeField, n?.latitudeField);
    if (t.longitudeFieldName && t.latitudeFieldName) return {
      delimiter: o,
      locationInfo: t
    };
  }
  return {
    delimiter: l[0],
    locationInfo: null
  };
}
function* a(e, t, n, i = () => Object.create(null)) {
  const s = c(e);
  s.next();
  let u = "",
    f = "",
    a = 0,
    g = i(),
    m = 0;
  e: for (const c of s) {
    const e = d(c, n);
    for (const o of e) if (u += f + o, f = "", a += p(o), a % 2 == 0) {
      if (a > 0) {
        const e = r.exec(u);
        if (!e) {
          g = i(), m = 0, u = "", a = 0;
          continue e;
        }
        g[t[m]] = e[1].replaceAll(l, '"'), m++;
      } else g[t[m]] = u, m++;
      u = "", a = 0;
    } else f = n;
    0 === a ? (yield g, g = i(), m = 0) : f = o;
  }
}
function g(e, t) {
  const i = m(e, t).filter(e => null != e),
    r = i.map(e => (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.normalizeFieldName)(e));
  for (let n = r.length - 1; n >= 0; n--) r[n] || (r.splice(n, 1), i.splice(n, 1));
  return {
    names: r,
    aliases: i
  };
}
function m(e, t) {
  if (!e?.length) return [];
  const n = [];
  let i = "",
    o = "",
    s = 0;
  const u = d(e, t);
  for (const c of u) if (i += o + c, o = "", s += p(c), s % 2 == 0) {
    if (s > 0) {
      const e = r.exec(i);
      e && n.push(e[1].replaceAll(l, '"'));
    } else n.push(i);
    i = "", s = 0;
  } else o = t;
  return n;
}
function p(e) {
  let t = 0,
    n = 0;
  for (n = e.indexOf('"', n); n >= 0;) t++, n = e.indexOf('"', n + 1);
  return t;
}
function h(e, t, i) {
  t = (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.normalizeFieldName)(t)?.toLowerCase(), i = (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.normalizeFieldName)(i)?.toLowerCase();
  const r = e.map(e => e.toLowerCase()),
    l = t ? e[r.indexOf(t)] : null,
    o = i ? e[r.indexOf(i)] : null;
  return {
    longitudeFieldName: l || e[r.indexOf(F.find(e => r.includes(e)))],
    latitudeFieldName: o || e[r.indexOf(y.find(e => r.includes(e)))]
  };
}
function b(e, t, n, r, l) {
  const o = [],
    s = a(e, n, t),
    u = [];
  for (const i of s) {
    if (10 === u.length) break;
    u.push(i);
  }
  for (let c = 0; c < n.length; c++) {
    const e = n[c],
      t = r[c];
    if (e === l.longitudeFieldName || e === l.latitudeFieldName) o.push({
      name: e,
      type: "esriFieldTypeDouble",
      alias: t
    });else {
      let n;
      switch (N(u.map(t => t[e]))) {
        case "integer":
          n = "esriFieldTypeInteger";
          break;
        case "double":
          n = "esriFieldTypeDouble";
          break;
        case "date":
          n = "esriFieldTypeDate";
          break;
        default:
          n = "esriFieldTypeString";
      }
      o.push({
        name: e,
        type: n,
        alias: t,
        length: (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.getFieldDefaultLength)(n)
      });
    }
  }
  return o;
}
function N(t) {
  if (!t.length) return "string";
  const n = /[^+\-.,0-9]/;
  return t.map(t => {
    if ("" !== t) {
      if (!n.test(t)) {
        let e = x(t);
        if (!isNaN(e)) return /[.,]/.test(t) || !Number.isInteger(e) || e > 214783647 || e < -214783648 ? "double" : "integer";
        if (t.includes("E")) {
          if (e = Number(t), !Number.isNaN(e)) return "double";
          if (t.includes(",") && (t = t.replace(",", "."), e = Number(t), !Number.isNaN(e))) return "double";
        }
      }
      return (0,_core_date_js__WEBPACK_IMPORTED_MODULE_0__.isDateString)(t) ? "date" : "string";
    }
  }).reduce((e, t) => void 0 === e ? t : void 0 === t ? e : e === t ? t : "string" === e || "string" === t ? "string" : "double" === e || "double" === t ? "double" : void 0);
}
const x = function () {
    const e = (0,_core_number_js__WEBPACK_IMPORTED_MODULE_1__._parseInfo)(),
      n = new RegExp("^" + e.regexp + "$"),
      i = new RegExp("[" + e.group + "\\s\\xa0]", "g"),
      r = e.factor;
    return t => {
      const l = n.exec(t);
      if (e.factor = r, !l) return NaN;
      let o = l[1];
      if (!l[1]) {
        if (!l[2]) return NaN;
        o = l[2], e.factor *= -1;
      }
      return o = o.replace(i, "").replace(e.decimal, "."), +o * e.factor;
    };
  }(),
  y = ["lat", "latitude", "latitude83", "latdecdeg", "lat_dd", "y", "ycenter", "point_y"],
  F = ["lon", "lng", "long", "longitude", "longitude83", "longdecdeg", "long_dd", "x", "xcenter", "point_x"];


/***/ }),

/***/ 48389:
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/CSVSourceWorker.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry.js */ 6010);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../request.js */ 1897);
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ 11823);
/* harmony import */ var _core_date_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/date.js */ 77029);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Error.js */ 32995);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Logger.js */ 28191);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ 55050);
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/projection.js */ 89487);
/* harmony import */ var _geometry_geometryAdapters_json_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/geometryAdapters/json.js */ 17409);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ 53492);
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/webMercatorUtils.js */ 83550);
/* harmony import */ var _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../OptimizedFeature.js */ 33510);
/* harmony import */ var _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../OptimizedGeometry.js */ 93846);
/* harmony import */ var _data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../data/FeatureStore.js */ 92203);
/* harmony import */ var _data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../data/projectionSupport.js */ 19482);
/* harmony import */ var _data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../data/QueryEngine.js */ 59266);
/* harmony import */ var _csv_csv_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../csv/csv.js */ 91468);
/* harmony import */ var _clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./clientSideDefaults.js */ 34524);
/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../support/FieldsIndex.js */ 19346);
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../support/fieldUtils.js */ 32746);
/* harmony import */ var _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../time/timeZoneUtils.js */ 92691);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ 68230);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/























const O = (0,_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_19__.createDrawingInfo)("esriGeometryPoint"),
  v = ["csv"],
  D = [0, 0];
class k {
  constructor(e, t) {
    this.x = e, this.y = t;
  }
}
class P {
  constructor() {
    var _this = this;
    this._queryEngine = null, this._snapshotFeatures = /*#__PURE__*/function () {
      var _ref = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e) {
        const t = yield _this._fetch(e);
        return _this._createFeatures(t);
      });
      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }();
  }
  destroy() {
    this._queryEngine?.destroy(), this._queryEngine = null;
  }
  load(e, t = {}) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2._loadOptions = e;
      const [i] = yield Promise.all([_this2._fetch(t.signal), _this2._checkProjection(e?.parsingOptions?.spatialReference)]),
        n = R(i, e);
      _this2._locationInfo = n.locationInfo, _this2._delimiter = n.delimiter, _this2._queryEngine = _this2._createQueryEngine(n);
      const r = yield _this2._createFeatures(i);
      _this2._queryEngine.featureStore.addMany(r);
      const {
        fullExtent: s,
        timeExtent: o
      } = yield _this2._queryEngine.fetchRecomputedExtents();
      if (n.layerDefinition.extent = s, o) {
        const {
          start: e,
          end: t
        } = o;
        n.layerDefinition.timeInfo.timeExtent = [e, t];
      }
      return n;
    })();
  }
  applyEdits() {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("csv-layer:editing-not-supported", "applyEdits() is not supported on CSVLayer");
    })();
  }
  queryFeatures(e = {}, t = {}) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this3._waitSnapshotComplete(), _this3._queryEngine.executeQuery(e, t.signal);
    })();
  }
  queryFeatureCount(e = {}, t = {}) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this4._waitSnapshotComplete(), _this4._queryEngine.executeQueryForCount(e, t.signal);
    })();
  }
  queryObjectIds(e = {}, t = {}) {
    var _this5 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this5._waitSnapshotComplete(), _this5._queryEngine.executeQueryForIds(e, t.signal);
    })();
  }
  queryExtent(e = {}, t = {}) {
    var _this6 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this6._waitSnapshotComplete(), _this6._queryEngine.executeQueryForExtent(e, t.signal);
    })();
  }
  querySnapping(e, t = {}) {
    var _this7 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this7._waitSnapshotComplete(), _this7._queryEngine.executeQueryForSnapping(e, t.signal);
    })();
  }
  refresh(e) {
    var _this8 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this8._loadOptions.customParameters = e, _this8._snapshotTask?.abort(), _this8._snapshotTask = (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__.createTask)(_this8._snapshotFeatures), _this8._snapshotTask.promise.then(e => {
        _this8._queryEngine.featureStore.clear(), e && _this8._queryEngine.featureStore.addMany(e);
      }, e => {
        _this8._queryEngine.featureStore.clear(), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.isAbortError)(e) || _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger("esri.layers.CSVLayer").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("csv-layer:refresh", "An error occurred during refresh", {
          error: e
        }));
      }), yield _this8._waitSnapshotComplete();
      const {
        fullExtent: i,
        timeExtent: o
      } = yield _this8._queryEngine.fetchRecomputedExtents();
      return {
        extent: i,
        timeExtent: o
      };
    })();
  }
  _waitSnapshotComplete() {
    var _this9 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this9._snapshotTask && !_this9._snapshotTask.finished) {
        try {
          yield _this9._snapshotTask.promise;
        } catch {}
        return _this9._waitSnapshotComplete();
      }
    })();
  }
  _fetch(t) {
    var _this10 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        url: i,
        customParameters: r
      } = _this10._loadOptions;
      if (!i) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("csv-layer:invalid-source", "url not defined");
      const s = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_8__.urlToObject)(i);
      return (yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(s.path, {
        query: {
          ...s.query,
          ...r
        },
        responseType: "text",
        signal: t
      })).data;
    })();
  }
  _createQueryEngine(e) {
    const {
        objectIdField: t,
        fields: i,
        extent: n,
        timeInfo: r
      } = e.layerDefinition,
      s = new _data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_15__["default"]({
        geometryType: "esriGeometryPoint",
        hasM: !1,
        hasZ: !1
      });
    return new _data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_17__.QueryEngine({
      fieldsIndex: _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromLayerJSON({
        fields: i,
        dateFieldsTimeReference: {
          timeZoneIANA: _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_22__.utc
        }
      }),
      geometryType: "esriGeometryPoint",
      hasM: !1,
      hasZ: !1,
      timeInfo: r,
      objectIdField: t,
      spatialReference: n.spatialReference || {
        wkid: 4326
      },
      cacheSpatialQueries: !0,
      featureStore: s
    });
  }
  _createFeatures(e) {
    var _this11 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          latitudeFieldName: t,
          longitudeFieldName: n
        } = _this11._locationInfo,
        {
          objectIdField: r,
          fieldsIndex: s,
          spatialReference: o
        } = _this11._queryEngine;
      let a = [];
      const u = [],
        h = s.fields.filter(e => e.name !== r).map(e => e.name);
      let g = 0;
      const I = {};
      for (const i of s.fields) if ("esriFieldTypeOID" !== i.type && "esriFieldTypeGlobalID" !== i.type) {
        const e = (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_21__.getFieldDefaultValue)(i);
        void 0 !== e && (I[i.name] = e);
      }
      const w = (0,_csv_csv_js__WEBPACK_IMPORTED_MODULE_18__.parseRows)(e, h, _this11._delimiter, (0,_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_19__.createDefaultAttributesFunction)(I, r));
      for (const l of w) {
        const e = _this11._parseCoordinateValue(l[t]),
          o = _this11._parseCoordinateValue(l[n]);
        if (null != o && null != e && !isNaN(e) && !isNaN(o)) {
          l[t] = e, l[n] = o;
          for (const e in l) if (e !== t && e !== n) if (s.isDateField(e)) l[e] = (0,_core_date_js__WEBPACK_IMPORTED_MODULE_4__.parseDate)(l[e]);else if (s.isNumericField(e)) {
            const t = (0,_csv_csv_js__WEBPACK_IMPORTED_MODULE_18__.parseNumber)(l[e]);
            isNaN(t) ? l[e] = null : l[e] = t;
          }
          l[r] = g, g++, a.push(new k(o, e)), u.push(l);
        }
      }
      if (!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_11__.equals)({
        wkid: 4326
      }, o)) if ((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_11__.isWebMercator)(o)) for (const i of a) [i.x, i.y] = (0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_12__.lngLatToXY)(i.x, i.y, D);else a = (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_9__.projectMany)(_geometry_geometryAdapters_json_js__WEBPACK_IMPORTED_MODULE_10__.jsonAdapter, a, _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_23__["default"].WGS84, o, null, null);
      const E = [];
      for (let i = 0; i < a.length; i++) {
        const {
            x: e,
            y: t
          } = a[i],
          n = u[i];
        n[r] = i + 1, E.push(new _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_13__.OptimizedFeature(new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_14__["default"]([], [e, t]), n, null, n[r]));
      }
      return E;
    })();
  }
  _parseCoordinateValue(e) {
    if (null == e || "" === e) return null;
    let t = (0,_csv_csv_js__WEBPACK_IMPORTED_MODULE_18__.parseNumber)(e);
    return (isNaN(t) || Math.abs(t) > 181) && (t = parseFloat(e)), t;
  }
  _checkProjection(e) {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        yield (0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_16__.checkProjectionSupport)(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_11__.WGS84, e);
      } catch {
        throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("csv-layer:projection-not-supported", "Projection not supported");
      }
    })();
  }
}
function R(e, t) {
  const i = t.parsingOptions || {},
    r = {
      delimiter: i.delimiter,
      layerDefinition: null,
      locationInfo: {
        latitudeFieldName: i.latitudeField,
        longitudeFieldName: i.longitudeField
      }
    },
    s = r.layerDefinition = {
      name: (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_8__.getFilename)(t.url, v) || "csv",
      dateFieldsTimeReference: {
        timeZoneIANA: _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_22__.utc
      },
      drawingInfo: O,
      geometryType: "esriGeometryPoint",
      objectIdField: null,
      fields: [],
      timeInfo: i.timeInfo,
      extent: {
        xmin: Number.POSITIVE_INFINITY,
        ymin: Number.POSITIVE_INFINITY,
        xmax: Number.NEGATIVE_INFINITY,
        ymax: Number.NEGATIVE_INFINITY,
        spatialReference: i.spatialReference || {
          wkid: 4326
        }
      }
    },
    o = (0,_csv_csv_js__WEBPACK_IMPORTED_MODULE_18__.readRows)(e),
    l = o.next().value?.trim(),
    m = o.next().value?.trim();
  if (!l) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("csv-layer:empty-csv", "CSV is empty", {
    csv: e
  });
  const {
    delimiter: c,
    locationInfo: d
  } = (0,_csv_csv_js__WEBPACK_IMPORTED_MODULE_18__.inferDelimiterAndLocationInfo)(l, m, i);
  if (!c) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("csv-layer:invalid-delimiter", "Unable to detect the delimiter from CSV", {
    firstLine: l,
    secondLine: m,
    parsingOptions: i
  });
  if (!d) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("csv-layer:location-fields-not-found", "Unable to identify latitude and longitude fields from the CSV file", {
    firstLine: l,
    secondLine: m,
    parsingOptions: i
  });
  r.locationInfo = d, r.delimiter = c;
  const {
      names: u,
      aliases: p
    } = (0,_csv_csv_js__WEBPACK_IMPORTED_MODULE_18__.extractFieldNamesAndAliasesFromRow)(l, c),
    f = (0,_csv_csv_js__WEBPACK_IMPORTED_MODULE_18__.inferFields)(e, r.delimiter, u, p, r.locationInfo);
  if (i.fields?.length) {
    const e = new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_20__["default"](i.fields);
    for (const t of f) {
      const i = e.get(t.name);
      i && Object.assign(t, i);
    }
  }
  if (!f.some(e => "esriFieldTypeOID" === e.type && (s.objectIdField = e.name, !0))) {
    const e = {
      name: "__OBJECTID",
      alias: "__OBJECTID",
      type: "esriFieldTypeOID",
      editable: !1,
      nullable: !1
    };
    s.objectIdField = e.name, f.unshift(e);
  }
  s.fields = f;
  const y = new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_20__["default"](s.fields);
  if (r.locationInfo && (r.locationInfo.latitudeFieldName = y.get(r.locationInfo.latitudeFieldName).name, r.locationInfo.longitudeFieldName = y.get(r.locationInfo.longitudeFieldName).name), s.timeInfo) {
    const e = s.timeInfo;
    if (e.startTimeField) {
      const t = y.get(e.startTimeField);
      t ? (e.startTimeField = t.name, t.type = "esriFieldTypeDate") : e.startTimeField = null;
    }
    if (e.endTimeField) {
      const t = y.get(e.endTimeField);
      t ? (e.endTimeField = t.name, t.type = "esriFieldTypeDate") : e.endTimeField = null;
    }
    if (e.trackIdField) {
      const t = y.get(e.trackIdField);
      e.trackIdField = t ? t.name : null;
    }
    e.startTimeField || e.endTimeField || (s.timeInfo = null);
  }
  return r;
}


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_layers_graphics_sources_support_CSVSourceWorker_js.js.map