"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_views_2d_mapViewDeps_js"],{

/***/ 78987:
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/support/requestImageUtils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "requestImage": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../request.js */ 1897);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function t(_x, _x2) {
  return _t.apply(this, arguments);
}
function _t() {
  _t = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, r) {
    const {
      data: a
    } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(t, {
      responseType: "image",
      ...r
    });
    return a;
  });
  return _t.apply(this, arguments);
}


/***/ }),

/***/ 97755:
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_fontUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/fontUtils.js */ 36416);
/* harmony import */ var _core_imageUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/imageUtils.js */ 70527);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class i {
  constructor() {
    this._resourceMap = new Map(), this._inFlightResourceMap = new Map(), this.geometryEngine = null, this.geometryEnginePromise = null;
  }
  destroy() {
    this._inFlightResourceMap.clear(), this._resourceMap.clear();
  }
  getResource(e) {
    return this._resourceMap.get(e) ?? null;
  }
  fetchResource(e, i) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const h = _this._resourceMap.get(e);
      if (h) return {
        width: h.width,
        height: h.height
      };
      let r = _this._inFlightResourceMap.get(e);
      return r ? r.then(e => ({
        width: e.width,
        height: e.height
      })) : (r = (0,_core_imageUtils_js__WEBPACK_IMPORTED_MODULE_2__.getImageData)(e, i), _this._inFlightResourceMap.set(e, r), r.then(t => (_this._inFlightResourceMap.delete(e), _this._resourceMap.set(e, t), {
        width: t.width,
        height: t.height
      }), () => ({
        width: 0,
        height: 0
      })));
    })();
  }
  deleteResource(e) {
    this._inFlightResourceMap.delete(e), this._resourceMap.delete(e);
  }
  loadFont(t) {
    return (0,_core_fontUtils_js__WEBPACK_IMPORTED_MODULE_1__.loadFont)(t);
  }
}


/***/ }),

/***/ 53755:
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/ManagedCanvas.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ManagedCanvas": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Evented.js */ 95442);
/* harmony import */ var _core_events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/events.js */ 83627);
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/handleUtils.js */ 70120);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/mathUtils.js */ 93142);
/* harmony import */ var _chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../chunks/mat2d.js */ 53072);
/* harmony import */ var _chunks_mat2df64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../chunks/mat2df64.js */ 7562);
/* harmony import */ var _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl/contextUtils.js */ 40331);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








class l {
  constructor(a) {
    this.events = new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"](), this._hasMajorPerformanceCaveat = !1, this._lastRenderFrameCounter = 0, this._canvas = document.createElement("canvas"), this._canvas.setAttribute("style", "width: 100%; height:100%; display:block; willChange:transform");
    const r = {
      failIfMajorPerformanceCaveat: !0,
      alpha: !0,
      antialias: !1,
      depth: !0,
      stencil: !0
    };
    a.appendChild(this._canvas);
    let i = (0,_webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_7__.createContextForView)("2d", this._canvas, r);
    i || (i = (0,_webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_7__.createContextForView)("2d", this._canvas, {
      ...r,
      failIfMajorPerformanceCaveat: !1
    }), this._hasMajorPerformanceCaveat = !0), this._gl = i, this._handles = (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.handlesGroup)([(0,_core_events_js__WEBPACK_IMPORTED_MODULE_1__.on)(this._canvas, "webglcontextlost", e => this.events.emit("webgl-context-lost", e))]);
  }
  destroy() {
    this._canvas.parentNode?.removeChild(this._canvas), this._canvas = null, this._handles.remove(), this._gl = null;
  }
  get gl() {
    return this._gl;
  }
  render(e, t) {
    if (this._hasMajorPerformanceCaveat || (0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-force-performance-mode")) {
      if (++this._lastRenderFrameCounter >= (0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-performance-mode-frames-between-render") && (t(), this._lastRenderViewState = e.state.clone(), this._lastRenderFrameCounter = 0), this._lastRenderViewState) {
        const [t, s, a, r, i, n] = this._computeViewTransform(this._lastRenderViewState, e.state);
        this._canvas.style.transform = `matrix(${t}, ${s}, ${a}, ${r}, ${i}, ${n})`;
      }
    } else t();
  }
  resize(e) {
    const t = this._canvas,
      s = t.style,
      {
        state: {
          size: a
        },
        pixelRatio: r
      } = e,
      i = a[0],
      n = a[1],
      o = Math.round(i * r),
      h = Math.round(n * r);
    t.width === o && t.height === h || (t.width = o, t.height = h), s.width = i + "px", s.height = n + "px";
  }
  _computeViewTransform(e, t) {
    const [s, c] = e.center,
      [l, m] = t.center,
      [d, f] = e.toScreen([0, 0], l, m),
      [_, v] = e.toScreen([0, 0], s, c),
      p = _ - d,
      u = v - f,
      w = e.scale / t.scale,
      g = t.rotation - e.rotation,
      j = (0,_chunks_mat2df64_js__WEBPACK_IMPORTED_MODULE_6__.c)();
    return (0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.c)(j), (0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.s)(j, j, [w, w]), (0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.r)(j, j, (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__.deg2rad)(g)), (0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.t)(j, j, [p, u]), j;
  }
}


/***/ }),

/***/ 9089:
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/Stage.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Stage": () => (/* binding */ T),
/* harmony export */   "extraRenderTime": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ 32995);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ 53661);
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/scheduling.js */ 91409);
/* harmony import */ var _core_signal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/signal.js */ 93492);
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../chunks/mat3f32.js */ 40334);
/* harmony import */ var _symbols_cim_CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../symbols/cim/CIMResourceManager.js */ 97755);
/* harmony import */ var _Container_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Container.js */ 98806);
/* harmony import */ var _ManagedCanvas_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ManagedCanvas.js */ 53755);
/* harmony import */ var _webgl_BufferPool_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./webgl/BufferPool.js */ 20533);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./webgl/enums.js */ 20753);
/* harmony import */ var _webgl_Painter_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./webgl/Painter.js */ 30752);
/* harmony import */ var _webgl_Profiler_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./webgl/Profiler.js */ 99896);
/* harmony import */ var _support_Timeline_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/Timeline.js */ 86508);
/* harmony import */ var _support_screenshotUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/screenshotUtils.js */ 24465);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl/FramebufferObject.js */ 2512);
/* harmony import */ var _webgl_RenderbufferDescriptor_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl/RenderbufferDescriptor.js */ 4419);
/* harmony import */ var _webgl_RenderingContext_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl/RenderingContext.js */ 93530);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl/TextureDescriptor.js */ 13229);
/* harmony import */ var _webgl_capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../webgl/capabilities/isWebGL2Context.js */ 46641);
/* harmony import */ var _core_imageUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../core/imageUtils.js */ 70527);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






















const j = 2e3;
class T extends _Container_js__WEBPACK_IMPORTED_MODULE_8__.Container {
  constructor(t, i) {
    super(), this._trash = new Set(), this._renderRemainingTime = 0, this._lastFrameRenderTime = 0, this._renderRequested = (0,_core_signal_js__WEBPACK_IMPORTED_MODULE_5__.signal)(!1), this.stage = this, this._stationary = !0, this._canvas = new _ManagedCanvas_js__WEBPACK_IMPORTED_MODULE_9__.ManagedCanvas(t), this.context = new _webgl_RenderingContext_js__WEBPACK_IMPORTED_MODULE_19__.RenderingContext(this._canvas.gl, i.contextOptions ?? {}), this.resourceManager = new _symbols_cim_CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_7__["default"](), this.painter = new _webgl_Painter_js__WEBPACK_IMPORTED_MODULE_12__["default"](this.context, this, this.resourceManager), (0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-profiler") && (this._debugOutput = document.createElement("div"), this._debugOutput.setAttribute("style", "margin: 24px 64px; position: absolute; color: red;"), t.appendChild(this._debugOutput));
    const a = () => this._highlightGradient;
    this._renderParameters = {
      drawPhase: 0,
      state: this.state,
      pixelRatio: window.devicePixelRatio,
      stationary: !1,
      globalOpacity: 1,
      blendMode: null,
      deltaTime: -1,
      time: 0,
      inFadeTransition: !1,
      effects: null,
      context: this.context,
      painter: this.painter,
      timeline: i.timeline || new _support_Timeline_js__WEBPACK_IMPORTED_MODULE_14__.Timeline(),
      renderingOptions: i.renderingOptions,
      requestRender: () => this.requestRender(),
      allowDelayedRender: !1,
      requireFBO: !1,
      profiler: new _webgl_Profiler_js__WEBPACK_IMPORTED_MODULE_13__.Profiler(this.context, this._debugOutput),
      dataUploadCounter: 0,
      get highlightGradient() {
        return a();
      },
      backgroundColor: i.backgroundColor
    }, this._taskHandle = (0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_4__.addFrameTask)({
      render: e => this.renderFrame(e)
    }), this._taskHandle.pause(), this._lostWebGLContextHandle = this._canvas.events.on("webgl-context-lost", t => this.emit("webgl-error", {
      error: new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("webgl-context-lost", t.statusMessage)
    })), this._bufferPool = new _webgl_BufferPool_js__WEBPACK_IMPORTED_MODULE_10__.BufferPool();
  }
  destroy() {
    this.removeAllChildren(), this._emptyTrash(), this._taskHandle = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.removeMaybe)(this._taskHandle), this._lostWebGLContextHandle = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.removeMaybe)(this._lostWebGLContextHandle), this._canvas.destroy(), this._debugOutput?.parentNode?.removeChild(this._debugOutput), this._bufferPool.destroy(), this.resourceManager.destroy(), this.painter.dispose(), this.context.dispose(), this._canvas = null;
  }
  get backgroundColor() {
    return this._renderParameters.backgroundColor;
  }
  set backgroundColor(e) {
    this._renderParameters.backgroundColor = e, this.requestRender();
  }
  get bufferPool() {
    return this._bufferPool;
  }
  get renderingOptions() {
    return this._renderingOptions;
  }
  set renderingOptions(e) {
    this._renderingOptions = e, this.requestRender();
  }
  get renderRequested() {
    return this._renderRequested.value;
  }
  get state() {
    return this._state;
  }
  set state(e) {
    this._state = e, this.requestRender();
  }
  get stationary() {
    return this._stationary;
  }
  set stationary(e) {
    this._stationary !== e && (this._stationary = e, this.requestRender());
  }
  trashDisplayObject(e) {
    this._trash.add(e), this.requestRender();
  }
  untrashDisplayObject(e) {
    return this._trash.delete(e);
  }
  requestRender() {
    this._renderRemainingTime = j, this.renderRequested || (this._renderRequested.value = !0, this._taskHandle.resume());
  }
  renderFrame(e) {
    const t = this._lastFrameRenderTime ? e.time - this._lastFrameRenderTime : 0;
    this._renderRemainingTime -= t, this._renderRemainingTime <= 0 && this._taskHandle.pause(), this._lastFrameRenderTime = e.time, this._renderRequested.value = !1, this._renderParameters.state = this._state, this._renderParameters.stationary = this.stationary, this._renderParameters.pixelRatio = window.devicePixelRatio, this._renderParameters.globalOpacity = 1, this._renderParameters.time = e.time, this._renderParameters.deltaTime = e.deltaTime, this._renderParameters.effects = null, this.processRender(this._renderParameters), this._emptyTrash();
  }
  _createTransforms() {
    return {
      dvs: (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    };
  }
  renderChildren(e) {
    for (const t of this.children) t.beforeRender(e);
    this._canvas.render(e, () => this._renderChildren(this.children, e));
    for (const t of this.children) t.afterRender(e);
  }
  _renderChildren(e, t) {
    const r = this.context;
    this.painter.textureUploadManager.upload(), r.resetInfo(), t.profiler.recordStart("drawLayers"), t.dataUploadCounter = 0, this.painter.beforeRenderPhases(t, t.backgroundColor, this.state.padding), t.drawPhase = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.WGLDrawPhase.MAP;
    for (const s of e) s.processRender(t);
    if (this.children.some(e => e.hasHighlight)) {
      t.drawPhase = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.WGLDrawPhase.HIGHLIGHT;
      for (const r of e) r.processRender(t);
    }
    if (this.children.some(e => e.hasLabels)) {
      t.drawPhase = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.WGLDrawPhase.LABEL;
      for (const r of e) r.processRender(t);
    }
    if ((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")) {
      t.drawPhase = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.WGLDrawPhase.DEBUG;
      for (const r of e) r.processRender(t);
    }
    this.painter.afterRenderPhases(t), t.profiler.recordEnd("drawLayers"), r.logInfo();
  }
  doRender(e) {
    const t = this.context,
      {
        state: r,
        pixelRatio: s
      } = e;
    this._canvas.resize(e), t.setViewport(0, 0, s * r.size[0], s * r.size[1]), t.setDepthWriteEnabled(!0), t.setStencilWriteMask(255), this.renderChildren(e);
  }
  takeScreenshot(e, t, r, s) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const i = Math.round(_this.state.size[0] * e.resolutionScale),
        n = Math.round(_this.state.size[1] * e.resolutionScale),
        a = e.resolutionScale,
        o = _this.context,
        h = _this._state.clone();
      if (null != s) {
        const e = h.viewpoint;
        h.viewpoint.rotation = s, h.viewpoint = e;
      }
      const d = {
          ..._this._renderParameters,
          drawPhase: null,
          globalOpacity: 1,
          stationary: !0,
          state: h,
          pixelRatio: a,
          time: performance.now(),
          deltaTime: 0,
          blendMode: null,
          effects: null,
          inFadeTransition: !1,
          backgroundColor: r
        },
        l = (0,_webgl_capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_21__["default"])(o.gl),
        c = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_20__.TextureDescriptor(i, n);
      c.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_16__.TextureWrapMode.CLAMP_TO_EDGE, c.internalFormat = l ? _webgl_enums_js__WEBPACK_IMPORTED_MODULE_16__.SizedPixelFormat.RGBA8 : _webgl_enums_js__WEBPACK_IMPORTED_MODULE_16__.PixelFormat.RGBA, c.isImmutable = l;
      const m = new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_17__.FramebufferObject(o, c, new _webgl_RenderbufferDescriptor_js__WEBPACK_IMPORTED_MODULE_18__.RenderbufferDescriptor(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_16__.RenderbufferFormat.DEPTH_STENCIL, i, n)),
        b = o.getBoundFramebufferObject(),
        y = o.getViewport();
      o.bindFramebuffer(m), o.setViewport(0, 0, i, n), _this._renderChildren(t ?? _this.children, d);
      const C = _this._readbackScreenshot(m, {
        ...e.cropArea,
        y: n - (e.cropArea.y + e.cropArea.height)
      });
      o.bindFramebuffer(b), o.setViewport(y.x, y.y, y.width, y.height), _this.requestRender();
      const j = yield C;
      let T;
      return 1 === e.outputScale ? T = j : (T = new ImageData(Math.round(j.width * e.outputScale), Math.round(j.height * e.outputScale)), (0,_support_screenshotUtils_js__WEBPACK_IMPORTED_MODULE_15__.resampleHermite)(j, T, !0)), m.dispose(), T;
    })();
  }
  _readbackScreenshot(e, t) {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const r = (0,_core_imageUtils_js__WEBPACK_IMPORTED_MODULE_22__.createEmptyImageData)(t.width, t.height, document.createElement("canvas"));
      return yield e.readPixelsAsync(t.x, t.y, t.width, t.height, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_16__.PixelFormat.RGBA, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_16__.PixelType.UNSIGNED_BYTE, new Uint8Array(r.data.buffer)), r;
    })();
  }
  _emptyTrash() {
    for (; this._trash.size > 0;) {
      const e = Array.from(this._trash);
      this._trash.clear();
      for (const t of e) t.processDetach();
    }
  }
}


/***/ }),

/***/ 90350:
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/Programs.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "background": () => (/* binding */ a),
/* harmony export */   "circle": () => (/* binding */ i),
/* harmony export */   "fill": () => (/* binding */ l),
/* harmony export */   "icon": () => (/* binding */ o),
/* harmony export */   "line": () => (/* binding */ c),
/* harmony export */   "outline": () => (/* binding */ f),
/* harmony export */   "text": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sources/resolver.js */ 38424);
/* harmony import */ var _webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../webgl/programUtils.js */ 33879);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


const t = e => (0,_webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__.glslifyDefineMap)({
    ID: e.id,
    PATTERN: e.pattern
  }),
  a = {
    shaders: r => ({
      vertexShader: t(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("background/background.vert"),
      fragmentShader: t(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("background/background.frag")
    })
  },
  d = e => (0,_webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__.glslifyDefineMap)({
    ID: e.id
  }),
  i = {
    shaders: r => ({
      vertexShader: d(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("circle/circle.vert"),
      fragmentShader: d(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("circle/circle.frag")
    })
  },
  n = e => (0,_webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__.glslifyDefineMap)({
    ID: e.id,
    PATTERN: e.pattern
  }),
  l = {
    shaders: r => ({
      vertexShader: n(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("fill/fill.vert"),
      fragmentShader: n(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("fill/fill.frag")
    })
  },
  s = e => (0,_webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__.glslifyDefineMap)({
    ID: e.id
  }),
  f = {
    shaders: r => ({
      vertexShader: s(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("outline/outline.vert"),
      fragmentShader: s(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("outline/outline.frag")
    })
  },
  h = e => (0,_webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__.glslifyDefineMap)({
    ID: e.id,
    SDF: e.sdf
  }),
  o = {
    shaders: r => ({
      vertexShader: h(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("icon/icon.vert"),
      fragmentShader: h(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("icon/icon.frag")
    })
  },
  g = e => (0,_webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__.glslifyDefineMap)({
    ID: e.id,
    PATTERN: e.pattern,
    SDF: e.sdf
  }),
  c = {
    shaders: r => ({
      vertexShader: g(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("line/line.vert"),
      fragmentShader: g(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("line/line.frag")
    })
  },
  S = e => (0,_webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__.glslifyDefineMap)({
    ID: e.id
  }),
  v = {
    shaders: r => ({
      vertexShader: S(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("text/text.vert"),
      fragmentShader: S(r) + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)("text/text.frag")
    })
  };


/***/ }),

/***/ 77048:
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/VTLMaterialManager.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ 41780);
/* harmony import */ var _Programs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Programs.js */ 90350);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class o {
  constructor() {
    this._programByKey = new Map();
  }
  dispose() {
    this._programByKey.forEach(e => e.dispose()), this._programByKey.clear();
  }
  getMaterialProgram(e, r, t) {
    const a = r.key << 3 | this._getMaterialOptionsValue(r.type, t);
    if (this._programByKey.has(a)) return this._programByKey.get(a);
    const s = this._getProgramTemplate(r.type),
      {
        shaders: n
      } = s,
      {
        vertexShader: c,
        fragmentShader: i
      } = n(t),
      o = r.getShaderHeader(),
      u = r.getShaderMain(),
      p = c.replace("#pragma header", o).replace("#pragma main", u),
      g = e.programCache.acquire(p, i, r.getAttributeLocations());
    return this._programByKey.set(a, g), g;
  }
  _getMaterialOptionsValue(r, t) {
    switch (r) {
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.BACKGROUND:
        {
          const e = t;
          return (e.pattern ? 1 : 0) << 1 | (e.id ? 1 : 0);
        }
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.FILL:
        {
          const e = t;
          return (e.pattern ? 1 : 0) << 1 | (e.id ? 1 : 0);
        }
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.OUTLINE:
        return t.id ? 1 : 0;
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.LINE:
        {
          const e = t;
          return (e.sdf ? 1 : 0) << 2 | (e.pattern ? 1 : 0) << 1 | (e.id ? 1 : 0);
        }
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.ICON:
        {
          const e = t;
          return (e.sdf ? 1 : 0) << 1 | (e.id ? 1 : 0);
        }
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.CIRCLE:
        return t.id ? 1 : 0;
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.TEXT:
        return t.id ? 1 : 0;
      default:
        return 0;
    }
  }
  _getProgramTemplate(o) {
    switch (o) {
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.BACKGROUND:
        return _Programs_js__WEBPACK_IMPORTED_MODULE_1__.background;
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.CIRCLE:
        return _Programs_js__WEBPACK_IMPORTED_MODULE_1__.circle;
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.FILL:
        return _Programs_js__WEBPACK_IMPORTED_MODULE_1__.fill;
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.ICON:
        return _Programs_js__WEBPACK_IMPORTED_MODULE_1__.icon;
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.LINE:
        return _Programs_js__WEBPACK_IMPORTED_MODULE_1__.line;
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.OUTLINE:
        return _Programs_js__WEBPACK_IMPORTED_MODULE_1__.outline;
      case _enums_js__WEBPACK_IMPORTED_MODULE_0__.ShaderProgramType.TEXT:
        return _Programs_js__WEBPACK_IMPORTED_MODULE_1__.text;
      default:
        return null;
    }
  }
}


/***/ }),

/***/ 9122:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/BitBlitRenderer.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitBlitRenderer": () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ 53661);
/* harmony import */ var _DefaultVertexAttributeLayouts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DefaultVertexAttributeLayouts.js */ 9982);
/* harmony import */ var _shaders_BitBlitPrograms_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shaders/BitBlitPrograms.js */ 50138);
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ 10615);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_ProgramTemplate_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/ProgramTemplate.js */ 6156);
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ 19955);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







class _ {
  constructor() {
    this._initialized = !1;
  }
  dispose() {
    this._program = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._program), this._vertexArrayObject = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._vertexArrayObject);
  }
  render(r, t, e, i) {
    r && (this._initialized || this._initialize(r), r.setBlendFunctionSeparate(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.BlendFactor.ONE_MINUS_SRC_ALPHA, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.BlendFactor.ONE_MINUS_SRC_ALPHA), r.bindVAO(this._vertexArrayObject), r.useProgram(this._program), t.setSamplingMode(e), r.bindTexture(t, 0), this._program.setUniform1i("u_tex", 0), this._program.setUniform1f("u_opacity", i), r.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLE_STRIP, 0, 4), r.bindTexture(null, 0), r.bindVAO());
  }
  _initialize(r) {
    if (this._initialized) return !0;
    const s = (0,_webgl_ProgramTemplate_js__WEBPACK_IMPORTED_MODULE_5__.createProgram)(r, _shaders_BitBlitPrograms_js__WEBPACK_IMPORTED_MODULE_2__.bitBlit);
    if (!s) return !1;
    const o = new Int8Array(16);
    o[0] = -1, o[1] = -1, o[2] = 0, o[3] = 0, o[4] = 1, o[5] = -1, o[6] = 1, o[7] = 0, o[8] = -1, o[9] = 1, o[10] = 0, o[11] = 1, o[12] = 1, o[13] = 1, o[14] = 1, o[15] = 1;
    const _ = _shaders_BitBlitPrograms_js__WEBPACK_IMPORTED_MODULE_2__.bitBlit.attributes,
      p = new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(r, _, _DefaultVertexAttributeLayouts_js__WEBPACK_IMPORTED_MODULE_1__.PosTex2b, {
        geometry: _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createVertex(r, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.STATIC_DRAW, o)
      });
    return this._program = s, this._vertexArrayObject = p, this._initialized = !0, !0;
  }
}


/***/ }),

/***/ 95911:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/MaterialManager.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums.js */ 20753);
/* harmony import */ var _shaders_MaterialPrograms_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shaders/MaterialPrograms.js */ 38512);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


const t = e => e === _enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLDrawPhase.HITTEST || e === _enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLDrawPhase.LABEL_ALPHA,
  a = e => (t(e) ? 1 : 0) | (e === _enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLDrawPhase.HIGHLIGHT ? 2 : 0),
  s = ({
    rendererInfo: r,
    drawPhase: e
  }, t, s) => `${t.getVariationHash()}-${a(e)}-${r.getVariationHash()}-${null != s && s.join(".")}`,
  o = (e, a, s, o = {}) => {
    if (o = {
      ...o,
      ...a.getVariation(),
      ...e.rendererInfo.getVariation(),
      highlight: e.drawPhase === _enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLDrawPhase.HIGHLIGHT,
      id: t(e.drawPhase)
    }, null != s) for (const r of s) o[r] = !0;
    return o;
  };
class i {
  constructor(r) {
    this._rctx = r, this._programByKey = new Map();
  }
  dispose() {
    this._programByKey.forEach(r => r.dispose()), this._programByKey.clear();
  }
  getProgram(r, t = []) {
    const a = r.vsPath + "." + r.fsPath + JSON.stringify(t);
    if (this._programByKey.has(a)) return this._programByKey.get(a);
    const s = {
        ...t.map(r => "string" == typeof r ? {
          name: r,
          value: !0
        } : r).reduce((r, e) => ({
          ...r,
          [e.name]: e.value
        }), {})
      },
      {
        vsPath: o,
        fsPath: i,
        attributes: h
      } = r,
      n = (0,_shaders_MaterialPrograms_js__WEBPACK_IMPORTED_MODULE_1__.createProgramTemplate)(o, i, h, s),
      g = this._rctx.programCache.acquire(n.shaders.vertexShader, n.shaders.fragmentShader, n.attributes);
    if (!g) throw new Error("Unable to get program for key: ${key}");
    return this._programByKey.set(a, g), g;
  }
  getMaterialProgram(r, t, a, i, h) {
    const n = s(r, t, h);
    if (this._programByKey.has(n)) return this._programByKey.get(n);
    const g = o(r, t, h, {
        ignoresSamplerPrecision: r.context.driverTest.ignoresSamplerPrecision.result
      }),
      m = (0,_shaders_MaterialPrograms_js__WEBPACK_IMPORTED_MODULE_1__.createProgramTemplate)(a, a, i, g),
      y = this._rctx.programCache.acquire(m.shaders.vertexShader, m.shaders.fragmentShader, m.attributes);
    if (!y) throw new Error("Unable to get program for key: ${key}");
    return this._programByKey.set(n, y), y;
  }
}


/***/ }),

/***/ 30752:
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Painter.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ 53661);
/* harmony import */ var _brushes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../brushes.js */ 38690);
/* harmony import */ var _vectorTiles_shaders_VTLMaterialManager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../vectorTiles/shaders/VTLMaterialManager.js */ 77048);
/* harmony import */ var _BitBlitRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BitBlitRenderer.js */ 9122);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./enums.js */ 20753);
/* harmony import */ var _MaterialManager_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MaterialManager.js */ 95911);
/* harmony import */ var _TextureManager_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TextureManager.js */ 25139);
/* harmony import */ var _TextureUploadManager_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TextureUploadManager.js */ 55403);
/* harmony import */ var _WorldExtentClipRenderer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./WorldExtentClipRenderer.js */ 97270);
/* harmony import */ var _effects_AnimationEffect_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./effects/AnimationEffect.js */ 70765);
/* harmony import */ var _effects_BlendEffect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./effects/BlendEffect.js */ 16362);
/* harmony import */ var _effects_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./effects/FeatureEffect.js */ 78897);
/* harmony import */ var _effects_HighlightEffect_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./effects/HighlightEffect.js */ 59670);
/* harmony import */ var _effects_HittestEffect_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./effects/HittestEffect.js */ 33707);
/* harmony import */ var _effects_HittestEffectVTL_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./effects/HittestEffectVTL.js */ 28318);
/* harmony import */ var _effects_post_processing_EffectManager_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./effects/post-processing/EffectManager.js */ 17530);
/* harmony import */ var _painter_RenderPass_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./painter/RenderPass.js */ 19806);
/* harmony import */ var _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../webgl/contextUtils.js */ 40331);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../webgl/FramebufferObject.js */ 2512);
/* harmony import */ var _webgl_Renderbuffer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../webgl/Renderbuffer.js */ 80806);
/* harmony import */ var _webgl_RenderbufferDescriptor_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../webgl/RenderbufferDescriptor.js */ 4419);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
























function O(e, s) {
  switch (e) {
    case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.LINE:
      return _brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.line;
    case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.TEXT:
      return _brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.text;
    case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.LABEL:
      return _brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.label;
    case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.FILL:
      return s === _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLSymbologyType.DOT_DENSITY ? _brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.dotDensity : _brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.fill;
    case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.MARKER:
      switch (s) {
        case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLSymbologyType.HEATMAP:
          return _brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.heatmap;
        case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLSymbologyType.PIE_CHART:
          return _brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.pieChart;
        default:
          return _brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.marker;
      }
  }
}
class j {
  constructor(e, t, i) {
    this.context = e, this._blitRenderer = new _BitBlitRenderer_js__WEBPACK_IMPORTED_MODULE_4__.BitBlitRenderer(), this._worldExtentRenderer = new _WorldExtentClipRenderer_js__WEBPACK_IMPORTED_MODULE_9__.WorldExtentRenderer(), this._brushCache = new Map(), this._lastWidth = null, this._lastHeight = null, this._vtlMaterialManager = new _vectorTiles_shaders_VTLMaterialManager_js__WEBPACK_IMPORTED_MODULE_3__["default"](), this._blendEffect = new _effects_BlendEffect_js__WEBPACK_IMPORTED_MODULE_11__.BlendEffect(), this._stencilBuf = null, this._prevBeforeLayerFBOStack = [], this._fboPool = [], this.effects = {
      highlight: new _effects_HighlightEffect_js__WEBPACK_IMPORTED_MODULE_13__["default"](),
      hittest: new _effects_HittestEffect_js__WEBPACK_IMPORTED_MODULE_14__.HittestEffect(),
      hittestVTL: new _effects_HittestEffectVTL_js__WEBPACK_IMPORTED_MODULE_15__.HittestEffectVTL(),
      integrate: new _effects_AnimationEffect_js__WEBPACK_IMPORTED_MODULE_10__.AnimationEffect(),
      insideEffect: new _effects_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_12__.FeatureEffect("inside"),
      outsideEffect: new _effects_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_12__.FeatureEffect("outside")
    }, this.materialManager = new _MaterialManager_js__WEBPACK_IMPORTED_MODULE_6__["default"](e), this.textureManager = new _TextureManager_js__WEBPACK_IMPORTED_MODULE_7__["default"](t, i, e.type === _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_18__.ContextType.WEBGL2), this.textureUploadManager = new _TextureUploadManager_js__WEBPACK_IMPORTED_MODULE_8__.TextureUploadManager(e, t), this._effectsManager = new _effects_post_processing_EffectManager_js__WEBPACK_IMPORTED_MODULE_16__.EffectManager();
  }
  dispose() {
    if (this.materialManager.dispose(), this.textureManager.dispose(), this.textureUploadManager.destroy(), this._blitRenderer = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._blitRenderer), this._worldExtentRenderer = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._worldExtentRenderer), this._brushCache && (this._brushCache.forEach(e => e.dispose()), this._brushCache.clear(), this._brushCache = null), this._fbos) {
      let e;
      for (e in this._fbos) this._fbos[e] && this._fbos[e].dispose();
    }
    for (const e of this._fboPool) e.dispose();
    if (this._fboPool.length = 0, this.effects) {
      let e;
      for (e in this.effects) this.effects[e] && this.effects[e].dispose();
    }
    this._effectsManager.dispose(), this._blendEffect.dispose(this.context), this._vtlMaterialManager = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._vtlMaterialManager);
  }
  get blitRenderer() {
    return this._blitRenderer;
  }
  get vectorTilesMaterialManager() {
    return this._vtlMaterialManager;
  }
  getFbos() {
    if (!this._fbos) throw new Error("InternalError: Painter FBOs not initialized");
    return this._fbos;
  }
  acquireFbo(e, t) {
    let s;
    if (this._fboPool.length > 0) s = this._fboPool.pop();else {
      const r = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_23__.TextureDescriptor(e, t);
      r.samplingMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureSamplingMode.NEAREST, r.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureWrapMode.CLAMP_TO_EDGE, s = new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_20__.FramebufferObject(this.context, r, this._stencilBuf);
    }
    return s.width === e && s.height === t || s.resize(e, t), s;
  }
  releaseFbo(e) {
    this._fboPool.push(e);
  }
  getSharedStencilBuffer() {
    return this._stencilBuf;
  }
  beforeRenderPhases(e, t, s) {
    const {
      context: r
    } = e;
    this._worldExtentRenderer.render(e, t, s);
    const {
      width: i,
      height: n
    } = r.getViewport();
    if (this.updateFBOs(i, n), this._prevFBO = r.getBoundFramebufferObject(), r.bindFramebuffer(this.getFbos().output), r.setColorMask(!0, !0, !0, !0), null != t) {
      const {
        r: e,
        g: s,
        b: i,
        a: n
      } = t;
      r.setClearColor(n * e / 255, n * s / 255, n * i / 255, n);
    } else r.setClearColor(0, 0, 0, 0);
    r.setDepthWriteEnabled(!0), r.setClearDepth(1), r.clear(r.gl.COLOR_BUFFER_BIT | r.gl.DEPTH_BUFFER_BIT), r.setDepthWriteEnabled(!1);
  }
  afterRenderPhases(e) {
    const {
      context: t
    } = e;
    t.bindFramebuffer(this._prevFBO), t.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.CompareFunction.EQUAL, 1, 255), t.setStencilTestEnabled(!0), t.setDepthTestEnabled(!1), this.blitTexture(t, this.getFbos().output.colorTexture, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureSamplingMode.NEAREST);
  }
  beforeRenderLayer(e, t, s) {
    const {
      context: r,
      blendMode: i,
      effects: n,
      drawPhase: o,
      requireFBO: a
    } = e;
    if (a || x(o, i, n, s)) {
      const e = r.getBoundFramebufferObject();
      this._prevBeforeLayerFBOStack.push(e);
      const {
          width: t,
          height: s
        } = r.getViewport(),
        i = this.acquireFbo(t, s);
      r.bindFramebuffer(i), r.setColorMask(!0, !0, !0, !0), r.setClearColor(0, 0, 0, 0), r.setDepthWriteEnabled(!0), r.setClearDepth(1), r.clear(r.gl.COLOR_BUFFER_BIT | r.gl.DEPTH_BUFFER_BIT), r.setDepthWriteEnabled(!1);
    }
    r.setDepthWriteEnabled(!1), r.setDepthTestEnabled(!1), r.setStencilTestEnabled(!0), r.setClearStencil(t), r.setStencilWriteMask(255), r.clear(r.gl.STENCIL_BUFFER_BIT);
  }
  afterRenderLayer(e, t) {
    const {
      context: s,
      blendMode: r,
      effects: n,
      requireFBO: o,
      drawPhase: a
    } = e;
    if (o || x(a, r, n, t)) {
      const o = s.getBoundFramebufferObject();
      null != n && n.length > 0 && a === _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.MAP && this._applyEffects(e, n, o), s.bindFramebuffer(this._prevBeforeLayerFBOStack.pop()), s.setStencilTestEnabled(!1), s.setStencilWriteMask(0), s.setBlendingEnabled(!0), s.setBlendFunctionSeparate(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.BlendFactor.ONE_MINUS_SRC_ALPHA, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.BlendFactor.ONE_MINUS_SRC_ALPHA), s.setColorMask(!0, !0, !0, !0);
      const f = null == r || a === _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.HIGHLIGHT ? "normal" : r;
      this._blendEffect.draw(e, o.colorTexture, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureSamplingMode.NEAREST, f, t), this.releaseFbo(o);
    }
  }
  getBrush(e, t) {
    const s = O(e, t);
    let r = this._brushCache.get(s);
    return void 0 === r && (r = new s(), this._brushCache.set(s, r)), r;
  }
  renderObject(e, s, r, i) {
    const n = _brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes[r];
    if (!n) return;
    let o = this._brushCache.get(n);
    void 0 === o && (o = new n(), this._brushCache.set(n, o)), o.prepareState(e, i), o.draw(e, s, i);
  }
  renderObjects(e, s, r, i) {
    const n = _brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes[r];
    if (!n) return;
    let o = this._brushCache.get(n);
    void 0 === o && (o = new n(), this._brushCache.set(n, o)), o.drawMany(e, s, i);
  }
  registerRenderPass(e) {
    const t = e.brushes.map(e => (this._brushCache.has(e) || this._brushCache.set(e, new e()), this._brushCache.get(e)));
    return new _painter_RenderPass_js__WEBPACK_IMPORTED_MODULE_17__["default"](t, e);
  }
  blitTexture(e, t, s, r = 1) {
    e.setBlendingEnabled(!0), e.setBlendFunctionSeparate(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.BlendFactor.ONE_MINUS_SRC_ALPHA, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.BlendFactor.ONE_MINUS_SRC_ALPHA), e.setColorMask(!0, !0, !0, !0), this._blitRenderer.render(e, t, s, r);
  }
  getPostProcessingEffects(e) {
    return this._effectsManager.getPostProcessingEffects(e);
  }
  updateFBOs(e, t) {
    if (e !== this._lastWidth || t !== this._lastHeight) {
      if (this._lastWidth = e, this._lastHeight = t, this._fbos) {
        let s;
        for (s in this._fbos) this._fbos[s].resize(e, t);
        return;
      }
      const s = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_23__.TextureDescriptor(e, t);
      s.samplingMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureSamplingMode.NEAREST, s.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureWrapMode.CLAMP_TO_EDGE;
      const r = new _webgl_RenderbufferDescriptor_js__WEBPACK_IMPORTED_MODULE_22__.RenderbufferDescriptor(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.RenderbufferFormat.DEPTH_STENCIL, e, t);
      this._stencilBuf = new _webgl_Renderbuffer_js__WEBPACK_IMPORTED_MODULE_21__.Renderbuffer(this.context, r), this._fbos = {
        output: new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_20__.FramebufferObject(this.context, s, this._stencilBuf),
        effect0: new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_20__.FramebufferObject(this.context, s, this._stencilBuf)
      };
    }
  }
  _applyEffects(e, t, s) {
    const {
        context: r
      } = e,
      i = this._effectsManager.getPostProcessingEffects(t);
    for (const {
      postProcessingEffect: n,
      effect: o
    } of i) r.bindFramebuffer(s), n.draw(e, s, o);
  }
}
function x(e, t, s, r) {
  return e !== _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.LABEL_ALPHA && e !== _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.LABEL && e !== _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLDrawPhase.HIGHLIGHT && (1 !== r || null != t && "normal" !== t || null != s && s.length > 0);
}


/***/ }),

/***/ 55403:
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TextureUploadManager.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextureUploadManager": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions.js */ 80696);
/* harmony import */ var _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/contextUtils.js */ 40331);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class n {
  constructor(e, t) {
    this._queue = [], this._context = e, this._refreshable = t;
  }
  destroy() {
    this._queue = [];
  }
  enqueueTextureUpdate(o, n) {
    const h = (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.createResolver)(),
      i = o,
      a = _definitions_js__WEBPACK_IMPORTED_MODULE_1__.textureUploadManagerChunkSize,
      c = Math.ceil(i.height / a);
    if ((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfAborted)(n), this._context.type === _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_2__.ContextType.WEBGL1) this._queue.push({
      type: "no-chunk",
      request: o,
      resolver: h,
      options: n
    });else for (let e = 0; e < c; e++) {
      const t = e * a,
        s = e === c - 1,
        u = s ? i.height - a * e : a;
      this._queue.push({
        type: "chunk",
        request: o,
        resolver: h,
        chunk: e,
        chunkOffset: t,
        destHeight: u,
        chunkIsLast: s,
        options: n
      });
    }
    return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.onAbortOrThrow)(n, e => h.reject(e)), h.promise;
  }
  upload() {
    let e = 0;
    for (; this._queue.length;) {
      const t = performance.now(),
        s = this._queue.shift();
      if (s) {
        if (null != s.options.signal && s.options.signal.aborted) continue;
        switch (s.type) {
          case "chunk":
            this._uploadChunk(s);
            break;
          case "no-chunk":
            this._uploadNoChunk(s);
        }
        const u = performance.now() - t;
        if (e += u, e + u >= _definitions_js__WEBPACK_IMPORTED_MODULE_1__.textureUploadManagerBudget) break;
      }
    }
    this._queue.length && this._refreshable.requestRender();
  }
  _uploadChunk(e) {
    const {
        request: t,
        resolver: s,
        chunkOffset: o,
        chunkIsLast: u,
        destHeight: r
      } = e,
      {
        data: n,
        texture: h,
        width: i
      } = t;
    null != n && (h.updateData(0, 0, o, i, r, n, o), u && s.resolve());
  }
  _uploadNoChunk(e) {
    const {
        request: t,
        resolver: s
      } = e,
      {
        data: o,
        texture: u
      } = t;
    u.setData(o), s.resolve();
  }
}


/***/ }),

/***/ 97270:
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/WorldExtentClipRenderer.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WorldExtentRenderer": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ 53661);
/* harmony import */ var _chunks_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/common.js */ 33980);
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat3.js */ 38974);
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/mat3f32.js */ 40334);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec2f64.js */ 83457);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _VertexStream_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VertexStream.js */ 5692);
/* harmony import */ var _shaders_StencilPrograms_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./shaders/StencilPrograms.js */ 68211);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_ProgramTemplate_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/ProgramTemplate.js */ 6156);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/











const u = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(-.5, -.5);
class f {
  constructor() {
    this._centerNdc = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(), this._pxToNdc = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(), this._worldDimensionsPx = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(), this._mat3 = (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_3__.c)(), this._initialized = !1;
  }
  dispose() {
    this._program = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._program), this._quad = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._quad);
  }
  render(t, s, i) {
    const {
        context: e
      } = t,
      r = this._updateGeometry(t, i);
    if (null != s) {
      const {
        r: t,
        g: i,
        b: r,
        a: o
      } = s;
      e.setClearColor(o * t / 255, o * i / 255, o * r / 255, o);
    } else e.setClearColor(0, 0, 0, 0);
    if (e.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.CompareFunction.ALWAYS, 0, 255), e.setStencilWriteMask(255), !r) return e.setClearStencil(1), void e.clear(e.gl.STENCIL_BUFFER_BIT | e.gl.COLOR_BUFFER_BIT);
    e.setClearStencil(0), e.clear(e.gl.STENCIL_BUFFER_BIT | e.gl.COLOR_BUFFER_BIT), this._initialized || this._initialize(e), e.setDepthWriteEnabled(!1), e.setDepthTestEnabled(!1), e.setColorMask(!1, !1, !1, !1), e.setBlendingEnabled(!1), e.setStencilOp(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.StencilOperation.KEEP, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.StencilOperation.KEEP, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.StencilOperation.REPLACE), e.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.CompareFunction.ALWAYS, 1, 255), e.setStencilTestEnabled(!0), e.useProgram(this._program), this._program.setUniformMatrix3fv("u_worldExtent", this._mat3), this._quad.draw(), this._quad.unbind();
  }
  _initialize(t) {
    if (this._initialized) return;
    const s = (0,_webgl_ProgramTemplate_js__WEBPACK_IMPORTED_MODULE_10__.createProgram)(t, _shaders_StencilPrograms_js__WEBPACK_IMPORTED_MODULE_8__.stencil);
    s && (this._program = s, this._quad = new _VertexStream_js__WEBPACK_IMPORTED_MODULE_7__["default"](t, [0, 0, 1, 0, 0, 1, 1, 1]), this._initialized = !0);
  }
  _updateGeometry(t, a) {
    const {
        state: n,
        pixelRatio: h
      } = t,
      {
        size: l,
        rotation: m
      } = n,
      _ = Math.round(l[0] * h),
      d = Math.round(l[1] * h);
    if (!n.spatialReference.isWrappable) return !1;
    const p = (0,_chunks_common_js__WEBPACK_IMPORTED_MODULE_1__.t)(m),
      f = Math.abs(Math.cos(p)),
      g = Math.abs(Math.sin(p)),
      E = Math.round(_ * f + d * g),
      S = Math.round(n.worldScreenWidth);
    if (E <= S) return !1;
    const b = _ * g + d * f,
      x = S * h,
      C = (a.left - a.right) * h / _,
      T = (a.bottom - a.top) * h / d;
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(this._worldDimensionsPx, x, b, 1), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(this._pxToNdc, 2 / _, -2 / d, 1), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(this._centerNdc, C, T, 1);
    const j = this._mat3;
    return (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.k)(j, this._centerNdc), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.c)(j, j, this._pxToNdc), 0 !== m && (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.r)(j, j, p), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.c)(j, j, this._worldDimensionsPx), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.h)(j, j, u), !0;
  }
}


/***/ }),

/***/ 70765:
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/AnimationEffect.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AnimationEffect": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ 67087);
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../definitions.js */ 80696);
/* harmony import */ var _VertexStream_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../VertexStream.js */ 5692);
/* harmony import */ var _Effect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Effect.js */ 99656);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




class s extends _Effect_js__WEBPACK_IMPORTED_MODULE_3__.Effect {
  constructor() {
    super(...arguments), this.defines = [], this._desc = {
      vsPath: "fx/integrate",
      fsPath: "fx/integrate",
      attributes: new Map([["a_position", 0]])
    };
  }
  dispose() {
    this._quad && this._quad.dispose();
  }
  bind() {}
  unbind() {}
  draw(t, r) {
    if (!r?.size) return;
    const {
      context: a,
      renderingOptions: s
    } = t;
    this._quad || (this._quad = new _VertexStream_js__WEBPACK_IMPORTED_MODULE_2__["default"](a, [0, 0, 1, 0, 0, 1, 1, 1]));
    const o = a.getBoundFramebufferObject(),
      {
        x: n,
        y: u,
        width: m,
        height: d
      } = a.getViewport();
    r.bindTextures(a);
    const f = r.getBlock(_definitions_js__WEBPACK_IMPORTED_MODULE_1__.attributeDataAnimation);
    if (null == f) return;
    const c = f.getFBO(a),
      l = f.getFBO(a, 1);
    a.setViewport(0, 0, r.size, r.size), this._computeDelta(t, l, s.labelsAnimationTime), this._updateAnimationState(t, l, c), a.bindFramebuffer(o), a.setViewport(n, u, m, d);
  }
  _computeDelta(e, i, a) {
    const {
        context: s,
        painter: o,
        displayLevel: n
      } = e,
      u = o.materialManager.getProgram(this._desc, ["delta"]);
    s.bindFramebuffer(i), s.setClearColor(0, 0, 0, 0), s.clear(s.gl.COLOR_BUFFER_BIT), s.useProgram(u);
    const m = (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-animation-enabled") ? a : 1;
    u.setUniform1i("u_maskTexture", _definitions_js__WEBPACK_IMPORTED_MODULE_1__.textureBindingAttributeData0), u.setUniform1i("u_sourceTexture", _definitions_js__WEBPACK_IMPORTED_MODULE_1__.textureBindingAttributeData1), u.setUniform1f("u_timeDelta", e.deltaTime), u.setUniform1f("u_animationTime", m), u.setUniform1f("u_zoomLevel", Math.round(10 * n)), this._quad.draw();
  }
  _updateAnimationState(e, t, r) {
    const {
        context: i,
        painter: a
      } = e,
      s = a.materialManager.getProgram(this._desc, ["update"]);
    i.bindTexture(t.colorTexture, 1), i.useProgram(s), s.setUniform1i("u_sourceTexture", 1), i.bindFramebuffer(r), i.setClearColor(0, 0, 0, 0), i.clear(i.gl.COLOR_BUFFER_BIT), this._quad.draw();
  }
}


/***/ }),

/***/ 78897:
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/FeatureEffect.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureEffect": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _Effect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Effect.js */ 99656);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../webgl/enums.js */ 69923);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class s extends _Effect_js__WEBPACK_IMPORTED_MODULE_0__.Effect {
  constructor(e) {
    super(), this.name = this.constructor.name, this.defines = [e];
  }
  dispose() {}
  bind({
    context: e,
    painter: t
  }) {
    this._prev = e.getBoundFramebufferObject();
    const s = t.getFbos().effect0;
    e.bindFramebuffer(s), e.setColorMask(!0, !0, !0, !0), e.setClearColor(0, 0, 0, 0), e.clear(e.gl.COLOR_BUFFER_BIT);
  }
  unbind() {}
  draw(e, s) {
    const {
        context: r,
        painter: o
      } = e,
      n = o.getPostProcessingEffects(s),
      c = r.getBoundFramebufferObject();
    for (const {
      postProcessingEffect: t,
      effect: f
    } of n) t.draw(e, c, f);
    r.bindFramebuffer(this._prev), r.setStencilTestEnabled(!1), o.blitTexture(r, c.colorTexture, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST), r.setStencilTestEnabled(!0);
  }
}


/***/ }),

/***/ 59670:
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/HighlightEffect.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ 67087);
/* harmony import */ var _BitBlitRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BitBlitRenderer.js */ 9122);
/* harmony import */ var _Effect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Effect.js */ 99656);
/* harmony import */ var _highlight_HighlightRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./highlight/HighlightRenderer.js */ 19967);
/* harmony import */ var _highlight_HighlightSurfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./highlight/HighlightSurfaces.js */ 85853);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../webgl/enums.js */ 69923);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






const h = 4,
  d = 4 / h;
class l extends _Effect_js__WEBPACK_IMPORTED_MODULE_2__.Effect {
  constructor() {
    super(...arguments), this.defines = ["highlight"], this._hlRenderer = new _highlight_HighlightRenderer_js__WEBPACK_IMPORTED_MODULE_3__["default"](), this._width = void 0, this._height = void 0, this._boundFBO = null, this._hlSurfaces = new _highlight_HighlightSurfaces_js__WEBPACK_IMPORTED_MODULE_4__["default"](), this._adjustedWidth = void 0, this._adjustedHeight = void 0, this._blitRenderer = new _BitBlitRenderer_js__WEBPACK_IMPORTED_MODULE_1__.BitBlitRenderer();
  }
  dispose() {
    this._hlSurfaces?.dispose(), this._hlRenderer?.dispose(), this._boundFBO = null;
  }
  bind(e) {
    const {
        context: t,
        painter: s
      } = e,
      {
        width: r,
        height: i
      } = t.getViewport(),
      h = s.getFbos().effect0;
    this.setup(e, r, i), t.bindFramebuffer(h), t.setColorMask(!0, !0, !0, !0), t.setClearColor(0, 0, 0, 0), t.clear(t.gl.COLOR_BUFFER_BIT);
  }
  unbind() {}
  setup({
    context: e
  }, t, s) {
    this._width = t, this._height = s;
    const r = t % h,
      i = s % h;
    t += r < h / 2 ? -r : h - r, s += i < h / 2 ? -i : h - i, this._adjustedWidth = t, this._adjustedHeight = s, this._boundFBO = e.getBoundFramebufferObject();
    const l = Math.round(t * d),
      o = Math.round(s * d);
    this._hlRenderer.setup(e, l, o), this._hlSurfaces.setup(e, l, o);
  }
  draw(e) {
    const {
      context: t,
      highlightGradient: s
    } = e;
    if (!s) return;
    const r = t.getBoundFramebufferObject();
    t.setViewport(0, 0, this._adjustedWidth * d, this._adjustedHeight * d), t.bindFramebuffer(this._hlSurfaces.sharedBlur1Fbo), t.setStencilTestEnabled(!1), t.setClearColor(0, 0, 0, 0), t.clear(t.gl.COLOR_BUFFER_BIT), this._blitRenderer.render(t, r.colorTexture, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.TextureSamplingMode.NEAREST, 1), t.setStencilTestEnabled(!1), t.setBlendingEnabled(!1), t.setColorMask(!1, !1, !1, !0), t.bindFramebuffer(this._hlSurfaces.sharedBlur2Fbo), t.setClearColor(0, 0, 0, 0), t.clear(t.gl.COLOR_BUFFER_BIT), this._hlRenderer.preBlur(t, this._hlSurfaces.sharedBlur1Tex), t.bindFramebuffer(this._hlSurfaces.sharedBlur1Fbo), t.setClearColor(0, 0, 0, 0), t.clear(t.gl.COLOR_BUFFER_BIT), this._hlRenderer.finalBlur(t, this._hlSurfaces.sharedBlur2Tex), t.bindFramebuffer(this._boundFBO), t.setBlendingEnabled(!0), t.setColorMask(!0, !0, !0, !0), t.setViewport(0, 0, this._width, this._height), this._hlRenderer.renderHighlight(t, this._hlSurfaces.sharedBlur1Tex, s), this._boundFBO = null;
  }
}


/***/ }),

/***/ 33707:
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/HittestEffect.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HittestEffect": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../definitions.js */ 80696);
/* harmony import */ var _Effect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Effect.js */ 99656);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/enums.js */ 69923);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class o extends _Effect_js__WEBPACK_IMPORTED_MODULE_2__.Effect {
  constructor() {
    super(...arguments), this.name = this.constructor.name, this.defines = ["hittest"];
  }
  dispose() {
    null != this._fbo && this._fbo.dispose();
  }
  createOptions({
    pixelRatio: e
  }, i, s = _definitions_js__WEBPACK_IMPORTED_MODULE_1__.hittestRadius) {
    if (!i.length) return null;
    const r = i.shift(),
      o = r.x,
      n = r.y;
    return this._outstanding = r, {
      type: "hittest",
      distance: s * e,
      position: [o, n]
    };
  }
  bind(t) {
    const {
      context: i,
      attributeView: s
    } = t;
    if (!s.size) return;
    const r = s.getBlock(_definitions_js__WEBPACK_IMPORTED_MODULE_1__.attributeDataGpgpu);
    if (null == r) return;
    const o = r.getFBO(i);
    i.setViewport(0, 0, s.size, s.size), i.bindFramebuffer(o), i.setColorMask(!0, !0, !0, !0), i.setClearColor(0, 0, 0, 0), i.clear(i.gl.COLOR_BUFFER_BIT | i.gl.DEPTH_BUFFER_BIT);
  }
  unbind(t) {}
  draw(t) {
    if (null == this._outstanding) return;
    const e = this._outstanding;
    this._outstanding = null, this._resolve(t, e.resolvers);
  }
  _resolve(t, i) {
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          context: o,
          attributeView: n
        } = t,
        c = n.getBlock(_definitions_js__WEBPACK_IMPORTED_MODULE_1__.attributeDataGpgpu);
      if (null == c) return void i.forEach(t => t.resolve([]));
      const l = c.getFBO(o),
        d = new Uint8Array(l.width * l.height * 4);
      try {
        yield l.readPixelsAsync(0, 0, l.width, l.height, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PixelFormat.RGBA, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PixelType.UNSIGNED_BYTE, d);
      } catch (u) {
        return void i.forEach(t => t.resolve([]));
      }
      const a = [];
      for (let e = 0; e < d.length; e += 4) {
        const t = d[e],
          i = d[e + 3];
        t && a.push({
          id: e / 4,
          directHits: i
        });
      }
      a.sort((t, e) => e.directHits === t.directHits ? e.id - t.id : e.directHits - t.directHits);
      const h = a.map(t => t.id);
      i.forEach(t => t.resolve(h));
    })();
  }
}


/***/ }),

/***/ 28318:
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/HittestEffectVTL.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HittestEffectVTL": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../definitions.js */ 80696);
/* harmony import */ var _Effect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Effect.js */ 99656);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/enums.js */ 69923);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class r extends _Effect_js__WEBPACK_IMPORTED_MODULE_2__.Effect {
  constructor() {
    super(...arguments), this.name = this.constructor.name, this.defines = ["id"], this._lastSize = 0, this._boundFBO = null;
  }
  dispose() {
    null != this._fbo && this._fbo.dispose();
  }
  bind({
    context: t,
    painter: e
  }) {
    this._boundFBO = t.getBoundFramebufferObject();
    const s = e.getFbos().effect0;
    t.bindFramebuffer(s), t.setColorMask(!0, !0, !0, !0), t.setClearColor(0, 0, 0, 0), t.clear(t.gl.COLOR_BUFFER_BIT);
  }
  unbind({
    context: t
  }) {
    t.bindFramebuffer(this._boundFBO), this._boundFBO = null;
  }
  draw(e, s, o = 2 * _definitions_js__WEBPACK_IMPORTED_MODULE_1__.hittestRadius) {
    this._resolve(e, s, o);
  }
  _resolve({
    context: t,
    state: e,
    pixelRatio: r
  }, i, n) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const f = t.getBoundFramebufferObject(),
        a = e.size[1] * r,
        u = Math.round(n * r),
        h = u / 2,
        l = u / 2;
      _this._ensureBuffer(u), i.forEach( /*#__PURE__*/function () {
        var _ref = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, e) {
          const n = new Map(),
            b = Math.floor(e.x * r - u / 2),
            c = Math.floor(a - e.y * r - u / 2);
          yield f.readPixelsAsync(b, c, u, u, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PixelFormat.RGBA, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PixelType.UNSIGNED_BYTE, _this._buf);
          for (let s = 0; s < _this._buf32.length; s++) {
            const t = _this._buf32[s];
            if (4294967295 !== t && 0 !== t) {
              const e = s % u,
                o = u - Math.floor(s / u),
                r = (h - e) * (h - e) + (l - o) * (l - o),
                i = n.has(t) ? n.get(t) : 4294967295;
              n.set(t, Math.min(r, i));
            }
          }
          const _ = Array.from(n).sort((t, e) => t[1] - e[1]).map(t => t[0]);
          t.resolve(_), i.delete(e);
        });
        return function (_x, _x2) {
          return _ref.apply(this, arguments);
        };
      }());
    })();
  }
  _ensureBuffer(t) {
    this._lastSize !== t && (this._lastSize = t, this._buf = new Uint8Array(4 * t * t), this._buf32 = new Uint32Array(this._buf.buffer));
  }
}


/***/ }),

/***/ 19967:
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/highlight/HighlightRenderer.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../definitions.js */ 80696);
/* harmony import */ var _parameters_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parameters.js */ 76042);
/* harmony import */ var _shaders_HighlightPrograms_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaders/HighlightPrograms.js */ 64257);
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../webgl/BufferObject.js */ 10615);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_ProgramTemplate_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../webgl/ProgramTemplate.js */ 6156);
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../webgl/VertexArrayObject.js */ 19955);
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../webgl/VertexElementDescriptor.js */ 33269);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/








class c {
  constructor() {
    this._width = void 0, this._height = void 0, this._resources = null;
  }
  dispose() {
    this._resources && (this._resources.quadGeometry.dispose(), this._resources.quadVAO.dispose(), this._resources.highlightProgram.dispose(), this._resources.blurProgram.dispose(), this._resources = null);
  }
  preBlur(e, i) {
    e.bindTexture(i, _definitions_js__WEBPACK_IMPORTED_MODULE_0__.textureBindingHighlight0), e.useProgram(this._resources.blurProgram), this._resources.blurProgram.setUniform4fv("u_direction", [1, 0, 1 / this._width, 0]), this._resources.blurProgram.setUniformMatrix4fv("u_channelSelector", _parameters_js__WEBPACK_IMPORTED_MODULE_1__.alphaToRgbaChannelSelectorMatrix), e.bindVAO(this._resources.quadVAO), e.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLE_STRIP, 0, 4), e.bindVAO();
  }
  finalBlur(e, s) {
    e.bindTexture(s, _definitions_js__WEBPACK_IMPORTED_MODULE_0__.textureBindingHighlight0), e.useProgram(this._resources.blurProgram), this._resources.blurProgram.setUniform4fv("u_direction", [0, 1, 0, 1 / this._height]), this._resources.blurProgram.setUniformMatrix4fv("u_channelSelector", _parameters_js__WEBPACK_IMPORTED_MODULE_1__.rgbaToRgbaChannelSelectorMatrix), e.bindVAO(this._resources.quadVAO), e.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLE_STRIP, 0, 4), e.bindVAO();
  }
  renderHighlight(e, s, i) {
    e.bindTexture(s, _definitions_js__WEBPACK_IMPORTED_MODULE_0__.textureBindingHighlight0), e.useProgram(this._resources.highlightProgram), i.applyHighlightOptions(e, this._resources.highlightProgram), e.bindVAO(this._resources.quadVAO), e.setBlendingEnabled(!0), e.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.BlendFactor.ONE_MINUS_SRC_ALPHA), e.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLE_STRIP, 0, 4), e.bindVAO();
  }
  _initialize(s, i, a) {
    this._width = i, this._height = a;
    const m = _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createVertex(s, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.STATIC_DRAW, new Int8Array([-1, -1, 0, 0, 1, -1, 1, 0, -1, 1, 0, 1, 1, 1, 1, 1]).buffer),
      c = new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(s, new Map([["a_position", 0], ["a_texcoord", 1]]), {
        geometry: [new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_7__.VertexElementDescriptor("a_position", 2, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.BYTE, 0, 4), new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_7__.VertexElementDescriptor("a_texcoord", 2, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_BYTE, 2, 4)]
      }, {
        geometry: m
      }),
      f = (0,_webgl_ProgramTemplate_js__WEBPACK_IMPORTED_MODULE_5__.createProgram)(s, _shaders_HighlightPrograms_js__WEBPACK_IMPORTED_MODULE_2__.highlight),
      b = (0,_webgl_ProgramTemplate_js__WEBPACK_IMPORTED_MODULE_5__.createProgram)(s, _shaders_HighlightPrograms_js__WEBPACK_IMPORTED_MODULE_2__.blur);
    s.useProgram(f), f.setUniform1i("u_texture", _definitions_js__WEBPACK_IMPORTED_MODULE_0__.textureBindingHighlight0), f.setUniform1i("u_shade", _definitions_js__WEBPACK_IMPORTED_MODULE_0__.textureBindingHighlight1), f.setUniform1f("u_sigma", _parameters_js__WEBPACK_IMPORTED_MODULE_1__.sigma), s.useProgram(b), b.setUniform1i("u_texture", _definitions_js__WEBPACK_IMPORTED_MODULE_0__.textureBindingHighlight0), b.setUniform1f("u_sigma", _parameters_js__WEBPACK_IMPORTED_MODULE_1__.sigma), this._resources = {
      quadGeometry: m,
      quadVAO: c,
      highlightProgram: f,
      blurProgram: b
    };
  }
  setup(r, e, s) {
    this._resources ? (this._width = e, this._height = s) : this._initialize(r, e, s);
  }
}


/***/ }),

/***/ 85853:
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/highlight/HighlightSurfaces.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../webgl/FramebufferObject.js */ 2512);
/* harmony import */ var _webgl_RenderbufferDescriptor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../webgl/RenderbufferDescriptor.js */ 4419);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




function i(i, h, u) {
  const l = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__.TextureDescriptor(h, u);
  return l.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.TextureWrapMode.CLAMP_TO_EDGE, new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_1__.FramebufferObject(i, l, new _webgl_RenderbufferDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.RenderbufferDescriptor(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.RenderbufferFormat.STENCIL_INDEX8, h, u));
}
class h {
  constructor() {
    this._width = void 0, this._height = void 0, this._resources = null;
  }
  dispose() {
    this._resources && (this._resources.sharedBlur1Fbo.dispose(), this._resources.sharedBlur2Fbo.dispose(), this._resources = null);
  }
  _initialize(r, e, s) {
    this._width = e, this._height = s;
    const t = i(r, e, s),
      o = i(r, e, s);
    this._resources = {
      sharedBlur1Fbo: t,
      sharedBlur2Fbo: o
    };
  }
  setup(r, e, s) {
    !this._resources || this._width === e && this._height === s || this.dispose(), this._resources || this._initialize(r, e, s);
  }
  get sharedBlur1Tex() {
    return this._resources.sharedBlur1Fbo.colorTexture;
  }
  get sharedBlur1Fbo() {
    return this._resources.sharedBlur1Fbo;
  }
  get sharedBlur2Tex() {
    return this._resources.sharedBlur2Fbo.colorTexture;
  }
  get sharedBlur2Fbo() {
    return this._resources.sharedBlur2Fbo;
  }
}


/***/ }),

/***/ 3354:
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/Bloom.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Bloom": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/maybe.js */ 53661);
/* harmony import */ var _VertexStream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../VertexStream.js */ 5692);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../webgl/FramebufferObject.js */ 2512);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





const a = 5,
  u = [1, 0],
  l = [0, 1],
  m = [1, .8, .6, .4, .2],
  _ = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1];
class h {
  constructor() {
    this._intensityFBO = null, this._compositeFBO = null, this._mipsFBOs = new Array(a), this._nMips = a, this._kernelSizeArray = [3, 5, 7, 9, 11], this._size = [0, 0], this._programDesc = {
      luminosityHighPass: {
        vsPath: "post-processing/pp",
        fsPath: "post-processing/bloom/luminosityHighPass",
        attributes: new Map([["a_position", 0]])
      },
      gaussianBlur: {
        vsPath: "post-processing/pp",
        fsPath: "post-processing/bloom/gaussianBlur",
        attributes: new Map([["a_position", 0]])
      },
      composite: {
        vsPath: "post-processing/pp",
        fsPath: "post-processing/bloom/composite",
        attributes: new Map([["a_position", 0]])
      },
      blit: {
        vsPath: "post-processing/pp",
        fsPath: "post-processing/blit",
        attributes: new Map([["a_position", 0]])
      }
    };
  }
  dispose() {
    if (this._quad = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._quad), this._intensityFBO = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._intensityFBO), this._compositeFBO = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._compositeFBO), this._mipsFBOs) {
      for (let t = 0; t < this._nMips; t++) this._mipsFBOs[t] && (this._mipsFBOs[t].horizontal.dispose(), this._mipsFBOs[t].vertical.dispose());
      this._mipsFBOs = null;
    }
  }
  draw(t, i, r) {
    const {
        width: o,
        height: n
      } = i,
      {
        context: h,
        painter: p
      } = t,
      {
        materialManager: c
      } = p,
      d = h.gl,
      f = this._programDesc,
      {
        strength: b,
        radius: F,
        threshold: O
      } = r;
    this._quad || (this._quad = new _VertexStream_js__WEBPACK_IMPORTED_MODULE_1__["default"](h, [-1, -1, 1, -1, -1, 1, 1, 1])), this._createOrResizeResources(t, o, n), h.setStencilTestEnabled(!1), h.setBlendingEnabled(!0), h.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.BlendFactor.ONE_MINUS_SRC_ALPHA), h.setStencilWriteMask(0);
    const B = this._quad;
    B.bind(), h.bindFramebuffer(this._intensityFBO);
    const g = c.getProgram(f.luminosityHighPass);
    h.useProgram(g), h.bindTexture(i.colorTexture, 0), g.setUniform1i("u_texture", 0), g.setUniform3fv("u_defaultColor", [0, 0, 0]), g.setUniform1f("u_defaultOpacity", 0), g.setUniform1f("u_luminosityThreshold", O), g.setUniform1f("u_smoothWidth", .01);
    const T = [Math.round(o / 2), Math.round(n / 2)];
    h.setViewport(0, 0, T[0], T[1]), h.setClearColor(0, 0, 0, 0), h.clear(d.COLOR_BUFFER_BIT), B.draw(), h.setBlendingEnabled(!1);
    let x = this._intensityFBO.colorTexture;
    for (let e = 0; e < this._nMips; e++) {
      const t = c.getProgram(f.gaussianBlur, [{
        name: "radius",
        value: this._kernelSizeArray[e]
      }]);
      h.useProgram(t), h.bindTexture(x, e + 1), t.setUniform1i("u_colorTexture", e + 1), t.setUniform2fv("u_texSize", T), t.setUniform2fv("u_direction", u), h.setViewport(0, 0, T[0], T[1]);
      const s = this._mipsFBOs[e];
      h.bindFramebuffer(s.horizontal), B.draw(), x = s.horizontal.colorTexture, h.bindFramebuffer(s.vertical), h.bindTexture(x, e + 1), t.setUniform2fv("u_direction", l), B.draw(), x = s.vertical.colorTexture, T[0] = Math.round(T[0] / 2), T[1] = Math.round(T[1] / 2);
    }
    h.setViewport(0, 0, o, n);
    const w = c.getProgram(f.composite, [{
      name: "nummips",
      value: a
    }]);
    h.bindFramebuffer(this._compositeFBO), h.useProgram(w), w.setUniform1f("u_bloomStrength", b), w.setUniform1f("u_bloomRadius", F), w.setUniform1fv("u_bloomFactors", m), w.setUniform3fv("u_bloomTintColors", _), h.bindTexture(this._mipsFBOs[0].vertical.colorTexture, 1), w.setUniform1i("u_blurTexture1", 1), h.bindTexture(this._mipsFBOs[1].vertical.colorTexture, 2), w.setUniform1i("u_blurTexture2", 2), h.bindTexture(this._mipsFBOs[2].vertical.colorTexture, 3), w.setUniform1i("u_blurTexture3", 3), h.bindTexture(this._mipsFBOs[3].vertical.colorTexture, 4), w.setUniform1i("u_blurTexture4", 4), h.bindTexture(this._mipsFBOs[4].vertical.colorTexture, 5), w.setUniform1i("u_blurTexture5", 5), B.draw(), h.bindFramebuffer(i), h.setBlendingEnabled(!0);
    const M = c.getProgram(f.blit);
    h.useProgram(M), h.bindTexture(this._compositeFBO.colorTexture, 6), M.setUniform1i("u_texture", 6), h.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.BlendFactor.ONE), B.draw(), B.unbind(), h.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.BlendFactor.ONE_MINUS_SRC_ALPHA), h.setStencilTestEnabled(!0);
  }
  _createOrResizeResources(t, e, s) {
    const {
      context: a
    } = t;
    if (this._compositeFBO && this._size[0] === e && this._size[1] === s) return;
    this._size[0] = e, this._size[1] = s;
    const u = [Math.round(e / 2), Math.round(s / 2)];
    if (this._compositeFBO) this._compositeFBO.resize(e, s);else {
      const t = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__.TextureDescriptor(e, s);
      t.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.RGBA, t.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.CLAMP_TO_EDGE, this._compositeFBO = new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_3__.FramebufferObject(a, t);
    }
    if (this._intensityFBO) this._intensityFBO.resize(u[0], u[1]);else {
      const t = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__.TextureDescriptor(u[0], u[1]);
      t.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.RGBA, t.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.CLAMP_TO_EDGE, this._intensityFBO = new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_3__.FramebufferObject(a, t);
    }
    for (let l = 0; l < this._nMips; l++) {
      if (this._mipsFBOs[l]) this._mipsFBOs[l].horizontal.resize(u[0], u[1]), this._mipsFBOs[l].vertical.resize(u[0], u[1]);else {
        const t = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__.TextureDescriptor(u[0], u[1]);
        t.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.RGBA, t.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.CLAMP_TO_EDGE, this._mipsFBOs[l] = {
          horizontal: new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_3__.FramebufferObject(a, t),
          vertical: new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_3__.FramebufferObject(a, t)
        };
      }
      u[0] = Math.round(u[0] / 2), u[1] = Math.round(u[1] / 2);
    }
  }
}


/***/ }),

/***/ 26389:
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/Blur.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Blur": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _VertexStream_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../VertexStream.js */ 5692);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../webgl/FramebufferObject.js */ 2512);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




const n = [1, 0],
  o = [0, 1];
class u {
  constructor() {
    this._blurFBO = null, this._size = [0, 0], this._programDesc = {
      gaussianBlur: {
        vsPath: "post-processing/pp",
        fsPath: "post-processing/blur/gaussianBlur",
        attributes: new Map([["a_position", 0]])
      },
      radialBlur: {
        vsPath: "post-processing/pp",
        fsPath: "post-processing/blur/radial-blur",
        attributes: new Map([["a_position", 0]])
      },
      blit: {
        vsPath: "post-processing/pp",
        fsPath: "post-processing/blit",
        attributes: new Map([["a_position", 0]])
      }
    };
  }
  dispose() {
    this._blurFBO && (this._blurFBO.dispose(), this._blurFBO = null);
  }
  draw(t, s, r) {
    const {
        context: i
      } = t,
      {
        type: a,
        radius: n
      } = r;
    if (0 === n) return;
    this._createOrResizeResources(t), this._quad || (this._quad = new _VertexStream_js__WEBPACK_IMPORTED_MODULE_0__["default"](i, [-1, -1, 1, -1, -1, 1, 1, 1]));
    const o = this._quad;
    o.bind(), "blur" === a ? this._gaussianBlur(t, s, n) : this._radialBlur(t, s), o.unbind();
  }
  _gaussianBlur(e, s, r) {
    const {
        context: i,
        state: a,
        painter: u,
        pixelRatio: l
      } = e,
      {
        size: d
      } = a,
      {
        materialManager: b
      } = u,
      c = this._programDesc,
      _ = this._quad,
      p = [Math.round(l * d[0]), Math.round(l * d[1])],
      h = this._blurFBO,
      m = b.getProgram(c.gaussianBlur, [{
        name: "radius",
        value: Math.ceil(r)
      }]);
    i.useProgram(m), i.setBlendingEnabled(!1), i.bindFramebuffer(h), i.bindTexture(s.colorTexture, 4), m.setUniform1i("u_colorTexture", 4), m.setUniform2fv("u_texSize", p), m.setUniform2fv("u_direction", n), m.setUniform1f("u_sigma", r), _.draw(), i.bindFramebuffer(s), i.setStencilWriteMask(0), i.setStencilTestEnabled(!1), i.setDepthWriteEnabled(!1), i.setDepthTestEnabled(!1), i.bindTexture(h?.colorTexture, 5), m.setUniform1i("u_colorTexture", 5), m.setUniform2fv("u_direction", o), _.draw(), i.setBlendingEnabled(!0), i.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.BlendFactor.ONE_MINUS_SRC_ALPHA), i.setStencilTestEnabled(!0);
  }
  _radialBlur(e, s) {
    const {
        context: r,
        painter: i
      } = e,
      {
        materialManager: a
      } = i,
      n = this._programDesc,
      o = this._quad,
      u = this._blurFBO;
    r.bindFramebuffer(u);
    const l = a.getProgram(n.radialBlur);
    r.useProgram(l), r.setBlendingEnabled(!1), r.bindTexture(s.colorTexture, 4), l.setUniform1i("u_colorTexture", 4), o.draw(), r.bindFramebuffer(s), r.setStencilWriteMask(0), r.setStencilTestEnabled(!1), r.setDepthWriteEnabled(!1), r.setDepthTestEnabled(!1), r.setBlendingEnabled(!0);
    const d = a.getProgram(n.blit);
    r.useProgram(d), r.bindTexture(u?.colorTexture, 5), d.setUniform1i("u_texture", 5), r.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.BlendFactor.ONE_MINUS_SRC_ALPHA), o.draw();
  }
  _createOrResizeResources(e) {
    const {
        context: t,
        state: n,
        pixelRatio: o
      } = e,
      {
        size: u
      } = n,
      l = Math.round(o * u[0]),
      d = Math.round(o * u[1]);
    if (!this._blurFBO || this._size[0] !== l || this._size[1] !== d) if (this._size[0] = l, this._size[1] = d, this._blurFBO) this._blurFBO.resize(l, d);else {
      const e = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__.TextureDescriptor(l, d);
      e.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA, e.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.CLAMP_TO_EDGE, this._blurFBO = new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_2__.FramebufferObject(t, e);
    }
  }
}


/***/ }),

/***/ 40834:
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/Colorize.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Colorize": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/maybe.js */ 53661);
/* harmony import */ var _VertexStream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../VertexStream.js */ 5692);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class n {
  constructor() {
    this._layerFBOTexture = null, this._size = [0, 0], this._programDesc = {
      vsPath: "post-processing/pp",
      fsPath: "post-processing/filterEffect",
      attributes: new Map([["a_position", 0]])
    };
  }
  dispose() {
    this._layerFBOTexture = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._layerFBOTexture);
  }
  draw(e, t, s) {
    const {
      width: i,
      height: o
    } = t;
    this._createOrResizeResources(e, i, o);
    const {
        context: a,
        painter: n
      } = e,
      {
        materialManager: c
      } = n,
      l = this._programDesc,
      u = this._quad,
      _ = s.colorMatrix;
    u.bind();
    const h = this._layerFBOTexture;
    a.bindFramebuffer(t), t.copyToTexture(0, 0, i, o, 0, 0, h), a.setBlendingEnabled(!1), a.setStencilTestEnabled(!1);
    const m = c.getProgram(l);
    a.useProgram(m), a.bindTexture(h, 2), m.setUniformMatrix4fv("u_coefficients", _), m.setUniform1i("u_colorTexture", 2), u.draw(), a.setBlendingEnabled(!0), a.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.BlendFactor.ONE_MINUS_SRC_ALPHA), a.setStencilTestEnabled(!0), u.unbind();
  }
  _createOrResizeResources(e, r, n) {
    const {
      context: c
    } = e;
    if (!this._layerFBOTexture || this._size[0] !== r || this._size[1] !== n) {
      if (this._size[0] = r, this._size[1] = n, this._layerFBOTexture) this._layerFBOTexture.resize(r, n);else {
        const e = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__.TextureDescriptor();
        e.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.RGBA, e.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.CLAMP_TO_EDGE, e.width = r, e.height = n, this._layerFBOTexture = new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__.Texture(c, e);
      }
      this._quad || (this._quad = new _VertexStream_js__WEBPACK_IMPORTED_MODULE_1__["default"](c, [-1, -1, 1, -1, -1, 1, 1, 1]));
    }
  }
}


/***/ }),

/***/ 82969:
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/DropShadow.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DropShadow": () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/maybe.js */ 53661);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/screenUtils.js */ 55798);
/* harmony import */ var _VertexStream_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../VertexStream.js */ 5692);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../webgl/FramebufferObject.js */ 2512);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







const u = [1, 0],
  h = [0, 1];
class _ {
  constructor() {
    this._layerFBOTexture = null, this._horizontalBlurFBO = null, this._verticalBlurFBO = null, this._size = [0, 0], this._quad = null, this._programDesc = {
      blur: {
        vsPath: "post-processing/pp",
        fsPath: "post-processing/blur/gaussianBlur",
        attributes: new Map([["a_position", 0]])
      },
      composite: {
        vsPath: "post-processing/pp",
        fsPath: "post-processing/drop-shadow/composite",
        attributes: new Map([["a_position", 0]])
      },
      blit: {
        vsPath: "post-processing/pp",
        fsPath: "post-processing/blit",
        attributes: new Map([["a_position", 0]])
      }
    };
  }
  dispose() {
    this._layerFBOTexture = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._layerFBOTexture), this._horizontalBlurFBO = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._horizontalBlurFBO), this._verticalBlurFBO = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._verticalBlurFBO);
  }
  draw(e, i, o) {
    const {
        context: a,
        state: n,
        painter: l
      } = e,
      {
        materialManager: _
      } = l,
      c = this._programDesc,
      p = i.width,
      m = i.height,
      f = [Math.round(p), Math.round(m)],
      {
        blurRadius: B,
        offsetX: d,
        offsetY: b,
        color: O
      } = o,
      F = [(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(d), (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(b)];
    this._createOrResizeResources(e, p, m, f);
    const w = this._horizontalBlurFBO,
      T = this._verticalBlurFBO;
    a.setStencilWriteMask(0), a.setStencilTestEnabled(!1), a.setDepthWriteEnabled(!1), a.setDepthTestEnabled(!1);
    const x = this._layerFBOTexture;
    i.copyToTexture(0, 0, p, m, 0, 0, x), this._quad || (this._quad = new _VertexStream_js__WEBPACK_IMPORTED_MODULE_2__["default"](a, [-1, -1, 1, -1, -1, 1, 1, 1])), a.setViewport(0, 0, f[0], f[1]);
    const g = this._quad;
    g.bind(), a.setBlendingEnabled(!1);
    const z = _.getProgram(c.blur, [{
      name: "radius",
      value: Math.ceil(B)
    }]);
    a.useProgram(z), a.bindFramebuffer(w), a.bindTexture(i.colorTexture, 4), z.setUniform1i("u_colorTexture", 4), z.setUniform2fv("u_texSize", f), z.setUniform2fv("u_direction", u), z.setUniform1f("u_sigma", B), g.draw(), a.bindFramebuffer(T), a.bindTexture(w?.colorTexture, 5), z.setUniform1i("u_colorTexture", 5), z.setUniform2fv("u_direction", h), g.draw(), a.bindFramebuffer(i), a.setViewport(0, 0, p, m);
    const M = _.getProgram(c.composite);
    a.useProgram(M), a.bindTexture(T?.colorTexture, 2), M.setUniform1i("u_blurTexture", 2), a.bindTexture(x, 3), M.setUniform1i("u_layerFBOTexture", 3), M.setUniform4fv("u_shadowColor", [O[3] * (O[0] / 255), O[3] * (O[1] / 255), O[3] * (O[2] / 255), O[3]]), M.setUniformMatrix3fv("u_displayViewMat3", n.displayMat3), M.setUniform2fv("u_shadowOffset", F), g.draw(), a.setBlendingEnabled(!0), a.setStencilTestEnabled(!0), a.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.BlendFactor.ONE_MINUS_SRC_ALPHA), g.unbind();
  }
  _createOrResizeResources(e, t, r, s) {
    const {
      context: u
    } = e;
    if (!this._horizontalBlurFBO || this._size[0] !== t || this._size[1] !== r) {
      if (this._size[0] = t, this._size[1] = r, this._horizontalBlurFBO) this._horizontalBlurFBO.resize(s[0], s[1]);else {
        const e = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__.TextureDescriptor(s[0], s[1]);
        e.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PixelFormat.RGBA, e.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureWrapMode.CLAMP_TO_EDGE, this._horizontalBlurFBO = new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_4__.FramebufferObject(u, e);
      }
      if (this._verticalBlurFBO) this._verticalBlurFBO.resize(s[0], s[1]);else {
        const e = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__.TextureDescriptor(s[0], s[1]);
        e.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PixelFormat.RGBA, e.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureWrapMode.CLAMP_TO_EDGE, this._verticalBlurFBO = new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_4__.FramebufferObject(u, e);
      }
      if (this._layerFBOTexture) this._layerFBOTexture.resize(t, r);else {
        const e = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__.TextureDescriptor();
        e.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PixelFormat.RGBA, e.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureWrapMode.CLAMP_TO_EDGE, e.width = t, e.height = r, this._layerFBOTexture = new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_5__.Texture(u, e);
      }
    }
  }
}


/***/ }),

/***/ 17530:
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/EffectManager.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectManager": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _Bloom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Bloom.js */ 3354);
/* harmony import */ var _Blur_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Blur.js */ 26389);
/* harmony import */ var _Colorize_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Colorize.js */ 40834);
/* harmony import */ var _DropShadow_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DropShadow.js */ 82969);
/* harmony import */ var _Opacity_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Opacity.js */ 4276);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





function c(o) {
  switch (o) {
    case "bloom":
    case "blur":
    case "opacity":
    case "drop-shadow":
      return o;
    default:
      return "colorize";
  }
}
const f = {
  colorize: () => new _Colorize_js__WEBPACK_IMPORTED_MODULE_2__.Colorize(),
  blur: () => new _Blur_js__WEBPACK_IMPORTED_MODULE_1__.Blur(),
  bloom: () => new _Bloom_js__WEBPACK_IMPORTED_MODULE_0__.Bloom(),
  opacity: () => new _Opacity_js__WEBPACK_IMPORTED_MODULE_4__.Opacity(),
  "drop-shadow": () => new _DropShadow_js__WEBPACK_IMPORTED_MODULE_3__.DropShadow()
};
class i {
  constructor() {
    this._effectMap = new Map();
  }
  dispose() {
    this._effectMap.forEach(o => o.dispose()), this._effectMap.clear();
  }
  getPostProcessingEffects(o) {
    if (!o || 0 === o.length) return [];
    const e = [];
    for (const t of o) {
      const o = c(t.type);
      let s = this._effectMap.get(o);
      s || (s = f[o](), this._effectMap.set(o, s)), e.push({
        postProcessingEffect: s,
        effect: t
      });
    }
    return e;
  }
}


/***/ }),

/***/ 4276:
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/Opacity.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Opacity": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/maybe.js */ 53661);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../webgl/TextureDescriptor.js */ 13229);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




class l {
  constructor() {
    this._size = [0, 0], this._layerFBOTexture = null;
  }
  dispose() {
    this._layerFBOTexture = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._layerFBOTexture);
  }
  draw(e, r, s) {
    const {
      width: i,
      height: o
    } = r;
    this._createOrResizeResources(e, i, o);
    const {
        context: l,
        painter: a
      } = e,
      {
        amount: n
      } = s,
      h = l.gl,
      u = this._layerFBOTexture;
    l.bindFramebuffer(r), r.copyToTexture(0, 0, i, o, 0, 0, u), l.setBlendingEnabled(!0), l.setStencilTestEnabled(!1), l.setDepthTestEnabled(!1), l.setClearColor(0, 0, 0, 0), l.clear(h.COLOR_BUFFER_BIT), a.blitTexture(l, u, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST, n);
  }
  _createOrResizeResources(e, l, a) {
    const {
      context: n
    } = e;
    if (!this._layerFBOTexture || this._size[0] !== l || this._size[1] !== a) if (this._size[0] = l, this._size[1] = a, this._layerFBOTexture) this._layerFBOTexture.resize(l, a);else {
      const e = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__.TextureDescriptor();
      e.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA, e.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.CLAMP_TO_EDGE, e.samplingMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST, e.width = l, e.height = a, this._layerFBOTexture = new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_2__.Texture(n, e);
    }
  }
}


/***/ }),

/***/ 19806:
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/painter/RenderPass.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ 20753);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../webgl/enums.js */ 69923);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class o {
  constructor(e, r) {
    this.brushes = e, this.name = r.name, this.drawPhase = r.drawPhase || _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP, this._targetFn = r.target, this.effects = r.effects || [], this.enableDefaultDraw = r.enableDefaultDraw ?? (() => !0), this.forceDrawByDisplayOrder = !!r.forceDrawByDisplayOrder;
  }
  render(e) {
    const {
        context: t,
        profiler: r
      } = e,
      s = this._targetFn(),
      n = this.drawPhase & e.drawPhase;
    if (r.recordPassStart(this.name), n) {
      this.enableDefaultDraw() && this._doRender(e, s), r.recordPassEnd();
      for (const r of this.effects) {
        if (!r.enable()) continue;
        const n = r.apply,
          o = r.args?.(),
          a = t.getViewport(),
          i = t.getBoundFramebufferObject(),
          f = e.passOptions;
        this._bindEffect(e, n, o), this._doRender(e, s, n.defines), this._drawAndUnbindEffect(e, n, a, i, f, o);
      }
    }
  }
  _doRender(e, t, o) {
    if (null == t) return;
    const {
      profiler: a,
      context: i
    } = e;
    if (this.forceDrawByDisplayOrder) {
      for (const r of this.brushes) {
        if (a.recordBrushStart(r.name), null != r.brushEffect) {
          const s = i.getViewport(),
            n = i.getBoundFramebufferObject(),
            a = e.passOptions;
          this._bindEffect(e, r.brushEffect), this._drawWithBrush(r, e, t, o), this._drawAndUnbindEffect(e, r.brushEffect, s, n, a);
        } else this._drawWithBrush(r, e, t, o);
        a.recordBrushEnd();
      }
      const f = t,
        c = e;
      c.attributeView.bindTextures(e.context);
      for (const e of f) {
        if (!e.visible) continue;
        e.commit(c), c.context.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.CompareFunction.EQUAL, e.stencilRef, 255);
        const t = e.getGeometry(_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.MARKER),
          a = e.getGeometry(_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.TEXT);
        if (t?.records && a?.records) {
          const n = new Map(),
            i = t.records.getCursor();
          for (; i.next();) n.set(i.id, [i.getDrawInfo(t, _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.MARKER)]);
          const f = a.records.getCursor();
          for (; f.next();) {
            const e = n.get(f.id),
              t = f.getDrawInfo(a, _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.TEXT);
            e ? e.push(t) : n.set(f.id, [t]);
          }
          const d = Array.from(n.entries()).sort(([e, t], [r, s]) => r - e);
          for (const [t, r] of d) for (const n of r) {
            const t = c.painter.getBrush(n.geometryType, _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLSymbologyType.DEFAULT);
            t.prepareState(c, o), t.drawGeometry(c, e, n, o);
          }
        } else if (t) {
          const n = c.painter.getBrush(_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.MARKER, _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLSymbologyType.DEFAULT);
          n.prepareState(c, o), t.forEachCommand(t => {
            n.drawGeometry(c, e, t, o);
          });
        } else if (a) {
          const t = c.painter.getBrush(_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.TEXT, _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLSymbologyType.DEFAULT);
          t.prepareState(c, o), a.forEachCommand(r => {
            t.drawGeometry(c, e, r, o);
          });
        }
      }
    } else for (const r of this.brushes) {
      if (a.recordBrushStart(r.name), null != r.brushEffect) {
        const s = i.getViewport(),
          n = i.getBoundFramebufferObject(),
          a = e.passOptions;
        this._bindEffect(e, r.brushEffect), this._drawWithBrush(r, e, t, o), this._drawAndUnbindEffect(e, r.brushEffect, s, n, a);
      } else this._drawWithBrush(r, e, t, o);
      a.recordBrushEnd();
    }
  }
  _drawWithBrush(t, r, s, n) {
    (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isArrayLike)(s) ? (t.prepareState(r, n), t.drawMany(r, s, n)) : s.visible && (t.prepareState(r, n), t.draw(r, s, n));
  }
  _bindEffect(e, t, r) {
    const {
      profiler: s
    } = e;
    s.recordPassStart(this.name + "." + t.name), t.bind(e, r);
    const n = t.createOptions(e, r);
    e.passOptions = n;
  }
  _drawAndUnbindEffect(e, t, r, s, n, o) {
    const {
      profiler: a,
      context: i
    } = e;
    e.passOptions = n, a.recordBrushStart(t.name), t.draw(e, o), t.unbind(e, o), i.bindFramebuffer(s);
    const {
      x: f,
      y: c,
      width: d,
      height: h
    } = r;
    i.setViewport(f, c, d, h), a.recordBrushEnd(), a.recordPassEnd();
  }
}


/***/ }),

/***/ 91574:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/magnifier/MagnifierView2D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../request.js */ 1897);
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ 11823);
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Handles.js */ 40070);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/mathUtils.js */ 93142);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/maybe.js */ 53661);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/urlUtils.js */ 55050);
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../chunks/mat3f32.js */ 40334);
/* harmony import */ var _engine_DisplayObject_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../engine/DisplayObject.js */ 99390);
/* harmony import */ var _engine_webgl_DefaultVertexAttributeLayouts_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../engine/webgl/DefaultVertexAttributeLayouts.js */ 9982);
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../engine/webgl/enums.js */ 20753);
/* harmony import */ var _engine_webgl_shaders_MagnifierPrograms_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../engine/webgl/shaders/MagnifierPrograms.js */ 59691);
/* harmony import */ var _magnifier_resources_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../magnifier/resources.js */ 66786);
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl/BufferObject.js */ 10615);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl/TextureDescriptor.js */ 13229);
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl/VertexArrayObject.js */ 19955);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


















class A extends _engine_DisplayObject_js__WEBPACK_IMPORTED_MODULE_9__.DisplayObject {
  constructor() {
    super(), this._handles = new _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__["default"](), this._resourcePixelRatio = 1, this.visible = !1;
  }
  destroy() {
    this._handles = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._handles), this._disposeRenderResources(), this._resourcesTask = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.abortMaybe)(this._resourcesTask);
  }
  get backgroundColor() {
    return this._backgroundColor;
  }
  set backgroundColor(e) {
    this._backgroundColor = e, this.requestRender();
  }
  get magnifier() {
    return this._magnifier;
  }
  set magnifier(e) {
    this._magnifier = e, this._handles.removeAll(), this._handles.add([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)(() => e.version, () => {
      this.visible = e.visible && null != e.position && e.size > 0, this.requestRender();
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)(() => [e.maskUrl, e.overlayUrl], () => this._reloadResources()), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)(() => e.size, () => {
      this._disposeRenderResources(), this.requestRender();
    })]);
  }
  _createTransforms() {
    return {
      dvs: (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_8__.c)()
    };
  }
  doRender(e) {
    const r = e.context;
    if (!this._resourcesTask) return void this._reloadResources();
    if (e.drawPhase !== _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.WGLDrawPhase.MAP || !this._canRender()) return;
    this._updateResources(e);
    const s = this._magnifier;
    if (null == s.position) return;
    const i = e.pixelRatio,
      o = s.size * i,
      a = 1 / s.factor,
      n = Math.ceil(a * o);
    this._readbackTexture.resize(n, n);
    const {
        size: l
      } = e.state,
      h = i * l[0],
      u = i * l[1],
      m = .5 * n,
      c = .5 * n,
      _ = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__.clamp)(i * s.position.x, m, h - m - 1),
      p = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__.clamp)(u - i * s.position.y, c, u - c - 1);
    r.setBlendingEnabled(!0);
    const f = _ - m,
      g = p - c,
      b = this._readbackTexture;
    r.bindTexture(b, 0), r.gl.copyTexImage2D(b.descriptor.target, 0, b.descriptor.pixelFormat, f, g, n, n, 0);
    const T = this.backgroundColor,
      y = T ? [T.a * T.r / 255, T.a * T.g / 255, T.a * T.b / 255, T.a] : [1, 1, 1, 1],
      k = (_ + s.offset.x * i) / h * 2 - 1,
      R = (p - s.offset.y * i) / u * 2 - 1,
      v = o / h * 2,
      j = o / u * 2,
      A = this._program;
    r.bindVAO(this._vertexArrayObject), r.bindTexture(this._overlayTexture, 6), r.bindTexture(this._maskTexture, 7), r.useProgram(A), A.setUniform4fv("u_background", y), A.setUniform1i("u_readbackTexture", 0), A.setUniform1i("u_overlayTexture", 6), A.setUniform1i("u_maskTexture", 7), A.setUniform4f("u_drawPos", k, R, v, j), A.setUniform1i("u_maskEnabled", s.maskEnabled ? 1 : 0), A.setUniform1i("u_overlayEnabled", s.overlayEnabled ? 1 : 0), r.setStencilTestEnabled(!1), r.setColorMask(!0, !0, !0, !0), r.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.PrimitiveType.TRIANGLE_STRIP, 0, 4), r.bindVAO();
  }
  _canRender() {
    return this.mask && this.overlay && null != this._magnifier;
  }
  _reloadResources() {
    var _this = this;
    this._resourcesTask && this._resourcesTask.abort();
    const s = null != this._magnifier ? this._magnifier.maskUrl : null,
      t = null != this._magnifier ? this._magnifier.overlayUrl : null;
    this._resourcesTask = (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.createTask)( /*#__PURE__*/function () {
      var _ref = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (r) {
        const i = null == s || null == t ? (0,_magnifier_resources_js__WEBPACK_IMPORTED_MODULE_13__.loadMagnifierResources)(r) : null,
          o = null != s ? (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(s, {
            responseType: "image",
            signal: r
          }).then(e => e.data) : i.then(e => e.mask),
          a = null != t ? (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(t, {
            responseType: "image",
            signal: r
          }).then(e => e.data) : i.then(e => e.overlay),
          [n, l] = yield Promise.all([o, a]);
        _this.mask = n, _this.overlay = l, _this._disposeRenderResources(), _this.requestRender();
      });
      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());
  }
  _disposeRenderResources() {
    this._readbackTexture = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.disposeMaybe)(this._readbackTexture), this._overlayTexture = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.disposeMaybe)(this._overlayTexture), this._maskTexture = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.disposeMaybe)(this._maskTexture), this._vertexArrayObject = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.disposeMaybe)(this._vertexArrayObject), this._program = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.disposeMaybe)(this._program);
  }
  _updateResources(e) {
    if (e.pixelRatio !== this._resourcePixelRatio && this._disposeRenderResources(), this._readbackTexture) return;
    const r = e.context;
    this._resourcePixelRatio = e.pixelRatio;
    const s = Math.ceil(this._magnifier.size * e.pixelRatio);
    this._program = (0,_engine_webgl_shaders_MagnifierPrograms_js__WEBPACK_IMPORTED_MODULE_12__.createMagnifierProgram)(r);
    const t = new Uint16Array([0, 1, 0, 0, 1, 1, 1, 0]),
      i = _engine_webgl_shaders_MagnifierPrograms_js__WEBPACK_IMPORTED_MODULE_12__.magnifierProgramTemplate.attributes;
    this._vertexArrayObject = new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_18__.VertexArrayObject(r, i, _engine_webgl_DefaultVertexAttributeLayouts_js__WEBPACK_IMPORTED_MODULE_10__.Pos2us, {
      geometry: _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_14__.BufferObject.createVertex(r, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.Usage.STATIC_DRAW, t)
    }), this.overlay.width = s, this.overlay.height = s;
    const o = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_17__.TextureDescriptor();
    o.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.PixelFormat.RGBA, o.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.TextureWrapMode.CLAMP_TO_EDGE, o.samplingMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.TextureSamplingMode.NEAREST, o.flipped = !0, o.preMultiplyAlpha = !(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__.isSVG)(this.overlay.src) || !e.context.driverTest.svgPremultipliesAlpha.result, this._overlayTexture = new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_16__.Texture(r, o, this.overlay), this.mask.width = s, this.mask.height = s, o.pixelFormat = o.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.PixelFormat.ALPHA, this._maskTexture = new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_16__.Texture(r, o, this.mask);
    const a = 1 / this._magnifier.factor;
    o.pixelFormat = o.internalFormat = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.PixelFormat.RGBA, o.width = o.height = Math.ceil(a * s), o.samplingMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.TextureSamplingMode.LINEAR, o.flipped = !1, this._readbackTexture = new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_16__.Texture(r, o);
  }
}


/***/ }),

/***/ 69342:
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/mapViewDeps.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GraphicContainer": () => (/* reexport safe */ _layers_graphics_GraphicContainer_js__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "GraphicsView2D": () => (/* reexport safe */ _layers_graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "LabelManager": () => (/* reexport safe */ _LabelManager_js__WEBPACK_IMPORTED_MODULE_1__.LabelManager),
/* harmony export */   "MagnifierView2D": () => (/* reexport safe */ _magnifier_MagnifierView2D_js__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   "MapViewNavigation": () => (/* reexport safe */ _navigation_MapViewNavigation_js__WEBPACK_IMPORTED_MODULE_4__["default"]),
/* harmony export */   "Stage": () => (/* reexport safe */ _engine_Stage_js__WEBPACK_IMPORTED_MODULE_0__.Stage)
/* harmony export */ });
/* harmony import */ var _engine_Stage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./engine/Stage.js */ 9089);
/* harmony import */ var _LabelManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LabelManager.js */ 6655);
/* harmony import */ var _layers_graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./layers/graphics/GraphicsView2D.js */ 86863);
/* harmony import */ var _layers_graphics_GraphicContainer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./layers/graphics/GraphicContainer.js */ 76179);
/* harmony import */ var _navigation_MapViewNavigation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./navigation/MapViewNavigation.js */ 50015);
/* harmony import */ var _magnifier_MagnifierView2D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./magnifier/MagnifierView2D.js */ 91574);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







/***/ }),

/***/ 66786:
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/magnifier/resources.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadMagnifierResources": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/promiseUtils.js */ 30801);
/* harmony import */ var _support_requestImageUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/requestImageUtils.js */ 78987);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


function s(_x) {
  return _s.apply(this, arguments);
}
function _s() {
  _s = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (s) {
    const r = __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_magnifier_mask-svg_js").then(__webpack_require__.bind(__webpack_require__, /*! ./mask-svg.js */ 67405)),
      i = __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_magnifier_overlay-svg_js").then(__webpack_require__.bind(__webpack_require__, /*! ./overlay-svg.js */ 29802)),
      o = (0,_support_requestImageUtils_js__WEBPACK_IMPORTED_MODULE_2__.requestImage)((yield r).default, {
        signal: s
      }),
      e = (0,_support_requestImageUtils_js__WEBPACK_IMPORTED_MODULE_2__.requestImage)((yield i).default, {
        signal: s
      }),
      m = {
        mask: yield o,
        overlay: yield e
      };
    return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(s), m;
  });
  return _s.apply(this, arguments);
}


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_views_2d_mapViewDeps_js.js.map