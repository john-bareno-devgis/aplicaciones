"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_portal_support_resourceUtils_js"],{

/***/ 90486:
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/resourceUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addOrUpdateResource": () => (/* binding */ s),
/* harmony export */   "contentToBlob": () => (/* binding */ p),
/* harmony export */   "fetchResources": () => (/* binding */ o),
/* harmony export */   "getSiblingOfSameType": () => (/* binding */ d),
/* harmony export */   "getSiblingOfSameTypeI": () => (/* binding */ m),
/* harmony export */   "removeAllResources": () => (/* binding */ l),
/* harmony export */   "removeResource": () => (/* binding */ n),
/* harmony export */   "splitPrefixFileNameAndExtension": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ 1897);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ 32995);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/urlUtils.js */ 55050);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



function o(_x) {
  return _o.apply(this, arguments);
}
function _o() {
  _o = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, t = {}, a) {
    yield e.load(a);
    const o = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.join)(e.itemUrl, "resources"),
      {
        start: s = 1,
        num: n = 10,
        sortOrder: l = "asc",
        sortField: u = "created"
      } = t,
      c = {
        query: {
          start: s,
          num: n,
          sortOrder: l,
          sortField: u,
          token: e.apiKey
        },
        signal: a?.signal
      },
      i = yield e.portal.request(o, c);
    return {
      total: i.total,
      nextStart: i.nextStart,
      resources: i.resources.map(({
        created: t,
        size: r,
        resource: a
      }) => ({
        created: new Date(t),
        size: r,
        resource: e.resourceFromPath(a)
      }))
    };
  });
  return _o.apply(this, arguments);
}
function s(_x2, _x3, _x4, _x5) {
  return _s.apply(this, arguments);
}
function _s() {
  _s = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, a, o, s) {
    if (!e.hasPath()) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`portal-item-resource-${a}:invalid-path`, "Resource does not have a valid path");
    const n = e.portalItem;
    yield n.load(s);
    const l = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.join)(n.userItemUrl, "add" === a ? "addResources" : "updateResources"),
      [c, i] = u(e.path),
      p = new FormData();
    return c && "." !== c && p.append("resourcesPrefix", c), null != s && s.compress && p.append("compress", "true"), p.append("fileName", i), p.append("file", o, i), p.append("f", "json"), s?.access && p.append("access", s.access), yield n.portal.request(l, {
      method: "post",
      body: p,
      signal: s?.signal
    }), e;
  });
  return _s.apply(this, arguments);
}
function n(_x6, _x7, _x8) {
  return _n.apply(this, arguments);
}
function _n() {
  _n = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, a, o) {
    if (!a.hasPath()) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("portal-item-resources-remove:invalid-path", "Resource does not have a valid path");
    yield e.load(o);
    const s = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.join)(e.userItemUrl, "removeResources");
    yield e.portal.request(s, {
      method: "post",
      query: {
        resource: a.path
      },
      signal: o?.signal
    }), a.portalItem = null;
  });
  return _n.apply(this, arguments);
}
function l(_x9, _x10) {
  return _l.apply(this, arguments);
}
function _l() {
  _l = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, t) {
    yield e.load(t);
    const a = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.join)(e.userItemUrl, "removeResources");
    return e.portal.request(a, {
      method: "post",
      query: {
        deleteAll: !0
      },
      signal: t?.signal
    });
  });
  return _l.apply(this, arguments);
}
function u(e) {
  const t = e.lastIndexOf("/");
  return -1 === t ? [".", e] : [e.slice(0, t), e.slice(t + 1)];
}
function c(e) {
  const [t, r] = i(e),
    [a, o] = u(t);
  return [a, o, r];
}
function i(e) {
  const t = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.getPathExtension)(e);
  return null == t ? [e, ""] : [e.slice(0, e.length - t.length - 1), `.${t}`];
}
function p(_x11) {
  return _p.apply(this, arguments);
}
function _p() {
  _p = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t) {
    if ("blob" === t.type) return t.blob;
    if ("json" === t.type) return new Blob([t.jsonString], {
      type: "application/json"
    });
    return (yield (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(t.url, {
      responseType: "blob"
    })).data;
  });
  return _p.apply(this, arguments);
}
function d(e, t) {
  if (!e.hasPath()) return null;
  const [a,, o] = c(e.path);
  return e.portalItem.resourceFromPath((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.join)(a, t + o));
}
function m(e, t) {
  if (!e.hasPath()) return null;
  const [a,, o] = c(e.path);
  return e.portalItem.resourceFromPath((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.join)(a, t + o));
}


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_portal_support_resourceUtils_js.js.map