"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_widgets_DirectLineMeasurement3D_js"],{

/***/ 11943:
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/analysis/DirectLineMeasurementAnalysis.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _Analysis_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Analysis.js */ 5403);
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/unitUtils.js */ 82769);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../geometry/Point.js */ 72062);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/









let n = class extends _Analysis_js__WEBPACK_IMPORTED_MODULE_1__["default"] {
  constructor(t) {
    super(t), this.type = "direct-line-measurement", this.startPoint = null, this.endPoint = null, this.unit = null;
  }
  get requiredPropertiesForEditing() {
    return [this.startPoint, this.endPoint];
  }
  clear() {
    this.startPoint = null, this.endPoint = null;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  type: ["direct-line-measurement"]
})], n.prototype, "type", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  type: _geometry_Point_js__WEBPACK_IMPORTED_MODULE_8__["default"]
})], n.prototype, "startPoint", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  type: _geometry_Point_js__WEBPACK_IMPORTED_MODULE_8__["default"]
})], n.prototype, "endPoint", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  type: _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__.measurementLengthUnits,
  value: null
})], n.prototype, "unit", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  readOnly: !0
})], n.prototype, "requiredPropertiesForEditing", null), n = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.analysis.DirectLineMeasurementAnalysis")], n);
const p = n;


/***/ }),

/***/ 91752:
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/interfaces.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ViewMode": () => (/* binding */ e),
/* harmony export */   "VisualElementOrientation": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e, o;
!function (e) {
  e[e.None = 0] = "None", e[e.Direct = 1] = "Direct", e[e.Triangle = 2] = "Triangle", e[e.ProjectedGeodesic = 3] = "ProjectedGeodesic";
}(e || (e = {})), function (e) {
  e[e.Auto = 0] = "Auto", e[e.AboveSegment = 1] = "AboveSegment", e[e.BelowSegment = 2] = "BelowSegment";
}(o || (o = {}));


/***/ }),

/***/ 91151:
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/interfaces.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MeasurementMode": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e;
!function (e) {
  e[e.Auto = 0] = "Auto", e[e.Euclidean = 1] = "Euclidean", e[e.Geodesic = 2] = "Geodesic";
}(e || (e = {}));


/***/ }),

/***/ 80202:
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ H)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry.js */ 6010);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ 53661);
/* harmony import */ var _core_memoize_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/memoize.js */ 59032);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/support/UpdatingHandles.js */ 58454);
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/hydratedFeatures.js */ 52570);
/* harmony import */ var _analysis_support_measurementUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../analysis/support/measurementUtils.js */ 662);
/* harmony import */ var _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../SnappingVisualizer3D.js */ 214);
/* harmony import */ var _editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../editingTools/dragEventPipeline3D.js */ 8369);
/* harmony import */ var _DirectLineMeasurement3DView_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./DirectLineMeasurement3DView.js */ 89199);
/* harmony import */ var _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../support/ElevationProvider.js */ 72603);
/* harmony import */ var _interactive_AnalysisToolBase_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../interactive/AnalysisToolBase.js */ 46905);
/* harmony import */ var _interactive_coordinateHelper_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../interactive/coordinateHelper.js */ 86944);
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ 39160);
/* harmony import */ var _interactive_editGeometry_EditGeometry_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../interactive/editGeometry/EditGeometry.js */ 53906);
/* harmony import */ var _interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../interactive/editGeometry/EditGeometryOperations.js */ 78350);
/* harmony import */ var _interactive_snapping_SceneSnappingManagerPool_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../interactive/snapping/SceneSnappingManagerPool.js */ 12633);
/* harmony import */ var _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../interactive/snapping/SnappingContext.js */ 99513);
/* harmony import */ var _interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../interactive/snapping/SnappingDragPipelineStep.js */ 44940);
/* harmony import */ var _interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../interactive/snapping/snappingUtils.js */ 72189);
/* harmony import */ var _support_screenUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../support/screenUtils.js */ 3011);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../../geometry/Point.js */ 72062);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




























let x = class extends _interactive_AnalysisToolBase_js__WEBPACK_IMPORTED_MODULE_17__.AnalysisToolBase {
  constructor(t) {
    super(t), this._updatingHandles = new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_10__.UpdatingHandles(), this._emulatedDrag = null, this.lineState = "initial", this.startPointSurfaceLocation = null, this.endPointSurfaceLocation = null, this.cursorPointSurfaceLocation = null, this.startManipulator = null, this.endManipulator = null, this.cursorManipulator = null, this._getSnappingContext = (0,_core_memoize_js__WEBPACK_IMPORTED_MODULE_3__.memoize)(t => new _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_23__.SnappingContext({
      elevationInfo: {
        mode: "absolute-height",
        offset: 0
      },
      pointer: t,
      editGeometryOperations: new _interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_21__.EditGeometryOperations(new _interactive_editGeometry_EditGeometry_js__WEBPACK_IMPORTED_MODULE_20__.EditGeometry("point", (0,_interactive_coordinateHelper_js__WEBPACK_IMPORTED_MODULE_18__.createCoordinateHelper)(!0, !1, this.view.spatialReference))),
      visualizer: new _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_13__.SnappingVisualizer3D()
    }));
  }
  initialize() {
    const {
      view: t,
      analysis: e,
      analysisViewData: i,
      visible: s
    } = this;
    this.measurementView = new _DirectLineMeasurement3DView_js__WEBPACK_IMPORTED_MODULE_15__.DirectLineMeasurement3DView({
      toolState: this,
      view: t,
      analysis: e,
      analysisViewData: i,
      visible: s
    });
    const r = (0,_interactive_snapping_SceneSnappingManagerPool_js__WEBPACK_IMPORTED_MODULE_22__.acquire)(t);
    this._snappingManagerResult = r, this.addHandles(r);
    const {
        start: o,
        end: u,
        cursor: p
      } = this.measurementView.createManipulators(),
      c = (t, e, i) => (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_19__.createManipulatorDragEventPipeline)(t, (t, n, a, s) => {
        const r = (0,_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_14__.hideManipulatorWhileDragging)(t),
          o = this._snappingManager,
          u = this._getSnappingContext(s),
          p = this._updatingHandles,
          {
            lineState: c
          } = this;
        a = a.next(r).next((0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_19__.resetProperties)(this, [i, e])).next(i => {
          if ("cursorPoint" !== e) {
            const i = this.analysis[e];
            null != i && (t.location = i);
          }
          return i;
        });
        const m = (0,_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_14__.screenToMap3D)(this.view),
          g = t => {
            const n = m(t);
            return n || "drawing" !== this.lineState && "initial" !== this.lineState || (this[e] = null, this[i] = null), n;
          };
        let v = n.next(r).next(g);
        if ("touch" !== s || "editing" === c) {
          const {
            snappingStep: t,
            cancelSnapping: e
          } = (0,_interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_24__.createSnapDragEventPipelineStep)({
            snappingManager: o,
            snappingContext: u,
            updatingHandles: p
          });
          a = a.next(e), v = v.next(...t);
        }
        v.next(t => "start" !== t.action ? t : null).next(n => {
          const a = (0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_11__.clonePoint)(n.mapEnd, new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]());
          this[e] = a, t.location = a, this[i] = this._surfaceLocation(a, n.surfaceType);
        });
      }),
      g = t => t.events.on("grab-changed", () => {
        const t = o.grabbing || u.grabbing;
        this.lineState = t ? "editing" : "measured";
      });
    this.addHandles([c(o, "startPoint", "startPointSurfaceLocation"), c(u, "endPoint", "endPointSurfaceLocation"), c(p, "cursorPoint", "cursorPointSurfaceLocation"), g(o), g(u)]), this.manipulators.add(o), this.manipulators.add(u), this.manipulators.add(p), this.startManipulator = o, this.endManipulator = u, this.cursorManipulator = p, this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)(() => this.state, t => {
      "measured" === t && this.finishToolCreation();
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.syncAndInitial)), (0,_interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_25__.setupSnappingToggleHandles)(this);
  }
  destroy() {
    this._updatingHandles = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this._updatingHandles), this.measurementView = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.measurementView);
  }
  get _snappingManager() {
    return this._snappingManagerResult.snappingManager;
  }
  get state() {
    const {
      analysis: t
    } = this;
    if (null == t.startPoint && null == t.endPoint) return "ready";
    const {
      lineState: e
    } = this;
    return this.validMeasurement && "editing" !== e && "drawing" !== e ? "measured" : "measuring";
  }
  get cursor() {
    return "ready" === this.state || "drawing" === this.lineState ? "crosshair" : null;
  }
  get startPoint() {
    return this.analysis.startPoint;
  }
  set startPoint(t) {
    this.analysis.startPoint = t;
  }
  get endPoint() {
    return this.analysis.endPoint;
  }
  set endPoint(t) {
    this.analysis.endPoint = t;
  }
  get cursorPoint() {
    return this.measurementView.cursorPoint;
  }
  set cursorPoint(t) {
    this.measurementView.cursorPoint = t;
  }
  get snappingOptions() {
    return this._snappingManager.options;
  }
  get validMeasurement() {
    return null != this.analysis.startPoint && null != this.analysis.endPoint;
  }
  get updating() {
    return this._updatingHandles.updating || this._snappingManager.updating;
  }
  onShow() {
    this.measurementView.show(), this._updateManipulatorAvailability();
  }
  onHide() {
    this.measurementView.hide();
  }
  onDeactivate() {
    this._emulatedDrag?.cancel(), this._emulatedDrag = null;
  }
  onInputEvent(t) {
    switch (t.type) {
      case "immediate-click":
        this._handleImmediateClick(t);
        break;
      case "pointer-move":
        this._handlePointerMove(t);
    }
    this._updateManipulatorAvailability();
  }
  _handlePointerMove(t) {
    if (!this.active || this.view.navigating) return;
    const {
      pointerType: e
    } = t;
    if ("mouse" !== e) return;
    const i = (0,_support_screenUtils_js__WEBPACK_IMPORTED_MODULE_26__.createScreenPointFromEvent)(t),
      {
        lineState: n,
        cursorManipulator: a,
        endManipulator: s
      } = this;
    let r = !1;
    null == this.cursorPoint && (this._emulatedDrag?.cancel(), this._emulatedDrag = V(a, e, i), r = !0), "initial" === n && (this._emulatedDrag?.update(i), r = !0), "drawing" === n && (s.events.emit("drag", {
      action: "update",
      start: i,
      screenPoint: i
    }), r = !0), r && t.stopPropagation();
  }
  _handleImmediateClick(t) {
    if (!this.active) return;
    if (!(0,_analysis_support_measurementUtils_js__WEBPACK_IMPORTED_MODULE_12__.isPrimaryPointerAction)(t)) return;
    const e = (0,_support_screenUtils_js__WEBPACK_IMPORTED_MODULE_26__.createScreenPointFromEvent)(t),
      {
        pointerType: i
      } = t,
      {
        cursorManipulator: n,
        startManipulator: a,
        endManipulator: s,
        lineState: r
      } = this;
    let o = !1;
    switch (null == this.cursorPoint && (this._emulatedDrag?.cancel(), this._emulatedDrag = V(n, i, e)), r) {
      case "initial":
        if (this._emulatedDrag?.update(e), null != this.cursorPoint) {
          this._emulatedDrag?.end(e), this._emulatedDrag = null;
          const {
            cursorPoint: t
          } = this;
          this.startPoint = t, this.startPointSurfaceLocation = this.cursorPointSurfaceLocation, a.location = t, a.interactive = !1, s.interactive = !1, this.lineState = "drawing", this._emulatedDrag = V(s, i, e), o = !0;
        }
        break;
      case "drawing":
        this._emulatedDrag?.update(e), null != this.endPoint && (this._emulatedDrag?.end(e), this._emulatedDrag = null, a.interactive = !0, s.interactive = !0, this.lineState = "measured", o = !0);
    }
    o && t.stopPropagation();
  }
  _surfaceLocation(t, e) {
    return e === _editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_14__.SurfaceType.GROUND ? "on-the-surface" : (t.z ?? 0) >= this._getElevation(t) ? "above-the-surface" : "below-the-surface";
  }
  _updateManipulatorAvailability() {
    this.startManipulator.available = null != this.analysis.startPoint, this.endManipulator.available = null != this.analysis.endPoint;
  }
  _getElevation(t) {
    return this.view.basemapTerrain.ready ? (0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_16__.getElevationAtPoint)(this.view.elevationProvider, t) ?? 0 : 0;
  }
  get test() {
    return {
      snappingManager: this._snappingManager
    };
  }
};
function V(t, e, i) {
  return t.events.emit("drag", {
    action: "start",
    pointerType: e,
    start: i,
    screenPoint: i
  }), {
    update: e => t.events.emit("drag", {
      action: "update",
      start: e,
      screenPoint: e
    }),
    end: e => t.events.emit("drag", {
      action: "end",
      start: e,
      screenPoint: e
    }),
    cancel: () => t.events.emit("drag", {
      action: "cancel"
    })
  };
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  readOnly: !0
})], x.prototype, "state", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], x.prototype, "lineState", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  readOnly: !0
})], x.prototype, "cursor", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], x.prototype, "startPoint", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], x.prototype, "endPoint", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], x.prototype, "cursorPoint", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  constructOnly: !0
})], x.prototype, "analysis", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  constructOnly: !0
})], x.prototype, "analysisViewData", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], x.prototype, "measurementView", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  constructOnly: !0
})], x.prototype, "view", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  readOnly: !0
})], x.prototype, "validMeasurement", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  value: null
})], x.prototype, "startPointSurfaceLocation", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  value: null
})], x.prototype, "endPointSurfaceLocation", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({
  value: null
})], x.prototype, "cursorPointSurfaceLocation", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()], x.prototype, "updating", null), x = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DTool")], x);
const H = x;


/***/ }),

/***/ 89199:
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DView.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DirectLineMeasurement3DView": () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../Color.js */ 25764);
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ 2299);
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/colorUtils.js */ 44660);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ 53661);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../geometry/support/lineSegment.js */ 19511);
/* harmony import */ var _analysis_interfaces_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../analysis/interfaces.js */ 91151);
/* harmony import */ var _analysis_DirectLineMeasurement_interfaces_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../analysis/DirectLineMeasurement/interfaces.js */ 91752);
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../Manipulator3D.js */ 84983);
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../manipulatorUtils.js */ 75787);
/* harmony import */ var _RenderObject_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../RenderObject.js */ 37716);
/* harmony import */ var _visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../visualElements/LaserlineVisualElement.js */ 6804);
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../webgl-engine/lib/GeometryUtil.js */ 25426);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/




















var L;
!function (e) {
  e.Manipulators = "manipulators", e.AnalysisViewDestroyed = "analysis-view-destroyed", e.AnalysisView = "analysis-view";
}(L || (L = {}));
let P = class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"] {
  constructor(e) {
    super(e), this.cursorPoint = null, this._visible = !1, this._laserLine = null, this.laserLineEnabled = !0, this._lastDraggedHandle = null;
  }
  initialize() {
    this._laserLine = new _visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_18__.LaserlineVisualElement({
      view: this.view,
      attached: !0,
      isDecoration: !0
    }), this._updateVisibility(this._visible), this._connectToAnalysisView(), this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)(() => this._params, ({
      laserLineGlowColor: e,
      laserLineInnerColor: t,
      laserLineGlobalAlpha: i
    }) => {
      const s = this._laserLine,
        n = s.style;
      s.style = {
        ...n,
        innerColor: t,
        glowColor: e,
        globalAlpha: i
      };
    }));
  }
  destroy() {
    this._laserLine = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._laserLine);
  }
  get _params() {
    const {
      accentColor: e
    } = this.view.effectiveTheme;
    return {
      laserLineGlowColor: _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGB(e),
      laserLineGlowWidth: 8,
      laserLineGlowFalloff: 8,
      laserLineInnerColor: _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGB((0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.getContrast)(e)),
      laserLineInnerWidth: .75,
      laserLineGlobalAlpha: .75 * e.a,
      handleColor: (0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.multiplyOpacityToUnitRGBA)(e, .5),
      handleRadius: 5
    };
  }
  get visible() {
    return this._visible;
  }
  set visible(e) {
    e ? this.show() : this.hide();
  }
  get testData() {
    const e = this._laserLine.testData,
      t = this.analysisViewData.testData;
    return {
      labels: t?.labels,
      stripeLength: t?.stripeLength,
      laserLineRenderer: {
        heightManifoldEnabled: null != e && e.heightManifoldEnabled,
        heightManifoldTarget: null != e ? e.heightManifoldTarget : null,
        pointDistanceEnabled: null != e && e.pointDistanceEnabled,
        pointDistanceOrigin: null != e ? e.pointDistanceOrigin : null,
        pointDistanceTarget: null != e ? e.pointDistanceTarget : null,
        lineVerticalPlaneEnabled: null != e && e.lineVerticalPlaneEnabled
      }
    };
  }
  get _cursorPosition() {
    const e = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)(),
      t = this.cursorPoint;
    return t && this.view.renderCoordsHelper.toRenderCoords(t, e), e;
  }
  get _startPosition() {
    const e = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)(),
      t = this.analysis.startPoint;
    return t && this.view.renderCoordsHelper.toRenderCoords(t, e), e;
  }
  get _endPosition() {
    const e = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)(),
      t = this.analysis.endPoint;
    return t && this.view.renderCoordsHelper.toRenderCoords(t, e), e;
  }
  get _laserLineParams() {
    const e = this._focusPosition,
      {
        active: t,
        lineState: i
      } = this.toolState,
      s = this.analysisViewData,
      n = this.laserLineEnabled && !!e && "measured" !== i && t;
    if (!n || !this.visible || null == s || s.destroyed) return {
      heightManifoldTarget: null,
      pointDistanceLine: null,
      lineVerticalPlaneSegment: null
    };
    const a = s.actualVisualizedMeasurement,
      o = "local" !== this.view.viewingMode && n && !!this.analysis.startPoint && "geodesic" === a,
      r = n && s.viewMode === _analysis_DirectLineMeasurement_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.ViewMode.Triangle;
    return {
      heightManifoldTarget: "euclidean" === a ? e : null,
      pointDistanceLine: o ? this._pointDistanceLine : null,
      lineVerticalPlaneSegment: r ? (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_12__.fromPoints)(this._startPosition, this._endPosition) : null
    };
  }
  get _focusPosition() {
    const {
        lineState: e
      } = this.toolState,
      t = this.analysisViewData,
      i = null != t && !t.destroyed && t.measurementMode === _analysis_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.MeasurementMode.Euclidean && t.viewMode === _analysis_DirectLineMeasurement_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.ViewMode.Direct;
    switch (e) {
      case "drawing":
        return i ? this._startPosition : this.analysis.endPoint ? this._endPosition : this._startPosition;
      case "editing":
        return i ? "start" === this._lastDraggedHandle ? this._endPosition : this._startPosition : "start" === this._lastDraggedHandle ? this._startPosition : this._endPosition;
      default:
        return null != this.cursorPoint ? this._cursorPosition : null;
    }
  }
  get _pointDistanceLine() {
    return {
      origin: "drawing" === this.toolState.lineState || "end" === this._lastDraggedHandle ? this._startPosition : this._endPosition,
      target: this._focusPosition
    };
  }
  createManipulators() {
    const e = this._params,
      {
        view: t
      } = this,
      i = () => {
        const i = (0,_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_16__.createManipulatorMaterial)(e.handleColor),
          s = [new _RenderObject_js__WEBPACK_IMPORTED_MODULE_17__.RenderObject((0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_19__.createSphereGeometry)(i, 1, 32, 32))],
          n = new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_15__.Manipulator3D({
            view: t,
            renderObjects: s
          });
        return n.available = !1, n.radius = e.handleRadius, [n, i];
      },
      [s, n] = i(),
      [r, d] = i(),
      h = new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_15__.Manipulator3D({
        view: this.view
      });
    h.available = !1, h.interactive = !1, null != this.analysis.startPoint && (s.location = this.analysis.startPoint, s.available = !0), null != this.analysis.endPoint && (r.location = this.analysis.endPoint, r.available = !0);
    const c = () => {
        let e = this._lastDraggedHandle;
        s.grabbing && !r.grabbing && (e = "start"), r.grabbing && !s.grabbing && (e = "end"), s.grabbing || r.grabbing || (e = null), this._lastDraggedHandle = e;
      },
      p = s.events.on("grab-changed", c),
      u = r.events.on("grab-changed", c);
    return this.addHandles([p, u, (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)(() => (0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.colorVectorToColorAndOpacity)(this._params.handleColor), e => {
      n.setParameters({
        color: e
      }), d.setParameters({
        color: e
      });
    }, {
      equals: _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.colorVectorEquals
    })], L.Manipulators), {
      start: s,
      end: r,
      cursor: h
    };
  }
  show() {
    this.destroyed || this._visible || this._updateVisibility(!0);
  }
  hide() {
    !this.destroyed && this._visible && this._updateVisibility(!1);
  }
  _connectToAnalysisView() {
    this.removeHandles(L.AnalysisView), this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)(() => this.analysisViewData?.destroyed, e => {
      e && this.removeHandles(L.AnalysisView);
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)(() => ["measured" === this.toolState.lineState, this.analysisViewData], ([e, t]) => {
      null == t || t.destroyed || (t.allowVisualElementsOrientationChange = !e);
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)(() => this._laserLineParams, e => {
      const t = this._laserLine;
      t.heightManifoldTarget = e.heightManifoldTarget, t.pointDistanceLine = e.pointDistanceLine, t.lineVerticalPlaneSegment = e.lineVerticalPlaneSegment;
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial)], L.AnalysisView);
  }
  _updateVisibility(e) {
    this.initialized && (this._visible = e, e ? this._laserLine.style = {
      innerColor: this._params.laserLineInnerColor,
      innerWidth: this._params.laserLineInnerWidth,
      glowColor: this._params.laserLineGlowColor,
      glowWidth: this._params.laserLineGlowWidth,
      glowFalloff: this._params.laserLineGlowFalloff,
      globalAlpha: this._params.laserLineGlobalAlpha
    } : this.view.cursor = null, this._laserLine.visible = e);
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  constructOnly: !0
})], P.prototype, "view", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_params", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  constructOnly: !0
})], P.prototype, "analysis", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  constructOnly: !0
})], P.prototype, "analysisViewData", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "cursorPoint", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "toolState", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "visible", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "testData", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_visible", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_laserLine", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({
  constructOnly: !0
})], P.prototype, "laserLineEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_cursorPosition", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_startPosition", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_endPosition", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_lastDraggedHandle", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_laserLineParams", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_focusPosition", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], P.prototype, "_pointDistanceLine", null), P = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DView")], P);


/***/ }),

/***/ 87270:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/DirectLineMeasurement3D.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Widget.js */ 45360);
/* harmony import */ var _DirectLineMeasurement3D_DirectLineMeasurement3DViewModel_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DirectLineMeasurement3D/DirectLineMeasurement3DViewModel.js */ 46736);
/* harmony import */ var _support_globalCss_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./support/globalCss.js */ 71185);
/* harmony import */ var _support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/legacyIcon.js */ 90914);
/* harmony import */ var _support_MeasurementWidgetContent_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./support/MeasurementWidgetContent.js */ 11758);
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/widgetUtils.js */ 90951);
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/decorators/messageBundle.js */ 10432);
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/jsxFactory.js */ 22609);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/















const m = "esri-direct-line-measurement-3d",
  c = {
    base: m,
    newMeasurementButton: `${m}__clear-button`,
    widgetIcon: _support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_10__.legacyIcon.measureLine
  };
let d = class extends _Widget_js__WEBPACK_IMPORTED_MODULE_7__["default"] {
  constructor(e, t) {
    super(e, t), this.iconClass = c.widgetIcon, this.icon = null, this.messages = null, this.messagesCommon = null, this.viewModel = new _DirectLineMeasurement3D_DirectLineMeasurement3DViewModel_js__WEBPACK_IMPORTED_MODULE_8__["default"]();
  }
  get view() {
    return this.viewModel.view;
  }
  set view(e) {
    this.viewModel.view = e;
  }
  get visible() {
    return this.viewModel.visible;
  }
  set visible(e) {
    this.viewModel.visible = e;
  }
  get active() {
    return this.viewModel.active;
  }
  get analysis() {
    return this.viewModel.analysis;
  }
  set analysis(e) {
    this.viewModel.analysis = e;
  }
  get label() {
    return this.messages?.widgetLabel ?? "";
  }
  set label(e) {
    this._overrideIfSome("label", e);
  }
  get unitOptions() {
    return this.viewModel.unitOptions;
  }
  set unitOptions(e) {
    this.viewModel.unitOptions = e;
  }
  get unit() {
    return this.viewModel.unit;
  }
  set unit(e) {
    this.viewModel.unit = e;
  }
  render() {
    const {
        messages: e,
        messagesCommon: s,
        unit: i,
        unitOptions: o,
        viewModel: r
      } = this,
      {
        active: l,
        measurement: p,
        state: m,
        supported: d
      } = r;
    return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_14__.tsx)("div", {
      "aria-label": this.messages.widgetLabel,
      class: this.classes(c.base, _support_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.globalCss.widget, _support_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.globalCss.panel),
      key: this,
      role: "presentation"
    }, this.visible ? (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_14__.tsx)(_support_MeasurementWidgetContent_js__WEBPACK_IMPORTED_MODULE_11__.MeasurementWidgetContent, {
      active: l,
      measurementItems: [{
        key: "direct",
        title: e.direct,
        value: v(p?.directDistance)
      }, {
        key: "horizontal",
        title: e.horizontal,
        value: v(p?.horizontalDistance)
      }, {
        key: "vertical",
        title: e.vertical,
        value: v(p?.verticalDistance)
      }],
      messages: {
        ...e,
        notApplicable: s?.notApplicable
      },
      newMeasurementButtonClass: c.newMeasurementButton,
      state: m,
      supported: d,
      unit: i,
      unitOptions: o,
      onNewMeasurementClick: () => {
        (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.ignoreAbortErrors)(this.viewModel.start());
      },
      onUnitChange: e => {
        this.unit = e;
      }
    }) : null);
  }
};
function v(e) {
  return "available" === e?.state ? e.text : null;
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()], d.prototype, "view", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()], d.prototype, "visible", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()], d.prototype, "active", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  constructOnly: !0,
  nonNullable: !0
})], d.prototype, "analysis", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()], d.prototype, "iconClass", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()], d.prototype, "icon", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()], d.prototype, "label", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)(), (0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_13__.messageBundle)("esri/widgets/DirectLineMeasurement3D/t9n/DirectLineMeasurement3D")], d.prototype, "messages", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)(), (0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_13__.messageBundle)("esri/t9n/common")], d.prototype, "messagesCommon", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()], d.prototype, "uiStrings", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: _DirectLineMeasurement3D_DirectLineMeasurement3DViewModel_js__WEBPACK_IMPORTED_MODULE_8__["default"]
})], d.prototype, "viewModel", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()], d.prototype, "unitOptions", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()], d.prototype, "unit", null), d = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.widgets.DirectLineMeasurement3D")], d);
const w = d;


/***/ }),

/***/ 46736:
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/DirectLineMeasurement3D/DirectLineMeasurement3DViewModel.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _analysis_DirectLineMeasurementAnalysis_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../analysis/DirectLineMeasurementAnalysis.js */ 11943);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/unitUtils.js */ 82769);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _properties_defaultUnit_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../properties/defaultUnit.js */ 93522);
/* harmony import */ var _views_3d_interactive_measurementTools_directLineMeasurement3D_DirectLineMeasurement3DTool_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js */ 80202);
/* harmony import */ var _support_InteractiveAnalysisViewModel_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../support/InteractiveAnalysisViewModel.js */ 59254);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/












let c = class extends _support_InteractiveAnalysisViewModel_js__WEBPACK_IMPORTED_MODULE_11__.InteractiveAnalysisViewModel {
  constructor(t) {
    super(t), this.analysis = null, this.supportedViewType = "3d", this.unsupportedErrorMessage = "DirectLineMeasurement3DViewModel is only supported in 3D views.", this._userUnit = null, this._userUnitOptions = null;
  }
  initialize() {
    this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)(() => ({
      analysis: this.analysis,
      unit: this.unit
    }), ({
      analysis: t,
      unit: e
    }) => {
      null != t && (t.unit = e);
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.syncAndInitial));
  }
  get state() {
    return this.disabled || !this.ready ? "disabled" : null == this.tool ? "ready" : this.tool.state;
  }
  get measurement() {
    if (null == this.tool) return null;
    const t = {
        mode: "euclidean",
        directDistance: {
          text: null,
          state: "unavailable"
        },
        horizontalDistance: {
          text: null,
          state: "unavailable"
        },
        verticalDistance: {
          text: null,
          state: "unavailable"
        }
      },
      {
        analysisViewData: e
      } = this.tool;
    if (null == e) return t;
    const i = e.actualVisualizedMeasurement,
      s = null != e.result ? "available" : "unavailable";
    switch (i) {
      case "euclidean":
        return {
          mode: "euclidean",
          directDistance: {
            text: e.directLabelText,
            state: s
          },
          horizontalDistance: {
            text: e.horizontalLabelText,
            state: s
          },
          verticalDistance: {
            text: e.verticalLabelText,
            state: s
          }
        };
      case "geodesic":
        return {
          mode: "geodesic",
          directDistance: {
            text: null,
            state: "unavailable"
          },
          horizontalDistance: {
            text: e.horizontalLabelText,
            state: s
          },
          verticalDistance: {
            text: e.verticalLabelText,
            state: s
          }
        };
      default:
        return t;
    }
  }
  set unitOptions(t) {
    this._userUnitOptions = t, this._set("unitOptions", this._filteredOrAllUnits(this._userUnitOptions));
  }
  get unitOptions() {
    return this._filteredOrAllUnits(this._userUnitOptions);
  }
  set unit(t) {
    this._userUnit = t ? this._findSelectableUnit(t, this._userUnit) : null;
  }
  get unit() {
    return this._userUnit ? (this._userUnit = this._findSelectableUnit(this._userUnit, this.defaultUnit), this._userUnit) : this._findSelectableUnit(this.defaultUnit);
  }
  constructAnalysis() {
    return new _analysis_DirectLineMeasurementAnalysis_js__WEBPACK_IMPORTED_MODULE_1__["default"]();
  }
  constructTool() {
    return new _views_3d_interactive_measurementTools_directLineMeasurement3D_DirectLineMeasurement3DTool_js__WEBPACK_IMPORTED_MODULE_10__["default"]({
      view: this.view,
      analysis: this.analysis,
      analysisViewData: this.analysisView,
      visible: this.visible
    });
  }
  _findSelectableUnit(t, e) {
    const i = this.unitOptions;
    return i.includes(t) ? t : e ? this._findSelectableUnit(e) : i[0];
  }
  _filteredOrAllUnits(t) {
    if (!t) return _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.measurementLengthUnits.slice();
    const e = t.filter(t => _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.measurementLengthUnits.includes(t));
    return 0 === e.length ? _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.measurementLengthUnits.slice() : e;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({
  type: _analysis_DirectLineMeasurementAnalysis_js__WEBPACK_IMPORTED_MODULE_1__["default"]
})], c.prototype, "analysis", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({
  readOnly: !0
})], c.prototype, "state", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({
  readOnly: !0
})], c.prototype, "measurement", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()], c.prototype, "unitOptions", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()], c.prototype, "unit", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(_properties_defaultUnit_js__WEBPACK_IMPORTED_MODULE_9__.defaultUnitPropertyMetadata)], c.prototype, "defaultUnit", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()], c.prototype, "_userUnit", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()], c.prototype, "_userUnitOptions", void 0), c = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.DirectLineMeasurement3D.DirectLineMeasurement3DViewModel")], c);
const p = c;


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_widgets_DirectLineMeasurement3D_js.js.map