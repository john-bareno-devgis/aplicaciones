{"version":3,"file":"default-node_modules_arcgis_core_views_2d_layers_graphics_BaseGraphicContainer_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js","./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js","./node_modules/@arcgis/core/views/2d/layers/graphics/BaseGraphicContainer.js","./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{createResolver as e}from\"../../../core/promiseUtils.js\";import t from\"../../../core/Queue.js\";import{AttributeStoreView as r}from\"./webgl/AttributeStoreView.js\";import s from\"./webgl/TileContainer.js\";import{WGLRendererInfo as i}from\"./webgl/WGLRendererInfo.js\";class o extends s{constructor(e){super(e),this._rendererInfo=new i,this._materialItemsRequestQueue=new t,this.attributeView=new r((()=>this.onAttributeStoreUpdate()))}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return[];const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable(\"textureFloat\"),e.context.capabilities.enable(\"vao\"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,n=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(n).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}export{o as FeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushInfo.js\";import t from\"./brushes/WGLBrushStencil.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[t],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()})),has(\"esri-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[s],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{meterIn as i}from\"../../../../renderers/support/lengthUtils.js\";import{isDefined as s,isNumber as a}from\"./Utils.js\";import{Technique as l}from\"./techniques/Technique.js\";import{getTechniqueFromRenderer as r}from\"./techniques/utils.js\";import{getWebGLCapabilities as o}from\"../../../webgl/capabilities.js\";function n(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}class v{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.outsideLabelsVisible=!1,this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1},this._technique=l}getSizeVVFieldStops(e){const t=this._vvSizeFieldStops;if(t)switch(t.type){case\"static\":return t;case\"level-dependent\":return t.levels[e]??(()=>{let i=1/0,s=0;for(const o in t.levels){const t=parseFloat(o),a=Math.abs(e-t);a<i&&(i=a,s=t)}if(i===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const a=2**((e-s)/2),l=t.levels[s],r=new Float32Array(l.values);return r[2]*=a,r[3]*=a,{sizes:l.sizes,values:r}})();default:return}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){null!=this._vvInfo&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){this._updateEffects(i),this._vvInfo=t,this._technique=r(e),this.rendererSchema=this._technique.createOrUpdateRendererSchema(this.rendererSchema,e)}getVariation(){return{...this._technique.getVariation(this.rendererSchema),outsideLabelsVisible:this.outsideLabelsVisible,supportsTextureFloat:o(\"2d\").supportsTextureFloat}}getVariationHash(){return this._technique.getVariationHash(this.rendererSchema)<<1|(this.outsideLabelsVisible?1:0)}_updateEffects(e){this.outsideLabelsVisible=null!=e&&e.excludedLabelsVisible}_updateVisualVariables(l,r){const o=this._vvMaterialParameters;if(o.vvOpacityEnabled=!1,o.vvSizeEnabled=!1,o.vvColorEnabled=!1,o.vvRotationEnabled=!1,!l)return;const v=l.size;if(v){if(o.vvSizeEnabled=!0,v.minMaxValue){const t=v.minMaxValue;let i,l;if(s(t.minSize)&&s(t.maxSize))if(a(t.minSize)&&a(t.maxSize))i=e(t.minSize),l=e(t.maxSize);else{const s=r.scale;i=e(n(s,t.minSize.stops)),l=e(n(s,t.maxSize.stops))}this.vvSizeMinMaxValue.set([t.minDataValue,t.maxDataValue,i,l])}if(v.scaleStops&&(this.vvSizeScaleStopsValue=e(n(r.scale,v.scaleStops.stops))),v.unitValue){const e=t(r.spatialReference)/i[v.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/r.resolution}v.fieldStops&&(this._vvSizeFieldStops=v.fieldStops)}const u=l.color;u&&(o.vvColorEnabled=!0,this.vvColorValues.set(u.values),this.vvColors.set(u.colors));const c=l.opacity;c&&(o.vvOpacityEnabled=!0,this.vvOpacityValues.set(c.values),this.vvOpacities.set(c.opacities));const h=l.rotation;h&&(o.vvRotationEnabled=!0,o.vvRotationType=h.type)}}export{v as WGLRendererInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{FeatureContainer as t}from\"../../engine/FeatureContainer.js\";import r from\"./GraphicBoundsRenderer.js\";import{CompareFunction as s}from\"../../../webgl/enums.js\";let i=class extends t{constructor(e){super(e),this.checkHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=e(this._boundsRenderer)}enableRenderingBounds(e){this._boundsRenderer=new r(e),this.requestRender()}get hasHighlight(){return this.checkHighlight()}onTileData(e,t){e.patch(t),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){e.clear(),this.contains(e)||this.addChild(e)}_renderChildren(e,t){for(const r of this.children)r.isReady&&r.hasData&&(r.commit(e),e.context.setStencilFunction(s.EQUAL,r.stencilRef,255),r.getDisplayList().replay(e,r,t))}};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{g as e,m as r,h as s,c as i,r as o}from\"../../../../chunks/mat3.js\";import{c as a}from\"../../../../chunks/mat3f32.js\";import{f as n}from\"../../../../chunks/vec2f32.js\";import{f}from\"../../../../chunks/vec3f32.js\";import{normalizeMapX as l}from\"../../../../geometry/support/normalizeUtils.js\";import{DisplayObject as u}from\"../../engine/DisplayObject.js\";import{createProgramDescriptor as c}from\"../../engine/webgl/Utils.js\";import{BufferObject as _}from\"../../../webgl/BufferObject.js\";import{BlendFactor as h,PrimitiveType as m,DataType as d,Usage as p}from\"../../../webgl/enums.js\";import{VertexArrayObject as g}from\"../../../webgl/VertexArrayObject.js\";const v=Math.PI/180,x=4;class b extends u{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=a(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=t(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(h.ONE,h.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0);const s=this._program;e.bindVAO(this._vao),e.useProgram(s),s.setUniformMatrix3fv(\"u_dvsMat3\",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(m.LINES,8*r.length,d.UNSIGNED_INT,0),e.bindVAO()}_createTransforms(){return{dvs:a()}}_createShaderProgram(t){if(this._program)return;const e=\"precision highp float;\\n        uniform mat3 u_dvsMat3;\\n\\n        attribute vec2 a_position;\\n\\n        void main() {\\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\\n        }\",r=\"precision mediump float;\\n      void main() {\\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\\n      }\";this._program=t.programCache.acquire(e,r,y().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:u,size:c,resolution:_,pixelRatio:h,rotation:m,viewpoint:d}=a,p=v*m,{x:g,y:x}=d.targetGeometry,b=l(g,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const y=h*c[0],B=h*c[1],M=_*y,j=_*B,A=e(this._dvsMat3);r(A,A,u),s(A,A,n(y/2,B/2)),i(A,A,f(c[0]/M,-B/j,1)),o(A,A,-p)}_updateBufferData(t,e){const{x:r,y:s}=this._localOrigin,i=2*x*e.length,o=new Float32Array(i),a=new Uint32Array(8*e.length);let n=0,f=0;for(const l of e)l&&(o[2*n]=l[0]-r,o[2*n+1]=l[1]-s,o[2*n+2]=l[0]-r,o[2*n+3]=l[3]-s,o[2*n+4]=l[2]-r,o[2*n+5]=l[3]-s,o[2*n+6]=l[2]-r,o[2*n+7]=l[1]-s,a[f]=n+0,a[f+1]=n+3,a[f+2]=n+3,a[f+3]=n+2,a[f+4]=n+2,a[f+5]=n+1,a[f+6]=n+1,a[f+7]=n+0,n+=4,f+=8);if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=_.createVertex(t,p.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=_.createIndex(t,p.DYNAMIC_DRAW,a),!this._vao){const e=y();this._vao=new g(t,e.attributes,e.bufferLayouts,{geometry:this._vertexBuffer},this._indexBuffer)}}}const y=()=>c(\"bounds\",{geometry:[{location:0,name:\"a_position\",count:2,type:d.FLOAT}]});export{b as default};\n"],"names":["createResolver","e","t","AttributeStoreView","r","s","WGLRendererInfo","i","o","constructor","_rendererInfo","_materialItemsRequestQueue","attributeView","onAttributeStoreUpdate","destroy","children","forEach","removeAllChildren","clear","setRendererInfo","setInfo","requestRender","getMaterialItems","length","push","items","abortOptions","resolver","promise","doRender","context","capabilities","enable","pop","_processMaterialItemRequest","renderChildren","commit","update","state","createRenderParams","rendererInfo","painter","pixelRatio","n","map","textureManager","rasterizeItem","symbol","glyphIds","Promise","all","then","stage","reject","id","mosaicItem","resolve","FeatureContainer","has","WGLDrawPhase","key","level","row","col","_tileInfoView","sortChildren","setStencilReference","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","prepareRenderPasses","registerRenderPass","name","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","target","getStencilTarget","stencilRef","default","pt2px","getMetersPerUnitForSR","meterIn","isDefined","isNumber","a","Technique","l","getTechniqueFromRenderer","getWebGLCapabilities","value","size","v","symbolLevels","vvColorValues","Float32Array","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","outsideLabelsVisible","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_technique","getSizeVVFieldStops","_vvSizeFieldStops","type","levels","parseFloat","Math","abs","sizes","values","vvMaterialParameters","_vvInfo","_updateVisualVariables","vvRanges","_updateEffects","rendererSchema","createOrUpdateRendererSchema","getVariation","supportsTextureFloat","getVariationHash","excludedLabelsVisible","minMaxValue","minSize","maxSize","stops","set","minDataValue","maxDataValue","scaleStops","vvSizeScaleStopsValue","unitValue","spatialReference","unit","vvSizeUnitValueToPixelsRatio","resolution","fieldStops","u","color","colors","c","opacity","opacities","h","rotation","destroyMaybe","CompareFunction","checkHighlight","_boundsRenderer","enableRenderingBounds","hasHighlight","onTileData","patch","contains","addChild","onTileError","_renderChildren","isReady","hasData","setStencilFunction","EQUAL","getDisplayList","replay","disposeMaybe","g","m","f","normalizeMapX","DisplayObject","createProgramDescriptor","BufferObject","_","BlendFactor","PrimitiveType","DataType","d","Usage","p","VertexArrayObject","PI","x","b","_program","_vao","_vertexBuffer","_indexBuffer","_dvsMat3","_localOrigin","y","_getBounds","dispose","_createShaderProgram","_updateMatricesAndLocalOrigin","_updateBufferData","setBlendingEnabled","setDepthTestEnabled","setStencilWriteMask","setStencilTestEnabled","setBlendFunction","ONE","ONE_MINUS_SRC_ALPHA","setColorMask","bindVAO","useProgram","setUniformMatrix3fv","gl","lineWidth","drawElements","LINES","UNSIGNED_INT","_createTransforms","dvs","programCache","acquire","attributes","displayMat3","viewpoint","targetGeometry","B","M","j","A","Uint32Array","setData","buffer","createVertex","DYNAMIC_DRAW","createIndex","bufferLayouts","geometry","location","count","FLOAT"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4]}