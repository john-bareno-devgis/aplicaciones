{"version":3,"file":"node_modules_arcgis_core_webdoc_webdocSaveUtils_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/core/accessorSupport/originUtils.js","./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","./node_modules/@arcgis/core/portal/support/resourceUtils.js","./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js","./node_modules/@arcgis/core/webdoc/support/saveUtils.js","./node_modules/@arcgis/core/webdoc/webdocSaveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as a}from\"../../core/urlUtils.js\";async function o(e,t={},a){await e.load(a);const o=r(e.itemUrl,\"resources\"),{start:s=1,num:n=10,sortOrder:l=\"asc\",sortField:u=\"created\"}=t,c={query:{start:s,num:n,sortOrder:l,sortField:u,token:e.apiKey},signal:a?.signal},i=await e.portal.request(o,c);return{total:i.total,nextStart:i.nextStart,resources:i.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function s(e,a,o,s){if(!e.hasPath())throw new t(`portal-item-resource-${a}:invalid-path`,\"Resource does not have a valid path\");const n=e.portalItem;await n.load(s);const l=r(n.userItemUrl,\"add\"===a?\"addResources\":\"updateResources\"),[c,i]=u(e.path),p=new FormData;return c&&\".\"!==c&&p.append(\"resourcesPrefix\",c),null!=s&&s.compress&&p.append(\"compress\",\"true\"),p.append(\"fileName\",i),p.append(\"file\",o,i),p.append(\"f\",\"json\"),s?.access&&p.append(\"access\",s.access),await n.portal.request(l,{method:\"post\",body:p,signal:s?.signal}),e}async function n(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const s=r(e.userItemUrl,\"removeResources\");await e.portal.request(s,{method:\"post\",query:{resource:a.path},signal:o?.signal}),a.portalItem=null}async function l(e,t){await e.load(t);const a=r(e.userItemUrl,\"removeResources\");return e.portal.request(a,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function u(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function c(e){const[t,r]=i(e),[a,o]=u(t);return[a,o,r]}function i(e){const t=a(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function d(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+o))}function m(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+o))}export{s as addOrUpdateResource,p as contentToBlob,o as fetchResources,d as getSiblingOfSameType,m as getSiblingOfSameTypeI,l as removeAllResources,n as removeResource,c as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport o from\"../config.js\";import r from\"../core/Error.js\";import{supportsApiKey as p}from\"../support/apiKeyUtils.js\";function i(i){if(o.apiKey&&p(i.portal.url))throw new r(\"save-api-key-utils:api-key-not-supported\",`Saving is not supported on ${i.portal.url} when using an api key`)}export{i as validateSaveAPIKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{result as e}from\"../../core/asyncUtils.js\";import r from\"../../core/Error.js\";import{allSettledErrors as o,throwIfAborted as t,eachAlways as s}from\"../../core/promiseUtils.js\";import{generateUUID as a}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as c,contentToBlob as n}from\"../../portal/support/resourceUtils.js\";async function u(e,r,o=null){const t=await i(e,r,o);await h(t,r,o)}async function p(e,r,o,t,s=null){const a=await i(o,t,s);await e.update({data:r}),await h(a,t,s)}async function i(e,s,n=null){if(!s?.resources)return;const u=s.portalItem===e.portalItem?new Set(e.paths):new Set;e.paths.length=0,e.portalItem=s.portalItem;const p=new Set(s.resources.toKeep.map((e=>e.resource.path))),i=new Set,h=[];p.forEach((r=>{u.delete(r),e.paths.push(r)}));for(const r of s.resources.toUpdate)if(u.delete(r.resource.path),p.has(r.resource.path)||i.has(r.resource.path)){const{resource:o,content:t,finish:s,error:u}=r,p=c(o,a());e.paths.push(p.path),h.push(f({resource:p,content:t,compress:r.compress,finish:s,error:u},n))}else e.paths.push(r.resource.path),h.push(l(r,n)),i.add(r.resource.path);for(const r of s.resources.toAdd)e.paths.push(r.resource.path),u.has(r.resource.path)?u.delete(r.resource.path):h.push(f(r,n));if(0===h.length)return u;const m=await o(h);if(t(n),m.length>0)throw new r(\"save:resources\",\"Failed to save one or more resources\",{errors:m});return u}async function h(e,r,o=null){if(!e||!r.portalItem)return;const t=[];for(const s of e){const e=r.portalItem.resourceFromPath(s);t.push(e.portalItem.removeResource(e,o))}await s(t)}async function f(r,o){const t={...null!=o?o:{},compress:r.compress},s=await e(r.resource.portalItem.addResource(r.resource,await n(r.content),t));if(!0!==s.ok)throw r.error?.(s.error),s.error;r.finish?.(r.resource)}async function l(r,o){const t=await e(r.resource.update(await n(r.content),o));if(!0!==t.ok)throw r.error?.(t.error),t.error;r.finish?.(r.resource)}async function m(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}export{m as beforeSave,u as saveResources,p as updateItemWithResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../core/Error.js\";import{MultiOriginJSONSupport as t}from\"../core/MultiOriginJSONSupport.js\";import{whenOnce as r}from\"../core/reactiveUtils.js\";import{urlToObject as o,hasSameCanonicalPortal as a}from\"../core/urlUtils.js\";import{updateOrigins as i}from\"../core/accessorSupport/originUtils.js\";import n from\"../geometry/SpatialReference.js\";import{equals as s}from\"../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as l}from\"../geometry/support/webMercatorUtils.js\";import{isServerOrServicesAGOLUrl as p}from\"../layers/support/arcgisLayerUrl.js\";import{isLayerWithFeatureLayerSource as c,isFeatureCollectionLayer as u}from\"../layers/support/layerUtils.js\";import m from\"../portal/Portal.js\";import d from\"../portal/PortalItem.js\";import{TypeKeyword as f,removeTypeKeyword as w,addTypeKeyword as y,hasTypeKeyword as g}from\"../portal/support/portalItemUtils.js\";import{project as h}from\"../rest/geometryService/project.js\";import b from\"../rest/support/ProjectParameters.js\";import{hasDeveloperBasemapLayer as _,findSpatialReference as v,isDeveloperBasemapLayer as R}from\"../support/basemapUtils.js\";import{validateSaveAPIKey as U}from\"./saveAPIKeyUtils.js\";import{beforeSave as P,saveResources as W}from\"./support/saveUtils.js\";const I=[\"NatGeo_World_Map\",\"Ocean_Basemap\",\"USA_Topo_Maps\",\"World_Imagery\",\"World_Street_Map\",\"World_Terrain_Base\",\"World_Topo_Map\",\"World_Hillshade\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Reference_Overlay\",\"Reference/World_Transportation\"].map((e=>e.toLowerCase()));async function j(e,t,a){a??={},S(e,t),await r((()=>!t.updatingFromView)),await t.load(),await k(t),await P(t),await T(e,t);const i=t.portalItem,n=o(i.itemUrl),s={origin:\"web-map\",messages:[],writtenProperties:[],url:n,portal:i.portal||m.getDefault(),portalItem:i,verifyItemRelativeUrls:n?{rootPath:n.path,writtenUrls:[]}:null,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},l=t.write({},s);return await Promise.all(s.resources.pendingOperations),D(e,s,a),await E(t,i),await ue(e,t,i,l,s),await Promise.all([t.updateItemThumbnail(),W(t.resourceReferences,s,null)]),i}async function A(e,t,o,a){a??={};const i=M(e,o);await r((()=>!t.updatingFromView)),await t.load(),await k(t),await P(t),await T(e,t);const n={origin:\"web-map\",messages:[],writtenProperties:[],url:null,portal:i.portal,portalItem:i,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},s=t.write({},n);await Promise.all(n.resources.pendingOperations),D(e,n,a),await z(t,i);const l=t.getThumbnailState();return await me(e,t,i,s,n,a)&&(t.resourceReferences.portalItem=i),t.restoreThumbnailFromState(l),await Promise.all([t.updateItemThumbnail(),W(t.resourceReferences,n,null)]),i}function S(t,r){if(!r.portalItem)throw new e(`${t.name}:portal-item-not-set`,\"Portal item to save to has not been set on the WebMap\");U(r.portalItem),O(t,r.portalItem)}function O(t,r){if(r.type!==t.itemType)throw new e(`${t.name}:portal-item-wrong-type`,`Portal item needs to have type \"${t.itemType}\"`)}async function T(t,o){if(!o.basemap?.baseLayers.length)throw new e(`${t.name}:save`,\"Map does not have a valid basemap with a base layer.\");let a=null;if(await r((()=>{const e=v(o.initialViewProperties,o.basemap);return a=e.spatialReference,!e.updating})),!s(a,o.initialViewProperties.spatialReference))throw new e(`${t.name}:save`,\"The spatial reference of the basemap is not compatible with the one from the map.\",{expected:o.initialViewProperties.spatialReference,actual:a})}function M(e,t){let r=d.from(t);return r.id&&(r=r.clone(),r.id=null),r.type||(r.type=e.itemType),r.portal||(r.portal=m.getDefault()),U(r),O(e,r),r}function k(e){const t=[];return e.basemap&&t.push(e.basemap.load()),e.ground&&t.push(e.ground.load()),Promise.allSettled(t).then((()=>{}))}function D(t,r,o){let a=(r.messages??[]).filter((e=>\"error\"===e.type)).map((t=>new e(t.name,t.message,t.details)));if(r.blockedRelativeUrls&&(a=a.concat(r.blockedRelativeUrls.map((t=>new e(\"url:unsupported\",`Relative url '${t}' is not supported in Web Map`))))),o.ignoreUnsupported&&(a=a.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name))),a.length>0)throw new e(`${t.name}:save`,\"Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:a})}async function E(e,t){t.extent=await ne(e.portalItem,e.initialViewProperties.viewpoint.targetGeometry),await Q(e,t)}const V=f.JSAPI,C=\"CollectorDisabled\",G=\"Collector\",L=\"Data Editing\",$=\"OfflineDisabled\",B=\"Offline\",K=\"Workforce Project\",x=\"Workforce Worker\",F=\"Workforce Dispatcher\",N=\"Offline Map Areas\",H=\"FieldMapsDisabled\",J=f.DEVELOPER_BASEMAP,q=\"UtilityNetwork\";async function z(e,t){w(t,C),w(t,H),w(t,f.METADATA),w(t,$),w(t,N),w(t,F),w(t,K),w(t,x),await E(e,t)}async function Q(e,t){y(t,V),await X(e),te(e,t),re(e,t),oe(e,t),ae(e,t),ie(e,t),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}function X(e){const t=Y(e).map((e=>e.load())).toArray();return Promise.allSettled(t).then((()=>{}))}function Y(e){return e.allLayers.concat(e.allTables)}function Z(e){return Y(e).some((e=>e.loaded&&c(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled&&(\"subtype-group\"!==e.type||e.sublayers.some((e=>e.editingEnabled)))))}function ee(e){return Y(e).filter((e=>\"group\"!==e.type)).every((t=>t.loaded&&pe(e,t)))}function te(e,t){g(t,C)||g(t,K)||g(t,x)||g(t,F)||!Z(e)?w(t,G):y(t,G)}function re(e,t){Z(e)?y(t,L):w(t,L)}function oe(e,t){!g(t,$)&&ee(e)?y(t,B):w(t,B)}function ae(e,t){_(e.basemap)?y(t,J):w(t,J)}function ie(e,t){e.utilityNetworks?.length?y(t,q):w(t,q)}async function ne(e,t){const r=t.clone().normalize();let o;if(r.length>1)for(const a of r)o?a.width>o.width&&(o=a):o=a;else o=r[0];return se(e,o)}async function se(e,t){const r=t.spatialReference;if(r.isWGS84)return t.clone();if(r.isWebMercator)return l(t);const{getGeometryServiceURL:o}=await import(\"../portal/support/geometryServiceUtils.js\"),a=await o(e),i=new b;i.geometries=[t],i.outSpatialReference=n.WGS84;return(await h(a,i))[0]}function le(e){return u(e)||\"map-notes\"===e.type||\"route\"===e.type}function pe(e,t){return c(t)&&t.capabilities.operations.supportsSync||le(t)&&!t.portalItem||(\"tile\"===t.type||\"vector-tile\"===t.type)&&(t.capabilities.operations.supportsExportTiles||ce(t)||R(t))&&t.spatialReference.equals(e.initialViewProperties.spatialReference)}function ce(e){return\"tile\"===e.type&&(p(e.url)&&I.some((t=>e.url?.toLowerCase().includes(\"/\"+t+\"/\"))))}async function ue(e,t,r,o,a){await r.update({data:o}),we(e,t,r,o,a)}async function me(t,r,o,a,i,n){const s=r.portalItem,l={item:s,authenticated:!(!s?.id||!s.portal.user)},p=o.portal;await p.signIn();const{copyAllowed:c,itemReloaded:u}=await de(l,p);if(l.authenticated||=u,!c)throw new e(`${t.name}:save-as-copy-not-allowed`,\"Owner of this map does not allow others to save a copy\");const m=await fe(o,l,a,n);return r.portalItem=o,we(t,r,o,a,i),m}async function de(e,t){const{item:r,authenticated:o}=e;return r?.id&&r.typeKeywords?.includes(\"useOnly\")?r.portal.portalHostname!==t.portalHostname?{copyAllowed:!1,itemReloaded:!1}:(o||await r.reload(),{copyAllowed:\"admin\"===r.itemControl||\"update\"===r.itemControl,itemReloaded:!0}):{copyAllowed:!0,itemReloaded:!1}}async function fe(e,t,r,o){const i=e.portal,{item:n}=t,{folder:s,copyAllResources:l}=o;let p=!1;if(l&&n?.id&&a(n.portal.url,i.url)&&parseInt(n.portal.currentVersion,10)>=2023){const{total:e}=await n.fetchResources();p=!!e}if(p){const t=await n.copy({copyResources:\"all\",folder:s});e.id=t.id,e.portal=t.portal;const o=e.toJSON();await e.load(),e.read(o),await e.update({data:r})}else await(i.user?.addItem({item:e,folder:s,data:r}));return p}function we(e,r,a,n,s){t.prototype.read.call(r,{version:n.version,authoringApp:n.authoringApp,authoringAppVersion:n.authoringAppVersion},{origin:e.origin,ignoreDefaults:!0,url:a.itemUrl?o(a.itemUrl):void 0}),i(s),r.resourceInfo=n}export{j as save,A as saveAs};\n"],"names":["isMultiOriginJSONMixin","r","i","writtenProperties","forEach","target","propName","t","newOrigin","e","originOf","updateOrigin","updateOrigins","join","getPathExtension","a","o","load","itemUrl","start","s","num","n","sortOrder","l","sortField","u","c","query","token","apiKey","signal","portal","request","total","nextStart","resources","map","created","size","resource","Date","resourceFromPath","hasPath","portalItem","userItemUrl","path","p","FormData","append","compress","access","method","body","deleteAll","lastIndexOf","slice","length","type","blob","Blob","jsonString","url","responseType","data","d","m","addOrUpdateResource","contentToBlob","fetchResources","getSiblingOfSameType","getSiblingOfSameTypeI","removeAllResources","removeResource","splitPrefixFileNameAndExtension","supportsApiKey","validateSaveAPIKey","result","allSettledErrors","throwIfAborted","eachAlways","generateUUID","h","update","Set","paths","toKeep","delete","push","toUpdate","has","content","finish","error","f","add","toAdd","errors","addResource","ok","allLayers","beforeSave","Promise","allSettled","saveResources","updateItemWithResources","MultiOriginJSONSupport","whenOnce","urlToObject","hasSameCanonicalPortal","equals","webMercatorToGeographic","isServerOrServicesAGOLUrl","isLayerWithFeatureLayerSource","isFeatureCollectionLayer","TypeKeyword","removeTypeKeyword","w","addTypeKeyword","y","hasTypeKeyword","g","project","b","hasDeveloperBasemapLayer","_","findSpatialReference","v","isDeveloperBasemapLayer","R","U","P","W","I","toLowerCase","j","S","updatingFromView","k","T","origin","messages","getDefault","verifyItemRelativeUrls","rootPath","writtenUrls","blockedRelativeUrls","pendingOperations","write","all","D","E","ue","updateItemThumbnail","resourceReferences","A","M","z","getThumbnailState","me","restoreThumbnailFromState","name","O","itemType","basemap","baseLayers","initialViewProperties","spatialReference","updating","expected","actual","from","id","clone","ground","then","filter","message","details","concat","ignoreUnsupported","extent","ne","viewpoint","targetGeometry","Q","V","JSAPI","C","G","L","$","B","K","x","F","N","H","J","DEVELOPER_BASEMAP","q","METADATA","X","te","re","oe","ae","ie","typeKeywords","indexOf","Y","toArray","allTables","Z","some","loaded","capabilities","operations","supportsEditing","editingEnabled","sublayers","ee","every","pe","utilityNetworks","normalize","width","se","isWGS84","isWebMercator","getGeometryServiceURL","geometries","outSpatialReference","WGS84","le","supportsSync","supportsExportTiles","ce","includes","we","item","authenticated","user","signIn","copyAllowed","itemReloaded","de","fe","portalHostname","reload","itemControl","folder","copyAllResources","parseInt","currentVersion","copy","copyResources","toJSON","read","addItem","prototype","call","version","authoringApp","authoringAppVersion","ignoreDefaults","resourceInfo","save","saveAs"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4,5]}