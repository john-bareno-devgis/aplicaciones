"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_views_2d_layers_WMSLayerView2D_js"],{

/***/ 31271:
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ 28191);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ 53661);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/Extent.js */ 10465);
/* harmony import */ var _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../engine/BitmapContainer.js */ 21109);
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./LayerView2D.js */ 49322);
/* harmony import */ var _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/ExportStrategy.js */ 27586);
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../layers/LayerView.js */ 3589);
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ 34040);
/* harmony import */ var _layers_WMSLayerView_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../layers/WMSLayerView.js */ 92578);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

















let y = class extends (0,_layers_WMSLayerView_js__WEBPACK_IMPORTED_MODULE_17__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_16__["default"])((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_13__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_15__["default"]))) {
  constructor() {
    super(...arguments), this.bitmapContainer = new _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_12__.BitmapContainer();
  }
  supportsSpatialReference(e) {
    return this.layer.serviceSupportsSpatialReference(e);
  }
  update(e) {
    this.strategy.update(e).catch(e => {
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(e) || _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error(e);
    });
  }
  attach() {
    const {
        layer: e
      } = this,
      {
        imageMaxHeight: t,
        imageMaxWidth: r
      } = e;
    this.bitmapContainer = new _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_12__.BitmapContainer(), this.container.addChild(this.bitmapContainer), this.strategy = new _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_14__["default"]({
      container: this.bitmapContainer,
      fetchSource: this.fetchImage.bind(this),
      requestUpdate: this.requestUpdate.bind(this),
      imageMaxHeight: t,
      imageMaxWidth: r,
      imageRotationSupported: !1,
      imageNormalizationSupported: !1,
      hidpi: !1
    }), this.addAttachHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)(() => this.exportImageVersion, () => this.requestUpdate()));
  }
  detach() {
    this.strategy = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this.strategy), this.container.removeAllChildren();
  }
  moveStart() {}
  viewChange() {}
  moveEnd() {
    this.requestUpdate();
  }
  createFetchPopupFeaturesQuery(e) {
    const {
        view: t,
        bitmapContainer: r
      } = this,
      {
        x: i,
        y: s
      } = e,
      {
        spatialReference: a
      } = t;
    let o,
      n = 0,
      m = 0;
    if (r.children.some(e => {
      const {
          width: t,
          height: r,
          resolution: h,
          x: c,
          y: d
        } = e,
        u = c + h * t,
        y = d - h * r;
      return i >= c && i <= u && s <= d && s >= y && (o = new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_11__["default"]({
        xmin: c,
        ymin: y,
        xmax: u,
        ymax: d,
        spatialReference: a
      }), n = t, m = r, !0);
    }), !o) return null;
    const h = o.width / n,
      c = Math.round((i - o.xmin) / h),
      d = Math.round((o.ymax - s) / h);
    return {
      extent: o,
      width: n,
      height: m,
      x: c,
      y: d
    };
  }
  doRefresh() {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.requestUpdate();
    })();
  }
  isUpdating() {
    return this.strategy.updating || this.updateRequested;
  }
  fetchImage(e, t, r, i) {
    return this.layer.fetchImageBitmap(e, t, r, {
      timeExtent: this.timeExtent,
      ...i
    });
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], y.prototype, "strategy", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()], y.prototype, "updating", void 0), y = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.2d.layers.WMSLayerView2D")], y);
const g = y;


/***/ }),

/***/ 92578:
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/WMSLayerView.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ 32995);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ 53661);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ 74256);
/* harmony import */ var _layers_support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/ExportWMSImageParameters.js */ 86805);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










const i = i => {
  let m = class extends i {
    initialize() {
      this.exportImageParameters = new _layers_support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_9__.ExportWMSImageParameters({
        layer: this.layer
      });
    }
    destroy() {
      this.exportImageParameters = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.exportImageParameters);
    }
    get exportImageVersion() {
      return this.exportImageParameters?.commitProperty("version"), this.commitProperty("timeExtent"), (this._get("exportImageVersion") || 0) + 1;
    }
    fetchPopupFeatures(e) {
      const {
        layer: t
      } = this;
      if (!e) return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures", "Nothing to fetch without area", {
        layer: t
      }));
      const {
        popupEnabled: o
      } = t;
      if (!o) return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures", "popupEnabled should be true", {
        popupEnabled: o
      }));
      const s = this.createFetchPopupFeaturesQuery(e);
      if (!s) return Promise.resolve([]);
      const {
        extent: p,
        width: a,
        height: i,
        x: m,
        y: n
      } = s;
      if (!(p && a && i)) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures", "WMSLayer does not support fetching features.", {
        extent: p,
        width: a,
        height: i
      });
      return t.fetchFeatureInfo(p, a, i, m, n);
    }
  };
  return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], m.prototype, "exportImageParameters", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
    readOnly: !0
  })], m.prototype, "exportImageVersion", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], m.prototype, "layer", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__.combinedViewLayerTimeExtentProperty)], m.prototype, "timeExtent", void 0), m = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.mixins.WMSLayerView")], m), m;
};


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_views_2d_layers_WMSLayerView2D_js.js.map