"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_views_interactive_snapping_featureSources_sceneLayerSource_SceneLaye-276fcc"],{

/***/ 19511:
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/lineSegment.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "closestLineSegmentDistance2": () => (/* binding */ S),
/* harmony export */   "closestLineSegmentPoint": () => (/* binding */ k),
/* harmony export */   "closestRayDistance2": () => (/* binding */ B),
/* harmony export */   "copy": () => (/* binding */ p),
/* harmony export */   "create": () => (/* binding */ v),
/* harmony export */   "distance": () => (/* binding */ j),
/* harmony export */   "distance2": () => (/* binding */ M),
/* harmony export */   "fromPoints": () => (/* binding */ b),
/* harmony export */   "fromValues": () => (/* binding */ h),
/* harmony export */   "pointAt": () => (/* binding */ A),
/* harmony export */   "projectPoint": () => (/* binding */ l),
/* harmony export */   "projectPointClamp": () => (/* binding */ d),
/* harmony export */   "wrap": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ 93142);
/* harmony import */ var _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/ObjectStack.js */ 93668);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vectorStacks.js */ 73130);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





function v(t) {
  return t ? {
    origin: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.g)(t.origin),
    vector: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.g)(t.vector)
  } : {
    origin: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
    vector: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()
  };
}
function m(t, r) {
  const n = x.get();
  return n.origin = t, n.vector = r, n;
}
function p(t, r = v()) {
  return h(t.origin, t.vector, r);
}
function h(t, r, o = v()) {
  return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(o.origin, t), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(o.vector, r), o;
}
function b(t, r, i = v()) {
  return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(i.origin, t), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(i.vector, r, t), i;
}
function M(r, n) {
  const c = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(), n, r.origin),
    s = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)(r.vector, c),
    u = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)(r.vector, r.vector),
    a = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(s / u, 0, 1),
    g = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(), r.vector, a), c);
  return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)(g, g);
}
function j(t, r) {
  return Math.sqrt(M(t, r));
}
function l(t, r, n) {
  return d(t, r, 0, 1, n);
}
function A(t, r, n) {
  return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(n, t.origin, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(n, t.vector, r));
}
function d(r, n, u, a, g) {
  const {
      vector: v,
      origin: m
    } = r,
    p = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(), n, m),
    h = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)(v, p) / (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.m)(v);
  return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(g, v, (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(h, u, a)), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(g, g, r.origin);
}
function B(t, r) {
  if (q(t, m(r.origin, r.direction), !1, w)) {
    const {
      tA: r,
      pB: n,
      distance2: o
    } = w;
    if (r >= 0 && r <= 1) return o;
    if (r < 0) return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.a)(t.origin, n);
    if (r > 1) return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.a)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(), t.origin, t.vector), n);
  }
  return null;
}
function k(t, r, o) {
  return !!q(t, r, !0, w) && ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(o, w.pA), !0);
}
function S(t, r) {
  return q(t, r, !0, w) ? w.distance2 : null;
}
function q(r, n, o, i) {
  const e = 1e-6,
    s = r.origin,
    a = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(), s, r.vector),
    g = n.origin,
    v = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(), g, n.vector),
    m = _vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),
    p = _vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get();
  if (m[0] = s[0] - g[0], m[1] = s[1] - g[1], m[2] = s[2] - g[2], p[0] = v[0] - g[0], p[1] = v[1] - g[1], p[2] = v[2] - g[2], Math.abs(p[0]) < e && Math.abs(p[1]) < e && Math.abs(p[2]) < e) return !1;
  const h = _vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get();
  if (h[0] = a[0] - s[0], h[1] = a[1] - s[1], h[2] = a[2] - s[2], Math.abs(h[0]) < e && Math.abs(h[1]) < e && Math.abs(h[2]) < e) return !1;
  const b = m[0] * p[0] + m[1] * p[1] + m[2] * p[2],
    M = p[0] * h[0] + p[1] * h[1] + p[2] * h[2],
    j = m[0] * h[0] + m[1] * h[1] + m[2] * h[2],
    l = p[0] * p[0] + p[1] * p[1] + p[2] * p[2],
    A = (h[0] * h[0] + h[1] * h[1] + h[2] * h[2]) * l - M * M;
  if (Math.abs(A) < e) return !1;
  let d = (b * M - j * l) / A,
    B = (b + M * d) / l;
  o && (d = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(d, 0, 1), B = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(B, 0, 1));
  const k = _vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),
    S = _vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get();
  return k[0] = s[0] + d * h[0], k[1] = s[1] + d * h[1], k[2] = s[2] + d * h[2], S[0] = g[0] + B * p[0], S[1] = g[1] + B * p[1], S[2] = g[2] + B * p[2], i.tA = d, i.tB = B, i.pA = k, i.pB = S, i.distance2 = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.a)(k, S), !0;
}
const w = {
    tA: 0,
    tB: 0,
    pA: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
    pB: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),
    distance2: 0
  },
  x = new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_1__.ObjectStack(() => v());


/***/ }),

/***/ 33299:
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Logger.js */ 28191);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/has.js */ 67087);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/Error.js */ 32995);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../geometry/support/lineSegment.js */ 19511);
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../chunks/sphere.js */ 85970);
/* harmony import */ var _3d_webgl_engine_lib_Octree_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../3d/webgl-engine/lib/Octree.js */ 14358);
/* harmony import */ var _3d_webgl_engine_lib_edgeRendering_edgeProcessing_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing.js */ 71931);
/* harmony import */ var _sceneLayerSnappingUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./sceneLayerSnappingUtils.js */ 88428);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/















let _ = class {
  constructor() {
    this._idToComponent = new Map(), this._components = new _3d_webgl_engine_lib_Octree_js__WEBPACK_IMPORTED_MODULE_13__["default"](e => e.bounds), this._edges = new _3d_webgl_engine_lib_Octree_js__WEBPACK_IMPORTED_MODULE_13__["default"](e => e.bounds), this._tmpLineSegment = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_11__.create)(), this._tmpP1 = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(), this._tmpP2 = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(), this._tmpP3 = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(), this.remoteClient = null;
  }
  fetchCandidates(e, s) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield Promise.resolve(), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(s), yield _this._ensureEdgeLocations(e, s);
      const o = [];
      return _this._edges.forEachNeighbor(t => (_this._addCandidates(e, t, o), o.length < _sceneLayerSnappingUtils_js__WEBPACK_IMPORTED_MODULE_15__.maxCandidateCount), e.bounds), {
        result: {
          candidates: o
        }
      };
    })();
  }
  _ensureEdgeLocations(e, t) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const s = [];
      if (_this2._components.forEachNeighbor(e => {
        if (null == e.info) {
          const {
            id: t,
            uid: o
          } = e;
          s.push({
            id: t,
            uid: o
          });
        }
        return !0;
      }, e.bounds), !s.length) return;
      const o = {
          components: s
        },
        n = yield _this2.remoteClient.invoke("fetchAllEdgeLocations", o, t ?? {});
      for (const i of n.components) _this2._setFetchEdgeLocations(i);
    })();
  }
  add(e) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const t = new b(e.id, e.bounds);
      return _this3._idToComponent.set(t.id, t), _this3._components.add([t]), {
        result: {}
      };
    })();
  }
  remove(e) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const t = _this4._idToComponent.get(e.id);
      if (t) {
        const e = [];
        _this4._edges.forEachNeighbor(s => (s.component === t && e.push(s), !0), t.bounds), _this4._edges.remove(e), _this4._components.remove([t]), _this4._idToComponent.delete(t.id);
      }
      return {
        result: {}
      };
    })();
  }
  _setFetchEdgeLocations(e) {
    const t = this._idToComponent.get(e.id);
    if (null == t || e.uid !== t.uid) return;
    const s = _3d_webgl_engine_lib_edgeRendering_edgeProcessing_js__WEBPACK_IMPORTED_MODULE_14__.extractComponentsEdgeLocationsLayout.createView(e.locations),
      o = new Array(s.count),
      n = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(),
      r = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)();
    for (let i = 0; i < s.count; i++) {
      s.position0.getVec(i, n), s.position1.getVec(i, r);
      const d = (0,_sceneLayerSnappingUtils_js__WEBPACK_IMPORTED_MODULE_15__.boundsFromEdge)(n, r, e.origin),
        c = new j(t, i, d);
      o[i] = c;
    }
    this._edges.add(o);
    const {
      objectIds: d,
      origin: c
    } = e;
    t.info = {
      locations: s,
      objectIds: d,
      origin: c
    };
  }
  _addCandidates(e, t, s) {
    const {
        info: n
      } = t.component,
      {
        origin: i,
        objectIds: r
      } = n,
      d = n.locations,
      c = d.position0.getVec(t.index, this._tmpP1),
      a = d.position1.getVec(t.index, this._tmpP2);
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__.g)(c, c, i), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__.g)(a, a, i);
    const p = r[d.componentIndex.get(t.index)];
    this._addEdgeCandidate(e, p, c, a, s), this._addVertexCandidate(e, p, c, s), this._addVertexCandidate(e, p, a, s);
  }
  _addEdgeCandidate(e, t, s, o, i) {
    if (!e.returnEdge) return;
    const d = (0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__.g)(e.bounds),
      h = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_11__.fromPoints)(s, o, this._tmpLineSegment),
      m = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_11__.projectPoint)(h, d, this._tmpP3);
    (0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__.n)(e.bounds, m) && i.push({
      type: "edge",
      objectId: t,
      target: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.g)(m),
      distance: (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__.o)(d, m),
      start: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.g)(s),
      end: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.g)(o)
    });
  }
  _addVertexCandidate(e, t, s, o) {
    if (!e.returnVertex) return;
    const i = (0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__.g)(e.bounds);
    (0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__.n)(e.bounds, s) && o.push({
      type: "vertex",
      objectId: t,
      target: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.g)(s),
      distance: (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__.o)(i, s)
    });
  }
};
_ = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")], _);
const f = _;
class b {
  constructor(e, t) {
    this.id = e, this.bounds = t, this.info = null, this.uid = ++b.uid;
  }
}
b.uid = 0;
class j {
  constructor(e, t, s) {
    this.component = e, this.index = t, this.bounds = s;
  }
}


/***/ }),

/***/ 88428:
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "boundsFromEdge": () => (/* binding */ e),
/* harmony export */   "maxCandidateCount": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/sphere.js */ 85970);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


const t = 1e3;
function e(t, e, a) {
  const m = (0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
    p = (0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_1__.g)(m);
  return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.q)(p, p, t, .5), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.q)(p, p, e, .5), m[3] = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.o)(p, t), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(p, p, a), m;
}


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_views_interactive_snapping_featureSources_sceneLayerSource_SceneLaye-276fcc.js.map