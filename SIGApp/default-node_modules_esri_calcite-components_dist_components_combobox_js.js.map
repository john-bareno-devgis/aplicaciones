{"version":3,"file":"default-node_modules_esri_calcite-components_dist_components_combobox_js.js","mappings":"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","sources":["./node_modules/@esri/calcite-components/dist/components/calcite-headless.js","./node_modules/@esri/calcite-components/dist/components/combobox.js","./node_modules/@esri/calcite-components/dist/components/utils2.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\n/**\n * Do not edit directly\n * Generated on Tue, 21 Nov 2023 22:52:13 GMT\n */\nconst CoreSizing15 = \"48px\";\nconst CoreBreakpointWidthDefaultXxs = \"320px\";\nconst CoreBreakpointWidthDefaultXs = \"476px\";\nconst CoreBreakpointWidthDefaultSm = \"768px\";\nconst CoreBreakpointWidthDefaultMd = \"1152px\";\nconst CoreBreakpointWidthDefaultLg = \"1440px\";\n\nexport { CoreSizing15 as C, CoreBreakpointWidthDefaultMd as a, CoreBreakpointWidthDefaultSm as b, CoreBreakpointWidthDefaultXs as c, CoreBreakpointWidthDefaultXxs as d, CoreBreakpointWidthDefaultLg as e };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\nimport { h, proxyCustomElement, HTMLElement, createEvent, Host } from '@stencil/core/internal/client/index.js';\nimport { f as filter } from './filter2.js';\nimport { u as getElementWidth, v as getTextWidth, j as isPrimaryPointerButton, t as toAriaBoolean } from './dom.js';\nimport { d as defaultMenuPlacement, f as filterComputedPlacements, c as connectFloatingUI, r as reposition, a as disconnectFloatingUI, F as FloatingCSS } from './floating-ui.js';\nimport { s as submitForm, c as connectForm, a as afterConnectDefaultValueSet, d as disconnectForm, H as HiddenFormInputSlot } from './form.js';\nimport { g as guid } from './guid.js';\nimport { c as connectInteractive, u as updateHostInteraction, d as disconnectInteractive } from './interactive.js';\nimport { c as connectLabel, d as disconnectLabel, g as getLabelText } from './label2.js';\nimport { b as componentLoaded, c as componentFocusable, a as setUpLoadableComponent, s as setComponentLoaded } from './loadable.js';\nimport { c as connectLocalized, d as disconnectLocalized } from './locale.js';\nimport { c as createObserver } from './observers.js';\nimport { o as onToggleOpenCloseComponent } from './openCloseComponent.js';\nimport { c as connectMessages, s as setUpMessages, d as disconnectMessages, u as updateMessages } from './t9n.js';\nimport { i as isSingleLike, h as hasActiveChildren, C as CSS$1, b as ComboboxChildSelector, c as getItemAncestors, d as getItemChildren, e as ComboboxItem, f as ComboboxItemGroup } from './utils2.js';\nimport { g as getIconScale } from './component.js';\nimport { C as CoreSizing15 } from './calcite-headless.js';\nimport { d as defineCustomElement$2 } from './chip.js';\nimport { d as defineCustomElement$1 } from './icon.js';\nimport { d as debounce } from './debounce.js';\n\nconst CSS = {\n  button: \"x-button\",\n};\nfunction XButton({ disabled, key, label, onClick, ref, scale, }) {\n  return (h(\"button\", { \"aria-label\": label, class: CSS.button, disabled: disabled, key: key, onClick: onClick, tabIndex: -1, type: \"button\", \n    // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n    ref: ref },\n    h(\"calcite-icon\", { icon: \"x\", scale: getIconScale(scale) })));\n}\n\nconst comboboxCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]) .x-button{inline-size:1rem;block-size:1rem}:host([scale=m]) .x-button{inline-size:1.5rem;block-size:1.5rem}:host([scale=l]) .x-button{inline-size:2rem;block-size:2rem}.x-button{margin:0px;display:flex;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-width:2px;background-color:transparent;color:var(--calcite-ui-text-3);outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-radius:50%;border-color:transparent;background-color:var(--calcite-ui-foreground-2)}.x-button:active,.x-button:hover{color:var(--calcite-ui-text-1);background-color:var(--calcite-ui-foreground-3)}.x-button:active{border-style:solid;border-color:var(--calcite-ui-brand)}.x-button calcite-icon{color:inherit}:host([scale=s]){font-size:var(--calcite-font-size--2);--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-input-height:1rem;--calcite-internal-combobox-input-margin-block:calc(0.25rem - 1px)}:host([scale=s]) .x-button{margin-inline:0.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-input-height:1rem;--calcite-internal-combobox-input-margin-block:calc(0.5rem - 1px)}:host([scale=m]) .x-button{margin-inline-end:0.75rem}:host([scale=l]){font-size:var(--calcite-font-size-0);--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-input-height:1.5rem;--calcite-internal-combobox-input-margin-block:calc(0.625rem - 1px)}:host([scale=l]) .x-button{margin-inline-end:1rem}.wrapper{display:flex;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);outline-color:transparent;padding-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}:host(:focus-within) .wrapper,.wrapper--active{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-ui-focus-offset-invert),\\n                1\\n              )\\n            )\\n          )}.wrapper--single{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l);cursor:pointer;flex-wrap:nowrap}.grid-input{position:relative;display:flex;flex-grow:1;flex-wrap:wrap;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;gap:var(--calcite-combobox-item-spacing-unit-s)}.grid-input.selection-display-fit,.grid-input.selection-display-single{flex-wrap:nowrap;overflow:hidden}.input{flex-grow:1;appearance:none;text-overflow:ellipsis;border-style:none;background-color:transparent;padding:0px;font-family:inherit;color:var(--calcite-ui-text-1);font-size:inherit;block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height);inline-size:100%;margin-block-end:var(--calcite-combobox-item-spacing-unit-s);min-inline-size:4.8125rem}.input:focus{outline:2px solid transparent;outline-offset:2px}.input:placeholder-shown{text-overflow:ellipsis}.input--transparent{opacity:0}.input--single{padding:0px;margin-block:var(--calcite-internal-combobox-input-margin-block)}.wrapper--active .input-single{cursor:text}.input--hidden{pointer-events:none;inline-size:0px;min-inline-size:0px;opacity:0}.input--icon{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-s)}:host([scale=m]) .input--icon,:host([scale=l]) .input--icon{padding-inline:0.25rem}.input-wrap{display:flex;flex-grow:1;align-items:center}.input-wrap--single{flex:1 1 0%;overflow:hidden}.label{pointer-events:none;display:flex;max-inline-size:100%;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-weight:var(--calcite-font-weight-normal);block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height)}.label--icon{padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon-end,.icon-start{display:flex;cursor:pointer;align-items:center}.icon-end{flex:none}.floating-ui-container{--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown);display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.floating-ui-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-app-z-index);border-radius:0.25rem}.floating-ui-container[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}.floating-ui-container[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}.floating-ui-container[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}.floating-ui-container[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}.floating-ui-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}.floating-ui-container--active{visibility:visible}@media (forced-colors: active){.wrapper,.floating-ui-container--active{border:1px solid canvasText}}.screen-readers-only{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.list-container{max-block-size:45vh;overflow-y:auto;background-color:var(--calcite-ui-foreground-1);inline-size:var(--calcite-dropdown-width)}.list{margin:0px;display:block;padding:0px}.list--hide{block-size:0px;overflow:hidden}calcite-chip{--calcite-animation-timing:0}.chip{margin-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);max-inline-size:100%}.chip--active{background-color:var(--calcite-ui-foreground-3)}.chip--invisible{visibility:hidden;position:absolute}.item{display:block}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}::slotted(calcite-combobox-item-group:not(:first-child)){padding-block-start:var(--calcite-combobox-item-spacing-unit-l)}\";\n\nconst isGroup = (el) => el.tagName === ComboboxItemGroup;\nconst itemUidPrefix = \"combobox-item-\";\nconst chipUidPrefix = \"combobox-chip-\";\nconst labelUidPrefix = \"combobox-label-\";\nconst listboxUidPrefix = \"combobox-listbox-\";\nconst inputUidPrefix = \"combobox-input-\";\nconst Combobox = /*@__PURE__*/ proxyCustomElement(class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.calciteComboboxChange = createEvent(this, \"calciteComboboxChange\", 6);\n    this.calciteComboboxFilterChange = createEvent(this, \"calciteComboboxFilterChange\", 6);\n    this.calciteComboboxChipClose = createEvent(this, \"calciteComboboxChipClose\", 6);\n    this.calciteComboboxBeforeClose = createEvent(this, \"calciteComboboxBeforeClose\", 6);\n    this.calciteComboboxClose = createEvent(this, \"calciteComboboxClose\", 6);\n    this.calciteComboboxBeforeOpen = createEvent(this, \"calciteComboboxBeforeOpen\", 6);\n    this.calciteComboboxOpen = createEvent(this, \"calciteComboboxOpen\", 6);\n    this.placement = defaultMenuPlacement;\n    this.internalValueChangeFlag = false;\n    this.textInput = null;\n    this.mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n    this.resizeObserver = createObserver(\"resize\", () => {\n      this.setMaxScrollerHeight();\n      this.refreshSelectionDisplay();\n    });\n    this.guid = guid();\n    this.inputHeight = 0;\n    this.ignoreSelectedEventsFlag = false;\n    this.openTransitionProp = \"opacity\";\n    this.setFilteredPlacements = () => {\n      const { el, flipPlacements } = this;\n      this.filteredFlipPlacements = flipPlacements\n        ? filterComputedPlacements(flipPlacements, el)\n        : null;\n    };\n    this.getValue = () => {\n      const items = this.selectedItems.map((item) => item?.value?.toString());\n      return items?.length ? (items.length > 1 ? items : items[0]) : \"\";\n    };\n    this.onLabelClick = () => {\n      this.setFocus();\n    };\n    this.keyDownHandler = (event) => {\n      const { key } = event;\n      switch (key) {\n        case \"Tab\":\n          this.activeChipIndex = -1;\n          this.activeItemIndex = -1;\n          if (this.allowCustomValues && this.text) {\n            this.addCustomChip(this.text, true);\n            event.preventDefault();\n          }\n          else if (this.open) {\n            this.open = false;\n            event.preventDefault();\n          }\n          else if (!this.allowCustomValues && this.text) {\n            this.clearInputValue();\n            this.filterItems(\"\");\n            this.updateActiveItemIndex(-1);\n          }\n          break;\n        case \"ArrowLeft\":\n          this.previousChip();\n          event.preventDefault();\n          break;\n        case \"ArrowRight\":\n          this.nextChip();\n          event.preventDefault();\n          break;\n        case \"ArrowUp\":\n          event.preventDefault();\n          if (this.open) {\n            this.shiftActiveItemIndex(-1);\n          }\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"ArrowDown\":\n          event.preventDefault();\n          if (this.open) {\n            this.shiftActiveItemIndex(1);\n          }\n          else {\n            this.open = true;\n            this.ensureRecentSelectedItemIsActive();\n          }\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \" \":\n          if (!this.textInput.value) {\n            if (!this.open) {\n              this.open = true;\n              this.shiftActiveItemIndex(1);\n            }\n            event.preventDefault();\n          }\n          break;\n        case \"Home\":\n          if (!this.open) {\n            return;\n          }\n          event.preventDefault();\n          this.updateActiveItemIndex(0);\n          this.scrollToActiveItem();\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"End\":\n          if (!this.open) {\n            return;\n          }\n          event.preventDefault();\n          this.updateActiveItemIndex(this.filteredItems.length - 1);\n          this.scrollToActiveItem();\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"Escape\":\n          if (!this.clearDisabled && !this.open) {\n            this.clearValue();\n          }\n          this.open = false;\n          event.preventDefault();\n          break;\n        case \"Enter\":\n          if (this.activeItemIndex > -1) {\n            this.toggleSelection(this.filteredItems[this.activeItemIndex]);\n            event.preventDefault();\n          }\n          else if (this.activeChipIndex > -1) {\n            this.removeActiveChip();\n            event.preventDefault();\n          }\n          else if (this.allowCustomValues && this.text) {\n            this.addCustomChip(this.text, true);\n            event.preventDefault();\n          }\n          else if (!event.defaultPrevented) {\n            if (submitForm(this)) {\n              event.preventDefault();\n            }\n          }\n          break;\n        case \"Delete\":\n        case \"Backspace\":\n          if (this.activeChipIndex > -1) {\n            event.preventDefault();\n            this.removeActiveChip();\n          }\n          else if (!this.text && this.isMulti()) {\n            event.preventDefault();\n            this.removeLastChip();\n          }\n          break;\n      }\n    };\n    this.toggleCloseEnd = () => {\n      this.open = false;\n      this.el.removeEventListener(\"calciteComboboxClose\", this.toggleCloseEnd);\n    };\n    this.toggleOpenEnd = () => {\n      this.open = false;\n      this.el.removeEventListener(\"calciteComboboxOpen\", this.toggleOpenEnd);\n    };\n    this.setMaxScrollerHeight = async () => {\n      const { listContainerEl, open, referenceEl } = this;\n      if (!listContainerEl || !open) {\n        return;\n      }\n      await this.reposition(true);\n      const maxScrollerHeight = this.getMaxScrollerHeight();\n      listContainerEl.style.maxHeight = maxScrollerHeight > 0 ? `${maxScrollerHeight}px` : \"\";\n      listContainerEl.style.minWidth = `${referenceEl.clientWidth}px`;\n      await this.reposition(true);\n    };\n    this.calciteChipCloseHandler = (comboboxItem) => {\n      this.open = false;\n      const selection = this.items.find((item) => item === comboboxItem);\n      if (selection) {\n        this.toggleSelection(selection, false);\n      }\n      this.calciteComboboxChipClose.emit();\n    };\n    this.clickHandler = (event) => {\n      const composedPath = event.composedPath();\n      if (composedPath.some((node) => node.tagName === \"CALCITE-CHIP\")) {\n        this.open = false;\n        event.preventDefault();\n        return;\n      }\n      if (composedPath.some((node) => node.classList?.contains(CSS.button))) {\n        this.clearValue();\n        event.preventDefault();\n        return;\n      }\n      this.open = !this.open;\n      this.ensureRecentSelectedItemIsActive();\n    };\n    this.refreshSelectionDisplay = async () => {\n      await componentLoaded(this);\n      if (isSingleLike(this.selectionMode)) {\n        return;\n      }\n      if (!this.textInput) {\n        return;\n      }\n      const { allSelectedIndicatorChipEl, chipContainerEl, selectionDisplay, placeholder, selectedIndicatorChipEl, textInput, } = this;\n      const chipContainerElGap = parseInt(getComputedStyle(chipContainerEl).gap.replace(\"px\", \"\"));\n      const chipContainerElWidth = getElementWidth(chipContainerEl);\n      const { fontSize, fontFamily } = getComputedStyle(textInput);\n      const inputTextWidth = getTextWidth(placeholder, `${fontSize} ${fontFamily}`);\n      const inputWidth = (inputTextWidth || parseInt(CoreSizing15)) + chipContainerElGap;\n      const allSelectedIndicatorChipElWidth = getElementWidth(allSelectedIndicatorChipEl);\n      const selectedIndicatorChipElWidth = getElementWidth(selectedIndicatorChipEl);\n      const largestSelectedIndicatorChipWidth = Math.max(allSelectedIndicatorChipElWidth, selectedIndicatorChipElWidth);\n      this.setCompactSelectionDisplay({\n        chipContainerElGap,\n        chipContainerElWidth,\n        inputWidth,\n        largestSelectedIndicatorChipWidth,\n      });\n      if (selectionDisplay === \"fit\") {\n        const chipEls = Array.from(this.el.shadowRoot.querySelectorAll(\"calcite-chip\")).filter((chipEl) => chipEl.closable);\n        const availableHorizontalChipElSpace = Math.round(chipContainerElWidth -\n          ((this.selectedHiddenChipsCount > 0 ? selectedIndicatorChipElWidth : 0) +\n            chipContainerElGap +\n            inputWidth +\n            chipContainerElGap));\n        this.refreshChipDisplay({ availableHorizontalChipElSpace, chipContainerElGap, chipEls });\n        this.setVisibleAndHiddenChips(chipEls);\n      }\n    };\n    this.setFloatingEl = (el) => {\n      this.floatingEl = el;\n      connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    };\n    this.setContainerEl = (el) => {\n      this.resizeObserver.observe(el);\n      this.listContainerEl = el;\n      this.transitionEl = el;\n    };\n    this.setChipContainerEl = (el) => {\n      this.resizeObserver.observe(el);\n      this.chipContainerEl = el;\n    };\n    this.setReferenceEl = (el) => {\n      this.referenceEl = el;\n      connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    };\n    this.setAllSelectedIndicatorChipEl = (el) => {\n      this.allSelectedIndicatorChipEl = el;\n    };\n    this.setSelectedIndicatorChipEl = (el) => {\n      this.selectedIndicatorChipEl = el;\n    };\n    this.inputHandler = (event) => {\n      const value = event.target.value;\n      this.text = value;\n      this.filterItems(value);\n      if (value) {\n        this.activeChipIndex = -1;\n      }\n    };\n    this.filterItems = (() => {\n      const find = (item, filteredData) => item &&\n        filteredData.some(({ label, value }) => isGroup(item) ? label === item.label : value === item.value && label === item.textLabel);\n      return debounce((text) => {\n        const filteredData = filter(this.data, text);\n        const itemsAndGroups = this.getItemsAndGroups();\n        itemsAndGroups.forEach((item) => {\n          const hidden = !find(item, filteredData);\n          item.hidden = hidden;\n          const [parent, grandparent] = item.ancestors;\n          if (find(parent, filteredData) || find(grandparent, filteredData)) {\n            item.hidden = false;\n          }\n          if (!hidden) {\n            item.ancestors.forEach((ancestor) => (ancestor.hidden = false));\n          }\n        });\n        this.filteredItems = this.getFilteredItems();\n        this.calciteComboboxFilterChange.emit();\n      }, 100);\n    })();\n    this.internalComboboxChangeEvent = () => {\n      this.calciteComboboxChange.emit();\n    };\n    this.emitComboboxChange = debounce(this.internalComboboxChangeEvent, 0);\n    this.getSelectedItems = () => {\n      if (!this.isMulti()) {\n        const match = this.items.find(({ selected }) => selected);\n        return match ? [match] : [];\n      }\n      return (this.items\n        .filter((item) => item.selected && (this.selectionMode !== \"ancestors\" || !hasActiveChildren(item)))\n        /** Preserve order of entered tags */\n        .sort((a, b) => {\n        const aIdx = this.selectedItems.indexOf(a);\n        const bIdx = this.selectedItems.indexOf(b);\n        if (aIdx > -1 && bIdx > -1) {\n          return aIdx - bIdx;\n        }\n        return bIdx - aIdx;\n      }));\n    };\n    this.updateItems = () => {\n      this.items = this.getItems();\n      this.groupItems = this.getGroupItems();\n      this.data = this.getData();\n      this.selectedItems = this.getSelectedItems();\n      this.filteredItems = this.getFilteredItems();\n      this.needsIcon = this.getNeedsIcon();\n      this.items.forEach((item) => {\n        item.selectionMode = this.selectionMode;\n        item.scale = this.scale;\n      });\n      if (!this.allowCustomValues) {\n        this.setMaxScrollerHeight();\n      }\n      this.groupItems.forEach((groupItem, index, items) => {\n        if (index === 0) {\n          groupItem.afterEmptyGroup = false;\n        }\n        const nextGroupItem = items[index + 1];\n        if (nextGroupItem) {\n          nextGroupItem.afterEmptyGroup = groupItem.children.length === 0;\n        }\n      });\n    };\n    this.scrollToActiveItem = () => {\n      const activeItem = this.filteredItems[this.activeItemIndex];\n      if (!activeItem) {\n        return;\n      }\n      const height = this.calculateSingleItemHeight(activeItem);\n      const { offsetHeight, scrollTop } = this.listContainerEl;\n      if (offsetHeight + scrollTop < activeItem.offsetTop + height) {\n        this.listContainerEl.scrollTop = activeItem.offsetTop - offsetHeight + height;\n      }\n      else if (activeItem.offsetTop < scrollTop) {\n        this.listContainerEl.scrollTop = activeItem.offsetTop;\n      }\n    };\n    this.comboboxFocusHandler = () => {\n      if (this.disabled) {\n        return;\n      }\n      this.textInput?.focus();\n    };\n    this.clearDisabled = false;\n    this.selectionDisplay = \"all\";\n    this.open = false;\n    this.disabled = false;\n    this.form = undefined;\n    this.label = undefined;\n    this.placeholder = undefined;\n    this.placeholderIcon = undefined;\n    this.placeholderIconFlipRtl = false;\n    this.maxItems = 0;\n    this.name = undefined;\n    this.allowCustomValues = undefined;\n    this.overlayPositioning = \"absolute\";\n    this.required = false;\n    this.selectionMode = \"multiple\";\n    this.scale = \"m\";\n    this.value = null;\n    this.flipPlacements = undefined;\n    this.messages = undefined;\n    this.messageOverrides = undefined;\n    this.selectedItems = [];\n    this.filteredItems = [];\n    this.items = [];\n    this.groupItems = [];\n    this.needsIcon = undefined;\n    this.activeItemIndex = -1;\n    this.activeChipIndex = -1;\n    this.activeDescendant = \"\";\n    this.compactSelectionDisplay = false;\n    this.selectedHiddenChipsCount = 0;\n    this.selectedVisibleChipsCount = 0;\n    this.text = \"\";\n    this.effectiveLocale = undefined;\n    this.defaultMessages = undefined;\n  }\n  openHandler() {\n    onToggleOpenCloseComponent(this);\n    if (this.disabled) {\n      this.open = false;\n      return;\n    }\n    this.setMaxScrollerHeight();\n  }\n  handleDisabledChange(value) {\n    if (!value) {\n      this.open = false;\n    }\n  }\n  maxItemsHandler() {\n    this.setMaxScrollerHeight();\n  }\n  overlayPositioningHandler() {\n    this.reposition(true);\n  }\n  handlePropsChange() {\n    this.updateItems();\n  }\n  valueHandler(value) {\n    if (!this.internalValueChangeFlag) {\n      const items = this.getItems();\n      if (Array.isArray(value)) {\n        items.forEach((item) => (item.selected = value.includes(item.value)));\n      }\n      else if (value) {\n        items.forEach((item) => (item.selected = value === item.value));\n      }\n      else {\n        items.forEach((item) => (item.selected = false));\n      }\n      this.updateItems();\n    }\n  }\n  onMessagesChange() {\n    /*  wired up by t9n util */\n  }\n  flipPlacementsHandler() {\n    this.setFilteredPlacements();\n    this.reposition(true);\n  }\n  selectedItemsHandler() {\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n  documentClickHandler(event) {\n    if (this.disabled || !isPrimaryPointerButton(event)) {\n      return;\n    }\n    const composedPath = event.composedPath();\n    if (composedPath.includes(this.el) || composedPath.includes(this.referenceEl)) {\n      return;\n    }\n    if (!this.allowCustomValues && this.textInput.value) {\n      this.clearInputValue();\n      this.filterItems(\"\");\n      this.updateActiveItemIndex(-1);\n    }\n    if (this.allowCustomValues && this.text.trim().length) {\n      this.addCustomChip(this.text);\n    }\n    this.open = false;\n  }\n  calciteComboboxItemChangeHandler(event) {\n    if (this.ignoreSelectedEventsFlag) {\n      return;\n    }\n    const target = event.target;\n    const newIndex = this.filteredItems.indexOf(target);\n    this.updateActiveItemIndex(newIndex);\n    this.toggleSelection(target, target.selected);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n  /**\n   * Updates the position of the component.\n   *\n   * @param delayed Reposition the component after a delay\n   * @returns Promise\n   */\n  async reposition(delayed = false) {\n    const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;\n    return reposition(this, {\n      floatingEl,\n      referenceEl,\n      overlayPositioning,\n      placement,\n      flipPlacements: filteredFlipPlacements,\n      type: \"menu\",\n    }, delayed);\n  }\n  /** Sets focus on the component. */\n  async setFocus() {\n    await componentFocusable(this);\n    this.textInput?.focus();\n    this.activeChipIndex = -1;\n    this.activeItemIndex = -1;\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  connectedCallback() {\n    connectInteractive(this);\n    connectLocalized(this);\n    connectMessages(this);\n    connectLabel(this);\n    connectForm(this);\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n    this.updateItems();\n    this.setFilteredPlacements();\n    this.reposition(true);\n    if (this.open) {\n      this.openHandler();\n      onToggleOpenCloseComponent(this);\n    }\n  }\n  async componentWillLoad() {\n    setUpLoadableComponent(this);\n    this.updateItems();\n    await setUpMessages(this);\n  }\n  componentDidLoad() {\n    afterConnectDefaultValueSet(this, this.getValue());\n    this.reposition(true);\n    setComponentLoaded(this);\n  }\n  componentDidRender() {\n    if (this.el.offsetHeight !== this.inputHeight) {\n      this.reposition(true);\n      this.inputHeight = this.el.offsetHeight;\n    }\n    updateHostInteraction(this);\n  }\n  componentDidUpdate() {\n    this.refreshSelectionDisplay();\n  }\n  disconnectedCallback() {\n    this.mutationObserver?.disconnect();\n    this.resizeObserver?.disconnect();\n    disconnectInteractive(this);\n    disconnectLabel(this);\n    disconnectForm(this);\n    disconnectFloatingUI(this, this.referenceEl, this.floatingEl);\n    disconnectLocalized(this);\n    disconnectMessages(this);\n  }\n  /** when search text is cleared, reset active to  */\n  textHandler() {\n    this.updateActiveItemIndex(-1);\n  }\n  effectiveLocaleChange() {\n    updateMessages(this, this.effectiveLocale);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  // --------------------------------------------------------------------------\n  clearValue() {\n    this.ignoreSelectedEventsFlag = true;\n    this.items.forEach((el) => (el.selected = false));\n    this.ignoreSelectedEventsFlag = false;\n    this.selectedItems = [];\n    this.emitComboboxChange();\n    this.open = false;\n    this.updateActiveItemIndex(-1);\n    this.resetText();\n    this.filterItems(\"\");\n    this.setFocus();\n  }\n  clearInputValue() {\n    this.textInput.value = \"\";\n    this.text = \"\";\n  }\n  comboboxInViewport() {\n    const bounding = this.el.getBoundingClientRect();\n    return (bounding.top >= 0 &&\n      bounding.left >= 0 &&\n      bounding.right <= (window.innerWidth || document.documentElement.clientWidth) &&\n      bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight));\n  }\n  onBeforeOpen() {\n    this.scrollToActiveItem();\n    this.calciteComboboxBeforeOpen.emit();\n  }\n  onOpen() {\n    this.calciteComboboxOpen.emit();\n  }\n  onBeforeClose() {\n    this.calciteComboboxBeforeClose.emit();\n  }\n  onClose() {\n    this.calciteComboboxClose.emit();\n  }\n  ensureRecentSelectedItemIsActive() {\n    const { selectedItems } = this;\n    const targetIndex = selectedItems.length === 0 ? 0 : this.items.indexOf(selectedItems[selectedItems.length - 1]);\n    this.updateActiveItemIndex(targetIndex);\n  }\n  hideChip(chipEl) {\n    chipEl.classList.add(CSS$1.chipInvisible);\n  }\n  showChip(chipEl) {\n    chipEl.classList.remove(CSS$1.chipInvisible);\n  }\n  refreshChipDisplay({ chipEls, availableHorizontalChipElSpace, chipContainerElGap, }) {\n    chipEls.forEach((chipEl) => {\n      if (!chipEl.selected) {\n        this.hideChip(chipEl);\n      }\n      else {\n        const chipElWidth = getElementWidth(chipEl);\n        if (chipElWidth && chipElWidth < availableHorizontalChipElSpace) {\n          availableHorizontalChipElSpace -= chipElWidth + chipContainerElGap;\n          this.showChip(chipEl);\n          return;\n        }\n      }\n      this.hideChip(chipEl);\n    });\n  }\n  setCompactSelectionDisplay({ chipContainerElGap, chipContainerElWidth, inputWidth, largestSelectedIndicatorChipWidth, }) {\n    const newCompactBreakpoint = Math.round(largestSelectedIndicatorChipWidth + chipContainerElGap + inputWidth);\n    if (!this.maxCompactBreakpoint || this.maxCompactBreakpoint < newCompactBreakpoint) {\n      this.maxCompactBreakpoint = newCompactBreakpoint;\n    }\n    this.compactSelectionDisplay = chipContainerElWidth < this.maxCompactBreakpoint;\n  }\n  setVisibleAndHiddenChips(chipEls) {\n    let newSelectedVisibleChipsCount = 0;\n    chipEls.forEach((chipEl) => {\n      if (chipEl.selected && !chipEl.classList.contains(CSS$1.chipInvisible)) {\n        newSelectedVisibleChipsCount++;\n      }\n    });\n    if (newSelectedVisibleChipsCount !== this.selectedVisibleChipsCount) {\n      this.selectedVisibleChipsCount = newSelectedVisibleChipsCount;\n    }\n    const newSelectedHiddenChipsCount = this.getSelectedItems().length - newSelectedVisibleChipsCount;\n    if (newSelectedHiddenChipsCount !== this.selectedHiddenChipsCount) {\n      this.selectedHiddenChipsCount = newSelectedHiddenChipsCount;\n    }\n  }\n  getMaxScrollerHeight() {\n    const items = this.getItemsAndGroups().filter((item) => !item.hidden);\n    const { maxItems } = this;\n    let itemsToProcess = 0;\n    let maxScrollerHeight = 0;\n    if (items.length > maxItems) {\n      items.forEach((item) => {\n        if (itemsToProcess < maxItems && maxItems > 0) {\n          const height = this.calculateSingleItemHeight(item);\n          if (height > 0) {\n            maxScrollerHeight += height;\n            itemsToProcess++;\n          }\n        }\n      });\n    }\n    return maxScrollerHeight;\n  }\n  calculateSingleItemHeight(item) {\n    if (!item) {\n      return;\n    }\n    let height = item.offsetHeight;\n    // if item has children items, don't count their height twice\n    const children = Array.from(item.querySelectorAll(ComboboxChildSelector));\n    children\n      .map((child) => child?.offsetHeight)\n      .forEach((offsetHeight) => {\n      height -= offsetHeight;\n    });\n    return height;\n  }\n  getItemsAndGroups() {\n    return [...this.groupItems, ...this.items];\n  }\n  toggleSelection(item, value = !item.selected) {\n    if (!item ||\n      (this.selectionMode === \"single-persist\" && item.selected && item.value === this.value)) {\n      return;\n    }\n    if (this.isMulti()) {\n      item.selected = value;\n      this.updateAncestors(item);\n      this.selectedItems = this.getSelectedItems();\n      this.emitComboboxChange();\n      this.resetText();\n      this.filterItems(\"\");\n    }\n    else {\n      this.ignoreSelectedEventsFlag = true;\n      this.items.forEach((el) => (el.selected = el === item ? value : false));\n      this.ignoreSelectedEventsFlag = false;\n      this.selectedItems = this.getSelectedItems();\n      this.emitComboboxChange();\n      if (this.textInput) {\n        this.textInput.value = item.textLabel;\n      }\n      this.open = false;\n      this.updateActiveItemIndex(-1);\n      this.resetText();\n      this.filterItems(\"\");\n    }\n  }\n  updateAncestors(item) {\n    if (this.selectionMode !== \"ancestors\") {\n      return;\n    }\n    const ancestors = getItemAncestors(item);\n    const children = getItemChildren(item);\n    if (item.selected) {\n      ancestors.forEach((el) => {\n        el.selected = true;\n      });\n    }\n    else {\n      children.forEach((el) => (el.selected = false));\n      [...ancestors].forEach((el) => {\n        if (!hasActiveChildren(el)) {\n          el.selected = false;\n        }\n      });\n    }\n  }\n  getFilteredItems() {\n    return this.items.filter((item) => !item.hidden);\n  }\n  getData() {\n    return this.items.map((item) => ({\n      filterDisabled: item.filterDisabled,\n      value: item.value,\n      label: item.textLabel,\n    }));\n  }\n  getNeedsIcon() {\n    return isSingleLike(this.selectionMode) && this.items.some((item) => item.icon);\n  }\n  resetText() {\n    if (this.textInput) {\n      this.textInput.value = \"\";\n    }\n    this.text = \"\";\n  }\n  getItems() {\n    const items = Array.from(this.el.querySelectorAll(ComboboxItem));\n    return items.filter((item) => !item.disabled);\n  }\n  getGroupItems() {\n    return Array.from(this.el.querySelectorAll(ComboboxItemGroup));\n  }\n  addCustomChip(value, focus) {\n    const existingItem = this.items.find((el) => el.textLabel === value);\n    if (existingItem) {\n      this.toggleSelection(existingItem, true);\n    }\n    else {\n      if (!this.isMulti()) {\n        this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n      }\n      const item = document.createElement(ComboboxItem);\n      item.value = value;\n      item.textLabel = value;\n      item.selected = true;\n      this.el.appendChild(item);\n      this.resetText();\n      if (focus) {\n        this.setFocus();\n      }\n      this.updateItems();\n      this.filterItems(\"\");\n      this.emitComboboxChange();\n    }\n  }\n  removeActiveChip() {\n    this.toggleSelection(this.selectedItems[this.activeChipIndex], false);\n    this.setFocus();\n  }\n  removeLastChip() {\n    this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n    this.setFocus();\n  }\n  previousChip() {\n    if (this.text) {\n      return;\n    }\n    const length = this.selectedItems.length - 1;\n    const active = this.activeChipIndex;\n    this.activeChipIndex = active === -1 ? length : Math.max(active - 1, 0);\n    this.updateActiveItemIndex(-1);\n    this.focusChip();\n  }\n  nextChip() {\n    if (this.text || this.activeChipIndex === -1) {\n      return;\n    }\n    const last = this.selectedItems.length - 1;\n    const newIndex = this.activeChipIndex + 1;\n    if (newIndex > last) {\n      this.activeChipIndex = -1;\n      this.setFocus();\n    }\n    else {\n      this.activeChipIndex = newIndex;\n      this.focusChip();\n    }\n    this.updateActiveItemIndex(-1);\n  }\n  focusChip() {\n    const guid = this.selectedItems[this.activeChipIndex]?.guid;\n    const chip = guid\n      ? this.referenceEl.querySelector(`#${chipUidPrefix}${guid}`)\n      : null;\n    chip?.setFocus();\n  }\n  shiftActiveItemIndex(delta) {\n    const { length } = this.filteredItems;\n    const newIndex = (this.activeItemIndex + length + delta) % length;\n    this.updateActiveItemIndex(newIndex);\n    this.scrollToActiveItem();\n  }\n  updateActiveItemIndex(index) {\n    this.activeItemIndex = index;\n    let activeDescendant = null;\n    this.filteredItems.forEach((el, i) => {\n      if (i === index) {\n        el.active = true;\n        activeDescendant = `${itemUidPrefix}${el.guid}`;\n      }\n      else {\n        el.active = false;\n      }\n    });\n    this.activeDescendant = activeDescendant;\n    if (this.activeItemIndex > -1) {\n      this.activeChipIndex = -1;\n    }\n  }\n  isAllSelected() {\n    return this.getItems().length === this.getSelectedItems().length;\n  }\n  isMulti() {\n    return !isSingleLike(this.selectionMode);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  //--------------------------------------------------------------------------\n  renderChips() {\n    const { activeChipIndex, scale, selectionMode, messages } = this;\n    return this.selectedItems.map((item, i) => {\n      const chipClasses = {\n        chip: true,\n        \"chip--active\": activeChipIndex === i,\n      };\n      const ancestors = [...getItemAncestors(item)].reverse();\n      const pathLabel = [...ancestors, item].map((el) => el.textLabel);\n      const label = selectionMode !== \"ancestors\" ? item.textLabel : pathLabel.join(\" / \");\n      return (h(\"calcite-chip\", { class: chipClasses, closable: true, icon: item.icon, iconFlipRtl: item.iconFlipRtl, id: item.guid ? `${chipUidPrefix}${item.guid}` : null, key: item.textLabel, messageOverrides: { dismissLabel: messages.removeTag }, onCalciteChipClose: () => this.calciteChipCloseHandler(item), scale: scale, selected: item.selected, title: label, value: item.value }, label));\n    });\n  }\n  renderAllSelectedIndicatorChip() {\n    const { compactSelectionDisplay, scale, selectedVisibleChipsCount, setAllSelectedIndicatorChipEl, } = this;\n    const label = this.messages.allSelected;\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: !(this.isAllSelected() &&\n          !selectedVisibleChipsCount &&\n          !compactSelectionDisplay),\n      }, scale: scale, title: label, value: \"\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setAllSelectedIndicatorChipEl }, label));\n  }\n  renderAllSelectedIndicatorChipCompact() {\n    const { compactSelectionDisplay, scale, selectedVisibleChipsCount } = this;\n    const label = this.messages.all || \"All\";\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: !(this.isAllSelected() &&\n          !selectedVisibleChipsCount &&\n          compactSelectionDisplay),\n      }, scale: scale, title: label, value: \"\" }, label));\n  }\n  renderSelectedIndicatorChip() {\n    const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, selectedVisibleChipsCount, setSelectedIndicatorChipEl, } = this;\n    let chipInvisible;\n    let label;\n    if (compactSelectionDisplay) {\n      chipInvisible = true;\n    }\n    else {\n      if (selectionDisplay === \"single\") {\n        const selectedItemsCount = getSelectedItems().length;\n        if (this.isAllSelected()) {\n          chipInvisible = true;\n        }\n        else if (selectedItemsCount > 0) {\n          chipInvisible = false;\n        }\n        else {\n          chipInvisible = true;\n        }\n        label = `${selectedItemsCount} ${this.messages.selected}`;\n      }\n      else if (selectionDisplay === \"fit\") {\n        chipInvisible = !!((this.isAllSelected() && selectedVisibleChipsCount === 0) ||\n          selectedHiddenChipsCount === 0);\n        label =\n          selectedVisibleChipsCount > 0\n            ? `+${selectedHiddenChipsCount}`\n            : `${selectedHiddenChipsCount} ${this.messages.selected}`;\n      }\n    }\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: chipInvisible,\n      }, scale: scale, title: label, value: \"\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setSelectedIndicatorChipEl }, label));\n  }\n  renderSelectedIndicatorChipCompact() {\n    const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, } = this;\n    let chipInvisible;\n    let label;\n    if (compactSelectionDisplay) {\n      const selectedItemsCount = getSelectedItems().length;\n      if (this.isAllSelected()) {\n        chipInvisible = true;\n      }\n      else if (selectionDisplay === \"fit\") {\n        chipInvisible = !(selectedHiddenChipsCount > 0);\n        label = `${selectedHiddenChipsCount || 0}`;\n      }\n      else if (selectionDisplay === \"single\") {\n        chipInvisible = !(selectedItemsCount > 0);\n        label = `${selectedItemsCount}`;\n      }\n    }\n    else {\n      chipInvisible = true;\n    }\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: chipInvisible,\n      }, scale: scale, title: label, value: \"\" }, label));\n  }\n  renderInput() {\n    const { guid, disabled, placeholder, selectionMode, selectedItems, open } = this;\n    const single = isSingleLike(selectionMode);\n    const selectedItem = selectedItems[0];\n    const showLabel = !open && single && !!selectedItem;\n    return (h(\"span\", { class: {\n        \"input-wrap\": true,\n        \"input-wrap--single\": single,\n      } }, showLabel && (h(\"span\", { class: {\n        label: true,\n        \"label--icon\": !!selectedItem?.icon,\n      }, key: \"label\" }, selectedItem.textLabel)), h(\"input\", { \"aria-activedescendant\": this.activeDescendant, \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-label\": getLabelText(this), class: {\n        input: true,\n        \"input--single\": true,\n        \"input--transparent\": this.activeChipIndex > -1,\n        \"input--hidden\": showLabel,\n        \"input--icon\": !!this.placeholderIcon,\n      }, disabled: disabled, id: `${inputUidPrefix}${guid}`, key: \"input\", onFocus: this.comboboxFocusHandler, onInput: this.inputHandler, placeholder: placeholder, type: \"text\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: (el) => (this.textInput = el) })));\n  }\n  renderListBoxOptions() {\n    return this.filteredItems.map((item) => (h(\"li\", { \"aria-selected\": toAriaBoolean(item.selected), id: item.guid ? `${itemUidPrefix}${item.guid}` : null, role: \"option\", tabindex: \"-1\" }, item.textLabel)));\n  }\n  renderFloatingUIContainer() {\n    const { setFloatingEl, setContainerEl, open } = this;\n    const classes = {\n      [CSS$1.listContainer]: true,\n      [FloatingCSS.animation]: true,\n      [FloatingCSS.animationActive]: open,\n    };\n    return (h(\"div\", { \"aria-hidden\": \"true\", class: {\n        \"floating-ui-container\": true,\n        \"floating-ui-container--active\": open,\n      },\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setFloatingEl }, h(\"div\", { class: classes,\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setContainerEl }, h(\"ul\", { class: { list: true, \"list--hide\": !open } }, h(\"slot\", null)))));\n  }\n  renderIconStart() {\n    const { selectedItems, placeholderIcon, selectionMode, placeholderIconFlipRtl } = this;\n    const selectedItem = selectedItems[0];\n    const selectedIcon = selectedItem?.icon;\n    const singleSelectionMode = isSingleLike(selectionMode);\n    const iconAtStart = !this.open && selectedItem\n      ? !!selectedIcon && singleSelectionMode\n      : !!this.placeholderIcon && (!selectedItem || singleSelectionMode);\n    return (iconAtStart && (h(\"span\", { class: \"icon-start\" }, h(\"calcite-icon\", { class: \"selected-icon\", flipRtl: this.open && selectedItem ? selectedItem.iconFlipRtl : placeholderIconFlipRtl, icon: !this.open && selectedItem ? selectedIcon : placeholderIcon, scale: getIconScale(this.scale) }))));\n  }\n  renderIconEnd() {\n    const { open } = this;\n    return (h(\"span\", { class: \"icon-end\" }, h(\"calcite-icon\", { icon: open ? \"chevron-up\" : \"chevron-down\", scale: getIconScale(this.scale) })));\n  }\n  render() {\n    const { selectionDisplay, guid, label, open } = this;\n    const singleSelectionMode = isSingleLike(this.selectionMode);\n    const allSelectionDisplay = selectionDisplay === \"all\";\n    const singleSelectionDisplay = selectionDisplay === \"single\";\n    const fitSelectionDisplay = !singleSelectionMode && selectionDisplay === \"fit\";\n    const isClearable = !this.clearDisabled && this.value?.length > 0;\n    return (h(Host, { onClick: this.comboboxFocusHandler }, h(\"div\", { \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-expanded\": toAriaBoolean(open), \"aria-haspopup\": \"listbox\", \"aria-label\": getLabelText(this), \"aria-live\": \"polite\", \"aria-owns\": `${listboxUidPrefix}${guid}`, class: {\n        wrapper: true,\n        \"wrapper--single\": singleSelectionMode || !this.selectedItems.length,\n        \"wrapper--active\": open,\n      }, onClick: this.clickHandler, onKeyDown: this.keyDownHandler, role: \"combobox\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: this.setReferenceEl }, h(\"div\", { class: {\n        \"grid-input\": true,\n        [CSS$1.selectionDisplayFit]: fitSelectionDisplay,\n        [CSS$1.selectionDisplaySingle]: singleSelectionDisplay,\n      }, ref: this.setChipContainerEl }, this.renderIconStart(), !singleSelectionMode && !singleSelectionDisplay && this.renderChips(), !singleSelectionMode &&\n      !allSelectionDisplay && [\n      this.renderSelectedIndicatorChip(),\n      this.renderSelectedIndicatorChipCompact(),\n      this.renderAllSelectedIndicatorChip(),\n      this.renderAllSelectedIndicatorChipCompact(),\n    ], h(\"label\", { class: \"screen-readers-only\", htmlFor: `${inputUidPrefix}${guid}`, id: `${labelUidPrefix}${guid}` }, label), this.renderInput()), isClearable ? (h(XButton, { disabled: this.disabled, key: \"close-button\", label: this.messages.clear, scale: this.scale })) : null, this.renderIconEnd()), h(\"ul\", { \"aria-labelledby\": `${labelUidPrefix}${guid}`, \"aria-multiselectable\": \"true\", class: \"screen-readers-only\", id: `${listboxUidPrefix}${guid}`, role: \"listbox\", tabIndex: -1 }, this.renderListBoxOptions()), this.renderFloatingUIContainer(), h(HiddenFormInputSlot, { component: this })));\n  }\n  static get assetsDirs() { return [\"assets\"]; }\n  get el() { return this; }\n  static get watchers() { return {\n    \"open\": [\"openHandler\"],\n    \"disabled\": [\"handleDisabledChange\"],\n    \"maxItems\": [\"maxItemsHandler\"],\n    \"overlayPositioning\": [\"overlayPositioningHandler\"],\n    \"selectionMode\": [\"handlePropsChange\"],\n    \"scale\": [\"handlePropsChange\"],\n    \"value\": [\"valueHandler\"],\n    \"messageOverrides\": [\"onMessagesChange\"],\n    \"flipPlacements\": [\"flipPlacementsHandler\"],\n    \"selectedItems\": [\"selectedItemsHandler\"],\n    \"text\": [\"textHandler\"],\n    \"effectiveLocale\": [\"effectiveLocaleChange\"]\n  }; }\n  static get style() { return comboboxCss; }\n}, [1, \"calcite-combobox\", {\n    \"clearDisabled\": [516, \"clear-disabled\"],\n    \"selectionDisplay\": [513, \"selection-display\"],\n    \"open\": [1540],\n    \"disabled\": [516],\n    \"form\": [513],\n    \"label\": [1],\n    \"placeholder\": [1],\n    \"placeholderIcon\": [513, \"placeholder-icon\"],\n    \"placeholderIconFlipRtl\": [516, \"placeholder-icon-flip-rtl\"],\n    \"maxItems\": [514, \"max-items\"],\n    \"name\": [513],\n    \"allowCustomValues\": [516, \"allow-custom-values\"],\n    \"overlayPositioning\": [513, \"overlay-positioning\"],\n    \"required\": [516],\n    \"selectionMode\": [513, \"selection-mode\"],\n    \"scale\": [513],\n    \"value\": [1025],\n    \"flipPlacements\": [16],\n    \"messages\": [1040],\n    \"messageOverrides\": [1040],\n    \"selectedItems\": [1040],\n    \"filteredItems\": [1040],\n    \"items\": [32],\n    \"groupItems\": [32],\n    \"needsIcon\": [32],\n    \"activeItemIndex\": [32],\n    \"activeChipIndex\": [32],\n    \"activeDescendant\": [32],\n    \"compactSelectionDisplay\": [32],\n    \"selectedHiddenChipsCount\": [32],\n    \"selectedVisibleChipsCount\": [32],\n    \"text\": [32],\n    \"effectiveLocale\": [32],\n    \"defaultMessages\": [32],\n    \"reposition\": [64],\n    \"setFocus\": [64]\n  }, [[5, \"pointerdown\", \"documentClickHandler\"], [0, \"calciteComboboxItemChange\", \"calciteComboboxItemChangeHandler\"]]]);\nfunction defineCustomElement() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"calcite-combobox\", \"calcite-chip\", \"calcite-icon\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"calcite-combobox\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Combobox);\n      }\n      break;\n    case \"calcite-chip\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$2();\n      }\n      break;\n    case \"calcite-icon\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$1();\n      }\n      break;\n  } });\n}\ndefineCustomElement();\n\nexport { Combobox as C, defineCustomElement as d };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\nimport { o as nodeListToArray } from './dom.js';\nimport { Build } from '@stencil/core/internal/client/index.js';\n\nconst ComboboxItem = \"CALCITE-COMBOBOX-ITEM\";\nconst ComboboxItemGroup = \"CALCITE-COMBOBOX-ITEM-GROUP\";\nconst ComboboxChildSelector = `${ComboboxItem}, ${ComboboxItemGroup}`;\nconst CSS = {\n  chipInvisible: \"chip--invisible\",\n  selectionDisplayFit: \"selection-display-fit\",\n  selectionDisplaySingle: \"selection-display-single\",\n  listContainer: \"list-container\",\n};\n\nfunction getAncestors(element) {\n  const parent = element.parentElement?.closest(ComboboxChildSelector);\n  const grandparent = parent?.parentElement?.closest(ComboboxChildSelector);\n  return [parent, grandparent].filter((el) => el);\n}\nfunction getItemAncestors(item) {\n  return (item.ancestors?.filter((el) => el.nodeName === \"CALCITE-COMBOBOX-ITEM\") || []);\n}\nfunction getItemChildren(item) {\n  return nodeListToArray(item.querySelectorAll(\"calcite-combobox-item\"));\n}\nfunction hasActiveChildren(node) {\n  const items = nodeListToArray(node.querySelectorAll(\"calcite-combobox-item\"));\n  return items.filter((item) => item.selected).length > 0;\n}\nfunction getDepth(element) {\n  if (!Build.isBrowser) {\n    return 0;\n  }\n  const result = document.evaluate(\"ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group\", element, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);\n  return result.snapshotLength;\n}\nfunction isSingleLike(selectionMode) {\n  return selectionMode.includes(\"single\");\n}\n\nexport { CSS as C, getDepth as a, ComboboxChildSelector as b, getItemAncestors as c, getItemChildren as d, ComboboxItem as e, ComboboxItemGroup as f, getAncestors as g, hasActiveChildren as h, isSingleLike as i };\n"],"names":["CoreSizing15","CoreBreakpointWidthDefaultXxs","CoreBreakpointWidthDefaultXs","CoreBreakpointWidthDefaultSm","CoreBreakpointWidthDefaultMd","CoreBreakpointWidthDefaultLg","C","a","b","c","d","e","h","proxyCustomElement","HTMLElement","createEvent","Host","f","filter","u","getElementWidth","v","getTextWidth","j","isPrimaryPointerButton","t","toAriaBoolean","defaultMenuPlacement","filterComputedPlacements","connectFloatingUI","r","reposition","disconnectFloatingUI","F","FloatingCSS","s","submitForm","connectForm","afterConnectDefaultValueSet","disconnectForm","H","HiddenFormInputSlot","g","guid","connectInteractive","updateHostInteraction","disconnectInteractive","connectLabel","disconnectLabel","getLabelText","componentLoaded","componentFocusable","setUpLoadableComponent","setComponentLoaded","connectLocalized","disconnectLocalized","createObserver","o","onToggleOpenCloseComponent","connectMessages","setUpMessages","disconnectMessages","updateMessages","i","isSingleLike","hasActiveChildren","CSS$1","ComboboxChildSelector","getItemAncestors","getItemChildren","ComboboxItem","ComboboxItemGroup","getIconScale","defineCustomElement$2","defineCustomElement$1","debounce","CSS","button","XButton","disabled","key","label","onClick","ref","scale","class","tabIndex","type","icon","comboboxCss","isGroup","el","tagName","itemUidPrefix","chipUidPrefix","labelUidPrefix","listboxUidPrefix","inputUidPrefix","Combobox","constructor","__registerHost","__attachShadow","calciteComboboxChange","calciteComboboxFilterChange","calciteComboboxChipClose","calciteComboboxBeforeClose","calciteComboboxClose","calciteComboboxBeforeOpen","calciteComboboxOpen","placement","internalValueChangeFlag","textInput","mutationObserver","updateItems","resizeObserver","setMaxScrollerHeight","refreshSelectionDisplay","inputHeight","ignoreSelectedEventsFlag","openTransitionProp","setFilteredPlacements","flipPlacements","filteredFlipPlacements","getValue","items","selectedItems","map","item","value","toString","length","onLabelClick","setFocus","keyDownHandler","event","activeChipIndex","activeItemIndex","allowCustomValues","text","addCustomChip","preventDefault","open","clearInputValue","filterItems","updateActiveItemIndex","previousChip","nextChip","shiftActiveItemIndex","comboboxInViewport","scrollIntoView","ensureRecentSelectedItemIsActive","scrollToActiveItem","filteredItems","clearDisabled","clearValue","toggleSelection","removeActiveChip","defaultPrevented","isMulti","removeLastChip","toggleCloseEnd","removeEventListener","toggleOpenEnd","listContainerEl","referenceEl","maxScrollerHeight","getMaxScrollerHeight","style","maxHeight","minWidth","clientWidth","calciteChipCloseHandler","comboboxItem","selection","find","emit","clickHandler","composedPath","some","node","classList","contains","selectionMode","allSelectedIndicatorChipEl","chipContainerEl","selectionDisplay","placeholder","selectedIndicatorChipEl","chipContainerElGap","parseInt","getComputedStyle","gap","replace","chipContainerElWidth","fontSize","fontFamily","inputTextWidth","inputWidth","allSelectedIndicatorChipElWidth","selectedIndicatorChipElWidth","largestSelectedIndicatorChipWidth","Math","max","setCompactSelectionDisplay","chipEls","Array","from","shadowRoot","querySelectorAll","chipEl","closable","availableHorizontalChipElSpace","round","selectedHiddenChipsCount","refreshChipDisplay","setVisibleAndHiddenChips","setFloatingEl","floatingEl","setContainerEl","observe","transitionEl","setChipContainerEl","setReferenceEl","setAllSelectedIndicatorChipEl","setSelectedIndicatorChipEl","inputHandler","target","filteredData","textLabel","data","itemsAndGroups","getItemsAndGroups","forEach","hidden","parent","grandparent","ancestors","ancestor","getFilteredItems","internalComboboxChangeEvent","emitComboboxChange","getSelectedItems","match","selected","sort","aIdx","indexOf","bIdx","getItems","groupItems","getGroupItems","getData","needsIcon","getNeedsIcon","groupItem","index","afterEmptyGroup","nextGroupItem","children","activeItem","height","calculateSingleItemHeight","offsetHeight","scrollTop","offsetTop","comboboxFocusHandler","focus","form","undefined","placeholderIcon","placeholderIconFlipRtl","maxItems","name","overlayPositioning","required","messages","messageOverrides","activeDescendant","compactSelectionDisplay","selectedVisibleChipsCount","effectiveLocale","defaultMessages","openHandler","handleDisabledChange","maxItemsHandler","overlayPositioningHandler","handlePropsChange","valueHandler","isArray","includes","onMessagesChange","flipPlacementsHandler","selectedItemsHandler","documentClickHandler","trim","calciteComboboxItemChangeHandler","newIndex","delayed","connectedCallback","childList","subtree","componentWillLoad","componentDidLoad","componentDidRender","componentDidUpdate","disconnectedCallback","disconnect","textHandler","effectiveLocaleChange","resetText","bounding","getBoundingClientRect","top","left","right","window","innerWidth","document","documentElement","bottom","innerHeight","clientHeight","onBeforeOpen","onOpen","onBeforeClose","onClose","targetIndex","hideChip","add","chipInvisible","showChip","remove","chipElWidth","newCompactBreakpoint","maxCompactBreakpoint","newSelectedVisibleChipsCount","newSelectedHiddenChipsCount","itemsToProcess","child","updateAncestors","filterDisabled","existingItem","createElement","appendChild","active","focusChip","last","chip","querySelector","delta","isAllSelected","renderChips","chipClasses","reverse","pathLabel","join","iconFlipRtl","id","dismissLabel","removeTag","onCalciteChipClose","title","renderAllSelectedIndicatorChip","allSelected","renderAllSelectedIndicatorChipCompact","all","renderSelectedIndicatorChip","selectedItemsCount","renderSelectedIndicatorChipCompact","renderInput","single","selectedItem","showLabel","input","onFocus","onInput","renderListBoxOptions","role","tabindex","renderFloatingUIContainer","classes","listContainer","animation","animationActive","list","renderIconStart","selectedIcon","singleSelectionMode","iconAtStart","flipRtl","renderIconEnd","render","allSelectionDisplay","singleSelectionDisplay","fitSelectionDisplay","isClearable","wrapper","onKeyDown","selectionDisplayFit","selectionDisplaySingle","htmlFor","clear","component","assetsDirs","watchers","defineCustomElement","customElements","components","get","define","nodeListToArray","Build","getAncestors","element","parentElement","closest","nodeName","getDepth","isBrowser","result","evaluate","XPathResult","UNORDERED_NODE_SNAPSHOT_TYPE","snapshotLength"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2]}