{"version":3,"file":"default-node_modules_arcgis_core_views_draw_DrawOperation_js-node_modules_arcgis_core_views_d-04e862.js","mappings":"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","sources":["./node_modules/@arcgis/core/views/draw/DrawManipulator.js","./node_modules/@arcgis/core/views/draw/DrawOperation.js","./node_modules/@arcgis/core/views/draw/DrawingMode.js","./node_modules/@arcgis/core/views/draw/drawSurfaces.js","./node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","./node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Evented.js\";class t{constructor({grabbableForEvent:t}){this.events=new e,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.consumesClicks=!0,this.grabbableForEvent=t}destroy(){}intersectionDistance(e,t){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}}export{t as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{clone as n}from\"../../core/lang.js\";import{destroyMaybe as o,equalsMaybe as r}from\"../../core/maybe.js\";import{ignoreAbortErrors as s}from\"../../core/promiseUtils.js\";import{watch as a,syncAndInitial as p}from\"../../core/reactiveUtils.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{diff as h}from\"../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as g}from\"../../core/support/UpdatingHandles.js\";import{pointEquals as u}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{getEffectiveElevationInfo as m}from\"../../support/elevationInfoUtils.js\";import{ViewingMode as v}from\"../ViewingMode.js\";import{defaultDrawingMode as y}from\"./DrawingMode.js\";import{DrawManipulator as _}from\"./DrawManipulator.js\";import{createCoordinateHelper as f}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as x,sceneSnappingAtLocation as S}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as w,Component as V}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as O}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{fromPoint as T,toDehydratedPoint as b}from\"../interactive/sketch/normalizedPoint.js\";import M from\"../interactive/sketch/SketchLabelOptions.js\";import P from\"../interactive/sketch/SketchTooltipOptions.js\";import{SnappingContext as C}from\"../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as D}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as I}from\"../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as E}from\"../interactive/snapping/snappingUtils.js\";const H=\"crosshair\",j=\"progress\";let k=class extends(i.EventedMixin(t)){constructor(e){super(e),this._createOperationCompleted=!1,this._hideDefaultCursor=!1,this._pointerDownStates=new Set,this._stagedScreenPoint=null,this._stagedPointerType=null,this._stagedPointerId=null,this._updatingHandles=new g,this.constraint=void 0,this.isDraped=!0,this.labelOptions=new M,this.tooltipOptions=new P,this.cursor=null,this.loading=!1,this.snapToSceneEnabled=null,this.lastVertex=null,null==e.elevationInfo&&(this.elevationInfo=m(!!e.hasZ))}initialize(){const{geometryType:e,view:t}=this,i=t.spatialReference,n=\"viewingMode\"in t.state?t.state.viewingMode:v.Local,o=\"segment\"===e||\"multipoint\"===e?\"polyline\":e;this.coordinateHelper=f(this.hasZ,this.hasM,i),this._editGeometryOperations=new O(new w(o,this.coordinateHelper)),this._snappingOperation=new I({view:t,constrainResult:e=>e?this._getEffectiveDrawSurface()?.constrainZ(e):void 0}),this.addHandles([a((()=>this.stagedVertex),(e=>{null!=e&&this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}),{sync:!0,equals:(e,t)=>r(e,t,u)}),a((()=>this.view.viewpoint),((e,t)=>{e&&t&&h(e,t)&&this._onViewpointChange()}))]),this._activeComponent=new V(i,n),this._editGeometryOperations.data.components.push(this._activeComponent);const c=this.segmentLabels;null!=c&&(c.context={view:t,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.addHandles([a((()=>this.labelOptions.enabled),(e=>{c.visible=e}),p),this.on(\"cursor-update\",(()=>{const e=this.stagedVertex;c.stagedVertex=null!=e?this.coordinateHelper.pointToVector(e):null}))])),this.addHandles(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}const n=this._activeComponent.getLastVertex(),o=null!=n?this.coordinateHelper.vectorToDehydratedPoint(n.pos):null;null!=o&&null!=this.lastVertex&&u(this.lastVertex,o)||(this.lastVertex=o)})));const l=this._manipulator=new _({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(l),l.grabbable=\"point\"!==e,this.addHandles([this._createManipulatorDragPipeline(l),l.events.on(\"immediate-click\",(e=>this._onImmediateClick(e))),l.events.on(\"immediate-double-click\",(e=>this._onImmediateDoubleClick(e))),a((()=>({effectiveCursor:this.effectiveCursor})),(({effectiveCursor:e})=>{l.cursor=e}),p)]),E(this,(()=>{const e=this.view.inputManager.latestPointerType??\"mouse\",t=this._getSnappingContext(e);null!=this.snappingManager&&this._updatingHandles.addPromise(s(this._snappingOperation.resnap(this.snappingManager,t)))}))}destroy(){o(this.segmentLabels),o(this._snappingOperation),this._editGeometryOperations=o(this._editGeometryOperations),this._updatingHandles.destroy()}get _snappingEnabled(){return null!=this.snappingManager&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const e=this._getEffectiveDrawSurface();return\"3d\"===this.view.type&&this.drawSurface!==e}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set(\"drawingMode\",e??y)}get effectiveCursor(){return this.loading?j:this._hideDefaultCursor?null:this.cursor||H}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return null!=this.stagedVertex?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get snappingOptions(){return null!=this.snappingManager?this.snappingManager.options:null}get stagedVertex(){const e=this._snappingOperation.stagedPoint,{constraint:t,elevationInfo:i,view:n}=this;if(!e||!t)return e;const o=T(e,n,i),r=o?t.closestTo(o):void 0;return r?b(r,e.spatialReference):e}set stagedVertex(e){this._snappingOperation.stagedPoint=n(e)}get updating(){return this._updatingHandles.updating}get vertices(){const e=this.committedVertices;return null!=this.stagedVertex&&e.push(this.coordinateHelper.pointToArray(this.stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingOperation.abort(),null!=this.stagedVertex){const{stagedVertex:e}=this;this.stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;this._snappingOperation.abort(),null!=this.snappingManager&&this.snappingManager.doneSnapping(),\"segment\"===this.geometryType||\"point\"===this.geometryType?this.commitStagedVertex():this.stagedVertex=null;const i=\"multipoint\"===this.geometryType&&0===this.numVertices||\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||t)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:\"complete\"})}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(e);case\"freehand\":return this._createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return x(e,((e,t,i,n)=>{const o=\"touch\"===n&&this._snappingEnabled;if(this.isCompleted||!o)return;const{snappingStep:r,cancelSnapping:s}=D({predicate:()=>o,snappingManager:this.snappingManager,snappingContext:new C({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,feature:this.graphic,pointer:n,visualizer:this.snappingVisualizer}),updatingHandles:this._updatingHandles,useZ:!this._requiresScenePoint});i=i.next((e=>(o&&null!=this.snappingManager&&this.snappingManager.doneSnapping(),e))).next(s),t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||o&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(S(this.view,this.elevationInfo)).next(...r).next((e=>(o&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e)))}))}_createManipulatorDragPipelineFreehand(e){return x(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(null==this.stagedVertex&&(this.stagedVertex=e.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return x(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(null==this.stagedVertex&&(this.stagedVertex=e.mapStart),this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}get _drawAtFixedElevation(){return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&this.numCommittedVertices>0}_getEffectiveDrawSurface(){if(null==this.elevationDrawSurface)return this.drawSurface;if(!this.coordinateHelper.hasZ())return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;return null!=this.elevationInfo&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),null!=this.snapToSceneEnabled&&(t=this.snapToSceneEnabled),null!=this.elevationInfo&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1),this._drawAtFixedElevation&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getEffectiveDrawSurface()?.mapToScreen(e)}_onHold(e){this._snappingOperation.abort(),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if(\"mouse\"===e.pointerType&&2===e.button||this._manipulator.dragging)return;const t=this._activeComponent;if(null!=this._closeOnClickVertexIndex(e.screenPoint))return e.stopPropagation(),void this.complete();const i=this._screenToMap(e.screenPoint);if(null!=i)switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(null!=this.stagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(i)),this.complete());break;case\"click\":case\"hybrid\":this._snappingOperation.abort(),null!=this.stagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(i)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){const t=c(e.x,e.y);this._stagedScreenPoint=t,this._stagedPointerType=e.pointerType,this._stagedPointerId=e.pointerId;const i=this._snappingOperation,n=this._manipulator;this._pointerDownStates.has(e.pointerId)||n.grabbing||!n.interactive?i.abort():(e.stopPropagation(),this._updateStagedVertexOnPointerMove(t,e.pointerType))}_onViewpointChange(){const e=this._manipulator;\"mouse\"===this._stagedPointerType&&this._stagedScreenPoint&&null!=this._stagedPointerId&&!this._pointerDownStates.has(this._stagedPointerId)&&!e.grabbing&&e.interactive?this._updateStagedVertexOnPointerMove(this._stagedScreenPoint,this._stagedPointerType??\"mouse\"):this._snappingOperation.abort()}_updateStagedVertexOnPointerMove(e,t){const i=this._snappingOperation,n=this._closeOnClickVertexIndex(e);if(null!=n)return this._closeOnVertex(n),void i.abort();const o=this._screenToMap(e),r=this._requiresScenePoint?this.drawSurface?.screenToMap(e):null;if(null==o)return this._hideDefaultCursor=!0,void i.abort();this._hideDefaultCursor=!1;const a=this.snappingManager;if(null==a)return this.stagedVertex=o,void i.abort();const p=this._getSnappingContext(t);this._updatingHandles.addPromise(s(i.snap({point:o,scenePoint:r},a,p)))}_closeOnVertex(e){this.stagedVertex=null;const t={componentIndex:0,vertexIndex:e,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[e].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[t],operation:\"apply\",type:\"vertex-update\"})}_screenToMap(e){return this._getEffectiveDrawSurface()?.screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),null==e)return null;const i=this._screenToMap(t.screenEnd);return null!=i?{...t,mapStart:e,mapEnd:i}:null}}_vertexWithinPointerDistance(e,t){const i=25,n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return null!=n&&G(n,t,i)}_getSnappingContext(e){const t=this._drawAtFixedElevation?this.elevationDrawSurface?.defaultZ:null;return new C({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e,feature:this.graphic,visualizer:this.snappingVisualizer,selfSnappingZ:null!=t?{value:t,elevationInfo:this.elevationInfo}:null})}};function G(e,t,i){const n=e.x-t.x,o=e.y-t.y;return n*n+o*o<=i}e([l()],k.prototype,\"_hideDefaultCursor\",void 0),e([l()],k.prototype,\"_snappingOperation\",void 0),e([l()],k.prototype,\"_snappingEnabled\",null),e([l({constructOnly:!0})],k.prototype,\"graphic\",void 0),e([l()],k.prototype,\"constraint\",void 0),e([l()],k.prototype,\"defaultZ\",void 0),e([l()],k.prototype,\"isDraped\",void 0),e([l({value:y})],k.prototype,\"drawingMode\",null),e([l({constructOnly:!0})],k.prototype,\"elevationDrawSurface\",void 0),e([l({constructOnly:!0})],k.prototype,\"elevationInfo\",void 0),e([l({constructOnly:!0,type:M})],k.prototype,\"labelOptions\",void 0),e([l({constructOnly:!0,type:P})],k.prototype,\"tooltipOptions\",void 0),e([l({constructOnly:!0})],k.prototype,\"geometryType\",void 0),e([l({constructOnly:!0})],k.prototype,\"hasM\",void 0),e([l({constructOnly:!0})],k.prototype,\"hasZ\",void 0),e([l()],k.prototype,\"cursor\",void 0),e([l()],k.prototype,\"effectiveCursor\",null),e([l()],k.prototype,\"loading\",void 0),e([l({constructOnly:!0})],k.prototype,\"manipulators\",void 0),e([l({constructOnly:!0})],k.prototype,\"drawSurface\",void 0),e([l({constructOnly:!0})],k.prototype,\"segmentLabels\",void 0),e([l({constructOnly:!0})],k.prototype,\"snappingManager\",void 0),e([l({constructOnly:!0})],k.prototype,\"snappingVisualizer\",void 0),e([l()],k.prototype,\"snapToSceneEnabled\",void 0),e([l()],k.prototype,\"stagedVertex\",null),e([l()],k.prototype,\"lastVertex\",void 0),e([l()],k.prototype,\"updating\",null),e([l({constructOnly:!0})],k.prototype,\"view\",void 0),k=e([d(\"esri.views.draw.DrawOperation\")],k);export{k as DrawOperation,H as defaultCursor,j as defaultLoadingCursor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e}from\"../../core/screenUtils.js\";import{makeDehydratedPoint as t}from\"../../layers/graphics/dehydratedPoint.js\";import{clonePoint as s}from\"../../layers/graphics/hydratedFeatures.js\";import{getConvertedElevation as i,getZForElevationMode as n}from\"../../support/elevationInfoUtils.js\";class r{constructor(e,t,s,i=null){this._elevationInfo=e,this.defaultZ=t,this._view=s,this._excludeGraphics=i}screenToMap(t){if(null!=this.defaultZ)return this._view.sceneIntersectionHelper.intersectElevationFromScreen(e(t.x,t.y),this._elevationInfo,this.defaultZ,this._excludeGraphics);const s=this._view.sceneIntersectionHelper.intersectElevationFromScreen(e(t.x,t.y),this._elevationInfo,0,this._excludeGraphics);return null!=s&&(s.z=void 0),s}mapToScreen(e){const s=t(e.x,e.y,i(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(s)}constrainZ(e){const{defaultZ:t}=this;return null!=t&&e.z!==t&&((e=s(e)).z=t),e}}class o{constructor(e,t,s=[]){this.view=e,this.elevationInfo=t,this.exclude=s}screenToMap(e){const t=this.view.toMap(e,{exclude:this.exclude});return null!=t&&(t.z=n(t,this.view,this.elevationInfo)),t}mapToScreen(e){let s=e;return null!=this.elevationInfo&&(s=t(e.x,e.y,i(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(s)}constrainZ(e){return e}}class c{constructor(e,t=!1,s=0){this.view=e,this.hasZ=t,this.defaultZ=s,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const i=e.toMap(t);return i.z=s,i}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=s(e)).z=t),e}}export{r as ElevationDrawSurface,c as MapDrawSurface,o as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import{i as r}from\"../../../chunks/mat2d.js\";import{c as e,a as s}from\"../../../chunks/mat2df64.js\";import{r as a,i as o}from\"../../../chunks/quat.js\";import{a as i}from\"../../../chunks/quatf64.js\";import{i as n,j as l,f as h,n as m,b as c,v as f}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{Axis as d}from\"../../../geometry/support/Axis.js\";import u from\"../../../geometry/Point.js\";function w(t,r,e=null){return null!=e?[t,r,e]:[t,r]}function g(t,r,e=null){return null!=e?{x:t,y:r,z:e}:{x:t,y:r}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(r){return r.map((t=>this.mapToLocal(t))).filter(t)}get doUnnormalization(){return!1}}class W extends R{constructor(t,a,o=null){super(a),this._defaultZ=o,this.transform=e(),this.transformInv=e(),this.transform=s(t),r(this.transformInv,this.transform)}makeMapPoint(t,r){return w(t,r,this._defaultZ)}mapToLocal(t){return g(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return w(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=p(),this.tangentFrameUpWS=p(),this.tangentFrameRightWS=p(),this.tangentFrameForwardWS=p(),this.localFrameRightWS=p(),this.localFrameUpWS=p(),this.worldToLocalTransform=i(),this.localToWorldTransform=i(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d.Z,this.tangentFrameForwardWS);const s=p();n(s,this.tangentFrameForwardWS,l(e,this.tangentFrameForwardWS)),h(this.localFrameRightWS,e,s),m(this.localFrameRightWS,this.localFrameRightWS),c(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),a(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),o(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(t){const r=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:t[0],y:t[1],spatialReference:this.spatialReference}),r),f(r,r,this.worldToLocalTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,this.view.spatialReference);return null!=e?g(e.x/this.scale,e.y/this.scale):null}localToMap(t){const r=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),r),f(r,r,this.localToWorldTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,this.view.spatialReference);return null!=e?w(e.x,e.y,this.defaultZ):null}}function F(t,r){if(\"2d\"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new u({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new u({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}export{W as AffineCoordinateSystem,v as SceneViewCoordinateSystem,R as SurfaceCoordinateSystem,F as createViewAlignedCoordinateSystem,w as makeMapPoint,g as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{abortMaybe as o,removeMaybe as r}from\"../../../core/maybe.js\";import{debounce as n}from\"../../../core/promiseUtils.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as a,ImmediateTask as l}from\"../../support/Scheduler.js\";let p=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=n((async(t,s,o,r)=>{const n=this._frameTask;if(null==n)return;const e=await n.schedule((()=>s.snap({...t,context:o,signal:r})),r);e.valid&&await n.schedule((()=>{this.stagedPoint=e.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))}),r)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(a.SNAPPING):l}destroy(){this._abortController=o(this._abortController),this._frameTask=r(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:r,scenePoint:n}=t,e=s.update({point:r,scenePoint:n,context:o});return this.stagedPoint=e,e}async snap(t,s,o){const{point:r,scenePoint:n}=t;return this.stagedPoint=s.update({point:r,scenePoint:n,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async resnap(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=o(this._abortController),this._snapPoints=null}};t([e({constructOnly:!0})],p.prototype,\"view\",void 0),t([e()],p.prototype,\"stagedPoint\",null),t([e()],p.prototype,\"constrainResult\",void 0),t([e()],p.prototype,\"_stagedPoint\",void 0),p=t([i(\"esri.views.interactive.snapping.SnappingOperation\")],p);export{p as SnappingOperation};\n"],"names":["e","t","constructor","grabbableForEvent","events","interactive","selectable","cursor","grabbable","consumesClicks","destroy","intersectionDistance","attach","detach","onElevationChange","onViewChange","DrawManipulator","_","i","clone","n","destroyMaybe","o","equalsMaybe","r","ignoreAbortErrors","s","watch","a","syncAndInitial","p","createScreenPoint","c","property","l","subclass","d","diff","h","UpdatingHandles","g","pointEquals","u","getEffectiveElevationInfo","m","ViewingMode","v","defaultDrawingMode","y","createCoordinateHelper","f","createManipulatorDragEventPipeline","x","sceneSnappingAtLocation","S","EditGeometry","w","Component","V","EditGeometryOperations","O","fromPoint","T","toDehydratedPoint","b","M","P","SnappingContext","C","createSnapDragEventPipelineStep","D","SnappingOperation","I","setupSnappingToggleHandles","E","H","j","k","EventedMixin","_createOperationCompleted","_hideDefaultCursor","_pointerDownStates","Set","_stagedScreenPoint","_stagedPointerType","_stagedPointerId","_updatingHandles","constraint","isDraped","labelOptions","tooltipOptions","loading","snapToSceneEnabled","lastVertex","elevationInfo","hasZ","initialize","geometryType","view","spatialReference","state","viewingMode","Local","coordinateHelper","hasM","_editGeometryOperations","_snappingOperation","constrainResult","_getEffectiveDrawSurface","constrainZ","addHandles","stagedVertex","emit","updated","vertices","componentIndex","vertexIndex","_activeComponent","length","coordinates","pointToArray","operation","type","sync","equals","viewpoint","_onViewpointChange","data","components","push","segmentLabels","context","editGeometryOperations","enabled","visible","on","pointToVector","map","index","vectorToArray","pos","added","removed","getLastVertex","vectorToDehydratedPoint","_manipulator","drawingMode","pointerType","_snappingEnabled","size","manipulators","add","_createManipulatorDragPipeline","_onImmediateClick","_onImmediateDoubleClick","effectiveCursor","inputManager","latestPointerType","_getSnappingContext","snappingManager","addPromise","resnap","options","effectiveEnabled","_requiresScenePoint","drawSurface","canRedo","canUndo","committedVertices","_set","isCompleted","numCommittedVertices","numVertices","snappingOptions","stagedPoint","closestTo","updating","cancel","complete","aborted","commitStagedVertex","abort","appendVertex","doneSnapping","onInputEvent","pointerId","delete","_onPointerMove","_onHold","redo","undo","_closeOnClickVertexIndex","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","snappingStep","cancelSnapping","predicate","snappingContext","feature","graphic","pointer","visualizer","snappingVisualizer","updatingHandles","useZ","next","_screenToMapDragEventStep","action","mapStart","mapEnd","_drawAtFixedElevation","elevationDrawSurface","defaultZ","mode","getZ","_mapToScreen","mapToScreen","mapPoint","stopPropagation","button","dragging","screenPoint","_screenToMap","has","grabbing","_updateStagedVertexOnPointerMove","_closeOnVertex","screenToMap","snap","point","scenePoint","screenStart","screenEnd","G","selfSnappingZ","value","prototype","constructOnly","DrawOperation","defaultCursor","defaultLoadingCursor","drawingModes","createScreenPointArray","makeDehydratedPoint","clonePoint","getConvertedElevation","getZForElevationMode","_elevationInfo","_view","_excludeGraphics","sceneIntersectionHelper","intersectElevationFromScreen","z","toScreen","exclude","toMap","ElevationDrawSurface","MapDrawSurface","SceneDrawSurface","isSome","Axis","R","mapToLocalMultiple","mapToLocal","filter","doUnnormalization","W","_defaultZ","transform","transformInv","makeMapPoint","localToMap","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","scale","resolution","referenceMapPoint","camera","viewRight","renderCoordsHelper","toRenderCoords","worldBasisAtPosition","X","Y","Z","fromRenderCoords","F","AffineCoordinateSystem","SceneViewCoordinateSystem","SurfaceCoordinateSystem","createViewAlignedCoordinateSystem","makeSurfacePoint","abortMaybe","removeMaybe","debounce","TaskPriority","ImmediateTask","_snapPoints","_frameTask","_abortController","_stagedPoint","_snap","schedule","signal","valid","apply","update","resourceController","scheduler","registerTask","SNAPPING","AbortController"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4,5]}