{"version":3,"file":"node_modules_arcgis_core_views_2d_layers_ImageryLayerView2D_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js","./node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js","./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js","./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js","./node_modules/@arcgis/core/views/layers/ImageryLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"./BrushVectorField.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}export{t as RasterVFContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Collection.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import{watch as s,sync as a}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import l from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import p from\"./graphics/GraphicsView2D.js\";import w from\"./graphics/HighlightGraphicContainer.js\";import m from\"./imagery/ImageryView2D.js\";import u from\"./imagery/VectorFieldView2D.js\";import d from\"../../layers/ImageryLayerView.js\";import y from\"../../layers/LayerView.js\";import g from\"../../layers/RefreshableLayerView.js\";let v=class extends(d(g(c(y)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:\"getPixelData\"in e?e.getPixelData():null}async hitTest(e,t){return this.subview?[{type:\"graphic\",graphic:this.subview.hitTest(e),layer:this.layer,mapPoint:e}]:null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new p({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new w(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([s((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),a),s((()=>this.timeExtent),(e=>{const{subview:t}=this;t&&(t.timeExtent=e,\"redraw\"in t?this.requestUpdate():t.redrawOrRefetch())}),a),this.layer.on(\"redraw\",(()=>{const{subview:e}=this;e&&(\"redraw\"in e?e.redraw():e.redrawOrRefetch())})),s((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,s){if(!((Array.isArray(e)?e[0]:i.isCollection(e)?e.at(0):e)instanceof t))return r();let a=[];return Array.isArray(e)||i.isCollection(e)?a=e.map((e=>e.clone())):e instanceof t&&(a=[e.clone()]),this._highlightGraphics.addMany(a),r((()=>this._highlightGraphics.removeMany(a)))}async doRefresh(){this.requestUpdate()}isUpdating(){return!this.subview||this.subview.updating}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let t=\"imagery\";if(\"vector-field\"===e?t=\"imageryVF\":\"flow\"===e&&(t=\"flow\"),this.subview){const{type:e}=this.subview;if(e===t)return this._attachSubview(this.subview),void(\"flow\"===e?this.subview.redrawOrRefetch():\"imagery\"===e&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview=\"imagery\"===t?new m({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):\"imageryVF\"===t?new u({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new l({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0))}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([h()],v.prototype,\"pixelData\",null),e([h()],v.prototype,\"subview\",void 0),v=e([o(\"esri.views.2d.layers.ImageryLayerView2D\")],v);const b=v;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as t}from\"../../engine/webgl/enums.js\";import s from\"./BaseGraphicContainer.js\";import{ClearBufferBit as i}from\"../../../webgl/enums.js\";let o=class extends s{get hasHighlight(){return this.children.some((r=>r.hasData))}renderChildren(r){if(r.drawPhase!==t.HIGHLIGHT)return;if(this.attributeView.update(),!this.children.some((r=>r.hasData)))return;this.attributeView.bindTextures(r.context),super.renderChildren(r);const{painter:e}=r,s=e.effects.highlight;s.bind(r),r.context.setColorMask(!0,!0,!0,!0),r.context.clear(i.COLOR_BUFFER_BIT),this._renderChildren(r,s.defines.concat([\"highlightAll\"])),s.draw(r),s.unbind()}};o=r([e(\"esri.views.2d.layers.support.HighlightGraphicContainer\")],o);const a=o;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{debounce as i,isAbortError as s}from\"../../../../core/promiseUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as l}from\"../../engine/imagery/RasterVFDisplayObject.js\";let c=class extends t{constructor(e){super(e),this._loading=null,this.update=i(((e,t)=>this._update(e,t).catch((e=>{s(e)||r.getLogger(this).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,r){if(!e.stationary)return;const{extent:i,spatialReference:s}=e.state,o=new n({xmin:i.xmin,ymin:i.ymin,xmax:i.xmax,ymax:i.ymax,spatialReference:s}),[a,l]=e.state.size;this._loading=this.fetchPixels(o,a,l,r);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,r){if(null==e.pixelBlock)return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:i,pixelBlock:s}=e,o=new l(s);o.offset=[0,0],o.symbolizerParameters=t,o.rawPixelData=e,o.invalidateVAO(),o.x=i.xmin,o.y=i.ymax,o.pixelRatio=r.pixelRatio,o.rotation=r.rotation,o.resolution=r.resolution,o.width=s.width*t.symbolTileSize,o.height=s.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(o)}};e([o()],c.prototype,\"fetchPixels\",void 0),e([o()],c.prototype,\"container\",void 0),e([o()],c.prototype,\"_loading\",void 0),e([o()],c.prototype,\"updating\",null),c=e([a(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],c);const p=c;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isAbortError as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as p}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as n}from\"../../engine/BitmapContainer.js\";import{Container as l}from\"../../engine/Container.js\";import c from\"../../engine/ImageryBitmapSource.js\";import h from\"../support/ExportStrategy.js\";let m=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new l,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new n}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(t){this.strategy.update(t).catch((t=>{s(t)||r.getLogger(this).error(t)}))}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const t=this.layer.version>=10,e=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new h({container:this._bitmapView,imageNormalizationSupported:t,imageMaxHeight:e,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async t=>{const{source:e}=t;if(!e||e instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:e.extent,pixelBlock:e.originalPixelBlock??e.pixelBlock});e.filter=t=>this.layer.pixelFilter?this.layer.applyFilter(t):{...i,extent:e.extent}})).catch((t=>{s(t)||r.getLogger(this).error(t)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const t=this.strategy.bitmaps;if(1===t.length&&t[0].source)return{extent:t[0].source.extent,pixelBlock:t[0].source.originalPixelBlock};if(t.length>1){const e=this.view.extent,i=t.map((t=>t.source)).filter((t=>t.extent&&t.extent.intersects(e))).map((t=>({extent:t.extent,pixelBlock:t.originalPixelBlock}))),r=p(i,e);return null!=r?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(t,e,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const s=await this.layer.fetchImage(t,e,i,r);if(s.imageBitmap)return s.imageBitmap;const a=await this.layer.applyRenderer(s.pixelData,{signal:r.signal}),o=new c(a.pixelBlock,a.extent?.clone(),s.pixelData.pixelBlock);return o.filter=t=>this.layer.applyFilter(t),o}};t([a()],m.prototype,\"attached\",void 0),t([a()],m.prototype,\"container\",void 0),t([a()],m.prototype,\"layer\",void 0),t([a()],m.prototype,\"strategy\",void 0),t([a()],m.prototype,\"timeExtent\",void 0),t([a()],m.prototype,\"view\",void 0),t([a()],m.prototype,\"updateRequested\",void 0),t([a()],m.prototype,\"updating\",null),t([a()],m.prototype,\"type\",void 0),m=t([o(\"esri.views.2d.layers.imagery.ImageryView2D\")],m);const u=m;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import i from\"../../../../core/Accessor.js\";import s from\"../../../../core/Logger.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{watch as o,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import m from\"../../../../geometry/Extent.js\";import{srToRESTValue as p}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{projectExtent as h}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as y,convertVectorFieldData as u}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as x}from\"../../engine/imagery/RasterVFContainer.js\";import d from\"./ImageryVFStrategy.js\";let f=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new x,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(t,e,r,i)=>{const s=await this._projectFullExtentPromise,{symbolTileSize:a}=this.layer.renderer,{extent:o,width:n,height:l}=y(t,e,r,a,s);if(null!=s&&!s.intersects(t))return{extent:o,pixelBlock:null};const c={bbox:`${o.xmin}, ${o.ymin}, ${o.xmax}, ${o.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:a,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(c)){const t=this.getPixelData();if(null!=t){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===c.bbox)return t}}const{pixelData:m}=await this.layer.fetchImage(o,n,l,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});this._dataParameters=c;const p=m?.pixelBlock;if(null==p)return{extent:o,pixelBlock:null};return{extent:o,pixelBlock:\"vector-uv\"===this.layer.rasterInfo.dataType?u(p,\"vector-uv\"):p}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new d({container:this.container,fetchPixels:this._fetchpixels}),this.addHandles(o((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),n),\"attach\")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.removeHandles(\"attach\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams).catch((t=>{a(t)||s.getLogger(this).error(t)}))}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return h(this.layer.fullExtent,t)}catch(e){try{const e=(await r(this.layer.url,{query:{option:\"footprints\",outSR:p(t),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?m.fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){\"vector-field\"===t.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};t([l()],f.prototype,\"attached\",void 0),t([l()],f.prototype,\"container\",void 0),t([l()],f.prototype,\"layer\",void 0),t([l()],f.prototype,\"timeExtent\",void 0),t([l()],f.prototype,\"type\",void 0),t([l()],f.prototype,\"view\",void 0),t([l()],f.prototype,\"updating\",null),f=t([c(\"esri.views.2d.layers.imagery.VectorFieldView2D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as p}from\"../../layers/support/commonProperties.js\";import i from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as a}from\"./support/popupUtils.js\";const n=n=>{let u=class extends n{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,t){const{layer:o}=this;if(!e)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:o});const{popupEnabled:p}=o,n=a(o,t);if(!p||null==n)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:p,popupTemplate:n});const u=await n.getRequiredFields(),l=new i;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=u,l.outSpatialReference=e.spatialReference;const{resolution:m,spatialReference:c}=this.view,y=\"2d\"===this.view.type?new s(m,m,c):new s(.5*m,.5*m,c),{returnTopmostRaster:d,showNoDataRecords:h}=n.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},w={returnDomainValues:!0,returnTopmostRaster:d,pixelSize:y,showNoDataRecords:h,signal:null!=t?t.signal:null};return o.queryVisibleRasters(l,w).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([t()],u.prototype,\"layer\",void 0),e([t()],u.prototype,\"suspended\",void 0),e([t(p)],u.prototype,\"timeExtent\",void 0),e([t()],u.prototype,\"view\",void 0),u=e([o(\"esri.views.layers.ImageryLayerView\")],u),u};export{n as default};\n"],"names":["e","WGLDrawPhase","r","s","t","constructor","arguments","symbolTypes","prepareRenderPasses","registerRenderPass","name","brushes","target","children","drawPhase","MAP","doRender","visible","forEach","renderPass","RasterVFContainer","_","i","makeHandle","watch","sync","a","property","h","subclass","o","GraphicsCollection","n","l","LayerView2DMixin","c","p","w","m","u","d","y","g","v","_exportImageVersion","_highlightGraphics","_highlightView","layer","subview","pixelData","updating","getPixelData","hitTest","type","graphic","mapPoint","update","attach","increaseRasterJobHandlerUsage","_setSubView","view","graphics","requestUpdateCallback","requestUpdate","container","featuresTilingScheme","addChild","addAttachHandles","exportImageServiceParameters","version","timeExtent","redrawOrRefetch","on","redraw","renderer","detach","decreaseRasterJobHandlerUsage","removeAllChildren","_detachSubview","destroy","moveStart","viewChange","moveEnd","highlight","Array","isArray","isCollection","at","map","clone","addMany","removeMany","doRefresh","isUpdating","_attachSubview","format","layerView","attached","addChildAt","removeChild","prototype","b","default","ClearBufferBit","hasHighlight","some","hasData","renderChildren","HIGHLIGHT","attributeView","bindTextures","context","painter","effects","bind","setColorMask","clear","COLOR_BUFFER_BIT","_renderChildren","defines","concat","draw","unbind","debounce","isAbortError","RasterVFDisplayObject","_loading","_update","catch","getLogger","error","length","symbolizerParameters","invalidateVAO","style","requestRender","stationary","extent","spatialReference","state","xmin","ymin","xmax","ymax","size","fetchPixels","_addToDisplay","pixelBlock","offset","rawPixelData","x","pixelRatio","rotation","resolution","width","symbolTileSize","height","mosaicPixelData","BitmapContainer","Container","updateRequested","_bitmapView","strategy","attributes","geometry","imageMaxHeight","imageMaxWidth","imageNormalizationSupported","fetchSource","_fetchImage","updateExports","source","ImageBitmap","applyRenderer","originalPixelBlock","filter","pixelFilter","applyFilter","bitmaps","intersects","requestAsImageElement","returnImageBitmap","fetchImage","imageBitmap","signal","syncAndInitial","srToRESTValue","projectExtent","snapImageToSymbolTile","convertVectorFieldData","f","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","JSON","stringify","_canReuseVectorFieldData","rasterInfo","dataType","_strategy","_getProjectedFullExtent","addHandles","_updateSymbolizerParams","removeHandles","_symbolizerParams","fullExtent","url","query","option","outSR","data","featureCollection","layers","layerDefinition","fromJSON","symbolizer","generateWebGLParameters","combinedViewLayerTimeExtentProperty","getFetchPopupTemplate","fetchPopupFeatures","popupEnabled","popupTemplate","getRequiredFields","outFields","outSpatialReference","returnTopmostRaster","showNoDataRecords","layerOptions","returnDomainValues","pixelSize","queryVisibleRasters","then","canResume","isEmpty"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4,5,6]}