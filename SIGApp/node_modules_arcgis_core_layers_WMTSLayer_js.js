"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_layers_WMTSLayer_js"],{

/***/ 56117:
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/WMTSLayer.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ K)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../request.js */ 1897);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/Collection.js */ 28586);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Error.js */ 32995);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/lang.js */ 88684);
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ 20635);
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/object.js */ 44054);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/urlUtils.js */ 55050);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ 66508);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../core/accessorSupport/decorators/writer.js */ 70425);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../geometry/Extent.js */ 10465);
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Layer.js */ 51402);
/* harmony import */ var _WebTileLayer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./WebTileLayer.js */ 71815);
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ 29812);
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ 82686);
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ 16617);
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ 38437);
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ 72450);
/* harmony import */ var _support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./support/imageBitmapUtils.js */ 57062);
/* harmony import */ var _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./support/TileInfo.js */ 51015);
/* harmony import */ var _support_TileInfoTilemapCache_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./support/TileInfoTilemapCache.js */ 64914);
/* harmony import */ var _support_WMTSLayerInfo_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./support/WMTSLayerInfo.js */ 97326);
/* harmony import */ var _support_WMTSSublayer_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/WMTSSublayer.js */ 15903);
/* harmony import */ var _support_wmtsUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/wmtsUtils.js */ 50958);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






























var W;
const F = {
    "image/png": ".png",
    "image/png8": ".png",
    "image/png24": ".png",
    "image/png32": ".png",
    "image/jpg": ".jpg",
    "image/jpeg": ".jpeg",
    "image/gif": ".gif",
    "image/bmp": ".bmp",
    "image/tiff": ".tif",
    "image/jpgpng": "",
    "image/jpegpng": "",
    "image/unknown": ""
  },
  V = new Set(["version", "service", "request", "layer", "style", "format", "tilematrixset", "tilematrix", "tilerow", "tilecol"]);
let B = W = class extends (0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_20__.BlendLayer)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_23__.RefreshableLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_24__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_21__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_22__.PortalLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_7__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_18__["default"])))))) {
  constructor(...e) {
    super(...e), this.activeLayer = null, this.copyright = "", this.customParameters = null, this.customLayerParameters = null, this.fullExtent = null, this.operationalLayerType = "WebTiledLayer", this.resourceInfo = null, this.serviceMode = "RESTful", this.sublayers = null, this.type = "wmts", this.version = "1.0.0", this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)(() => this.activeLayer, (e, t) => {
      t && !this.sublayers?.includes(t) && (t.layer = null, t.parent = null), e && (e.layer = this, e.parent = this);
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.sync), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.on)(() => this.sublayers, "after-add", ({
      item: e
    }) => {
      e.layer = this, e.parent = this;
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.sync), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.on)(() => this.sublayers, "after-remove", ({
      item: e
    }) => {
      e.layer = null, e.parent = null;
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.sync), (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)(() => this.sublayers, (e, t) => {
      if (t) for (const r of t) r.layer = null, r.parent = null;
      if (e) for (const r of e) r.layer = this, r.parent = this;
    }, _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.sync)]);
  }
  normalizeCtorArgs(e, t) {
    return "string" == typeof e ? {
      url: e,
      ...t
    } : e;
  }
  load(e) {
    return this.addResolvingPromise(this.loadFromPortal({
      supportedTypes: ["WMTS"]
    }, e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__.throwIfAbortError).then(() => this._fetchService(e)).catch(e => {
      throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__.throwIfAbortError)(e), new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("wmtslayer:unsupported-service-data", "Invalid response from the WMTS service.", {
        error: e
      });
    })), Promise.resolve(this);
  }
  readActiveLayerFromService(e, t, r) {
    this.activeLayer || (this.activeLayer = new _support_WMTSSublayer_js__WEBPACK_IMPORTED_MODULE_29__["default"]());
    let i = t.layers.find(e => e.id === this.activeLayer.id);
    return i || (i = t.layers[0]), this.activeLayer.read(i, r), this.activeLayer;
  }
  readActiveLayerFromItemOrWebDoc(e, t) {
    const {
        templateUrl: r,
        wmtsInfo: i
      } = t,
      s = r ? this._getLowerCasedUrlParams(r) : null,
      a = i?.layerIdentifier;
    let o = null;
    const l = i?.tileMatrixSet;
    l && (Array.isArray(l) ? l.length && (o = l[0]) : o = l);
    const n = s?.format,
      m = s?.style;
    return new _support_WMTSSublayer_js__WEBPACK_IMPORTED_MODULE_29__["default"]({
      id: a,
      imageFormat: n,
      styleId: m,
      tileMatrixSetId: o
    });
  }
  writeActiveLayer(e, t, r, i) {
    const s = this.activeLayer;
    t.templateUrl = this.getUrlTemplate(s.id, s.tileMatrixSetId, s.imageFormat, s.styleId);
    const a = (0,_core_object_js__WEBPACK_IMPORTED_MODULE_8__.getDeepValue)("tileMatrixSet.tileInfo", s);
    t.tileInfo = a ? a.toJSON(i) : null, t.wmtsInfo = {
      ...t.wmtsInfo,
      layerIdentifier: s.id,
      tileMatrixSet: s.tileMatrixSetId
    };
  }
  readCustomParameters(e, t) {
    const r = t.wmtsInfo;
    return r ? this._mergeParams(r.customParameters, r.url) : null;
  }
  get fullExtents() {
    return this.activeLayer.fullExtents;
  }
  readServiceMode(e, t) {
    return t.templateUrl.includes("?") ? "KVP" : "RESTful";
  }
  readSublayersFromService(e, t, r) {
    return $(t.layers, r);
  }
  get supportedSpatialReferences() {
    return this.activeLayer.tileMatrixSets?.map(e => e.tileInfo?.spatialReference).toArray().filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome) ?? [];
  }
  get tilemapCache() {
    const e = this.activeLayer?.tileMatrixSet?.tileInfo;
    return e ? new _support_TileInfoTilemapCache_js__WEBPACK_IMPORTED_MODULE_27__["default"](e) : void 0;
  }
  get title() {
    return this.activeLayer?.title ?? "Layer";
  }
  set title(e) {
    this._overrideIfSome("title", e);
  }
  get url() {
    return this._get("url");
  }
  set url(e) {
    e && "/" === e.substr(-1) ? this._set("url", e.slice(0, -1)) : this._set("url", e);
  }
  createWebTileLayer(e) {
    const t = this.getUrlTemplate(this.activeLayer.id, this.activeLayer.tileMatrixSetId, this.activeLayer.imageFormat, this.activeLayer.styleId),
      r = this._getTileMatrixSetById(e.tileMatrixSetId),
      i = r?.tileInfo,
      s = e.fullExtent,
      a = new _support_WMTSLayerInfo_js__WEBPACK_IMPORTED_MODULE_28__.WMTSLayerInfo({
        layerIdentifier: e.id,
        tileMatrixSet: e.tileMatrixSetId,
        url: this.url
      });
    return this.customLayerParameters && (a.customLayerParameters = this.customLayerParameters), this.customParameters && (a.customParameters = this.customParameters), new _WebTileLayer_js__WEBPACK_IMPORTED_MODULE_19__["default"]({
      fullExtent: s,
      urlTemplate: t,
      tileInfo: i,
      wmtsInfo: a
    });
  }
  fetchTile(e, r, i, s = {}) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
          signal: a
        } = s,
        o = _this.getTileUrl(e, r, i),
        {
          data: l
        } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(o, {
          responseType: "image",
          signal: a
        });
      return l;
    })();
  }
  fetchImageBitmapTile(e, r, i, s = {}) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        signal: a
      } = s;
      if (_this2.fetchTile !== W.prototype.fetchTile) {
        const t = yield _this2.fetchTile(e, r, i, s);
        return (0,_support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_25__.createTileBitmap)(t, e, r, i, a);
      }
      const o = _this2.getTileUrl(e, r, i),
        {
          data: l
        } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(o, {
          responseType: "blob",
          signal: a
        });
      return (0,_support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_25__.createTileBitmap)(l, e, r, i, a);
    })();
  }
  findSublayerById(e) {
    return this.sublayers?.find(t => t.id === e);
  }
  getTileUrl(e, t, r) {
    const i = this._getTileMatrixSetById(this.activeLayer.tileMatrixSetId),
      s = i?.tileInfo?.lods[e],
      a = s ? s.levelValue || `${s.level}` : `${e}`;
    let o = this.resourceInfo ? "" : (0,_support_wmtsUtils_js__WEBPACK_IMPORTED_MODULE_30__.getTileUrlFromResourceUrls)({
      dimensionMap: this.dimensionMap,
      layerMap: this.layerMap
    }, this.activeLayer.id, this.activeLayer.tileMatrixSetId, this.activeLayer.imageFormat, this.activeLayer.styleId, a, t, r);
    if (!o) {
      o = this.getUrlTemplate(this.activeLayer.id, this.activeLayer.tileMatrixSetId, this.activeLayer.imageFormat, this.activeLayer.styleId).replaceAll(/\{level\}/gi, a).replaceAll(/\{row\}/gi, `${t}`).replaceAll(/\{col\}/gi, `${r}`);
    }
    return o = this._appendCustomLayerParameters(o), o;
  }
  getUrlTemplate(e, t, r, i) {
    if (!this.resourceInfo) {
      const r = (0,_support_wmtsUtils_js__WEBPACK_IMPORTED_MODULE_30__.getTileUrlTemplateFromResourceUrls)({
        dimensionMap: this.dimensionMap,
        layerMap: this.layerMap
      }, e, t, i);
      if (r) return r;
    }
    if ("KVP" === this.serviceMode) return this.url + "?SERVICE=WMTS&VERSION=" + this.version + "&REQUEST=GetTile&LAYER=" + e + "&STYLE=" + i + "&FORMAT=" + r + "&TILEMATRIXSET=" + t + "&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}";
    if ("RESTful" === this.serviceMode) {
      let s = "";
      return F[r.toLowerCase()] && (s = F[r.toLowerCase()]), this.url + e + "/" + i + "/" + t + "/{level}/{row}/{col}" + s;
    }
    return "";
  }
  _fetchService(e) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let t;
      if (_this3.resourceInfo) "KVP" === _this3.resourceInfo.serviceMode && (_this3.url += _this3.url.includes("?") ? "" : "?"), t = {
        ssl: !1,
        data: _this3.resourceInfo
      };else try {
        t = yield _this3._getCapabilities(_this3.serviceMode, e), (0,_support_wmtsUtils_js__WEBPACK_IMPORTED_MODULE_30__.validateCapabilities)(t.data);
      } catch {
        const i = "KVP" === _this3.serviceMode ? "RESTful" : "KVP";
        try {
          t = yield _this3._getCapabilities(i, e), (0,_support_wmtsUtils_js__WEBPACK_IMPORTED_MODULE_30__.validateCapabilities)(t.data), _this3.serviceMode = i;
        } catch (r) {
          throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("wmtslayer:unsupported-service-data", "Services does not support RESTful or KVP service modes.", {
            error: r
          });
        }
      }
      _this3.resourceInfo ? t.data = (0,_support_wmtsUtils_js__WEBPACK_IMPORTED_MODULE_30__.parseResourceInfo)(t.data) : t.data = (0,_support_wmtsUtils_js__WEBPACK_IMPORTED_MODULE_30__.parseCapabilities)(t.data, {
        serviceMode: _this3.serviceMode,
        url: _this3.url
      }), t.data && _this3.read(t.data, {
        origin: "service"
      });
    })();
  }
  _getCapabilities(e, r) {
    var _this4 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const i = _this4._getCapabilitiesUrl(e);
      return yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(i, {
        ...r,
        responseType: "text"
      });
    })();
  }
  _getTileMatrixSetById(e) {
    const t = this.findSublayerById(this.activeLayer.id),
      r = t?.tileMatrixSets?.find(t => t.id === e);
    return r;
  }
  _appendCustomParameters(e) {
    return this._appendParameters(e, this.customParameters);
  }
  _appendCustomLayerParameters(e) {
    return this._appendParameters(e, {
      ...(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(this.customParameters),
      ...this.customLayerParameters
    });
  }
  _appendParameters(e, t) {
    const r = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__.urlToObject)(e),
      i = {
        ...r.query,
        ...t
      },
      s = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__.objectToQuery)(i);
    return "" === s ? r.path : `${r.path}?${s}`;
  }
  _getCapabilitiesUrl(e) {
    this.url = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__.urlToObject)(this.url).path;
    let t = this.url;
    switch (e) {
      case "KVP":
        t += `?request=GetCapabilities&service=WMTS&version=${this.version}`;
        break;
      case "RESTful":
        {
          const e = `/${this.version}/WMTSCapabilities.xml`,
            r = new RegExp(e, "i");
          t = t.replace(r, ""), t += e;
          break;
        }
    }
    return this._appendCustomParameters(t);
  }
  _getLowerCasedUrlParams(e) {
    if (!e) return null;
    const t = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__.urlToObject)(e).query;
    if (!t) return null;
    const r = {};
    return Object.keys(t).forEach(e => {
      r[e.toLowerCase()] = t[e];
    }), r;
  }
  _mergeParams(e, t) {
    const r = this._getLowerCasedUrlParams(t);
    if (r) {
      const t = Object.keys(r);
      t.length && (e = e ? (0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(e) : {}, t.forEach(t => {
        e.hasOwnProperty(t) || V.has(t) || (e[t] = r[t]);
      }));
    }
    return e;
  }
};
function $(e, t) {
  return e.map(e => {
    const r = new _support_WMTSSublayer_js__WEBPACK_IMPORTED_MODULE_29__["default"]();
    return r.read(e, t), r;
  });
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()], B.prototype, "dimensionMap", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()], B.prototype, "layerMap", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  type: _support_WMTSSublayer_js__WEBPACK_IMPORTED_MODULE_29__["default"],
  json: {
    origins: {
      "web-document": {
        write: {
          ignoreOrigin: !0
        }
      }
    }
  }
})], B.prototype, "activeLayer", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)("service", "activeLayer", ["layers"])], B.prototype, "readActiveLayerFromService", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)(["web-document", "portal-item"], "activeLayer", ["wmtsInfo"])], B.prototype, "readActiveLayerFromItemOrWebDoc", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_16__.writer)(["web-document", "portal-item"], "activeLayer", {
  templateUrl: {
    type: String
  },
  tileInfo: {
    type: _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_26__["default"]
  },
  "wmtsInfo.layerIdentifier": {
    type: String
  },
  "wmtsInfo.tileMatrixSet": {
    type: String
  }
})], B.prototype, "writeActiveLayer", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  type: String,
  value: "",
  json: {
    write: !0
  }
})], B.prototype, "copyright", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  type: ["show", "hide"]
})], B.prototype, "listMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  json: {
    read: !0,
    write: !0
  }
})], B.prototype, "blendMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  json: {
    origins: {
      "web-document": {
        read: {
          source: ["wmtsInfo.customParameters", "wmtsInfo.url"]
        },
        write: {
          target: "wmtsInfo.customParameters"
        }
      },
      "portal-item": {
        read: {
          source: ["wmtsInfo.customParameters", "wmtsInfo.url"]
        },
        write: {
          target: "wmtsInfo.customParameters"
        }
      }
    }
  }
})], B.prototype, "customParameters", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)(["portal-item", "web-document"], "customParameters")], B.prototype, "readCustomParameters", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  json: {
    origins: {
      "web-document": {
        read: {
          source: "wmtsInfo.customLayerParameters"
        },
        write: {
          target: "wmtsInfo.customLayerParameters"
        }
      },
      "portal-item": {
        read: {
          source: "wmtsInfo.customLayerParameters"
        },
        write: {
          target: "wmtsInfo.customLayerParameters"
        }
      }
    }
  }
})], B.prototype, "customLayerParameters", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  type: _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"],
  json: {
    write: {
      ignoreOrigin: !0
    },
    origins: {
      "web-document": {
        read: {
          source: "fullExtent"
        }
      },
      "portal-item": {
        read: {
          source: "fullExtent"
        }
      }
    }
  }
})], B.prototype, "fullExtent", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  readOnly: !0
})], B.prototype, "fullExtents", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  type: ["WebTiledLayer"]
})], B.prototype, "operationalLayerType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()], B.prototype, "resourceInfo", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()], B.prototype, "serviceMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)(["portal-item", "web-document"], "serviceMode", ["templateUrl"])], B.prototype, "readServiceMode", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  type: _core_Collection_js__WEBPACK_IMPORTED_MODULE_4__["default"].ofType(_support_WMTSSublayer_js__WEBPACK_IMPORTED_MODULE_29__["default"])
})], B.prototype, "sublayers", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)("service", "sublayers", ["layers"])], B.prototype, "readSublayersFromService", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  readOnly: !0
})], B.prototype, "supportedSpatialReferences", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  readOnly: !0
})], B.prototype, "tilemapCache", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  json: {
    read: {
      source: "title"
    }
  }
})], B.prototype, "title", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  json: {
    read: !1
  },
  readOnly: !0,
  value: "wmts"
})], B.prototype, "type", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({
  json: {
    origins: {
      service: {
        read: {
          source: "tileUrl"
        }
      },
      "web-document": {
        read: {
          source: "wmtsInfo.url"
        },
        write: {
          target: "wmtsInfo.url"
        }
      },
      "portal-item": {
        read: {
          source: "wmtsInfo.url"
        },
        write: {
          target: "wmtsInfo.url"
        }
      }
    }
  }
})], B.prototype, "url", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()], B.prototype, "version", void 0), B = W = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__.subclass)("esri.layers.WMTSLayer")], B);
const K = B;


/***/ }),

/***/ 53890:
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ogc/xmlUtils.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "iterateXML": () => (/* binding */ n),
/* harmony export */   "visitXML": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(n, c) {
  if (n && c) for (const f of n.children) if (f.localName in c) {
    const n = c[f.localName];
    if ("function" == typeof n) {
      const c = n(f);
      c && o(f, c);
    } else o(f, n);
  }
}
function* n(o, c) {
  for (const f of o.children) if (f.localName in c) {
    const o = c[f.localName];
    "function" == typeof o ? yield o(f) : yield* n(f, o);
  }
}


/***/ }),

/***/ 63608:
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TileMatrixSet.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/JSONSupport.js */ 69237);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/Extent.js */ 10465);
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TileInfo.js */ 51015);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/









var l;
let n = l = class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport {
  constructor(t) {
    super(t), this.fullExtent = null, this.id = null, this.tileInfo = null;
  }
  clone() {
    const t = new l();
    return this.hasOwnProperty("fullExtent") && (t.fullExtent = this.fullExtent && this.fullExtent.clone()), this.hasOwnProperty("id") && (t.id = this.id), this.hasOwnProperty("tileInfo") && (t.tileInfo = this.tileInfo && this.tileInfo.clone()), t;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_7__["default"],
  json: {
    read: {
      source: "fullExtent"
    }
  }
})], n.prototype, "fullExtent", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: String,
  json: {
    read: {
      source: "id"
    }
  }
})], n.prototype, "id", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  type: _TileInfo_js__WEBPACK_IMPORTED_MODULE_8__["default"],
  json: {
    read: {
      source: "tileInfo"
    }
  }
})], n.prototype, "tileInfo", void 0), n = l = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layer.support.TileMatrixSet")], n);
const p = n;


/***/ }),

/***/ 93242:
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/WMTSStyle.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/JSONSupport.js */ 69237);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ 20891);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







var o;
let i = o = class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport {
  constructor(r) {
    super(r), this.id = null, this.title = null, this.description = null, this.legendUrl = null;
  }
  clone() {
    const r = new o();
    return this.hasOwnProperty("description") && (r.description = this.description), this.hasOwnProperty("id") && (r.id = this.id), this.hasOwnProperty("isDefault") && (r.isDefault = this.isDefault), this.hasOwnProperty("keywords") && (r.keywords = this.keywords && this.keywords.slice()), this.hasOwnProperty("legendUrl") && (r.legendUrl = this.legendUrl), this.hasOwnProperty("title") && (r.title = this.title), r;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  json: {
    read: {
      source: "id"
    }
  }
})], i.prototype, "id", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  json: {
    read: {
      source: "title"
    }
  }
})], i.prototype, "title", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  json: {
    read: {
      source: "abstract"
    }
  }
})], i.prototype, "description", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  json: {
    read: {
      source: "legendUrl"
    }
  }
})], i.prototype, "legendUrl", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  json: {
    read: {
      source: "isDefault"
    }
  }
})], i.prototype, "isDefault", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  json: {
    read: {
      source: "keywords"
    }
  }
})], i.prototype, "keywords", void 0), i = o = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layer.support.WMTSStyle")], i);
const p = i;


/***/ }),

/***/ 15903:
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/WMTSSublayer.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ 28586);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/JSONSupport.js */ 69237);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ 66508);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../geometry/Extent.js */ 10465);
/* harmony import */ var _TileMatrixSet_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TileMatrixSet.js */ 63608);
/* harmony import */ var _WMTSStyle_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./WMTSStyle.js */ 93242);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/












var p;
let m = p = class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.JSONSupport {
  constructor(t) {
    super(t), this.description = null, this.fullExtent = null, this.fullExtents = null, this.id = null, this.imageFormats = null, this.layer = null, this.parent = null, this.styles = null, this.title = null, this.tileMatrixSetId = null, this.tileMatrixSets = null;
  }
  readFullExtent(t, e) {
    return (t = e.fullExtent) ? _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(t) : null;
  }
  readFullExtents(t, e) {
    return e.fullExtents?.length ? e.fullExtents.map(t => _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(t)) : e.tileMatrixSets?.map(t => _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(t.fullExtent)).filter(t => t) ?? [];
  }
  get imageFormat() {
    let t = this._get("imageFormat");
    return t || (t = this.imageFormats && this.imageFormats.length ? this.imageFormats[0] : ""), t;
  }
  set imageFormat(t) {
    const e = this.imageFormats;
    t && (t.includes("image/") || e && !e.includes(t)) && (t.includes("image/") || (t = "image/" + t), e && !e.includes(t)) ? console.error("The layer doesn't support the format of " + t) : this._set("imageFormat", t);
  }
  get styleId() {
    let t = this._get("styleId");
    return t || (t = this.styles?.at(0)?.id ?? ""), t;
  }
  set styleId(t) {
    this._set("styleId", t);
  }
  get tileMatrixSet() {
    return this.tileMatrixSets ? this.tileMatrixSets.find(t => t.id === this.tileMatrixSetId) : null;
  }
  clone() {
    const t = new p();
    return this.hasOwnProperty("description") && (t.description = this.description), this.hasOwnProperty("imageFormats") && (t.imageFormats = this.imageFormats && this.imageFormats.slice()), this.hasOwnProperty("imageFormat") && (t.imageFormat = this.imageFormat), this.hasOwnProperty("fullExtent") && (t.fullExtent = this.fullExtent?.clone()), this.hasOwnProperty("id") && (t.id = this.id), this.hasOwnProperty("layer") && (t.layer = this.layer), this.hasOwnProperty("styleId") && (t.styleId = this.styleId), this.hasOwnProperty("styles") && (t.styles = this.styles?.clone()), this.hasOwnProperty("tileMatrixSetId") && (t.tileMatrixSetId = this.tileMatrixSetId), this.hasOwnProperty("tileMatrixSets") && (t.tileMatrixSets = this.tileMatrixSets?.clone()), this.hasOwnProperty("title") && (t.title = this.title), t;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], m.prototype, "description", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], m.prototype, "fullExtent", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__.reader)("fullExtent", ["fullExtent"])], m.prototype, "readFullExtent", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  readOnly: !0
})], m.prototype, "fullExtents", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__.reader)("fullExtents", ["fullExtents", "tileMatrixSets"])], m.prototype, "readFullExtents", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], m.prototype, "id", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], m.prototype, "imageFormat", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  json: {
    read: {
      source: "formats"
    }
  }
})], m.prototype, "imageFormats", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], m.prototype, "layer", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], m.prototype, "parent", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], m.prototype, "styleId", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  type: _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_WMTSStyle_js__WEBPACK_IMPORTED_MODULE_11__["default"]),
  json: {
    read: {
      source: "styles"
    }
  }
})], m.prototype, "styles", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  json: {
    write: {
      ignoreOrigin: !0
    }
  }
})], m.prototype, "title", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], m.prototype, "tileMatrixSetId", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  readOnly: !0
})], m.prototype, "tileMatrixSet", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  type: _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_TileMatrixSet_js__WEBPACK_IMPORTED_MODULE_10__["default"]),
  json: {
    read: {
      source: "tileMatrixSets"
    }
  }
})], m.prototype, "tileMatrixSets", void 0), m = p = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.WMTSSublayer")], m);
const u = m;


/***/ }),

/***/ 50958:
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/wmtsUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTileUrlFromResourceUrls": () => (/* binding */ y),
/* harmony export */   "getTileUrlTemplateFromResourceUrls": () => (/* binding */ S),
/* harmony export */   "getTileUrlTemplates": () => (/* binding */ R),
/* harmony export */   "parseCapabilities": () => (/* binding */ f),
/* harmony export */   "parseResourceInfo": () => (/* binding */ d),
/* harmony export */   "validateCapabilities": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ 32995);
/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry/ellipsoidUtils.js */ 64004);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/Extent.js */ 10465);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/Point.js */ 72062);
/* harmony import */ var _geometry_support_WKIDUnitConversion_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/support/WKIDUnitConversion.js */ 94009);
/* harmony import */ var _ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ogc/crsUtils.js */ 5436);
/* harmony import */ var _ogc_xmlUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ogc/xmlUtils.js */ 53890);
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LOD.js */ 2547);
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./TileInfo.js */ 51015);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










const u = 90.71428571428571;
function p(e) {
  const n = e.replaceAll(/ows:/gi, "");
  if (!g("Contents", new DOMParser().parseFromString(n, "text/xml").documentElement)) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmtslayer:wmts-capabilities-xml-is-not-valid", "the wmts get capabilities response is not compliant", {
    text: e
  });
}
function f(e, n) {
  e = e.replaceAll(/ows:/gi, "");
  const i = new DOMParser().parseFromString(e, "text/xml").documentElement,
    r = new Map(),
    l = new Map(),
    o = g("Contents", i);
  if (!o) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmtslayer:wmts-capabilities-xml-is-not-valid");
  const s = g("OperationsMetadata", i),
    a = s?.querySelector("[name='GetTile']"),
    c = a?.getElementsByTagName("Get"),
    u = c && Array.prototype.slice.call(c),
    p = n.url?.indexOf("https"),
    f = void 0 !== p && p > -1;
  let d,
    m,
    h = n.serviceMode,
    T = n?.url;
  if (u?.length && u.some(e => {
    const t = g("Constraint", e);
    return !t || C("AllowedValues", "Value", h, t) ? (T = e.attributes[0].nodeValue, !0) : (!t || C("AllowedValues", "Value", "RESTful", t) || C("AllowedValues", "Value", "REST", t) ? m = e.attributes[0].nodeValue : t && !C("AllowedValues", "Value", "KVP", t) || (d = e.attributes[0].nodeValue), !1);
  }), !T) if (m) T = m, h = "RESTful";else if (d) T = d, h = "KVP";else {
    const e = g("ServiceMetadataURL", i);
    T = e?.getAttribute("xlink:href");
  }
  const y = T.indexOf("1.0.0/");
  -1 === y && "RESTful" === h ? T += "/" : y > -1 && (T = T.substring(0, y)), "KVP" === h && (T += y > -1 ? "" : "?"), f && (T = T.replace(/^http:/i, "https:"));
  const R = w("ServiceIdentification>ServiceTypeVersion", i),
    S = w("ServiceIdentification>AccessConstraints", i),
    A = S && /^none$/i.test(S) ? null : S,
    V = x("Layer", o),
    b = x("TileMatrixSet", o),
    E = V.map(e => {
      const t = w("Identifier", e);
      return r.set(t, e), M(t, e, b, f, R);
    });
  return {
    copyright: A,
    dimensionMap: l,
    layerMap: r,
    layers: E,
    serviceMode: h,
    tileUrl: T
  };
}
function d(e) {
  return e.layers.forEach(e => {
    e.tileMatrixSets?.forEach(e => {
      const t = e.tileInfo;
      t && 96 !== t.dpi && (t.lods?.forEach(n => {
        n.scale = 96 * n.scale / t.dpi, n.resolution = j(t.spatialReference?.wkid, n.scale * u / 96, e.id);
      }), t.dpi = 96);
    });
  }), e;
}
function m(e) {
  return e.nodeType === Node.ELEMENT_NODE;
}
function g(e, t) {
  for (let n = 0; n < t.childNodes.length; n++) {
    const i = t.childNodes[n];
    if (m(i) && i.nodeName === e) return i;
  }
  return null;
}
function x(e, t) {
  const n = [];
  for (let i = 0; i < t.childNodes.length; i++) {
    const r = t.childNodes[i];
    m(r) && r.nodeName === e && n.push(r);
  }
  return n;
}
function h(t, n) {
  const i = [];
  for (let e = 0; e < n.childNodes.length; e++) {
    const r = n.childNodes[e];
    m(r) && r.nodeName === t && i.push(r);
  }
  return i.map(e => e.textContent).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);
}
function w(e, t) {
  return e.split(">").forEach(e => {
    t && (t = g(e, t));
  }), t && t.textContent;
}
function C(e, t, n, i) {
  let r;
  return Array.prototype.slice.call(i.childNodes).some(i => {
    if (i.nodeName.includes(e)) {
      const e = g(t, i),
        l = e?.textContent;
      if (l === n || n.split(":") && n.split(":")[1] === l) return r = i, !0;
    }
    return !1;
  }), r;
}
function M(e, t, n, i, r) {
  const l = w("Abstract", t),
    o = h("Format", t);
  return {
    id: e,
    fullExtent: A(t),
    fullExtents: V(t),
    description: l,
    formats: o,
    styles: b(t, i),
    title: w("Title", t),
    tileMatrixSets: E(r, t, n)
  };
}
function T(e, t) {
  const n = [],
    i = e.layerMap?.get(t);
  if (!i) return null;
  const r = x("ResourceURL", i),
    l = x("Dimension", i);
  let o, s, a, c;
  return l.length && (o = w("Identifier", l[0]), s = h("Default", l[0]) || h("Value", l[0])), l.length > 1 && (a = w("Identifier", l[1]), c = h("Default", l[1]) || h("Value", l[1])), e.dimensionMap.set(t, {
    dimensions: s,
    dimensions2: c
  }), r.forEach(e => {
    let t = e.getAttribute("template");
    if ("tile" === e.getAttribute("resourceType")) {
      if (o && s.length) if (t.includes("{" + o + "}")) t = t.replace("{" + o + "}", "{dimensionValue}");else {
        const e = t.toLowerCase().indexOf("{" + o.toLowerCase() + "}");
        e > -1 && (t = t.substring(0, e) + "{dimensionValue}" + t.substring(e + o.length + 2));
      }
      if (a && c.length) if (t.includes("{" + a + "}")) t = t.replace("{" + a + "}", "{dimensionValue2}");else {
        const e = t.toLowerCase().indexOf("{" + a.toLowerCase() + "}");
        e > -1 && (t = t.substring(0, e) + "{dimensionValue2}" + t.substring(e + a.length + 2));
      }
      n.push({
        template: t,
        format: e.getAttribute("format"),
        resourceType: "tile"
      });
    }
  }), n;
}
function y(e, t, n, i, r, l, o, s) {
  const a = R(e, t, i);
  if (!(a?.length > 0)) return "";
  const {
      dimensionMap: c
    } = e,
    u = c.get(t).dimensions?.[0],
    p = c.get(t).dimensions2?.[0];
  return a[o % a.length].template.replaceAll(/\{Style\}/gi, r ?? "").replaceAll(/\{TileMatrixSet\}/gi, n ?? "").replaceAll(/\{TileMatrix\}/gi, l).replaceAll(/\{TileRow\}/gi, "" + o).replaceAll(/\{TileCol\}/gi, "" + s).replaceAll(/\{dimensionValue\}/gi, u).replaceAll(/\{dimensionValue2\}/gi, p);
}
function R(e, t, n) {
  const i = T(e, t),
    r = i?.filter(e => e.format === n);
  return (r?.length ? r : i) ?? [];
}
function S(e, t, n, i) {
  const {
      dimensionMap: r
    } = e,
    l = T(e, t);
  let o = "";
  if (l && l.length > 0) {
    const e = r.get(t).dimensions?.[0],
      s = r.get(t).dimensions2?.[0];
    o = l[0].template, o.indexOf(".xxx") === o.length - 4 && (o = o.slice(0, -4)), o = o.replaceAll(/\{Style\}/gi, i), o = o.replaceAll(/\{TileMatrixSet\}/gi, n), o = o.replaceAll(/\{TileMatrix\}/gi, "{level}"), o = o.replaceAll(/\{TileRow\}/gi, "{row}"), o = o.replaceAll(/\{TileCol\}/gi, "{col}"), o = o.replaceAll(/\{dimensionValue\}/gi, e), o = o.replaceAll(/\{dimensionValue2\}/gi, s);
  }
  return o;
}
function A(e) {
  const t = g("WGS84BoundingBox", e),
    n = t ? w("LowerCorner", t).split(" ") : ["-180", "-90"],
    i = t ? w("UpperCorner", t).split(" ") : ["180", "90"];
  return {
    xmin: parseFloat(n[0]),
    ymin: parseFloat(n[1]),
    xmax: parseFloat(i[0]),
    ymax: parseFloat(i[1]),
    spatialReference: {
      wkid: 4326
    }
  };
}
function V(e) {
  const t = [];
  return (0,_ogc_xmlUtils_js__WEBPACK_IMPORTED_MODULE_7__.visitXML)(e, {
    BoundingBox: e => {
      if (!e.getAttribute("crs")) return;
      const n = e.getAttribute("crs").toLowerCase(),
        i = I(n),
        r = n.includes("epsg") && (0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_6__.isAxesOrderReversedForWkid)(i.wkid);
      let l, a, c, u;
      (0,_ogc_xmlUtils_js__WEBPACK_IMPORTED_MODULE_7__.visitXML)(e, {
        LowerCorner: e => {
          [l, a] = e.textContent.split(" ").map(e => Number.parseFloat(e)), r && ([l, a] = [a, l]);
        },
        UpperCorner: e => {
          [c, u] = e.textContent.split(" ").map(e => Number.parseFloat(e)), r && ([c, u] = [u, c]);
        }
      }), t.push({
        xmin: l,
        ymin: a,
        xmax: c,
        ymax: u,
        spatialReference: i
      });
    }
  }), t;
}
function b(e, t) {
  return x("Style", e).map(e => {
    const n = g("LegendURL", e),
      i = g("Keywords", e),
      r = i ? h("Keyword", i) : [];
    let l = n && n.getAttribute("xlink:href");
    t && (l = l && l.replace(/^http:/i, "https:"));
    return {
      abstract: w("Abstract", e),
      id: w("Identifier", e),
      isDefault: "true" === e.getAttribute("isDefault"),
      keywords: r,
      legendUrl: l,
      title: w("Title", e)
    };
  });
}
function E(e, t, n) {
  return x("TileMatrixSetLink", t).map(t => L(e, t, n));
}
function L(e, t, n) {
  const i = g("TileMatrixSet", t).textContent,
    r = h("TileMatrix", t),
    l = n.find(e => {
      const t = g("Identifier", e),
        n = t?.textContent;
      return !!(n === i || i.split(":") && i.split(":")[1] === n);
    }),
    o = g("TileMatrixSetLimits", t),
    s = o && x("TileMatrixLimits", o),
    a = new Map();
  if (s?.length) for (const c of s) {
    const e = g("TileMatrix", c).textContent,
      t = +g("MinTileRow", c).textContent,
      n = +g("MaxTileRow", c).textContent,
      i = +g("MinTileCol", c).textContent,
      r = +g("MaxTileCol", c).textContent;
    a.set(e, {
      minCol: i,
      maxCol: r,
      minRow: t,
      maxRow: n
    });
  }
  const u = w("SupportedCRS", l).toLowerCase(),
    p = N(l, u),
    f = p.spatialReference,
    d = g("TileMatrix", l),
    m = [parseInt(w("TileWidth", d), 10), parseInt(w("TileHeight", d), 10)],
    M = [];
  if (r.length) r.forEach((e, t) => {
    const n = C("TileMatrix", "Identifier", e, l);
    M.push(k(n, u, t, i, a));
  });else {
    x("TileMatrix", l).forEach((e, t) => {
      M.push(k(e, u, t, i, a));
    });
  }
  const T = F(e, l, p, m, M[0]).toJSON(),
    y = new _TileInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({
      dpi: 96,
      spatialReference: f,
      size: m,
      origin: p,
      lods: M
    }).toJSON();
  return {
    id: i,
    fullExtent: T,
    tileInfo: y
  };
}
function I(e) {
  e = e.toLowerCase();
  let t = parseInt(e.split(":").pop(), 10);
  900913 !== t && 3857 !== t || (t = 102100);
  const n = D(e);
  return null != n && (t = n), {
    wkid: t
  };
}
function N(e, t) {
  return v(g("TileMatrix", e), t);
}
function v(e, t) {
  const n = I(t),
    [i, l] = w("TopLeftCorner", e).split(" ").map(e => parseFloat(e)),
    s = t.includes("epsg") && (0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_6__.isAxesOrderReversedForWkid)(n.wkid);
  return new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_4__["default"](s ? {
    x: l,
    y: i,
    spatialReference: n
  } : {
    x: i,
    y: l,
    spatialReference: n
  });
}
function F(e, t, n, r, l) {
  const o = g("BoundingBox", t);
  let s, a, c, u, p, f;
  if (o && (s = w("LowerCorner", o).split(" "), a = w("UpperCorner", o).split(" ")), s && s.length > 1 && a && a.length > 1) c = parseFloat(s[0]), p = parseFloat(s[1]), u = parseFloat(a[0]), f = parseFloat(a[1]);else {
    const e = g("TileMatrix", t),
      i = parseInt(w("MatrixWidth", e), 10),
      o = parseInt(w("MatrixHeight", e), 10);
    c = n.x, f = n.y, u = c + i * r[0] * l.resolution, p = f - o * r[1] * l.resolution;
  }
  return O(e, n.spatialReference, n) ? new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](p, c, f, u, n.spatialReference) : new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](c, p, u, f, n.spatialReference);
}
function O(e, t, n) {
  return "1.0.0" === e && (0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_6__.isAxesOrderReversedForWkid)(t.wkid) && !(n.spatialReference.isGeographic && n.x < -90 && n.y >= -90);
}
var U;
function D(e) {
  return e.includes("crs84") || e.includes("crs:84") ? U.CRS84 : e.includes("crs83") || e.includes("crs:83") ? U.CRS83 : e.includes("crs27") || e.includes("crs:27") ? U.CRS27 : null;
}
function k(e, t, n, i, r) {
  const l = I(t),
    o = w("Identifier", e);
  let s = parseFloat(w("ScaleDenominator", e));
  const c = j(l.wkid, s, i);
  s *= 96 / u;
  const p = +w("MatrixWidth", e),
    f = +w("MatrixHeight", e),
    {
      maxCol: d = p - 1,
      maxRow: m = f - 1,
      minCol: g = 0,
      minRow: x = 0
    } = r.get(o) ?? {},
    {
      x: h,
      y: C
    } = v(e, t);
  return new _LOD_js__WEBPACK_IMPORTED_MODULE_8__["default"]({
    cols: [g, d],
    level: n,
    levelValue: o,
    origin: [h, C],
    scale: s,
    resolution: c,
    rows: [x, m]
  });
}
function j(e, t, i) {
  let r;
  return r = _geometry_support_WKIDUnitConversion_js__WEBPACK_IMPORTED_MODULE_5__["default"].hasOwnProperty("" + e) ? _geometry_support_WKIDUnitConversion_js__WEBPACK_IMPORTED_MODULE_5__["default"].values[_geometry_support_WKIDUnitConversion_js__WEBPACK_IMPORTED_MODULE_5__["default"][e]] : "default028mm" === i ? 6370997 * Math.PI / 180 : (0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_2__.getReferenceEllipsoidFromWKID)(e).metersPerDegree, 7 * t / 25e3 / r;
}
!function (e) {
  e[e.CRS84 = 4326] = "CRS84", e[e.CRS83 = 4269] = "CRS83", e[e.CRS27 = 4267] = "CRS27";
}(U || (U = {}));


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_layers_WMTSLayer_js.js.map