"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["default-node_modules_arcgis_core_views_2d_engine_webgl_shaders_MaterialPrograms_js-node_modul-c16720"],{

/***/ 22043:
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/NestedMap.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NestedMap": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t {
  constructor() {
    this._outer = new Map();
  }
  clear() {
    this._outer.clear();
  }
  get empty() {
    return 0 === this._outer.size;
  }
  get(t, e) {
    return this._outer.get(t)?.get(e);
  }
  set(t, e, r) {
    const s = this._outer.get(t);
    s ? s.set(e, r) : this._outer.set(t, new Map([[e, r]]));
  }
  delete(t, e) {
    const r = this._outer.get(t);
    r && (r.delete(e), 0 === r.size && this._outer.delete(t));
  }
  forEach(t) {
    this._outer.forEach((e, r) => t(e, r));
  }
}


/***/ }),

/***/ 38512:
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/MaterialPrograms.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createProgramTemplate": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sources/resolver.js */ 58541);
/* harmony import */ var _webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../webgl/programUtils.js */ 33879);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


const e = r => {
    let t = "";
    t += r[0].toUpperCase();
    for (let e = 1; e < r.length; e++) {
      const s = r[e];
      s === s.toUpperCase() ? (t += "_", t += s) : t += s.toUpperCase();
    }
    return t;
  },
  s = r => {
    const s = {};
    for (const t in r) {
      s[e(t)] = r[t];
    }
    return (0,_webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__.glslifyDefineMap)(s);
  },
  o = (t, e, o, n) => {
    const a = t + t.substring(t.lastIndexOf("/")),
      p = e + e.substring(e.lastIndexOf("/")),
      f = s(n);
    return {
      attributes: o,
      shaders: {
        vertexShader: f + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)(`${a}.vert`),
        fragmentShader: f + (0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)(`${p}.frag`)
      }
    };
  };


/***/ }),

/***/ 76179:
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ 20753);
/* harmony import */ var _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseGraphicContainer.js */ 19119);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class i extends _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_1__["default"] {
  renderChildren(r) {
    this.attributeView.update(), this.children.some(e => e.hasData) && (this.attributeView.bindTextures(r.context, !1), super.renderChildren(r), r.drawPhase === _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLDrawPhase.MAP && this._renderChildren(r), this.hasHighlight && r.drawPhase === _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLDrawPhase.HIGHLIGHT && this._renderHighlight(r), this._boundsRenderer && this._boundsRenderer.doRender(r));
  }
  _renderHighlight(e) {
    const {
        painter: r
      } = e,
      i = r.effects.highlight;
    i.bind(e), this._renderChildren(e, i.defines), i.draw(e), i.unbind();
  }
}


/***/ }),

/***/ 41382:
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/AllocationTracer.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AllocationTracer": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t {
  constructor(t) {
    this._allocations = new Map(), t ? Error.stackTraceLimit = 1 / 0 : (this.add = () => {}, this.remove = () => {});
  }
  add(t) {
    this._allocations.set(t, new Error().stack);
  }
  remove(t) {
    this._allocations.delete(t);
  }
  get information() {
    let t = "";
    if (this._allocations.size > 0) {
      t += `${this._allocations.size} live object allocations:\n`;
      const s = new Map();
      this._allocations.forEach(t => {
        s.set(t, (s.get(t) ?? 0) + 1);
      }), s.forEach((s, o) => {
        const i = o.split("\n");
        i.shift(), i.shift(), t += `${s}: ${i.shift()}\n`, i.forEach(s => t += `   ${s}\n`);
      });
    }
    return t;
  }
}


/***/ }),

/***/ 31457:
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/AppleAmdDriverHelper.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AppleAmdDriverHelper": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BufferObject.js */ 10615);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ 69923);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class n {
  constructor(e) {
    this._rctx = e, this._indexBuffer = this._createIndexbuffer(), this._program = this._createHelperProgram();
  }
  static getShaderSources() {
    return {
      vertex: "#version 300 es\n    precision highp float;\n\n    void main(void) {\n      gl_Position = vec4(0.0, 0.0, float(gl_VertexID)-2.0, 1.0);\n    }",
      fragment: "#version 300 es\n    precision highp float;\n\n    out vec4 fragColor;\n\n    void main(void) {\n      fragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    }"
    };
  }
  _createHelperProgram() {
    const e = n.getShaderSources();
    return this._rctx.programCache.acquire(e.vertex, e.fragment, new Map([]));
  }
  _createIndexbuffer() {
    return _BufferObject_js__WEBPACK_IMPORTED_MODULE_0__.BufferObject.createIndex(this._rctx, _enums_js__WEBPACK_IMPORTED_MODULE_1__.Usage.STATIC_DRAW, new Uint32Array([0]));
  }
  run() {
    this._program.compiled && this._indexBuffer && (this._rctx.bindVAO(null), this._rctx.useProgram(this._program), this._rctx.bindBuffer(this._indexBuffer, _enums_js__WEBPACK_IMPORTED_MODULE_1__.BufferType.ELEMENT_ARRAY_BUFFER), this._rctx.drawElements(_enums_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveType.POINTS, 1, _enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_INT, 0));
  }
  dispose() {
    this._program.dispose(), this._indexBuffer.dispose();
  }
  get test() {
    return {
      cachedWebGLObjects: this._indexBuffer?.glName ? 1 : 0
    };
  }
}


/***/ }),

/***/ 8305:
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/ContextState.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ContextState": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums.js */ 69923);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class h {
  constructor() {
    this.blend = !1, this.blendColor = {
      r: 0,
      g: 0,
      b: 0,
      a: 0
    }, this.blendFunction = {
      srcRGB: _enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendFactor.ONE,
      dstRGB: _enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendFactor.ZERO,
      srcAlpha: _enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendFactor.ONE,
      dstAlpha: _enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendFactor.ZERO
    }, this.blendEquation = {
      mode: _enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendOperation.ADD,
      modeAlpha: _enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendOperation.ADD
    }, this.colorMask = {
      r: !0,
      g: !0,
      b: !0,
      a: !0
    }, this.faceCulling = !1, this.cullFace = _enums_js__WEBPACK_IMPORTED_MODULE_0__.Face.BACK, this.frontFace = _enums_js__WEBPACK_IMPORTED_MODULE_0__.CullMode.CCW, this.scissorTest = !1, this.scissorRect = {
      x: 0,
      y: 0,
      width: 0,
      height: 0
    }, this.depthTest = !1, this.depthFunction = _enums_js__WEBPACK_IMPORTED_MODULE_0__.CompareFunction.LESS, this.clearDepth = 1, this.depthWrite = !0, this.depthRange = {
      zNear: 0,
      zFar: 1
    }, this.viewport = null, this.stencilTest = !1, this.polygonOffsetFill = !1, this.polygonOffset = [0, 0], this.stencilFunction = {
      face: _enums_js__WEBPACK_IMPORTED_MODULE_0__.Face.FRONT_AND_BACK,
      func: _enums_js__WEBPACK_IMPORTED_MODULE_0__.CompareFunction.ALWAYS,
      ref: 0,
      mask: 1
    }, this.clearStencil = 0, this.stencilWriteMask = 1, this.stencilOperation = {
      face: _enums_js__WEBPACK_IMPORTED_MODULE_0__.Face.FRONT_AND_BACK,
      fail: _enums_js__WEBPACK_IMPORTED_MODULE_0__.StencilOperation.KEEP,
      zFail: _enums_js__WEBPACK_IMPORTED_MODULE_0__.StencilOperation.KEEP,
      zPass: _enums_js__WEBPACK_IMPORTED_MODULE_0__.StencilOperation.KEEP
    }, this.clearColor = {
      r: 0,
      g: 0,
      b: 0,
      a: 0
    }, this.program = null, this.vertexBuffer = null, this.indexBuffer = null, this.uniformBuffer = null, this.pixelPackBuffer = null, this.pixelUnpackBuffer = null, this.copyReadBuffer = null, this.copyWriteBuffer = null, this.uniformBufferBindingPoints = new Array(), this.readFramebuffer = null, this.drawFramebuffer = null, this.renderbuffer = null, this.activeTexture = 0, this.textureUnitMap = new Array(), this.vertexArrayObject = null;
  }
}


/***/ }),

/***/ 86962:
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/InstanceCounter.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InstanceCounter": () => (/* binding */ n),
/* harmony export */   "test": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _support_AllocationTracer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../support/AllocationTracer.js */ 41382);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ 69923);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


const e = {
  RECORD_ALLOCATIONS: !1
};
class n {
  constructor() {
    for (this._current = new Array(), this._allocations = new _support_AllocationTracer_js__WEBPACK_IMPORTED_MODULE_0__.AllocationTracer(e.RECORD_ALLOCATIONS); this._current.length < _enums_js__WEBPACK_IMPORTED_MODULE_1__.ResourceType.COUNT;) this._current.push(0);
  }
  increment(t, r, e = 1) {
    this._current[t] += e, this._allocations.add(r);
  }
  decrement(t, r, e = 1) {
    this._current[t] -= e, this._allocations.remove(r);
  }
  get current() {
    return this._current;
  }
  get total() {
    return this.current.reduce((t, e, n) => t + (n < _enums_js__WEBPACK_IMPORTED_MODULE_1__.ResourceType.UNCOUNTED ? e : 0), 0);
  }
  get resourceInformation() {
    let t = "";
    if (this.total > 0) {
      t += "Live objects:\n";
      for (let e = 0; e < _enums_js__WEBPACK_IMPORTED_MODULE_1__.ResourceType.COUNT; ++e) {
        const n = this._current[e];
        n > 0 && (t += `${_enums_js__WEBPACK_IMPORTED_MODULE_1__.ResourceType[e]}: ${n}\n`);
      }
    }
    return t += this._allocations.information, t;
  }
}


/***/ }),

/***/ 94099:
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/Parameters.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Parameters": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./capabilities/isWebGL2Context.js */ 46641);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class t {
  constructor(t, r, a) {
    const i = r.textureFilterAnisotropic,
      m = a.maxAnisotropy ?? 1 / 0;
    this.versionString = t.getParameter(t.VERSION), this.maxVertexTextureImageUnits = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS), this.maxVertexAttributes = t.getParameter(t.MAX_VERTEX_ATTRIBS), this.maxMaxAnisotropy = i ? Math.min(t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY), m) : 1, this.maxTextureImageUnits = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), this.maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE), this.maxRenderbufferSize = t.getParameter(t.MAX_RENDERBUFFER_SIZE), this.maxViewportDims = t.getParameter(t.MAX_VIEWPORT_DIMS), (0,_capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t) ? (this.maxUniformBufferBindings = t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS), this.maxVertexUniformBlocks = t.getParameter(t.MAX_VERTEX_UNIFORM_BLOCKS), this.maxFragmentUniformBlocks = t.getParameter(t.MAX_FRAGMENT_UNIFORM_BLOCKS), this.maxUniformBlockSize = t.getParameter(t.MAX_UNIFORM_BLOCK_SIZE), this.uniformBufferOffsetAlignment = t.getParameter(t.UNIFORM_BUFFER_OFFSET_ALIGNMENT), this.maxArrayTextureLayers = t.getParameter(t.MAX_ARRAY_TEXTURE_LAYERS), this.maxSamples = t.getParameter(t.MAX_SAMPLES)) : (this.maxUniformBufferBindings = 0, this.maxVertexUniformBlocks = 0, this.maxFragmentUniformBlocks = 0, this.maxUniformBlockSize = 0, this.uniformBufferOffsetAlignment = 1, this.maxArrayTextureLayers = 1, this.maxSamples = 1);
  }
}


/***/ }),

/***/ 78392:
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/ProgramCache.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProgramCache": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/NestedMap.js */ 22043);
/* harmony import */ var _Program_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Program.js */ 9513);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class e {
  constructor(t) {
    this._rctx = t, this._store = new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_0__.NestedMap();
  }
  dispose() {
    this._store.forEach(r => r.forEach(r => r.dispose())), this._store.clear();
  }
  acquire(r, e, s, o) {
    const c = this._store.get(r, e);
    if (null != c) return c.ref(), c;
    const h = new _Program_js__WEBPACK_IMPORTED_MODULE_1__.Program(this._rctx, r, e, s, o);
    return h.ref(), this._store.set(r, e, h), h;
  }
  get test() {
    let r = 0;
    return this._store.forEach(t => t.forEach(t => r += t.hasGLName ? 2 : 1)), {
      cachedWebGLProgramObjects: r
    };
  }
}


/***/ }),

/***/ 93530:
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/RenderingContext.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RenderingContext": () => (/* binding */ N)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/maybe.js */ 53661);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/time.js */ 69354);
/* harmony import */ var _checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./checkWebGLError.js */ 4907);
/* harmony import */ var _ContextState_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ContextState.js */ 8305);
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./contextUtils.js */ 40331);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./enums.js */ 69923);
/* harmony import */ var _InstanceCounter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./InstanceCounter.js */ 86962);
/* harmony import */ var _Parameters_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Parameters.js */ 94099);
/* harmony import */ var _ProgramCache_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ProgramCache.js */ 78392);
/* harmony import */ var _renderState_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./renderState.js */ 22473);
/* harmony import */ var _Texture_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Texture.js */ 74697);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Util.js */ 68267);
/* harmony import */ var _WebGLDriverTest_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./WebGLDriverTest.js */ 15396);
/* harmony import */ var _capabilities_Capabilities_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./capabilities/Capabilities.js */ 9264);
/* harmony import */ var _capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./capabilities/isWebGL2Context.js */ 46641);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
















let N = class {
  constructor(t, e) {
    this.gl = t, this.instanceCounter = new _InstanceCounter_js__WEBPACK_IMPORTED_MODULE_8__.InstanceCounter(), this.programCache = new _ProgramCache_js__WEBPACK_IMPORTED_MODULE_10__.ProgramCache(this), this._state = new _ContextState_js__WEBPACK_IMPORTED_MODULE_5__.ContextState(), this._numOfDrawCalls = 0, this._numOfTriangles = 0, this.type = (0,_capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_16__["default"])(t) ? _contextUtils_js__WEBPACK_IMPORTED_MODULE_6__.ContextType.WEBGL2 : _contextUtils_js__WEBPACK_IMPORTED_MODULE_6__.ContextType.WEBGL1, this._loadExtensions(), this.configure(e);
  }
  get gl2() {
    return this.type === _contextUtils_js__WEBPACK_IMPORTED_MODULE_6__.ContextType.WEBGL1 ? null : this.gl;
  }
  configure(e) {
    this._capabilities = new _capabilities_Capabilities_js__WEBPACK_IMPORTED_MODULE_15__.Capabilities(this.gl, e), this._parameters = new _Parameters_js__WEBPACK_IMPORTED_MODULE_9__.Parameters(this.gl, this._capabilities, e), _Texture_js__WEBPACK_IMPORTED_MODULE_12__.Texture.TEXTURE_UNIT_FOR_UPDATES = this._parameters.maxTextureImageUnits - 1;
    const s = this.gl.getParameter(this.gl.VIEWPORT);
    this._state = new _ContextState_js__WEBPACK_IMPORTED_MODULE_5__.ContextState(), this._state.viewport = {
      x: s[0],
      y: s[1],
      width: s[2],
      height: s[3]
    }, this._stateTracker = new _renderState_js__WEBPACK_IMPORTED_MODULE_11__.StateTracker({
      setBlending: t => {
        if (t) {
          this.setBlendingEnabled(!0), this.setBlendEquationSeparate(t.opRgb, t.opAlpha), this.setBlendFunctionSeparate(t.srcRgb, t.dstRgb, t.srcAlpha, t.dstAlpha);
          const e = t.color;
          this.setBlendColor(e.r, e.g, e.b, e.a);
        } else this.setBlendingEnabled(!1);
      },
      setCulling: t => {
        t ? (this.setFaceCullingEnabled(!0), this.setCullFace(t.face), this.setFrontFace(t.mode)) : this.setFaceCullingEnabled(!1);
      },
      setPolygonOffset: t => {
        t ? (this.setPolygonOffsetFillEnabled(!0), this.setPolygonOffset(t.factor, t.units)) : this.setPolygonOffsetFillEnabled(!1);
      },
      setDepthTest: t => {
        t ? (this.setDepthTestEnabled(!0), this.setDepthFunction(t.func)) : this.setDepthTestEnabled(!1);
      },
      setStencilTest: t => {
        if (t) {
          this.setStencilTestEnabled(!0);
          const e = t.function;
          this.setStencilFunction(e.func, e.ref, e.mask);
          const s = t.operation;
          this.setStencilOp(s.fail, s.zFail, s.zPass);
        } else this.setStencilTestEnabled(!1);
      },
      setDepthWrite: t => {
        t ? (this.setDepthWriteEnabled(!0), this.setDepthRange(t.zNear, t.zFar)) : this.setDepthWriteEnabled(!1);
      },
      setColorWrite: t => {
        t ? this.setColorMask(t.r, t.g, t.b, t.a) : this.setColorMask(!1, !1, !1, !1);
      },
      setStencilWrite: t => {
        t ? this.setStencilWriteMask(t.mask) : this.setStencilWriteMask(0);
      },
      setDrawBuffers: t => {
        const {
          drawBuffers: e
        } = this._capabilities;
        if (t) e?.drawBuffers(t.buffers);else {
          const {
            drawFramebuffer: t
          } = this._state;
          null === t || 0 === t.colorAttachments.length ? e?.drawBuffers([_enums_js__WEBPACK_IMPORTED_MODULE_7__.SpecialDrawBuffers.BACK]) : e?.drawBuffers([_enums_js__WEBPACK_IMPORTED_MODULE_7__.ColorAttachment.COLOR_ATTACHMENT0]);
        }
      }
    }), this.enforceState(), (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._driverTest), this._driverTest = new _WebGLDriverTest_js__WEBPACK_IMPORTED_MODULE_14__.WebGLDriverTest(this);
  }
  dispose() {
    (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._driverTest), this.programCache.dispose(), this.bindVAO(null), this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.ARRAY_BUFFER), this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.ELEMENT_ARRAY_BUFFER), this.type === _contextUtils_js__WEBPACK_IMPORTED_MODULE_6__.ContextType.WEBGL2 && (this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER), this._state.uniformBufferBindingPoints.length = 0, this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.PIXEL_PACK_BUFFER), this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.PIXEL_UNPACK_BUFFER), this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.COPY_READ_BUFFER), this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.COPY_WRITE_BUFFER)), this._state.textureUnitMap.length = 0, (0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.webglDebugEnabled)() && console.log(this.instanceCounter.resourceInformation);
  }
  get driverTest() {
    return this._driverTest;
  }
  get contextAttributes() {
    return this.gl.getContextAttributes();
  }
  get parameters() {
    return this._parameters;
  }
  setPipelineState(t) {
    this._stateTracker.setPipeline(t);
  }
  setBlendingEnabled(t) {
    this._state.blend !== t && (!0 === t ? this.gl.enable(this.gl.BLEND) : this.gl.disable(this.gl.BLEND), this._state.blend = t, this._stateTracker.invalidateBlending());
  }
  externalProgramUpdate() {
    this._state.program?.stop(), this._state.program = null;
  }
  externalTextureUnitUpdate(t, e) {
    for (let s = 0; s < t.length; ++s) this._state.textureUnitMap[t[s]] = null;
    e >= 0 && (this._state.activeTexture = e);
  }
  externalVertexArrayObjectUpdate() {
    const t = this.capabilities.vao;
    t && (t.bindVertexArray(null), this._state.vertexArrayObject = null), this._state.vertexBuffer = null, this._state.indexBuffer = null;
  }
  externalVertexBufferUpdate() {
    this._state.vertexBuffer = null;
  }
  externalIndexBufferUpdate() {
    this._state.indexBuffer = null;
  }
  setBlendColor(t, e, s, i) {
    t === this._state.blendColor.r && e === this._state.blendColor.g && s === this._state.blendColor.b && i === this._state.blendColor.a || (this.gl.blendColor(t, e, s, i), this._state.blendColor.r = t, this._state.blendColor.g = e, this._state.blendColor.b = s, this._state.blendColor.a = i, this._stateTracker.invalidateBlending());
  }
  setBlendFunction(t, e) {
    t === this._state.blendFunction.srcRGB && e === this._state.blendFunction.dstRGB || (this.gl.blendFunc(t, e), this._state.blendFunction.srcRGB = t, this._state.blendFunction.srcAlpha = t, this._state.blendFunction.dstRGB = e, this._state.blendFunction.dstAlpha = e, this._stateTracker.invalidateBlending());
  }
  setBlendFunctionSeparate(t, e, s, i) {
    this._state.blendFunction.srcRGB === t && this._state.blendFunction.srcAlpha === s && this._state.blendFunction.dstRGB === e && this._state.blendFunction.dstAlpha === i || (this.gl.blendFuncSeparate(t, e, s, i), this._state.blendFunction.srcRGB = t, this._state.blendFunction.srcAlpha = s, this._state.blendFunction.dstRGB = e, this._state.blendFunction.dstAlpha = i, this._stateTracker.invalidateBlending());
  }
  setBlendEquation(t) {
    this._state.blendEquation.mode !== t && (this.gl.blendEquation(t), this._state.blendEquation.mode = t, this._state.blendEquation.modeAlpha = t, this._stateTracker.invalidateBlending());
  }
  setBlendEquationSeparate(t, e) {
    this._state.blendEquation.mode === t && this._state.blendEquation.modeAlpha === e || (this.gl.blendEquationSeparate(t, e), this._state.blendEquation.mode = t, this._state.blendEquation.modeAlpha = e, this._stateTracker.invalidateBlending());
  }
  setColorMask(t, e, s, i) {
    this._state.colorMask.r === t && this._state.colorMask.g === e && this._state.colorMask.b === s && this._state.colorMask.a === i || (this.gl.colorMask(t, e, s, i), this._state.colorMask.r = t, this._state.colorMask.g = e, this._state.colorMask.b = s, this._state.colorMask.a = i, this._stateTracker.invalidateColorWrite());
  }
  setClearColor(t, e, s, i) {
    this._state.clearColor.r === t && this._state.clearColor.g === e && this._state.clearColor.b === s && this._state.clearColor.a === i || (this.gl.clearColor(t, e, s, i), this._state.clearColor.r = t, this._state.clearColor.g = e, this._state.clearColor.b = s, this._state.clearColor.a = i);
  }
  setFaceCullingEnabled(t) {
    this._state.faceCulling !== t && (!0 === t ? this.gl.enable(this.gl.CULL_FACE) : this.gl.disable(this.gl.CULL_FACE), this._state.faceCulling = t, this._stateTracker.invalidateCulling());
  }
  setPolygonOffsetFillEnabled(t) {
    this._state.polygonOffsetFill !== t && (!0 === t ? this.gl.enable(this.gl.POLYGON_OFFSET_FILL) : this.gl.disable(this.gl.POLYGON_OFFSET_FILL), this._state.polygonOffsetFill = t, this._stateTracker.invalidatePolygonOffset());
  }
  setPolygonOffset(t, e) {
    this._state.polygonOffset[0] === t && this._state.polygonOffset[1] === e || (this._state.polygonOffset[0] = t, this._state.polygonOffset[1] = e, this.gl.polygonOffset(t, e), this._stateTracker.invalidatePolygonOffset());
  }
  setCullFace(t) {
    this._state.cullFace !== t && (this.gl.cullFace(t), this._state.cullFace = t, this._stateTracker.invalidateCulling());
  }
  setFrontFace(t) {
    this._state.frontFace !== t && (this.gl.frontFace(t), this._state.frontFace = t, this._stateTracker.invalidateCulling());
  }
  setScissorTestEnabled(t) {
    this._state.scissorTest !== t && (!0 === t ? this.gl.enable(this.gl.SCISSOR_TEST) : this.gl.disable(this.gl.SCISSOR_TEST), this._state.scissorTest = t);
  }
  setScissorRect(t, e, s, i) {
    this._state.scissorRect.x === t && this._state.scissorRect.y === e && this._state.scissorRect.width === s && this._state.scissorRect.height === i || (this.gl.scissor(t, e, s, i), this._state.scissorRect.x = t, this._state.scissorRect.y = e, this._state.scissorRect.width = s, this._state.scissorRect.height = i);
  }
  setDepthTestEnabled(t) {
    this._state.depthTest !== t && (!0 === t ? this.gl.enable(this.gl.DEPTH_TEST) : this.gl.disable(this.gl.DEPTH_TEST), this._state.depthTest = t, this._stateTracker.invalidateDepthTest());
  }
  setClearDepth(t) {
    this._state.clearDepth !== t && (this.gl.clearDepth(t), this._state.clearDepth = t);
  }
  setDepthFunction(t) {
    this._state.depthFunction !== t && (this.gl.depthFunc(t), this._state.depthFunction = t, this._stateTracker.invalidateDepthTest());
  }
  setDepthWriteEnabled(t) {
    this._state.depthWrite !== t && (this.gl.depthMask(t), this._state.depthWrite = t, this._stateTracker.invalidateDepthWrite());
  }
  setDepthRange(t, e) {
    this._state.depthRange.zNear === t && this._state.depthRange.zFar === e || (this.gl.depthRange(t, e), this._state.depthRange.zNear = t, this._state.depthRange.zFar = e, this._stateTracker.invalidateDepthWrite());
  }
  setStencilTestEnabled(t) {
    this._state.stencilTest !== t && (!0 === t ? this.gl.enable(this.gl.STENCIL_TEST) : this.gl.disable(this.gl.STENCIL_TEST), this._state.stencilTest = t, this._stateTracker.invalidateStencilTest());
  }
  setClearStencil(t) {
    t !== this._state.clearStencil && (this.gl.clearStencil(t), this._state.clearStencil = t);
  }
  setStencilFunction(t, e, s) {
    this._state.stencilFunction.func === t && this._state.stencilFunction.ref === e && this._state.stencilFunction.mask === s || (this.gl.stencilFunc(t, e, s), this._state.stencilFunction.face = _enums_js__WEBPACK_IMPORTED_MODULE_7__.Face.FRONT_AND_BACK, this._state.stencilFunction.func = t, this._state.stencilFunction.ref = e, this._state.stencilFunction.mask = s, this._stateTracker.invalidateStencilTest());
  }
  setStencilFunctionSeparate(t, e, s, i) {
    this._state.stencilFunction.face === t && this._state.stencilFunction.func === e && this._state.stencilFunction.ref === s && this._state.stencilFunction.mask === i || (this.gl.stencilFuncSeparate(t, e, s, i), this._state.stencilFunction.face = t, this._state.stencilFunction.func = e, this._state.stencilFunction.ref = s, this._state.stencilFunction.mask = i, this._stateTracker.invalidateStencilTest());
  }
  setStencilWriteMask(t) {
    this._state.stencilWriteMask !== t && (this.gl.stencilMask(t), this._state.stencilWriteMask = t, this._stateTracker.invalidateStencilWrite());
  }
  setStencilOp(t, e, s) {
    this._state.stencilOperation.face === _enums_js__WEBPACK_IMPORTED_MODULE_7__.Face.FRONT_AND_BACK && this._state.stencilOperation.fail === t && this._state.stencilOperation.zFail === e && this._state.stencilOperation.zPass === s || (this.gl.stencilOp(t, e, s), this._state.stencilOperation.face = _enums_js__WEBPACK_IMPORTED_MODULE_7__.Face.FRONT_AND_BACK, this._state.stencilOperation.fail = t, this._state.stencilOperation.zFail = e, this._state.stencilOperation.zPass = s, this._stateTracker.invalidateStencilTest());
  }
  setStencilOpSeparate(t, e, s, i) {
    this._state.stencilOperation.face === t && this._state.stencilOperation.fail === e && this._state.stencilOperation.zFail === s && this._state.stencilOperation.zPass === i || (this.gl.stencilOpSeparate(t, e, s, i), this._state.stencilOperation.face = t, this._state.stencilOperation.fail = e, this._state.stencilOperation.zFail = s, this._state.stencilOperation.zPass = i, this._stateTracker.invalidateStencilTest());
  }
  setActiveTexture(t, e = !1) {
    const s = this._state.activeTexture;
    return t >= 0 && (e || t !== this._state.activeTexture) && (this.gl.activeTexture(_enums_js__WEBPACK_IMPORTED_MODULE_7__.baseTextureUnit + t), this._state.activeTexture = t), s;
  }
  clear(t) {
    t && this.gl.clear(t);
  }
  clearSafe(t, e = 255) {
    t && (t & _enums_js__WEBPACK_IMPORTED_MODULE_7__.ClearBufferBit.COLOR_BUFFER_BIT && this.setColorMask(!0, !0, !0, !0), t & _enums_js__WEBPACK_IMPORTED_MODULE_7__.ClearBufferBit.DEPTH_BUFFER_BIT && this.setDepthWriteEnabled(!0), t & _enums_js__WEBPACK_IMPORTED_MODULE_7__.ClearBufferBit.STENCIL_BUFFER_BIT && this.setStencilWriteMask(e), this.gl.clear(t));
  }
  drawArrays(t, e, s) {
    (0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.webglDebugEnabled)() && (this._numOfDrawCalls++, this._numOfTriangles += D(t, s)), this.gl.drawArrays(t, e, s), (0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.checkWebGLError)(this.gl);
  }
  drawArraysInstanced(t, e, s, i) {
    this.gl2?.drawArraysInstanced(t, e, s, i), (0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.checkWebGLError)(this.gl);
  }
  drawElements(t, e, s, a) {
    if ((0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.webglDebugEnabled)() && (this._numOfDrawCalls++, this._numOfTriangles += D(t, e)), this.gl.drawElements(t, e, s, a), (0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.webglDebugEnabled)()) {
      const i = (0,_Util_js__WEBPACK_IMPORTED_MODULE_13__.getErrorString)(this);
      if (i) {
        const r = this.getBoundVAO(),
          n = r?.indexBuffer,
          l = r?.vertexBuffers,
          h = {
            indexBuffer: n,
            vertexBuffers: l
          },
          f = {
            mode: t,
            count: e,
            type: s,
            offset: a
          },
          o = n?.size ?? 0,
          u = a + e,
          c = o < u ? `. Buffer is too small. Attempted to draw index ${u} of ${o}` : "";
        console.error(`drawElements: ${i}${c}`, {
          args: f,
          vao: h
        });
      }
    }
  }
  logInfo() {
    (0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.webglDebugEnabled)() && console.log(`DrawCalls: ${this._numOfDrawCalls}, Triangles: ${this._numOfTriangles}`);
  }
  resetInfo() {
    (0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.webglDebugEnabled)() && (this._numOfDrawCalls = 0, this._numOfTriangles = 0);
  }
  get capabilities() {
    return this._capabilities;
  }
  setViewport(t, e, s, i) {
    s = Math.max(Math.round(s), 1), i = Math.max(Math.round(i), 1);
    const a = this._state.viewport;
    a.x === t && a.y === e && a.width === s && a.height === i || (a.x = t, a.y = e, a.width = s, a.height = i, this.gl.viewport(t, e, s, i));
  }
  setViewport4fv(t) {
    this.setViewport(t[0], t[1], t[2], t[3]);
  }
  getViewport() {
    const t = this._state.viewport;
    return {
      x: t.x,
      y: t.y,
      width: t.width,
      height: t.height
    };
  }
  useProgram(t) {
    this._state.program !== t && (this._state.program?.stop(), this._state.program = t, this.gl.useProgram(t?.glName ?? null));
  }
  bindTexture(t, e, s = !1) {
    (e >= this.parameters.maxTextureImageUnits || e < 0) && console.error("Input texture unit is out of range of available units!");
    const i = this._state.textureUnitMap[e];
    return null == t?.glName ? (null != i && (this.setActiveTexture(e, s), this.gl.bindTexture(i.descriptor.target, null)), this._state.textureUnitMap[e] = null, i) : s || i !== t ? (this.setActiveTexture(e, s), this.gl.bindTexture(t.descriptor.target, t.glName), t.applyChanges(), this._state.textureUnitMap[e] = t, i) : (t.isDirty && (this.setActiveTexture(e, s), t.applyChanges()), i);
  }
  unbindTexture(t) {
    if (null != t) for (let e = 0; e < this.parameters.maxTextureImageUnits; e++) this._state.textureUnitMap[e] === t && (this.bindTexture(null, e), this._state.textureUnitMap[e] = null);
  }
  bindFramebuffer(t, e = !1) {
    if (e || this._state.readFramebuffer !== t || this._state.drawFramebuffer !== t) {
      if (this._stateTracker.invalidateDrawBuffers(), null == t) return this.gl.bindFramebuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.FRAMEBUFFER, null), this._state.readFramebuffer = null, void (this._state.drawFramebuffer = null);
      t.initializeAndBind(_enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.FRAMEBUFFER), this._state.readFramebuffer = t, this._state.drawFramebuffer = t;
    }
  }
  bindFramebufferSeparate(t, e, s = !1) {
    const i = e === _enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.READ_FRAMEBUFFER,
      a = i ? this._state.readFramebuffer : this._state.drawFramebuffer;
    (s || a !== t) && (null == t ? this.gl.bindFramebuffer(e, null) : t.initializeAndBind(e), i ? this._state.readFramebuffer = t ?? null : this._state.drawFramebuffer = t ?? null);
  }
  blitFramebuffer(t, e, s = 0, i = 0, a = t.width, r = t.height, n = 0, l = 0, h = e.width, f = e.height, o = _enums_js__WEBPACK_IMPORTED_MODULE_7__.ClearBufferBit.COLOR_BUFFER_BIT, u = _enums_js__WEBPACK_IMPORTED_MODULE_7__.TextureSamplingMode.NEAREST) {
    this.bindFramebufferSeparate(t, _enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.READ_FRAMEBUFFER), this.bindFramebufferSeparate(e, _enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.DRAW_FRAMEBUFFER);
    this.gl.blitFramebuffer(s, i, a, r, n, l, h, f, o, u);
  }
  bindBuffer(t, e) {
    if (t) switch (e ??= t.bufferType, e) {
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.ARRAY_BUFFER:
        this._state.vertexBuffer = M(this.gl, t, e, this._state.vertexBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.ELEMENT_ARRAY_BUFFER:
        this._state.indexBuffer = M(this.gl, t, e, this._state.indexBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER:
        this._state.uniformBuffer = M(this.gl, t, e, this._state.uniformBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.PIXEL_PACK_BUFFER:
        this._state.pixelPackBuffer = M(this.gl, t, e, this._state.pixelPackBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.PIXEL_UNPACK_BUFFER:
        this._state.pixelUnpackBuffer = M(this.gl, t, e, this._state.pixelUnpackBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.COPY_READ_BUFFER:
        this._state.copyReadBuffer = M(this.gl, t, e, this._state.copyReadBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.COPY_WRITE_BUFFER:
        this._state.copyWriteBuffer = M(this.gl, t, e, this._state.copyWriteBuffer);
    }
  }
  bindRenderbuffer(t) {
    const e = this.gl;
    t || (e.bindRenderbuffer(e.RENDERBUFFER, null), this._state.renderbuffer = null), this._state.renderbuffer !== t && (e.bindRenderbuffer(e.RENDERBUFFER, t.glName), this._state.renderbuffer = t);
  }
  _getBufferBinding(t, e) {
    if (e >= this.parameters.maxUniformBufferBindings || e < 0) return console.error("Uniform buffer binding point is out of range!"), null;
    const s = this._state.uniformBufferBindingPoints;
    let i = s[e];
    return null == i && (i = {
      buffer: null,
      offset: 0,
      size: 0
    }, s[e] = i), i;
  }
  bindBufferBase(t, e, s) {
    const i = this._getBufferBinding(t, e);
    if (null == i) return;
    if (i.buffer === s && 0 === i.offset && 0 === i.size) return;
    this.gl.bindBufferBase(t, e, s ? s.glName : null), i.buffer = s, i.offset = 0, i.size = 0;
  }
  bindBufferRange(t, e, s, i, a) {
    const r = this._getBufferBinding(t, e);
    if (null == r) return;
    if (r.buffer === s && r.offset === i && r.size === a) return;
    if (i % this._parameters.uniformBufferOffsetAlignment != 0) return void console.error("Uniform buffer binding offset is not a multiple of the context offset alignment");
    this.gl.bindBufferRange(t, e, s.glName, i, a), r.buffer = s, r.offset = i, r.size = a;
  }
  bindUBO(t, e, s, a) {
    null != e ? ((0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.webglDebugEnabled)() && (a ?? e.byteLength) > this._parameters.maxUniformBlockSize && console.error("Attempting to bind more data than the maximum uniform block size"), e.initialize(), void 0 !== s && void 0 !== a ? this.bindBufferRange(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER, t, e.buffer, s, a) : this.bindBufferBase(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER, t, e.buffer)) : this.bindBufferBase(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER, t, null);
  }
  unbindUBO(t) {
    for (let e = 0, s = this._state.uniformBufferBindingPoints.length; e < s; e++) {
      const s = this._state.uniformBufferBindingPoints[e];
      null != s && s.buffer === t.buffer && this.bindBufferBase(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER, e, null);
    }
  }
  unbindBuffer(t) {
    switch (t) {
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.ARRAY_BUFFER:
        this._state.vertexBuffer = M(this.gl, null, t, this._state.vertexBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.ELEMENT_ARRAY_BUFFER:
        this._state.indexBuffer = M(this.gl, null, t, this._state.indexBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER:
        this._state.uniformBuffer = M(this.gl, null, t, this._state.uniformBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.PIXEL_PACK_BUFFER:
        this._state.pixelPackBuffer = M(this.gl, null, t, this._state.pixelPackBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.PIXEL_UNPACK_BUFFER:
        this._state.pixelUnpackBuffer = M(this.gl, null, t, this._state.pixelUnpackBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.COPY_READ_BUFFER:
        this._state.copyReadBuffer = M(this.gl, null, t, this._state.copyReadBuffer);
        break;
      case _enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.COPY_WRITE_BUFFER:
        this._state.copyWriteBuffer = M(this.gl, null, t, this._state.copyWriteBuffer);
    }
  }
  bindVAO(t = null) {
    null != t ? this._state.vertexArrayObject !== t && (t.bind(), this._state.vertexArrayObject = t) : this._state.vertexArrayObject && (this._state.vertexArrayObject.unbind(), this._state.vertexArrayObject = null);
  }
  clientWaitAsync(t = (0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.Milliseconds)(10)) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const i = _this.gl,
        a = i.fenceSync(_enums_js__WEBPACK_IMPORTED_MODULE_7__.SyncCondition.SYNC_GPU_COMMANDS_COMPLETE, 0);
      if (!a) throw new Error("Client wait failed, could not create sync object");
      let r;
      _this.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_7__.ResourceType.Sync, a), i.flush();
      do {
        yield (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.after)(t), r = i.clientWaitSync(a, 0, 0);
      } while (r === _enums_js__WEBPACK_IMPORTED_MODULE_7__.ClientWaitSyncStatus.TIMEOUT_EXPIRED);
      if (_this.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_7__.ResourceType.Sync, a), i.deleteSync(a), r === _enums_js__WEBPACK_IMPORTED_MODULE_7__.ClientWaitSyncStatus.WAIT_FAILED) throw new Error("Client wait failed");
    })();
  }
  getBoundFramebufferObject(t = _enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.FRAMEBUFFER) {
    return t === _enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.READ_FRAMEBUFFER ? this._state.readFramebuffer : this._state.drawFramebuffer;
  }
  getBoundVAO() {
    return this._state.vertexArrayObject;
  }
  resetState() {
    this.useProgram(null), this.bindVAO(null), this.bindFramebuffer(null, !0), this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.ARRAY_BUFFER), this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.ELEMENT_ARRAY_BUFFER), this.type === _contextUtils_js__WEBPACK_IMPORTED_MODULE_6__.ContextType.WEBGL2 && (this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER), this._state.uniformBufferBindingPoints.length = 0, this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.PIXEL_PACK_BUFFER), this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.PIXEL_UNPACK_BUFFER), this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.COPY_READ_BUFFER), this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.COPY_WRITE_BUFFER));
    for (let t = 0; t < this.parameters.maxTextureImageUnits; ++t) this.bindTexture(null, t);
    this.setBlendingEnabled(!1), this.setBlendFunction(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BlendFactor.ONE, _enums_js__WEBPACK_IMPORTED_MODULE_7__.BlendFactor.ZERO), this.setBlendEquation(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BlendOperation.ADD), this.setBlendColor(0, 0, 0, 0), this.setFaceCullingEnabled(!1), this.setCullFace(_enums_js__WEBPACK_IMPORTED_MODULE_7__.Face.BACK), this.setFrontFace(_enums_js__WEBPACK_IMPORTED_MODULE_7__.CullMode.CCW), this.setPolygonOffsetFillEnabled(!1), this.setPolygonOffset(0, 0), this.setScissorTestEnabled(!1), this.setScissorRect(0, 0, this.gl.canvas.width, this.gl.canvas.height), this.setDepthTestEnabled(!1), this.setDepthFunction(_enums_js__WEBPACK_IMPORTED_MODULE_7__.CompareFunction.LESS), this.setDepthRange(0, 1), this.setStencilTestEnabled(!1), this.setStencilFunction(_enums_js__WEBPACK_IMPORTED_MODULE_7__.CompareFunction.ALWAYS, 0, 0), this.setStencilOp(_enums_js__WEBPACK_IMPORTED_MODULE_7__.StencilOperation.KEEP, _enums_js__WEBPACK_IMPORTED_MODULE_7__.StencilOperation.KEEP, _enums_js__WEBPACK_IMPORTED_MODULE_7__.StencilOperation.KEEP), this.setClearColor(0, 0, 0, 0), this.setClearDepth(1), this.setClearStencil(0), this.setColorMask(!0, !0, !0, !0), this.setStencilWriteMask(4294967295), this.setDepthWriteEnabled(!0), this.setViewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);
  }
  enforceState() {
    const t = this.capabilities.vao;
    t && t.bindVertexArray(null);
    const {
      gl: e,
      gl2: s
    } = this;
    for (let a = 0; a < this.parameters.maxVertexAttributes; a++) e.disableVertexAttribArray(a);
    if (this._state.vertexBuffer ? e.bindBuffer(this._state.vertexBuffer.bufferType, this._state.vertexBuffer.glName) : e.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.ARRAY_BUFFER, null), this._state.indexBuffer ? e.bindBuffer(this._state.indexBuffer.bufferType, this._state.indexBuffer.glName) : e.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.ELEMENT_ARRAY_BUFFER, null), null != s) {
      this._state.uniformBuffer ? s.bindBuffer(this._state.uniformBuffer.bufferType, this._state.uniformBuffer.glName) : s.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER, null);
      for (let t = 0; t < this._parameters.maxUniformBufferBindings; t++) {
        const e = this._state.uniformBufferBindingPoints[t];
        if (null != e) {
          const {
            buffer: i,
            offset: a,
            size: r
          } = e;
          null !== i ? 0 === a && 0 === r ? s.bindBufferBase(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER, t, i.glName) : s.bindBufferRange(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER, t, i.glName, a, r) : s.bindBufferBase(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.UNIFORM_BUFFER, t, null);
        }
      }
      this._state.pixelPackBuffer ? s.bindBuffer(this._state.pixelPackBuffer.bufferType, this._state.pixelPackBuffer.glName) : s.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.PIXEL_PACK_BUFFER, null), this._state.pixelUnpackBuffer ? s.bindBuffer(this._state.pixelUnpackBuffer.bufferType, this._state.pixelUnpackBuffer.glName) : s.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.PIXEL_UNPACK_BUFFER, null), this._state.copyReadBuffer ? s.bindBuffer(this._state.copyReadBuffer.bufferType, this._state.copyReadBuffer.glName) : s.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.COPY_READ_BUFFER, null), this._state.copyWriteBuffer ? s.bindBuffer(this._state.copyWriteBuffer.bufferType, this._state.copyWriteBuffer.glName) : s.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.BufferType.COPY_WRITE_BUFFER, null), s.bindFramebuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.READ_FRAMEBUFFER, null), s.readBuffer(s.BACK), this._state.readFramebuffer && (s.bindFramebuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.READ_FRAMEBUFFER, this._state.readFramebuffer.glName), s.readBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.ColorAttachment.COLOR_ATTACHMENT0)), s.bindFramebuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.DRAW_FRAMEBUFFER, this._state.drawFramebuffer?.glName ?? null);
    } else this._state.readFramebuffer = this._state.drawFramebuffer, e.bindFramebuffer(_enums_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferTarget.FRAMEBUFFER, this._state.drawFramebuffer?.glName ?? null);
    if (t && this._state.vertexArrayObject) {
      const t = this._state.vertexArrayObject;
      this._state.vertexArrayObject && (this._state.vertexArrayObject.unbind(), this._state.vertexArrayObject = null), this.bindVAO(t);
    }
    e.useProgram(this._state.program?.glName ?? null), e.blendColor(this._state.blendColor.r, this._state.blendColor.g, this._state.blendColor.b, this._state.blendColor.a), e.bindRenderbuffer(e.RENDERBUFFER, this._state.renderbuffer ? this._state.renderbuffer.glName : null), !0 === this._state.blend ? e.enable(this.gl.BLEND) : e.disable(this.gl.BLEND), e.blendEquationSeparate(this._state.blendEquation.mode, this._state.blendEquation.modeAlpha), e.blendFuncSeparate(this._state.blendFunction.srcRGB, this._state.blendFunction.dstRGB, this._state.blendFunction.srcAlpha, this._state.blendFunction.dstAlpha), e.clearColor(this._state.clearColor.r, this._state.clearColor.g, this._state.clearColor.b, this._state.clearColor.a), e.clearDepth(this._state.clearDepth), e.clearStencil(this._state.clearStencil), e.colorMask(this._state.colorMask.r, this._state.colorMask.g, this._state.colorMask.b, this._state.colorMask.a), e.cullFace(this._state.cullFace), e.depthFunc(this._state.depthFunction), e.depthRange(this._state.depthRange.zNear, this._state.depthRange.zFar), !0 === this._state.depthTest ? e.enable(e.DEPTH_TEST) : e.disable(e.DEPTH_TEST), e.depthMask(this._state.depthWrite), e.frontFace(this._state.frontFace), e.lineWidth(1), !0 === this._state.faceCulling ? e.enable(e.CULL_FACE) : e.disable(e.CULL_FACE), e.polygonOffset(this._state.polygonOffset[0], this._state.polygonOffset[1]), !0 === this._state.polygonOffsetFill ? e.enable(e.POLYGON_OFFSET_FILL) : e.disable(e.POLYGON_OFFSET_FILL), e.scissor(this._state.scissorRect.x, this._state.scissorRect.y, this._state.scissorRect.width, this._state.scissorRect.height), !0 === this._state.scissorTest ? e.enable(e.SCISSOR_TEST) : e.disable(e.SCISSOR_TEST), e.stencilFunc(this._state.stencilFunction.func, this._state.stencilFunction.ref, this._state.stencilFunction.mask), e.stencilOpSeparate(this._state.stencilOperation.face, this._state.stencilOperation.fail, this._state.stencilOperation.zFail, this._state.stencilOperation.zPass), !0 === this._state.stencilTest ? e.enable(e.STENCIL_TEST) : e.disable(e.STENCIL_TEST), e.stencilMask(this._state.stencilWriteMask);
    for (let a = 0; a < this.parameters.maxTextureImageUnits; a++) {
      e.activeTexture(_enums_js__WEBPACK_IMPORTED_MODULE_7__.baseTextureUnit + a), e.bindTexture(_enums_js__WEBPACK_IMPORTED_MODULE_7__.TextureType.TEXTURE_2D, null), e.bindTexture(_enums_js__WEBPACK_IMPORTED_MODULE_7__.TextureType.TEXTURE_CUBE_MAP, null), this.type === _contextUtils_js__WEBPACK_IMPORTED_MODULE_6__.ContextType.WEBGL2 && (e.bindTexture(_enums_js__WEBPACK_IMPORTED_MODULE_7__.TextureType.TEXTURE_3D, null), e.bindTexture(_enums_js__WEBPACK_IMPORTED_MODULE_7__.TextureType.TEXTURE_2D_ARRAY, null));
      const t = this._state.textureUnitMap[a];
      null != t && e.bindTexture(t.descriptor.target, t.glName);
    }
    e.activeTexture(_enums_js__WEBPACK_IMPORTED_MODULE_7__.baseTextureUnit + this._state.activeTexture);
    const i = this._state.viewport;
    e.viewport(i.x, i.y, i.width, i.height), this.resetInfo();
  }
  _loadExtensions() {
    this.type === _contextUtils_js__WEBPACK_IMPORTED_MODULE_6__.ContextType.WEBGL1 && this.gl.getExtension("OES_element_index_uint"), this.gl.getExtension("KHR_parallel_shader_compile");
  }
};
function M(t, e, s, i) {
  return e ? i !== e && t.bindBuffer(s, e.glName) : t.bindBuffer(s, null), e;
}
function D(t, e) {
  switch (t) {
    case _enums_js__WEBPACK_IMPORTED_MODULE_7__.PrimitiveType.POINTS:
      return 2 * e;
    case _enums_js__WEBPACK_IMPORTED_MODULE_7__.PrimitiveType.TRIANGLES:
      return e / 3;
    case _enums_js__WEBPACK_IMPORTED_MODULE_7__.PrimitiveType.TRIANGLE_STRIP:
    case _enums_js__WEBPACK_IMPORTED_MODULE_7__.PrimitiveType.TRIANGLE_FAN:
      return e - 2;
    default:
      return 0;
  }
}


/***/ }),

/***/ 15396:
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/WebGLDriverTest.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WebGLDriverTest": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _testAppleAmdDrawArrays_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./testAppleAmdDrawArrays.js */ 78185);
/* harmony import */ var _testDoublePrecisionArithmetic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./testDoublePrecisionArithmetic.js */ 19786);
/* harmony import */ var _testFloatBufferBlend_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./testFloatBufferBlend.js */ 56090);
/* harmony import */ var _testSamplerPrecision_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./testSamplerPrecision.js */ 66951);
/* harmony import */ var _testSVGPremultipliedAlpha_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./testSVGPremultipliedAlpha.js */ 36381);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class o {
  constructor(o) {
    this.rctx = o, this.floatBufferBlend = new _testFloatBufferBlend_js__WEBPACK_IMPORTED_MODULE_2__.FloatBufferBlend(o), this.svgPremultipliesAlpha = new _testSVGPremultipliedAlpha_js__WEBPACK_IMPORTED_MODULE_4__.SVGPremultipliedAlpha(o), this.doublePrecisionRequiresObfuscation = new _testDoublePrecisionArithmetic_js__WEBPACK_IMPORTED_MODULE_1__.DoublePrecisionRequiresObfuscation(o), this.ignoresSamplerPrecision = new _testSamplerPrecision_js__WEBPACK_IMPORTED_MODULE_3__.IgnoresSamplerPrecision(o), this.drawArraysRequiresIndicesTypeReset = new _testAppleAmdDrawArrays_js__WEBPACK_IMPORTED_MODULE_0__.DrawArraysRequiresIndicesTypeReset(o);
  }
  dispose() {
    this.ignoresSamplerPrecision.dispose(), this.doublePrecisionRequiresObfuscation.dispose(), this.svgPremultipliesAlpha.dispose(), this.floatBufferBlend.dispose(), this.drawArraysRequiresIndicesTypeReset.dispose();
  }
}


/***/ }),

/***/ 9264:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/Capabilities.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Capabilities": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _DisjointTimerQuery_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DisjointTimerQuery.js */ 78696);
/* harmony import */ var _DrawBuffers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DrawBuffers.js */ 19709);
/* harmony import */ var _load_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./load.js */ 24243);
/* harmony import */ var _LoseContext_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LoseContext.js */ 97070);
/* harmony import */ var _VertexArrayObjects_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./VertexArrayObjects.js */ 40744);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class d {
  constructor(t, e) {
    this._gl = t, this._vertexArrayObject = null, this._compressedTextureETC = null, this._compressedTextureS3TC = null, this._textureFilterAnisotropic = null, this._textureFloat = null, this._colorBufferFloat = null, this._minMaxBlending = null, this._loseContext = null, this._drawBuffers = null, this._textureNorm16 = null, this._depthTexture = null, this._textureFloatLinear = null, this._disabledExtensions = e.disabledExtensions || {}, this._debugWebGLExtensions = e.debugWebGLExtensions || {};
  }
  get drawBuffers() {
    return this._drawBuffers || (this._drawBuffers = (0,_DrawBuffers_js__WEBPACK_IMPORTED_MODULE_1__.load)(this._gl, this._disabledExtensions)), this._drawBuffers;
  }
  get vao() {
    return this._vertexArrayObject || (this._vertexArrayObject = (0,_VertexArrayObjects_js__WEBPACK_IMPORTED_MODULE_4__.load)(this._gl, this._disabledExtensions)), this._vertexArrayObject;
  }
  get compressedTextureETC() {
    return this._compressedTextureETC || (this._compressedTextureETC = (0,_load_js__WEBPACK_IMPORTED_MODULE_2__.loadCompressedTextureETC)(this._gl, this._disabledExtensions)), this._compressedTextureETC;
  }
  get compressedTextureS3TC() {
    return this._compressedTextureS3TC || (this._compressedTextureS3TC = (0,_load_js__WEBPACK_IMPORTED_MODULE_2__.loadCompressedTextureS3TC)(this._gl, this._disabledExtensions)), this._compressedTextureS3TC;
  }
  get textureFilterAnisotropic() {
    return this._textureFilterAnisotropic || (this._textureFilterAnisotropic = (0,_load_js__WEBPACK_IMPORTED_MODULE_2__.loadTextureFilterAnisotropicCapability)(this._gl, this._disabledExtensions)), this._textureFilterAnisotropic;
  }
  get disjointTimerQuery() {
    return this._disjointTimerQuery || (this._disjointTimerQuery = (0,_DisjointTimerQuery_js__WEBPACK_IMPORTED_MODULE_0__.createDisjointTimerQuery)(this._gl, this._disabledExtensions)), this._disjointTimerQuery;
  }
  get textureFloat() {
    return this._textureFloat || (this._textureFloat = (0,_load_js__WEBPACK_IMPORTED_MODULE_2__.loadTextureFloat)(this._gl, this._disabledExtensions)), this._textureFloat;
  }
  get colorBufferFloat() {
    return this._colorBufferFloat || (this._colorBufferFloat = (0,_load_js__WEBPACK_IMPORTED_MODULE_2__.loadColorBufferFloat)(this._gl, this._disabledExtensions)), this._colorBufferFloat;
  }
  get blendMinMax() {
    return this._minMaxBlending || (this._minMaxBlending = (0,_load_js__WEBPACK_IMPORTED_MODULE_2__.loadMinMaxBlending)(this._gl, this._disabledExtensions)), this._minMaxBlending;
  }
  get depthTexture() {
    return null === this._depthTexture && (this._depthTexture = (0,_load_js__WEBPACK_IMPORTED_MODULE_2__.loadBooleanExtension)(this._gl, this._disabledExtensions, "depthTexture", !0, ["WEBGL_depth_texture", "MOZ_WEBGL_depth_texture", "WEBKIT_WEBGL_depth_texture"])), this._depthTexture;
  }
  get loseContext() {
    return this._loseContext || (this._loseContext = (0,_LoseContext_js__WEBPACK_IMPORTED_MODULE_3__.load)(this._gl, this._debugWebGLExtensions)), this._loseContext;
  }
  get textureNorm16() {
    return this._textureNorm16 || (this._textureNorm16 = (0,_load_js__WEBPACK_IMPORTED_MODULE_2__.loadTextureNorm16)(this._gl, this._disabledExtensions)), this._textureNorm16;
  }
  get textureFloatLinear() {
    return null === this._textureFloatLinear && (this._textureFloatLinear = (0,_load_js__WEBPACK_IMPORTED_MODULE_2__.loadBooleanExtension)(this._gl, this._disabledExtensions, "textureFloatLinear", !1, ["OES_texture_float_linear"])), this._textureFloatLinear;
  }
  enable(t) {
    return this[t];
  }
}


/***/ }),

/***/ 19709:
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/DrawBuffers.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "load": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isWebGL2Context.js */ 46641);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function A(A, _) {
  if (_.disjointTimerQuery) return null;
  if ((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(A)) return {
    drawBuffers: A.drawBuffers.bind(A),
    MAX_DRAW_BUFFERS: A.MAX_DRAW_BUFFERS,
    MAX_COLOR_ATTACHMENTS: A.MAX_COLOR_ATTACHMENTS
  };
  if (_.drawBuffers) return null;
  const e = A.getExtension("WEBGL_draw_buffers");
  return e ? {
    drawBuffers: e.drawBuffersWEBGL.bind(e),
    MAX_DRAW_BUFFERS: e.MAX_DRAW_BUFFERS_WEBGL,
    MAX_COLOR_ATTACHMENTS: e.MAX_COLOR_ATTACHMENTS_WEBGL
  } : null;
}


/***/ }),

/***/ 97070:
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/LoseContext.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "load": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e, t) {
  const n = t.loseContext && e.getExtension("WEBGL_lose_context");
  return n ? {
    loseRenderingContext: () => n.loseContext()
  } : null;
}


/***/ }),

/***/ 40744:
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/VertexArrayObjects.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "load": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isWebGL2Context.js */ 46641);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function r(r, t) {
  if ((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(r)) return {
    createVertexArray: r.createVertexArray.bind(r),
    deleteVertexArray: r.deleteVertexArray.bind(r),
    bindVertexArray: r.bindVertexArray.bind(r)
  };
  if (t.vao) return null;
  const n = r.getExtension("OES_vertex_array_object") || r.getExtension("MOZ_OES_vertex_array_object") || r.getExtension("WEBKIT_OES_vertex_array_object");
  return n ? {
    createVertexArray: n.createVertexArrayOES.bind(n),
    deleteVertexArray: n.deleteVertexArrayOES.bind(n),
    bindVertexArray: n.bindVertexArrayOES.bind(n)
  } : null;
}


/***/ }),

/***/ 24243:
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/load.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadBooleanExtension": () => (/* binding */ o),
/* harmony export */   "loadColorBufferFloat": () => (/* binding */ r),
/* harmony export */   "loadCompressedTextureETC": () => (/* binding */ _),
/* harmony export */   "loadCompressedTextureS3TC": () => (/* binding */ e),
/* harmony export */   "loadMinMaxBlending": () => (/* binding */ E),
/* harmony export */   "loadTextureFilterAnisotropicCapability": () => (/* binding */ n),
/* harmony export */   "loadTextureFloat": () => (/* binding */ R),
/* harmony export */   "loadTextureNorm16": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isWebGL2Context.js */ 46641);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function _(t, _) {
  if (_.compressedTextureETC) return null;
  const e = t.getExtension("WEBGL_compressed_texture_etc");
  return e ? {
    COMPRESSED_R11_EAC: e.COMPRESSED_R11_EAC,
    COMPRESSED_SIGNED_R11_EAC: e.COMPRESSED_SIGNED_R11_EAC,
    COMPRESSED_RG11_EAC: e.COMPRESSED_RG11_EAC,
    COMPRESSED_SIGNED_RG11_EAC: e.COMPRESSED_SIGNED_RG11_EAC,
    COMPRESSED_RGB8_ETC2: e.COMPRESSED_RGB8_ETC2,
    COMPRESSED_SRGB8_ETC2: e.COMPRESSED_SRGB8_ETC2,
    COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2: e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,
    COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2: e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,
    COMPRESSED_RGBA8_ETC2_EAC: e.COMPRESSED_RGBA8_ETC2_EAC,
    COMPRESSED_SRGB8_ALPHA8_ETC2_EAC: e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC
  } : null;
}
function e(t, _) {
  if (_.compressedTextureS3TC) return null;
  const e = t.getExtension("WEBGL_compressed_texture_s3tc");
  return e ? {
    COMPRESSED_RGB_S3TC_DXT1: e.COMPRESSED_RGB_S3TC_DXT1_EXT,
    COMPRESSED_RGBA_S3TC_DXT1: e.COMPRESSED_RGBA_S3TC_DXT1_EXT,
    COMPRESSED_RGBA_S3TC_DXT3: e.COMPRESSED_RGBA_S3TC_DXT3_EXT,
    COMPRESSED_RGBA_S3TC_DXT5: e.COMPRESSED_RGBA_S3TC_DXT5_EXT
  } : null;
}
function E(_, e) {
  if ((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(_)) return {
    MIN: _.MIN,
    MAX: _.MAX
  };
  if (e.blendMinMax) return null;
  {
    const t = _.getExtension("EXT_blend_minmax");
    return t ? {
      MIN: t.MIN_EXT,
      MAX: t.MAX_EXT
    } : null;
  }
}
function n(t, _) {
  if (_.textureFilterAnisotropic) return null;
  const e = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
  return e ? {
    MAX_TEXTURE_MAX_ANISOTROPY: e.MAX_TEXTURE_MAX_ANISOTROPY_EXT,
    TEXTURE_MAX_ANISOTROPY: e.TEXTURE_MAX_ANISOTROPY_EXT
  } : null;
}
function R(_, e) {
  if ((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(_)) return {
    textureFloat: !0,
    textureFloatLinear: !e.textureFloatLinear && !!_.getExtension("OES_texture_float_linear"),
    textureHalfFloat: !0,
    textureHalfFloatLinear: !0,
    HALF_FLOAT: _.HALF_FLOAT,
    R16F: _.R16F,
    RG16F: _.RG16F,
    RGBA16F: _.RGBA16F,
    R32F: _.R32F,
    RG32F: _.RG32F,
    RGBA32F: _.RGBA32F,
    R11F_G11F_B10F: _.R11F_G11F_B10F,
    RGB16F: _.RGB16F
  };
  if (_ instanceof WebGLRenderingContext) {
    const t = !e.textureHalfFloat && _.getExtension("OES_texture_half_float");
    return {
      textureFloat: !e.textureFloat && !!_.getExtension("OES_texture_float"),
      textureFloatLinear: !e.textureFloatLinear && !!_.getExtension("OES_texture_float_linear"),
      textureHalfFloat: !!t,
      textureHalfFloatLinear: !e.textureHalfFloatLinear && !!_.getExtension("OES_texture_half_float_linear"),
      HALF_FLOAT: t ? t.HALF_FLOAT_OES : void 0
    };
  }
  return null;
}
function r(_, e) {
  if ((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(_)) {
    const t = !e.colorBufferHalfFloat && _.getExtension("EXT_color_buffer_half_float") || !e.colorBufferFloat && _.getExtension("EXT_color_buffer_float"),
      E = !e.colorBufferFloat && _.getExtension("EXT_color_buffer_float"),
      n = !e.floatBlend && !e.colorBufferFloat && _.getExtension("EXT_float_blend");
    return t || E || n ? {
      textureFloat: !!E,
      textureHalfFloat: !!t,
      floatBlend: !!n,
      R16F: _.R16F,
      RG16F: _.RG16F,
      RGBA16F: _.RGBA16F,
      R32F: _.R32F,
      RG32F: _.RG32F,
      RGBA32F: _.RGBA32F,
      R11F_G11F_B10F: _.R11F_G11F_B10F,
      RGB16F: _.RGB16F
    } : null;
  }
  if (_ instanceof WebGLRenderingContext) {
    const t = !e.colorBufferHalfFloat && _.getExtension("EXT_color_buffer_half_float"),
      E = !e.colorBufferFloat && _.getExtension("WEBGL_color_buffer_float"),
      n = !e.floatBlend && !e.colorBufferFloat && _.getExtension("EXT_float_blend");
    return t || E || n ? {
      textureFloat: !!E,
      textureHalfFloat: !!t,
      floatBlend: !!n,
      RGBA16F: t ? t.RGBA16F_EXT : void 0,
      RGB16F: t ? t.RGB16F_EXT : void 0,
      RGBA32F: E ? E.RGBA32F_EXT : void 0
    } : null;
  }
  return null;
}
function o(_, e, E, n, R) {
  if (n && (0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(_)) return !0;
  if (e[E]) return !1;
  for (const t of R) if (_.getExtension(t)) return !0;
  return !1;
}
function l(_, e) {
  if (!(0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(_)) return null;
  if (e.textureNorm16) return null;
  const E = _.getExtension("EXT_texture_norm16");
  return E ? {
    R16: E.R16_EXT,
    RG16: E.RG16_EXT,
    RGB16: E.RGB16_EXT,
    RGBA16: E.RGBA16_EXT,
    R16_SNORM: E.R16_SNORM_EXT,
    RG16_SNORM: E.RG16_SNORM_EXT,
    RGB16_SNORM: E.RGB16_SNORM_EXT,
    RGBA16_SNORM: E.RGBA16_SNORM_EXT
  } : null;
}


/***/ }),

/***/ 58013:
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/doublePrecisionUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "decodeDoubleArray": () => (/* binding */ n),
/* harmony export */   "encodeDoubleArray": () => (/* binding */ t),
/* harmony export */   "encodeDoubleHi": () => (/* binding */ o),
/* harmony export */   "encodeDoubleLo": () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t, n, o) {
  for (let r = 0; r < o; ++r) n[2 * r] = t[r], n[2 * r + 1] = t[r] - n[2 * r];
}
function n(t, n, o) {
  for (let r = 0; r < o; ++r) n[r] = t[2 * r] + t[2 * r + 1];
}
function o(t, n) {
  const o = t.length;
  for (let r = 0; r < o; ++r) e[0] = t[r], n[r] = e[0];
  return n;
}
function r(t, n) {
  const o = t.length;
  for (let r = 0; r < o; ++r) e[0] = t[r], e[1] = t[r] - e[0], n[r] = e[1];
  return n;
}
const e = new Float32Array(2);


/***/ }),

/***/ 33879:
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/programUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "glslifyDefineMap": () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e) {
  const {
    options: n,
    value: o
  } = e;
  return "number" == typeof n[o];
}
function n(n) {
  let o = "";
  for (const t in n) {
    const i = n[t];
    if ("boolean" == typeof i) i && (o += `#define ${t}\n`);else if ("number" == typeof i) o += `#define ${t} ${i.toFixed()}\n`;else if ("object" == typeof i) if (e(i)) {
      const {
          value: e,
          options: n,
          namespace: f
        } = i,
        s = f ? `${f}_` : "";
      for (const t in n) o += `#define ${s}${t} ${n[t].toFixed()}\n`;
      o += `#define ${t} ${s}${e}\n`;
    } else {
      const e = i.options;
      let n = 0;
      for (const t in e) o += `#define ${e[t]} ${(n++).toFixed()}\n`;
      o += `#define ${t} ${e[i.value]}\n`;
    }
  }
  return o;
}


/***/ }),

/***/ 78185:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/testAppleAmdDrawArrays.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DrawArraysRequiresIndicesTypeReset": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/has.js */ 67087);
/* harmony import */ var _3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _AppleAmdDriverHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AppleAmdDriverHelper.js */ 31457);
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BufferObject.js */ 10615);
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contextUtils.js */ 40331);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./enums.js */ 69923);
/* harmony import */ var _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FramebufferObject.js */ 2512);
/* harmony import */ var _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TextureDescriptor.js */ 13229);
/* harmony import */ var _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./WebGLDriverTestModule.js */ 38083);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/









class h extends _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_8__.WebGLDriverTestModule {
  constructor(e) {
    super(), this._rctx = e, this._helperProgram = null, this._rctx.type === _contextUtils_js__WEBPACK_IMPORTED_MODULE_4__.ContextType.WEBGL2 && (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("mac") && (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("chrome") && (this._program = this._prepareProgram(), this._helperProgram = this._prepareHelperProgram());
  }
  dispose() {
    super.dispose(), this._helperProgram?.dispose(), this._helperProgram = null;
  }
  _test(e) {
    const r = this._rctx,
      o = r.getBoundFramebufferObject(),
      {
        x: d,
        y: h,
        width: u,
        height: _
      } = r.getViewport();
    r.resetState();
    const v = new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_7__.TextureDescriptor(1);
    v.wrapMode = _enums_js__WEBPACK_IMPORTED_MODULE_5__.TextureWrapMode.CLAMP_TO_EDGE, v.samplingMode = _enums_js__WEBPACK_IMPORTED_MODULE_5__.TextureSamplingMode.NEAREST;
    const x = new _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferObject(r, v),
      E = _BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createIndex(this._rctx, _enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW, new Uint8Array([0]));
    r.bindFramebuffer(x), r.setViewport(0, 0, 1, 1), r.useProgram(this._helperProgram), r.bindBuffer(E, _enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER), r.drawElements(_enums_js__WEBPACK_IMPORTED_MODULE_5__.PrimitiveType.POINTS, 1, _enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_BYTE, 0), r.useProgram(e), r.bindVAO(null), r.drawArrays(_enums_js__WEBPACK_IMPORTED_MODULE_5__.PrimitiveType.TRIANGLES, 0, 258);
    const P = new Uint8Array(4);
    return x.readPixels(0, 0, 1, 1, _enums_js__WEBPACK_IMPORTED_MODULE_5__.PixelFormat.RGBA, _enums_js__WEBPACK_IMPORTED_MODULE_5__.PixelType.UNSIGNED_BYTE, P), r.setViewport(d, h, u, _), r.bindFramebuffer(o), x.dispose(), E.dispose(), 255 === P[0];
  }
  _prepareProgram() {
    const r = 85,
      t = `#version 300 es\n    precision highp float;\n\n    out float triangleId;\n\n    const vec3 triangleVertices[3] = vec3[3](vec3(-0.5, -0.5, 0.0), vec3(0.5, -0.5, 0.0), vec3(0.0, 0.5, 0.0));\n\n    void main(void) {\n      triangleId = floor(float(gl_VertexID)/3.0);\n\n      vec3 position = triangleVertices[gl_VertexID % 3];\n      float offset = triangleId / ${_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.float(r)};\n      position.z = 0.5 - offset;\n\n      gl_Position = vec4(position, 1.0);\n    }\n    `,
      o = `#version 300 es\n    precision highp float;\n\n    in float triangleId;\n\n    out vec4 fragColor;\n\n    void main(void) {\n      fragColor = triangleId == ${_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.float(r)} ? vec4(0.0, 1.0, 0.0, 1.0) : vec4(1.0, 0.0, 0.0, 1.0);\n    }\n    `;
    return this._rctx.programCache.acquire(t, o, new Map([]));
  }
  _prepareHelperProgram() {
    const e = _AppleAmdDriverHelper_js__WEBPACK_IMPORTED_MODULE_2__.AppleAmdDriverHelper.getShaderSources();
    return this._rctx.programCache.acquire(e.vertex, e.fragment, new Map([]));
  }
}


/***/ }),

/***/ 19786:
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/testDoublePrecisionArithmetic.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DoublePrecisionRequiresObfuscation": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/floatRGBA.js */ 1671);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ 67087);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ 53661);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BufferObject.js */ 10615);
/* harmony import */ var _doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./doublePrecisionUtils.js */ 58013);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enums.js */ 69923);
/* harmony import */ var _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FramebufferObject.js */ 2512);
/* harmony import */ var _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TextureDescriptor.js */ 13229);
/* harmony import */ var _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./VertexArrayObject.js */ 19955);
/* harmony import */ var _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./VertexElementDescriptor.js */ 33269);
/* harmony import */ var _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./WebGLDriverTestModule.js */ 38083);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/












class d extends _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_11__.WebGLDriverTestModule {
  constructor(e) {
    super(), this._rctx = e, this._program = A(this._rctx, !1), this._obfuscated = A(this._rctx, !0);
  }
  dispose() {
    super.dispose(), this._obfuscated = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.disposeMaybe)(this._obfuscated);
  }
  _test(e) {
    if ((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("force-double-precision-obfuscation")) return !0;
    if (null == this._obfuscated) return !1;
    const n = this._runProgram(e),
      o = this._runProgram(this._obfuscated);
    return 0 !== n && (0 === o || n / o > 5);
  }
  _runProgram(n) {
    const _ = this._rctx;
    _.resetState();
    const d = new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_8__.TextureDescriptor(1);
    d.wrapMode = _enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureWrapMode.CLAMP_TO_EDGE, d.samplingMode = _enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureSamplingMode.NEAREST;
    const A = new _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferObject(_, d),
      b = _BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(_, _enums_js__WEBPACK_IMPORTED_MODULE_6__.Usage.STATIC_DRAW, new Uint16Array([0, 0, 1, 0, 0, 1, 1, 1])),
      g = new _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_9__.VertexArrayObject(_, new Map([["position", 0]]), {
        geometry: [new _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_10__.VertexElementDescriptor("position", 2, _enums_js__WEBPACK_IMPORTED_MODULE_6__.DataType.UNSIGNED_SHORT, 0, 4)]
      }, {
        geometry: b
      }),
      B = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(5633261.287538229, 2626832.878767164, 1434988.0495278358),
      F = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(5633271.46742708, 2626873.6381334523, 1434963.231608387),
      w = new Float32Array(6);
    (0,_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_5__.encodeDoubleArray)(B, w, 3);
    const E = new Float32Array(6);
    (0,_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_5__.encodeDoubleArray)(F, E, 3), _.useProgram(n), n.setUniform3f("u_highA", w[0], w[2], w[4]), n.setUniform3f("u_lowA", w[1], w[3], w[5]), n.setUniform3f("u_highB", E[0], E[2], E[4]), n.setUniform3f("u_lowB", E[1], E[3], E[5]), _.bindFramebuffer(A), _.setViewport(0, 0, 1, 1), _.bindVAO(g), _.drawArrays(_enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLE_STRIP, 0, 4);
    const O = new Uint8Array(4);
    A.readPixels(0, 0, 1, 1, _enums_js__WEBPACK_IMPORTED_MODULE_6__.PixelFormat.RGBA, _enums_js__WEBPACK_IMPORTED_MODULE_6__.PixelType.UNSIGNED_BYTE, O), g.dispose(), A.dispose();
    const I = (B[2] - F[2]) / 25,
      U = (0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__.unpackFloatRGBA)(O);
    return Math.abs(I - U);
  }
}
function A(e, n) {
  const o = `\n\n  precision highp float;\n\n  attribute vec2 position;\n\n  uniform vec3 u_highA;\n  uniform vec3 u_lowA;\n  uniform vec3 u_highB;\n  uniform vec3 u_lowB;\n\n  varying vec4 v_color;\n\n  ${n ? "#define DOUBLE_PRECISION_REQUIRES_OBFUSCATION" : ""}\n\n  #ifdef DOUBLE_PRECISION_REQUIRES_OBFUSCATION\n\n  vec3 dpPlusFrc(vec3 a, vec3 b) {\n    return mix(a, a + b, vec3(notEqual(b, vec3(0))));\n  }\n\n  vec3 dpMinusFrc(vec3 a, vec3 b) {\n    return mix(vec3(0), a - b, vec3(notEqual(a, b)));\n  }\n\n  vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\n    vec3 t1 = dpPlusFrc(hiA, hiB);\n    vec3 e = dpMinusFrc(t1, hiA);\n    vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\n    return t1 + t2;\n  }\n\n  #else\n\n  vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\n    vec3 t1 = hiA + hiB;\n    vec3 e = t1 - hiA;\n    vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\n    return t1 + t2;\n  }\n\n  #endif\n\n  const float MAX_RGBA_FLOAT =\n    255.0 / 256.0 +\n    255.0 / 256.0 / 256.0 +\n    255.0 / 256.0 / 256.0 / 256.0 +\n    255.0 / 256.0 / 256.0 / 256.0 / 256.0;\n\n  const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);\n\n  vec4 float2rgba(const float value) {\n    // Make sure value is in the domain we can represent\n    float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);\n\n    // Decompose value in 32bit fixed point parts represented as\n    // uint8 rgba components. Decomposition uses the fractional part after multiplying\n    // by a power of 256 (this removes the bits that are represented in the previous\n    // component) and then converts the fractional part to 8bits.\n    vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);\n\n    // Convert uint8 values (from 0 to 255) to floating point representation for\n    // the shader\n    const float toU8AsFloat = 1.0 / 255.0;\n\n    return fixedPointU8 * toU8AsFloat;\n  }\n\n  void main() {\n    vec3 val = dpAdd(u_highA, u_lowA, -u_highB, -u_lowB);\n\n    v_color = float2rgba(val.z / 25.0);\n\n    gl_Position = vec4(position * 2.0 - 1.0, 0.0, 1.0);\n  }\n  `,
    t = "\n  precision highp float;\n\n  varying vec4 v_color;\n\n  void main() {\n    gl_FragColor = v_color;\n  }\n  ";
  return e.programCache.acquire(o, t, new Map([["position", 0]]));
}


/***/ }),

/***/ 56090:
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/testFloatBufferBlend.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FloatBufferBlend": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _3d_webgl_engine_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../3d/webgl-engine/lib/OrderIndependentTransparency.js */ 31700);
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferObject.js */ 10615);
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contextUtils.js */ 40331);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ 69923);
/* harmony import */ var _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FramebufferObject.js */ 2512);
/* harmony import */ var _renderState_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./renderState.js */ 22473);
/* harmony import */ var _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TextureDescriptor.js */ 13229);
/* harmony import */ var _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VertexArrayObject.js */ 19955);
/* harmony import */ var _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./VertexElementDescriptor.js */ 33269);
/* harmony import */ var _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./WebGLDriverTestModule.js */ 38083);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










class g extends _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_9__.WebGLDriverTestModule {
  constructor(e) {
    if (super(), this._rctx = e, !e.gl) return;
    if (e.type === _contextUtils_js__WEBPACK_IMPORTED_MODULE_2__.ContextType.WEBGL1) return void (this._result = !(!e.capabilities.textureFloat?.textureFloat || !e.capabilities.colorBufferFloat?.textureFloat));
    if (!(e.capabilities.textureFloat?.textureFloat && e.capabilities.colorBufferFloat?.textureFloat && e.capabilities.colorBufferFloat?.floatBlend)) return;
    const t = "\n    precision highp float;\n    attribute vec2 a_pos;\n\n    void main() {\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\n    }\n    ",
      o = "\n     precision highp float;\n\n     void main() {\n      gl_FragColor = vec4(0.5, 0.5, 0.5, 0.5);\n     }\n    ";
    this._program = e.programCache.acquire(t, o, new Map([["a_pos", 0]]));
  }
  _test(r) {
    const d = this._rctx,
      g = new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__.TextureDescriptor(1);
    g.wrapMode = _enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureWrapMode.CLAMP_TO_EDGE, g.dataType = _enums_js__WEBPACK_IMPORTED_MODULE_3__.PixelType.FLOAT, g.internalFormat = _enums_js__WEBPACK_IMPORTED_MODULE_3__.SizedPixelFormat.RGBA32F, g.samplingMode = _enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureSamplingMode.NEAREST;
    const _ = new _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_4__.FramebufferObject(d, g),
      x = _BufferObject_js__WEBPACK_IMPORTED_MODULE_1__.BufferObject.createVertex(d, _enums_js__WEBPACK_IMPORTED_MODULE_3__.Usage.STATIC_DRAW, new Uint16Array([0, 0, 1, 0, 0, 1, 1, 1])),
      F = new _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_7__.VertexArrayObject(d, new Map([["a_pos", 0]]), {
        geometry: [new _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_8__.VertexElementDescriptor("a_pos", 2, _enums_js__WEBPACK_IMPORTED_MODULE_3__.DataType.UNSIGNED_SHORT, 0, 4)]
      }, {
        geometry: x
      });
    d.useProgram(r);
    const w = d.getBoundFramebufferObject(),
      {
        x: j,
        y: T,
        width: A,
        height: h
      } = d.getViewport();
    d.bindFramebuffer(_), d.setViewport(0, 0, 1, 1), d.bindVAO(F), d.drawArrays(_enums_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveType.TRIANGLE_STRIP, 0, 4);
    const y = (0,_renderState_js__WEBPACK_IMPORTED_MODULE_5__.makePipelineState)({
      blending: _3d_webgl_engine_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_0__.blendingAlpha
    });
    d.setPipelineState(y), d.drawArrays(_enums_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveType.TRIANGLE_STRIP, 0, 4);
    const E = d.gl.getError();
    return d.setViewport(j, T, A, h), d.bindFramebuffer(w), F.dispose(), _.dispose(), 1282 !== E || (console.warn("Device claims support for WebGL extension EXT_float_blend but does not support it. Using fall back."), !1);
  }
}


/***/ }),

/***/ 66951:
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/testSamplerPrecision.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IgnoresSamplerPrecision": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Logger.js */ 28191);
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferObject.js */ 10615);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./enums.js */ 69923);
/* harmony import */ var _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FramebufferObject.js */ 2512);
/* harmony import */ var _Texture_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Texture.js */ 74697);
/* harmony import */ var _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TextureDescriptor.js */ 13229);
/* harmony import */ var _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./VertexArrayObject.js */ 19955);
/* harmony import */ var _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VertexElementDescriptor.js */ 33269);
/* harmony import */ var _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./WebGLDriverTestModule.js */ 38083);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/









class g extends _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_8__.WebGLDriverTestModule {
  constructor(e) {
    super(), this._rctx = e;
    const r = "\n      precision highp float;\n      attribute vec2 a_pos;\n      uniform highp sampler2D u_texture;\n      varying vec4 v_color;\n\n      float getBit(in float bitset, in int bitIndex) {\n        float offset = pow(2.0, float(bitIndex));\n        return mod(floor(bitset / offset), 2.0);\n      }\n\n      void main() {\n        vec4 value = texture2D(u_texture, vec2(0.0));\n        float bit = getBit(value.x * 255.0, 1);\n\n        v_color = bit * vec4(1.0);\n        gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\n      }\n      ",
      t = "\n      precision highp float;\n      varying vec4 v_color;\n\n      void main() {\n        gl_FragColor = v_color;\n      }\n      ";
    this._program = e.programCache.acquire(r, t, new Map([["a_pos", 0]]));
  }
  _test(d) {
    const g = this._rctx,
      b = new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_5__.TextureDescriptor(1);
    b.wrapMode = _enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.CLAMP_TO_EDGE, b.samplingMode = _enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureSamplingMode.NEAREST;
    const w = new _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_3__.FramebufferObject(g, b),
      v = new Uint8Array(4),
      _ = _BufferObject_js__WEBPACK_IMPORTED_MODULE_1__.BufferObject.createVertex(g, _enums_js__WEBPACK_IMPORTED_MODULE_2__.Usage.STATIC_DRAW, new Uint16Array([0, 0, 1, 0, 0, 1, 1, 1])),
      h = new _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(g, new Map([["a_position", 0]]), {
        geometry: [new _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_7__.VertexElementDescriptor("a_position", 2, _enums_js__WEBPACK_IMPORTED_MODULE_2__.DataType.SHORT, 0, 4)]
      }, {
        geometry: _
      });
    g.useProgram(d);
    const x = new _Texture_js__WEBPACK_IMPORTED_MODULE_4__.Texture(g, b, new Uint8Array([2, 255, 0, 0]));
    d.setUniform1i("u_texture", 0), g.bindTexture(x, 0);
    const y = g.getBoundFramebufferObject();
    g.bindFramebuffer(w), g.useProgram(d);
    const {
      x: A,
      y: j,
      width: T,
      height: D
    } = g.getViewport();
    g.setViewport(0, 0, 1, 1), g.bindVAO(h), g.drawArrays(_enums_js__WEBPACK_IMPORTED_MODULE_2__.PrimitiveType.TRIANGLE_STRIP, 0, 4), g.setViewport(A, j, T, D), w.readPixels(0, 0, 1, 1, _enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.RGBA, _enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelType.UNSIGNED_BYTE, v), h.dispose(), w.dispose();
    const E = 255 !== v[0] || 255 !== v[1] || 255 !== v[2] || 255 !== v[3];
    return E && _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.webgl.testSamplerPrecision").warn(`A problem was detected with your graphics driver. Your driver does not appear to honor sampler precision specifiers, which may result in rendering issues due to numerical instability. We recommend ensuring that your drivers have been updated to the latest version. Applying lowp sampler workaround. [${v[0]}.${v[1]}.${v[2]}.${v[3]}]`), g.bindFramebuffer(y), E;
  }
}


/***/ })

}]);
//# sourceMappingURL=default-node_modules_arcgis_core_views_2d_engine_webgl_shaders_MaterialPrograms_js-node_modul-c16720.js.map