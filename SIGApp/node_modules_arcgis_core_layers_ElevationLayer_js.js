"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["node_modules_arcgis_core_layers_ElevationLayer_js"],{

/***/ 1656:
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ElevationLayer.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../request.js */ 1897);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Error.js */ 32995);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/maybe.js */ 53661);
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ 20635);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/urlUtils.js */ 55050);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ 66508);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _geometry_HeightModelInfo_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../geometry/HeightModelInfo.js */ 96095);
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Layer.js */ 51402);
/* harmony import */ var _mixins_ArcGISCachedService_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./mixins/ArcGISCachedService.js */ 61223);
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ 6363);
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ 82686);
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ 16617);
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./support/commonProperties.js */ 74256);
/* harmony import */ var _support_ElevationTileData_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./support/ElevationTileData.js */ 41432);
/* harmony import */ var _support_LercDecoder_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./support/LercDecoder.js */ 24262);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






















let S = class extends (0,_mixins_ArcGISCachedService_js__WEBPACK_IMPORTED_MODULE_16__.ArcGISCachedService)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_17__.ArcGISService)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_18__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_19__.PortalLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_15__["default"]))))) {
  constructor(...e) {
    super(...e), this.capabilities = {
      operations: {
        supportsTileMap: !1
      }
    }, this.copyright = null, this.heightModelInfo = null, this.path = null, this.minScale = void 0, this.maxScale = void 0, this.opacity = 1, this.operationalLayerType = "ArcGISTiledElevationServiceLayer", this.sourceJSON = null, this.type = "elevation", this.url = null, this.version = null, this._lercDecoder = (0,_support_LercDecoder_js__WEBPACK_IMPORTED_MODULE_22__.acquireDecoder)();
  }
  normalizeCtorArgs(e, r) {
    return "string" == typeof e ? {
      url: e,
      ...r
    } : e;
  }
  destroy() {
    this._lercDecoder = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.releaseMaybe)(this._lercDecoder);
  }
  readCapabilities(e, r) {
    const t = r.capabilities && r.capabilities.split(",").map(e => e.toLowerCase().trim());
    if (!t) return {
      operations: {
        supportsTileMap: !1
      }
    };
    return {
      operations: {
        supportsTileMap: t.includes("tilemap")
      }
    };
  }
  readVersion(e, r) {
    let t = r.currentVersion;
    return t || (t = 9.3), t;
  }
  load(e) {
    const r = null != e ? e.signal : null;
    return this.addResolvingPromise(this.loadFromPortal({
      supportedTypes: ["Image Service"],
      supportsData: !1,
      validateItem: e => {
        for (let r = 0; r < e.typeKeywords.length; r++) if ("elevation 3d layer" === e.typeKeywords[r].toLowerCase()) return !0;
        throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("portal:invalid-layer-item-type", "Invalid layer item type '${type}', expected '${expectedType}' ", {
          type: "Image Service",
          expectedType: "Image Service Elevation 3D Layer"
        });
      }
    }, e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAbortError).then(() => this._fetchImageService(r))), Promise.resolve(this);
  }
  fetchTile(e, t, i, o) {
    const s = null != (o = o || {
        signal: null
      }).signal ? o.signal : o.signal = new AbortController().signal,
      a = {
        responseType: "array-buffer",
        signal: s
      },
      p = {
        noDataValue: o.noDataValue,
        returnFileInfo: !0
      };
    return this.load().then(() => this._fetchTileAvailability(e, t, i, o)).then(() => (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this.getTileUrl(e, t, i), a)).then(e => this._lercDecoder.decode(e.data, p, s)).then(e => new _support_ElevationTileData_js__WEBPACK_IMPORTED_MODULE_21__.ElevationTileData(e));
  }
  getTileUrl(e, r, t) {
    const i = !this.capabilities.operations.supportsTileMap && this.supportsBlankTile,
      o = (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__.objectToQuery)({
        ...this.parsedUrl.query,
        blankTile: !i && null
      });
    return `${this.parsedUrl.path}/tile/${e}/${r}/${t}${o ? "?" + o : ""}`;
  }
  queryElevation(e, r) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        ElevationQuery: t
      } = yield __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_support_ElevationQuery_js").then(__webpack_require__.bind(__webpack_require__, /*! ./support/ElevationQuery.js */ 80947));
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(r);
      return new t().query(_this, e, r);
    })();
  }
  createElevationSampler(e, r) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        ElevationQuery: t
      } = yield __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_support_ElevationQuery_js").then(__webpack_require__.bind(__webpack_require__, /*! ./support/ElevationQuery.js */ 80947));
      (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(r);
      return new t().createSampler(_this2, e, r);
    })();
  }
  _fetchTileAvailability(e, r, t, i) {
    return this.tilemapCache ? this.tilemapCache.fetchAvailability(e, r, t, i) : Promise.resolve("unknown");
  }
  _fetchImageService(e) {
    var _this3 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this3.sourceJSON) return _this3.sourceJSON;
      const t = {
          query: {
            f: "json",
            ..._this3.parsedUrl.query
          },
          responseType: "json",
          signal: e
        },
        i = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3.parsedUrl.path, t);
      i.ssl && (_this3.url = _this3.url?.replace(/^http:/i, "https:")), _this3.sourceJSON = i.data, _this3.read(i.data, {
        origin: "service",
        url: _this3.parsedUrl
      });
    })();
  }
  get hasOverriddenFetchTile() {
    return !this.fetchTile[w];
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  readOnly: !0
})], S.prototype, "capabilities", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__.reader)("service", "capabilities", ["capabilities"])], S.prototype, "readCapabilities", null), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  json: {
    read: {
      source: "copyrightText"
    }
  }
})], S.prototype, "copyright", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  readOnly: !0,
  type: _geometry_HeightModelInfo_js__WEBPACK_IMPORTED_MODULE_14__["default"]
})], S.prototype, "heightModelInfo", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  type: String,
  json: {
    origins: {
      "web-scene": {
        read: !0,
        write: !0
      }
    },
    read: !1
  }
})], S.prototype, "path", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  type: ["show", "hide"]
})], S.prototype, "listMode", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  json: {
    read: !1,
    write: !1,
    origins: {
      service: {
        read: !1,
        write: !1
      },
      "portal-item": {
        read: !1,
        write: !1
      },
      "web-document": {
        read: !1,
        write: !1
      }
    }
  },
  readOnly: !0
})], S.prototype, "minScale", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  json: {
    read: !1,
    write: !1,
    origins: {
      service: {
        read: !1,
        write: !1
      },
      "portal-item": {
        read: !1,
        write: !1
      },
      "web-document": {
        read: !1,
        write: !1
      }
    }
  },
  readOnly: !0
})], S.prototype, "maxScale", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  json: {
    read: !1,
    write: !1,
    origins: {
      "web-document": {
        read: !1,
        write: !1
      }
    }
  }
})], S.prototype, "opacity", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  type: ["ArcGISTiledElevationServiceLayer"]
})], S.prototype, "operationalLayerType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()], S.prototype, "sourceJSON", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({
  json: {
    read: !1
  },
  value: "elevation",
  readOnly: !0
})], S.prototype, "type", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_20__.url)], S.prototype, "url", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()], S.prototype, "version", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__.reader)("version", ["currentVersion"])], S.prototype, "readVersion", null), S = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.layers.ElevationLayer")], S);
const w = Symbol("default-fetch-tile");
S.prototype.fetchTile[w] = !0;
const T = S;


/***/ }),

/***/ 41432:
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ElevationTileData.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ElevationTileData": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class a {
  constructor(a, t, s, e) {
    this._hasNoDataValues = null, this._minValue = null, this._maxValue = null, "pixelData" in a ? (this.values = a.pixelData, this.width = a.width, this.height = a.height, this.noDataValue = a.noDataValue) : (this.values = a, this.width = t, this.height = s, this.noDataValue = e);
  }
  get hasNoDataValues() {
    if (null == this._hasNoDataValues) {
      const a = this.noDataValue;
      this._hasNoDataValues = this.values.includes(a);
    }
    return this._hasNoDataValues;
  }
  get minValue() {
    return this._ensureBounds(), this._minValue;
  }
  get maxValue() {
    return this._ensureBounds(), this._maxValue;
  }
  _ensureBounds() {
    if (null != this._minValue) return;
    const {
      noDataValue: a,
      values: t
    } = this;
    let s = 1 / 0,
      e = -1 / 0,
      i = !0;
    for (const u of t) u === a ? this._hasNoDataValues = !0 : (s = u < s ? u : s, e = u > e ? u : e, i = !1);
    i ? (this._minValue = 0, this._maxValue = 0) : (this._minValue = s, this._maxValue = e > -3e38 ? e : 0);
  }
}


/***/ }),

/***/ 24262:
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/LercDecoder.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "acquireDecoder": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/workers/WorkerHandle.js */ 60146);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class r extends _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__.WorkerHandle {
  constructor(e = null) {
    super("LercWorker", "_decode", {
      _decode: e => [e.buffer]
    }, e, {
      strategy: "dedicated"
    }), this.schedule = e, this.ref = 0;
  }
  decode(e, r, t) {
    return e && 0 !== e.byteLength ? this.invoke({
      buffer: e,
      options: r
    }, t) : Promise.resolve(null);
  }
  release() {
    --this.ref <= 0 && (t.forEach((e, r) => {
      e === this && t.delete(r);
    }), this.destroy());
  }
}
const t = new Map();
function s(e = null) {
  let s = t.get(e);
  return s || (null != e ? (s = new r(r => e.immediate.schedule(r)), t.set(e, s)) : (s = new r(), t.set(null, s))), ++s.ref, s;
}


/***/ })

}]);
//# sourceMappingURL=node_modules_arcgis_core_layers_ElevationLayer_js.js.map