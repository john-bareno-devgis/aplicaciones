"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["default-node_modules_arcgis_core_layers_ogc_ogcFeatureUtils_js"],{

/***/ 77029:
/*!************************************************!*\
  !*** ./node_modules/@arcgis/core/core/date.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isDateString": () => (/* binding */ e),
/* harmony export */   "isISO8601Date": () => (/* binding */ t),
/* harmony export */   "parseDate": () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e) {
  return null != r(e) || null != u(e);
}
function t(e) {
  return s.test(e);
}
function n(e) {
  return r(e) ?? u(e);
}
function u(e) {
  const t = new Date(e);
  return o(t, e) ? Number.isNaN(t.getTime()) ? null : t.getTime() - 6e4 * t.getTimezoneOffset() : null;
}
function r(e) {
  const t = s.exec(e);
  if (!t?.groups) return null;
  const n = t.groups,
    u = +n.year,
    r = +n.month - 1,
    o = +n.day,
    i = +(n.hours ?? "0"),
    f = +(n.minutes ?? "0"),
    l = +(n.seconds ?? "0");
  if (i > 23) return null;
  if (f > 59) return null;
  if (l > 59) return null;
  const m = n.ms ?? "0",
    a = m ? +m.padEnd(3, "0").substring(0, 3) : 0;
  let c;
  if (n.isUTC || !n.offsetSign) c = Date.UTC(u, r, o, i, f, l, a);else {
    const e = +n.offsetHours,
      t = +n.offsetMinutes;
    c = 6e4 * ("+" === n.offsetSign ? -1 : 1) * (60 * e + t) + Date.UTC(u, r, o, i, f, l, a);
  }
  return Number.isNaN(c) ? null : c;
}
const s = /^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/;
function o(e, t) {
  if (Number.isNaN(e.getTime())) return !1;
  let n = !0;
  if (f && /\d+\W*$/.test(t)) {
    const e = t.match(/[a-zA-Z]{2,}/);
    if (e) {
      let t = !1,
        u = 0;
      for (; !t && u <= e.length;) t = !i.test(e[u]), u++;
      n = !t;
    }
  }
  return n;
}
const i = /^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,
  f = !Number.isNaN(new Date("technology 10").getTime());


/***/ }),

/***/ 70554:
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createOptimizedFeatures": () => (/* binding */ N),
/* harmony export */   "getGeometryType": () => (/* binding */ u),
/* harmony export */   "inferLayerProperties": () => (/* binding */ I),
/* harmony export */   "validateGeoJSON": () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _core_date_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/date.js */ 77029);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ 32995);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ 53492);
/* harmony import */ var _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../OptimizedFeature.js */ 33510);
/* harmony import */ var _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../OptimizedGeometry.js */ 93846);
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../support/fieldUtils.js */ 32746);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






const c = {
  LineString: "esriGeometryPolyline",
  MultiLineString: "esriGeometryPolyline",
  MultiPoint: "esriGeometryMultipoint",
  Point: "esriGeometryPoint",
  Polygon: "esriGeometryPolygon",
  MultiPolygon: "esriGeometryPolygon"
};
function u(e) {
  return c[e];
}
function* l(e) {
  switch (e.type) {
    case "Feature":
      yield e;
      break;
    case "FeatureCollection":
      for (const t of e.features) t && (yield t);
  }
}
function* f(e) {
  if (e) switch (e.type) {
    case "Point":
      yield e.coordinates;
      break;
    case "LineString":
    case "MultiPoint":
      yield* e.coordinates;
      break;
    case "MultiLineString":
    case "Polygon":
      for (const t of e.coordinates) yield* t;
      break;
    case "MultiPolygon":
      for (const t of e.coordinates) for (const e of t) yield* e;
  }
}
function* p(e, t = {}) {
  const {
    geometryType: n,
    objectIdField: i
  } = t;
  for (const s of e) {
    const {
      geometry: e,
      properties: c,
      id: l
    } = s;
    if (e && u(e.type) !== n) continue;
    const f = c || {};
    let p;
    i && (p = f[i], null == l || p || (f[i] = p = l));
    const a = new _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_3__.OptimizedFeature(e ? h(new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"](), e, t) : null, f, null, p ?? void 0);
    yield a;
  }
}
function a(e) {
  for (const t of e) if (t.length > 2) return !0;
  return !1;
}
function y(e) {
  return !g(e);
}
function d(e) {
  return g(e);
}
function g(e) {
  let t = 0;
  for (let n = 0; n < e.length; n++) {
    const o = e[n],
      r = e[(n + 1) % e.length];
    t += o[0] * r[1] - r[0] * o[1];
  }
  return t <= 0;
}
function m(e) {
  const t = e[0],
    n = e[e.length - 1];
  return t[0] === n[0] && t[1] === n[1] && t[2] === n[2] || e.push(t), e;
}
function h(e, t, n) {
  switch (t.type) {
    case "LineString":
      return w(e, t, n);
    case "MultiLineString":
      return P(e, t, n);
    case "MultiPoint":
      return j(e, t, n);
    case "MultiPolygon":
      return b(e, t, n);
    case "Point":
      return S(e, t, n);
    case "Polygon":
      return F(e, t, n);
  }
}
function w(e, t, n) {
  return M(e, t.coordinates, n), e;
}
function P(e, t, n) {
  for (const o of t.coordinates) M(e, o, n);
  return e;
}
function j(e, t, n) {
  return M(e, t.coordinates, n), e;
}
function b(e, t, n) {
  for (const o of t.coordinates) {
    G(e, o[0], n);
    for (let t = 1; t < o.length; t++) k(e, o[t], n);
  }
  return e;
}
function S(e, t, n) {
  return O(e, t.coordinates, n), e;
}
function F(e, t, n) {
  const o = t.coordinates;
  G(e, o[0], n);
  for (let r = 1; r < o.length; r++) k(e, o[r], n);
  return e;
}
function G(e, t, n) {
  const o = m(t);
  y(o) ? T(e, o, n) : M(e, o, n);
}
function k(e, t, n) {
  const o = m(t);
  d(o) ? T(e, o, n) : M(e, o, n);
}
function M(e, t, n) {
  for (const o of t) O(e, o, n);
  e.lengths.push(t.length);
}
function T(e, t, n) {
  for (let o = t.length - 1; o >= 0; o--) O(e, t[o], n);
  e.lengths.push(t.length);
}
function O(e, t, n) {
  const [o, r, i] = t;
  e.coords.push(o, r), n.hasZ && e.coords.push(i || 0);
}
function L(t) {
  switch (typeof t) {
    case "string":
      return (0,_core_date_js__WEBPACK_IMPORTED_MODULE_0__.isISO8601Date)(t) ? "esriFieldTypeDate" : "esriFieldTypeString";
    case "number":
      return "esriFieldTypeDouble";
    default:
      return "unknown";
  }
}
function E(e, o = 4326) {
  if (!e) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("geojson-layer:empty", "GeoJSON data is empty");
  if ("Feature" !== e.type && "FeatureCollection" !== e.type) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("geojson-layer:unsupported-geojson-object", "missing or not supported GeoJSON object type", {
    data: e
  });
  const {
    crs: r
  } = e;
  if (!r) return;
  const i = "string" == typeof r ? r : "name" === r.type ? r.properties.name : "EPSG" === r.type ? r.properties.code : null,
    s = (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__.isWGS84)({
      wkid: o
    }) ? new RegExp(".*(CRS84H?|4326)$", "i") : new RegExp(`.*(${o})$`, "i");
  if (!i || !s.test(i)) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("geojson:unsupported-crs", "unsupported GeoJSON 'crs' member", {
    crs: r
  });
}
function I(e, t = {}) {
  const n = [],
    o = new Set(),
    r = new Set();
  let c,
    p = !1,
    y = null,
    d = !1,
    {
      geometryType: g = null
    } = t,
    m = !1;
  for (const s of l(e)) {
    const {
      geometry: e,
      properties: t,
      id: l
    } = s;
    if (!e || (g || (g = u(e.type)), u(e.type) === g)) {
      if (!p) {
        p = a(f(e));
      }
      if (d || (d = null != l, d && (c = typeof l, t && (y = Object.keys(t).filter(e => t[e] === l)))), t && y && d && null != l && (y.length > 1 ? y = y.filter(e => t[e] === l) : 1 === y.length && (y = t[y[0]] === l ? y : [])), !m && t) {
        let e = !0;
        for (const s in t) {
          if (o.has(s)) continue;
          const c = t[s];
          if (null == c) {
            e = !1, r.add(s);
            continue;
          }
          const u = L(c);
          if ("unknown" === u) {
            r.add(s);
            continue;
          }
          r.delete(s), o.add(s);
          const l = (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_5__.normalizeFieldName)(s);
          l && n.push({
            name: l,
            alias: s,
            type: u
          });
        }
        m = e;
      }
    }
  }
  const h = (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_5__.normalizeFieldName)(1 === y?.length && y[0] || null) ?? void 0;
  if (h) for (const i of n) if (i.name === h && (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_5__.isNumericField)(i)) {
    i.type = "esriFieldTypeOID";
    break;
  }
  return {
    fields: n,
    geometryType: g,
    hasZ: p,
    objectIdFieldName: h,
    objectIdFieldType: c,
    unknownFields: Array.from(r)
  };
}
function N(e, t) {
  return Array.from(p(l(e), t));
}


/***/ }),

/***/ 79264:
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "crsDefault": () => (/* binding */ h),
/* harmony export */   "crsPrefix": () => (/* binding */ b),
/* harmony export */   "getCollectionDefinition": () => (/* binding */ j),
/* harmony export */   "getServerCollections": () => (/* binding */ F),
/* harmony export */   "getServerConformance": () => (/* binding */ I),
/* harmony export */   "getServerLandingPage": () => (/* binding */ T),
/* harmony export */   "getServerOpenApi": () => (/* binding */ k),
/* harmony export */   "getSpatialReferenceWkid": () => (/* binding */ x),
/* harmony export */   "queryFeatureSetJSON": () => (/* binding */ S),
/* harmony export */   "queryOptimizedFeatureSet": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ 6010);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../request.js */ 1897);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Error.js */ 32995);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ 28191);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ 53492);
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/support/webMercatorUtils.js */ 83550);
/* harmony import */ var _graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphics/featureConversionUtils.js */ 50805);
/* harmony import */ var _graphics_OptimizedFeatureSet_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../graphics/OptimizedFeatureSet.js */ 43921);
/* harmony import */ var _graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graphics/sources/geojson/geojson.js */ 70554);
/* harmony import */ var _graphics_sources_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../graphics/sources/support/clientSideDefaults.js */ 34524);
/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../support/FieldsIndex.js */ 19346);
/* harmony import */ var _support_fieldType_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../support/fieldType.js */ 43651);
/* harmony import */ var _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../time/timeZoneUtils.js */ 92691);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ 68230);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














const w = _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger("esri.layers.graphics.sources.ogcfeature"),
  b = "http://www.opengis.net/def/crs/",
  h = `${b}OGC/1.3/CRS84`;
function j(_x, _x2) {
  return _j.apply(this, arguments);
}
function _j() {
  _j = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (n, i, r = {}, a = 5) {
    const {
        links: o
      } = n,
      s = G(o, "items", "application/geo+json") || G(o, "http://www.opengis.net/def/rel/ogc/1.0/items", "application/geo+json");
    if (null == s) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("ogc-feature-layer:missing-items-page", "Missing items url");
    const {
      data: l
    } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(s.href, {
      signal: r.signal,
      query: {
        limit: a,
        ...r.customParameters,
        token: r.apiKey
      },
      headers: {
        accept: "application/geo+json"
      }
    });
    (0,_graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__.validateGeoJSON)(l);
    const d = (0,_graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__.inferLayerProperties)(l, {
        geometryType: i.geometryType
      }),
      y = i.fields || d.fields || [],
      b = null != i.hasZ ? i.hasZ : d.hasZ,
      h = d.geometryType,
      j = i.objectIdField || d.objectIdFieldName || "OBJECTID";
    let F = i.timeInfo;
    const I = y.find(({
      name: e
    }) => e === j);
    if (I) I.editable = !1, I.nullable = !1;else {
      if (!d.objectIdFieldType) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("ogc-feature-layer:missing-feature-id", "Collection geojson require a feature id as a unique identifier");
      y.unshift({
        name: j,
        alias: j,
        type: "number" === d.objectIdFieldType ? "esriFieldTypeOID" : "esriFieldTypeString",
        editable: !1,
        nullable: !1
      });
    }
    if (j !== d.objectIdFieldName) {
      const e = y.find(({
        name: e
      }) => e === d.objectIdFieldName);
      e && (e.type = "esriFieldTypeInteger");
    }
    y === d.fields && d.unknownFields.length > 0 && w.warn({
      name: "ogc-feature-layer:unknown-field-types",
      message: "Some fields types couldn't be inferred from the features and were dropped",
      details: {
        unknownFields: d.unknownFields
      }
    });
    for (const e of y) {
      if (null == e.name && (e.name = e.alias), null == e.alias && (e.alias = e.name), "esriFieldTypeOID" !== e.type && "esriFieldTypeGlobalID" !== e.type && (e.editable = null == e.editable || !!e.editable, e.nullable = null == e.nullable || !!e.nullable), !e.name) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("ogc-feature-layer:invalid-field-name", "field name is missing", {
        field: e
      });
      if (!_support_fieldType_js__WEBPACK_IMPORTED_MODULE_12__.kebabDict.jsonValues.includes(e.type)) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("ogc-feature-layer:invalid-field-type", `invalid type for field "${e.name}"`, {
        field: e
      });
    }
    if (F) {
      const e = new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__["default"](y);
      if (F.startTimeField) {
        const t = e.get(F.startTimeField);
        t ? (F.startTimeField = t.name, t.type = "esriFieldTypeDate") : F.startTimeField = null;
      }
      if (F.endTimeField) {
        const t = e.get(F.endTimeField);
        t ? (F.endTimeField = t.name, t.type = "esriFieldTypeDate") : F.endTimeField = null;
      }
      if (F.trackIdField) {
        const t = e.get(F.trackIdField);
        t ? F.trackIdField = t.name : (F.trackIdField = null, w.warn({
          name: "ogc-feature-layer:invalid-timeInfo-trackIdField",
          message: "trackIdField is missing",
          details: {
            timeInfo: F
          }
        }));
      }
      F.timeReference ||= {
        timeZoneIANA: _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_13__.utc
      }, F.startTimeField || F.endTimeField || (w.warn({
        name: "ogc-feature-layer:invalid-timeInfo",
        message: "startTimeField and endTimeField are missing",
        details: {
          timeInfo: F
        }
      }), F = null);
    }
    return {
      drawingInfo: h ? (0,_graphics_sources_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_10__.createDrawingInfo)(h) : null,
      extent: $(n),
      geometryType: h,
      fields: y,
      hasZ: !!b,
      objectIdField: j,
      timeInfo: F
    };
  });
  return _j.apply(this, arguments);
}
function F(_x3) {
  return _F.apply(this, arguments);
}
function _F() {
  _F = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (n, i = {}) {
    const {
        links: r
      } = n,
      a = G(r, "data", "application/json") || G(r, "http://www.opengis.net/def/rel/ogc/1.0/data", "application/json");
    if (null == a) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("ogc-feature-layer:missing-collections-page", "Missing collections url");
    const {
        apiKey: o,
        customParameters: s,
        signal: l
      } = i,
      {
        data: c
      } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(a.href, {
        signal: l,
        headers: {
          accept: "application/json"
        },
        query: {
          ...s,
          token: o
        }
      });
    return c;
  });
  return _F.apply(this, arguments);
}
function I(_x4) {
  return _I.apply(this, arguments);
}
function _I() {
  _I = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (n, i = {}) {
    const {
        links: r
      } = n,
      a = G(r, "conformance", "application/json") || G(r, "http://www.opengis.net/def/rel/ogc/1.0/conformance", "application/json");
    if (null == a) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("ogc-feature-layer:missing-conformance-page", "Missing conformance url");
    const {
        apiKey: o,
        customParameters: s,
        signal: l
      } = i,
      {
        data: c
      } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(a.href, {
        signal: l,
        headers: {
          accept: "application/json"
        },
        query: {
          ...s,
          token: o
        }
      });
    return c;
  });
  return _I.apply(this, arguments);
}
function T(_x5) {
  return _T.apply(this, arguments);
}
function _T() {
  _T = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, n = {}) {
    const {
        apiKey: i,
        customParameters: r,
        signal: a
      } = n,
      {
        data: o
      } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(t, {
        signal: a,
        headers: {
          accept: "application/json"
        },
        query: {
          ...r,
          token: i
        }
      });
    return o;
  });
  return _T.apply(this, arguments);
}
function k(_x6) {
  return _k.apply(this, arguments);
}
function _k() {
  _k = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (t, n = {}) {
    const i = "application/vnd.oai.openapi+json;version=3.0",
      r = G(t.links, "service-desc", i);
    if (null == r) return w.warn("ogc-feature-layer:missing-openapi-page", "The OGC API-Features server does not have an OpenAPI page."), null;
    const {
        apiKey: a,
        customParameters: o,
        signal: s
      } = n,
      {
        data: l
      } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(r.href, {
        signal: s,
        headers: {
          accept: i
        },
        query: {
          ...o,
          token: a
        }
      });
    return l;
  });
  return _k.apply(this, arguments);
}
function x(e) {
  const t = /^http:\/\/www\.opengis.net\/def\/crs\/(?<authority>.*)\/(?<version>.*)\/(?<code>.*)$/i.exec(e),
    n = t?.groups;
  if (!n) return null;
  const {
    authority: i,
    code: r
  } = n;
  switch (i.toLowerCase()) {
    case "ogc":
      switch (r.toLowerCase()) {
        case "crs27":
          return _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"].GCS_NAD_1927.wkid;
        case "crs83":
          return 4269;
        case "crs84":
        case "crs84h":
          return _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"].WGS84.wkid;
        default:
          return null;
      }
    case "esri":
    case "epsg":
      {
        const e = Number.parseInt(r, 10);
        return Number.isNaN(e) ? null : e;
      }
    default:
      return null;
  }
}
function S(_x7, _x8, _x9) {
  return _S.apply(this, arguments);
}
function _S() {
  _S = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (e, t, n) {
    const i = yield v(e, t, n);
    return (0,_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertToFeatureSet)(i);
  });
  return _S.apply(this, arguments);
}
function v(_x10, _x11, _x12) {
  return _v.apply(this, arguments);
}
function _v() {
  _v = (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (n, a, c) {
    const {
        collection: u,
        layerDefinition: m,
        maxRecordCount: p,
        queryParameters: {
          apiKey: f,
          customParameters: g
        },
        spatialReference: w,
        supportedCrs: b
      } = n,
      {
        links: h
      } = u,
      j = G(h, "items", "application/geo+json") || G(h, "http://www.opengis.net/def/rel/ogc/1.0/items", "application/geo+json");
    if (null == j) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("ogc-feature-layer:missing-items-page", "Missing items url");
    const {
      geometry: F,
      num: I,
      start: T,
      timeExtent: k,
      where: x
    } = a;
    if (a.objectIds) throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("ogc-feature-layer:query-by-objectids-not-supported", "Queries with objectids are not supported");
    const S = _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"].fromJSON(w),
      v = a.outSpatialReference ?? S,
      N = v.isWGS84 ? null : R(v, b),
      q = M(F, b),
      $ = O(k),
      W = C(x),
      D = I ?? (null != T && void 0 !== T ? 10 : p),
      {
        data: P
      } = yield (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(j.href, {
        ...c,
        query: {
          ...g,
          ...q,
          crs: N,
          datetime: $,
          query: W,
          limit: D,
          startindex: T,
          token: f
        },
        headers: {
          accept: "application/geo+json"
        }
      });
    let Z = !1;
    if (P.links) {
      const e = P.links.find(e => "next" === e.rel);
      Z = !!e;
    }
    !Z && Number.isInteger(P.numberMatched) && Number.isInteger(P.numberReturned) && (Z = P.numberReturned < P.numberMatched);
    const {
        fields: K,
        geometryType: A,
        hasZ: L,
        objectIdField: J
      } = m,
      U = (0,_graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__.createOptimizedFeatures)(P, {
        geometryType: A,
        hasZ: L,
        objectIdField: J
      });
    if (!N && v.isWebMercator) for (const e of U) if (null != e.geometry && null != A) {
      const t = (0,_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertToGeometry)(e.geometry, A, L, !1);
      t.spatialReference = _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"].WGS84, e.geometry = (0,_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertFromGeometry)((0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_6__.project)(t, v));
    }
    for (const e of U) e.objectId = e.attributes[J];
    const z = N || !N && v.isWebMercator ? v.toJSON() : _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.WGS84,
      E = new _graphics_OptimizedFeatureSet_js__WEBPACK_IMPORTED_MODULE_8__["default"]();
    return E.exceededTransferLimit = Z, E.features = U, E.fields = K, E.geometryType = A, E.hasZ = L, E.objectIdFieldName = J, E.spatialReference = z, E;
  });
  return _v.apply(this, arguments);
}
function N(e) {
  return null != e && "extent" === e.type;
}
function R(e, t) {
  const {
    isWebMercator: n,
    wkid: i
  } = e;
  if (!i) return null;
  const r = n ? t[3857] ?? t[102100] ?? t[102113] ?? t[900913] : t[e.wkid];
  return r ? `${b}${r}` : null;
}
function q(e) {
  if (null == e) return "";
  const {
    xmin: t,
    ymin: n,
    xmax: i,
    ymax: r
  } = e;
  return `${t},${n},${i},${r}`;
}
function O(e) {
  if (null == e) return null;
  const {
    start: t,
    end: n
  } = e;
  return `${null != t ? t.toISOString() : ".."}/${null != n ? n.toISOString() : ".."}`;
}
function C(e) {
  return null != e && e && "1=1" !== e ? e : null;
}
function M(e, t) {
  if (!N(e)) return null;
  const {
    spatialReference: n
  } = e;
  if (!n || n.isWGS84) return {
    bbox: q(e)
  };
  const i = R(n, t);
  return null != i ? {
    bbox: q(e),
    "bbox-crs": i
  } : n.isWebMercator ? {
    bbox: q((0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_6__.project)(e, _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"].WGS84))
  } : null;
}
function $(e) {
  const t = e.extent?.spatial;
  if (!t) return null;
  const n = t.bbox[0],
    i = 4 === n.length,
    r = n[0],
    a = n[1],
    o = i ? void 0 : n[2];
  return {
    xmin: r,
    ymin: a,
    xmax: i ? n[2] : n[3],
    ymax: i ? n[3] : n[4],
    zmin: o,
    zmax: i ? void 0 : n[5],
    spatialReference: _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"].WGS84.toJSON()
  };
}
function G(e, t, n) {
  return e.find(e => e.rel === t && e.type === n) || e.find(e => e.rel === t && !e.type);
}


/***/ })

}]);
//# sourceMappingURL=default-node_modules_arcgis_core_layers_ogc_ogcFeatureUtils_js.js.map