"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["default-node_modules_arcgis_core_geometry_projection_computeTranslationToOriginAndRotation_js-d30136"],{

/***/ 12938:
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "L": () => (/* binding */ w),
/* harmony export */   "b": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mat4.js */ 64544);
/* harmony import */ var _mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mat4f64.js */ 23160);
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vec2.js */ 80775);
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vec2f64.js */ 83457);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js */ 40821);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ 71882);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js */ 63924);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/











function v(i) {
  const r = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__.ShaderBuilder();
  r.include(_views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_4__.Laserline, i);
  const {
    vertex: v,
    fragment: w
  } = r;
  return v.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__.Matrix4PassUniform("modelView", (i, o) => (0,_mat4_js__WEBPACK_IMPORTED_MODULE_0__.w)(m, o.camera.viewMatrix, i.origin)), new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__.Matrix4PassUniform("proj", (e, i) => i.camera.projectionMatrix), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("glowWidth", (e, i) => e.glowWidth * i.camera.pixelRatio), new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Float2PassUniform("pixelToNDC", (e, i) => (0,_vec2_js__WEBPACK_IMPORTED_MODULE_2__.s)(p, 2 / i.camera.fullViewport[2], 2 / i.camera.fullViewport[3]))), r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.START, "vec3"), r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.END, "vec3"), r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.UP, "vec3"), r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.EXTRUDE, "vec2"), r.varyings.add("uv", "vec2"), r.varyings.add("vViewStart", "vec3"), r.varyings.add("vViewEnd", "vec3"), r.varyings.add("vViewPlane", "vec4"), v.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl`void main() {
vec3 pos = mix(start, end, extrude.x);
vec4 viewPos = modelView * vec4(pos, 1);
vec4 projPos = proj * viewPos;
vec2 ndcPos = projPos.xy / projPos.w;
vec3 viewUp = (modelView * vec4(extrude.y * up, 0)).xyz;
vec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);
vec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);
vec2 lxy = abs(sign(projExtrudeDir) - ndcPos);
ndcPos += length(lxy) * projExtrudeDir;
vec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));
vec3 viewPlaneNormal = (modelView * vec4(worldPlaneNormal, 0)).xyz;
vViewStart = (modelView * vec4(start, 1)).xyz;
vViewEnd = (modelView * vec4(end, 1)).xyz;
vViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));
float xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;
ndcPos.x += xPaddingPixels * pixelToNDC.x;
uv = ndcPos * 0.5 + 0.5;
gl_Position = vec4(ndcPos, 0, 1);
}`), w.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("perScreenPixelRatio", (e, i) => i.camera.perScreenPixelRatio)), w.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {
vec3 origin = mix(start, end, 0.5);
vec3 basis = end - origin;
vec3 posAtOrigin = pos - origin;
float x = dot(normalize(basis), posAtOrigin);
float y = dot(plane.xyz, posAtOrigin);
float dx = max(abs(x) - length(basis), 0.0);
float dy = y;
float dist = length(vec2(dx, dy));
float width = fwidth(y);
float maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;
float pixelDist = dist / min(width, maxPixelDistance);
return abs(pixelDist);
}
void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
vec3 dEndStart = vViewEnd - vViewStart;
if (dot(dEndStart, dEndStart) < 1e-5) {
discard;
}
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
float distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);
vec4 color = laserlineProfile(distance);
float alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));
fragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);
}`), r;
}
const p = (0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),
  m = (0,_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),
  w = Object.freeze(Object.defineProperty({
    __proto__: null,
    build: v
  }, Symbol.toStringTag, {
    value: "Module"
  }));


/***/ }),

/***/ 99095:
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Laserlines.glsl.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "L": () => (/* binding */ _),
/* harmony export */   "b": () => (/* binding */ A),
/* harmony export */   "d": () => (/* binding */ C)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/mathUtils.js */ 93142);
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vec2.js */ 80775);
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vec2f64.js */ 83457);
/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vec3.js */ 92950);
/* harmony import */ var _vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vec3f64.js */ 77765);
/* harmony import */ var _vec4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vec4.js */ 71943);
/* harmony import */ var _vec4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./vec4f64.js */ 91746);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../geometry/support/lineSegment.js */ 19511);
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../geometry/support/plane.js */ 45903);
/* harmony import */ var _sphere_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sphere.js */ 85970);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js */ 40821);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ 93249);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ 71882);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js */ 26615);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


















const C = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(6);
function A(e) {
  const i = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_17__.ShaderBuilder();
  i.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_11__.ScreenSpacePass), i.include(_views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_10__.Laserline, e);
  const t = i.fragment;
  if (e.lineVerticalPlaneEnabled || e.heightManifoldEnabled) if (t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("maxPixelDistance", (i, t) => e.heightManifoldEnabled ? 2 * t.camera.computeScreenPixelSizeAt(i.heightManifoldTarget) : 2 * t.camera.computeScreenPixelSizeAt(i.lineVerticalPlaneSegment.origin))), t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float planeDistancePixels(vec4 plane, vec3 pos) {
float dist = dot(plane.xyz, pos) + plane.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`), e.spherical) {
    const e = (e, i, t) => (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(e, i.heightManifoldTarget, t.camera.viewMatrix),
      i = (e, i) => (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(e, [0, 0, 0], i.camera.viewMatrix);
    t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("heightManifoldOrigin", (t, r) => (e(T, t, r), i(U, r), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(U, U, T), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(R, U), R[3] = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.l)(U), R)), new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("globalOrigin", (e, t) => i(T, t)), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("cosSphericalAngleThreshold", (e, i) => 1 - Math.max(2, (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(i.camera.eye, e.heightManifoldTarget) * i.camera.perRenderPixelRatio) / (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.l)(e.heightManifoldTarget))), t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float globeDistancePixels(float posInGlobalOriginLength) {
float dist = abs(posInGlobalOriginLength - heightManifoldOrigin.w);
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}
float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {
vec3 posInGlobalOriginNorm = normalize(globalOrigin - pos);
float cosAngle = dot(posInGlobalOriginNorm, heightManifoldOrigin.xyz);
vec3 posInGlobalOrigin = globalOrigin - pos;
float posInGlobalOriginLength = length(posInGlobalOrigin);
float sphericalDistance = globeDistancePixels(posInGlobalOriginLength);
float planarDistance = planeDistancePixels(heightPlane, pos);
return cosAngle < cosSphericalAngleThreshold ? sphericalDistance : planarDistance;
}`);
  } else t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {
return planeDistancePixels(heightPlane, pos);
}`);
  if (e.pointDistanceEnabled && (t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("maxPixelDistance", (e, i) => 2 * i.camera.computeScreenPixelSizeAt(e.pointDistanceTarget))), t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float sphereDistancePixels(vec4 sphere, vec3 pos) {
float dist = distance(sphere.xyz, pos) - sphere.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`)), e.intersectsLineEnabled && (t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("perScreenPixelRatio", (e, i) => i.camera.perScreenPixelRatio)), t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {
float dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);
return abs(dist) - radius;
}`)), (e.lineVerticalPlaneEnabled || e.intersectsLineEnabled) && t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {
vec3 dir = end - start;
float t2 = dot(dir, pos - start);
float l2 = dot(dir, dir);
return t2 >= 0.0 && t2 <= l2;
}`), t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
vec4 color = vec4(0, 0, 0, 0);`), e.heightManifoldEnabled) {
    t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff", e => V(e)), new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("heightPlane", (e, i) => z(e.heightManifoldTarget, e.renderCoordsHelper.worldUpAtPosition(e.heightManifoldTarget, T), i.camera.viewMatrix)));
    const i = e.spherical ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`normalize(globalOrigin - pos)` : _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`heightPlane.xyz`;
    t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`
    {
      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, ${i})));
      vec4 heightManifoldColor = laserlineProfile(heightManifoldDistancePixels(heightPlane, pos));
      color = max(color, heightManifoldColor * heightManifoldAlpha);
    }
    `);
  }
  return e.pointDistanceEnabled && (t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff", e => V(e)), new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("pointDistanceSphere", (e, i) => j(e, i))), t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`{
float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);
vec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);
float pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));
color = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);
}`)), e.lineVerticalPlaneEnabled && (t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff", e => V(e)), new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("lineVerticalPlane", (e, i) => y(e, i)), new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("lineVerticalStart", (e, i) => O(e, i)), new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("lineVerticalEnd", (e, i) => E(e, i))), t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`{
if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {
float lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);
vec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);
float lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));
color = max(color, lineVerticalColor * lineVerticalAlpha);
}
}`)), e.intersectsLineEnabled && (t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff", e => V(e)), new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("intersectsLineStart", (e, i) => (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(T, e.lineStartWorld, i.camera.viewMatrix)), new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("intersectsLineEnd", (e, i) => (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(T, e.lineEndWorld, i.camera.viewMatrix)), new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("intersectsLineDirection", (e, i) => ((0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(R, e.intersectsLineSegment.vector), R[3] = 0, (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(T, (0,_vec4_js__WEBPACK_IMPORTED_MODULE_5__.t)(R, R, i.camera.viewMatrix)))), new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("intersectsLineRadius", e => e.intersectsLineRadius)), t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`{
if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {
float intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);
vec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);
float intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));
color = max(color, intersectsLineColor * intersectsLineAlpha);
}
}`)), t.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl`fragColor = laserlineOutput(color * depthDiscontinuityAlpha);
}`), i;
}
function V(t) {
  return (0,_vec2_js__WEBPACK_IMPORTED_MODULE_1__.s)(I, Math.cos(t.angleCutoff), Math.cos(Math.max(0, t.angleCutoff - (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(2))));
}
function j(e, i) {
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(H, e.pointDistanceOrigin, i.camera.viewMatrix), H[3] = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(e.pointDistanceOrigin, e.pointDistanceTarget), H;
}
function y(e, i) {
  const t = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e.lineVerticalPlaneSegment, .5, T),
    n = e.renderCoordsHelper.worldUpAtPosition(t, G),
    o = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(U, e.lineVerticalPlaneSegment.vector),
    r = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)(R, n, o);
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(r, r), z(e.lineVerticalPlaneSegment.origin, r, i.camera.viewMatrix);
}
function O(e, i) {
  const t = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(T, e.lineVerticalPlaneSegment.origin);
  return e.renderCoordsHelper.setAltitude(t, 0), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(t, t, i.camera.viewMatrix);
}
function E(e, i) {
  const t = (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(T, e.lineVerticalPlaneSegment.origin, e.lineVerticalPlaneSegment.vector);
  return e.renderCoordsHelper.setAltitude(t, 0), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(t, t, i.camera.viewMatrix);
}
function z(e, i, t) {
  return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(F, e, t), (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(R, i), R[3] = 0, (0,_vec4_js__WEBPACK_IMPORTED_MODULE_5__.t)(R, R, t), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__.fromPositionAndNormal)(F, R, W);
}
const I = (0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),
  T = (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),
  R = (0,_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),
  G = (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),
  U = (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),
  F = (0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),
  W = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__.create)(),
  H = (0,_sphere_js__WEBPACK_IMPORTED_MODULE_9__.c)(),
  _ = Object.freeze(Object.defineProperty({
    __proto__: null,
    build: A,
    defaultAngleCutoff: C
  }, Symbol.toStringTag, {
    value: "Module"
  }));


/***/ }),

/***/ 35421:
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "S": () => (/* binding */ h),
/* harmony export */   "b": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vec4f64.js */ 91746);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSizeScaling_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js */ 49469);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ 56877);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ 2847);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ 57895);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ 63855);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ 54983);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ 19349);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js */ 26615);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ 4058);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ 7427);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ 51663);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/















function p(e) {
  const p = new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_12__.ShaderBuilder(),
    b = e.multipassEnabled && (e.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Color || e.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Alpha);
  p.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_4__.Transform, e), p.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSizeScaling_glsl_js__WEBPACK_IMPORTED_MODULE_1__.ScreenSizeScaling, e), p.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__.SliceDraw, e);
  const {
    vertex: h,
    fragment: C
  } = p;
  return C.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_7__.ColorConversion), (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addProjViewLocalOrigin)(h, e), C.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Float4PassUniform("uColor", e => e.color)), p.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.POSITION, "vec3"), p.varyings.add("vWorldPosition", "vec3"), b && p.varyings.add("depth", "float"), e.screenSizeEnabled && p.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.OFFSET, "vec3"), e.shadingEnabled && ((0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addViewNormal)(h), p.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.NORMAL, "vec3"), p.varyings.add("vViewNormal", "vec3")), h.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`
    void main(void) {
      vWorldPosition = ${e.screenSizeEnabled ? "screenSizeScaling(offset, position)" : "position"};
  `), e.shadingEnabled && h.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`vec3 worldNormal = normal;
vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`), h.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`
    ${b ? "depth = (view * vec4(vWorldPosition, 1.0)).z;" : ""}
    gl_Position = transformPosition(proj, view, vWorldPosition);
  }
  `), b && p.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__.multipassTerrainTest, e), C.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`
    void main() {
      discardBySlice(vWorldPosition);
      ${b ? "terrainDepthTest(depth);" : ""}
    `), e.shadingEnabled ? (C.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float3PassUniform("shadingDirection", e => e.shadingDirection)), C.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Float4PassUniform("shadedColor", e => w(e.shadingTint, e.color))), C.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`vec3 viewNormalNorm = normalize(vViewNormal);
float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);
vec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)) : C.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`vec4 finalColor = uColor;`), C.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`
      ${e.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.ObjectAndLayerIdColor ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`finalColor.a = 1.0;` : ""}
      if (finalColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_6__.symbolAlphaCutoff)}) {
        discard;
      }
      ${e.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Alpha ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`fragColor = vec4(finalColor.a);` : ""}

      ${e.output === _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Color ? _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl`fragColor = highlightSlice(finalColor, vWorldPosition); ${e.transparencyPassType === _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_13__.TransparencyPassType.Color ? "fragColor = premultiplyAlpha(fragColor);" : ""}` : ""}
    }
    `), p;
}
function w(e, o) {
  const r = 1 - e[3],
    i = e[3] + o[3] * r;
  return 0 === i ? (b[3] = i, b) : (b[0] = (e[0] * e[3] + o[0] * o[3] * r) / i, b[1] = (e[1] * e[3] + o[1] * o[3] * r) / i, b[2] = (e[2] * e[3] + o[2] * o[3] * r) / i, b[3] = o[3], b);
}
const b = (0,_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(),
  h = Object.freeze(Object.defineProperty({
    __proto__: null,
    build: p
  }, Symbol.toStringTag, {
    value: "Module"
  }));


/***/ }),

/***/ 74083:
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec4f32.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "O": () => (/* binding */ l),
/* harmony export */   "U": () => (/* binding */ _),
/* harmony export */   "Z": () => (/* binding */ f),
/* harmony export */   "a": () => (/* binding */ n),
/* harmony export */   "b": () => (/* binding */ e),
/* harmony export */   "c": () => (/* binding */ t),
/* harmony export */   "d": () => (/* binding */ s),
/* harmony export */   "e": () => (/* binding */ c),
/* harmony export */   "f": () => (/* binding */ r),
/* harmony export */   "g": () => (/* binding */ i),
/* harmony export */   "h": () => (/* binding */ y),
/* harmony export */   "i": () => (/* binding */ w),
/* harmony export */   "j": () => (/* binding */ N),
/* harmony export */   "o": () => (/* binding */ o),
/* harmony export */   "u": () => (/* binding */ u),
/* harmony export */   "v": () => (/* binding */ O),
/* harmony export */   "z": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n() {
  return new Float32Array(4);
}
function t(n) {
  const t = new Float32Array(4);
  return t[0] = n[0], t[1] = n[1], t[2] = n[2], t[3] = n[3], t;
}
function r(n, t, r, e) {
  const a = new Float32Array(4);
  return a[0] = n, a[1] = t, a[2] = r, a[3] = e, a;
}
function e(n, t) {
  return new Float32Array(n, t, 4);
}
function a() {
  return n();
}
function o() {
  return r(1, 1, 1, 1);
}
function u() {
  return r(1, 0, 0, 0);
}
function s() {
  return r(0, 1, 0, 0);
}
function c() {
  return r(0, 0, 1, 0);
}
function i() {
  return r(0, 0, 0, 1);
}
const f = a(),
  l = o(),
  _ = u(),
  y = s(),
  w = c(),
  N = i(),
  O = Object.freeze(Object.defineProperty({
    __proto__: null,
    ONES: l,
    UNIT_W: N,
    UNIT_X: _,
    UNIT_Y: y,
    UNIT_Z: w,
    ZEROS: f,
    clone: t,
    create: n,
    createView: e,
    fromValues: r,
    ones: o,
    unitW: i,
    unitX: u,
    unitY: s,
    unitZ: c,
    zeros: a
  }, Symbol.toStringTag, {
    value: "Module"
  }));


/***/ }),

/***/ 48237:
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "computeTranslationToOriginAndRotation": () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ 93142);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _localRotationUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./localRotationUtils.js */ 52182);
/* harmony import */ var _projectors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./projectors.js */ 81616);
/* harmony import */ var _support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../support/spatialReferenceUtils.js */ 53492);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






function L(r, n, L, m) {
  if (null == r || null == m) return !1;
  const p = (0,_projectors_js__WEBPACK_IMPORTED_MODULE_4__.classifySpatialReference)(r, _projectors_js__WEBPACK_IMPORTED_MODULE_4__.sourceClassificationCache),
    P = (0,_projectors_js__WEBPACK_IMPORTED_MODULE_4__.classifySpatialReference)(m, _projectors_js__WEBPACK_IMPORTED_MODULE_4__.destClassificationCache);
  if (p === P && !_(P) && (p !== _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.UNKNOWN || (0,_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.equals)(r, m))) return (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.d)(L, n), !0;
  if (_(P)) {
    const r = _projectors_js__WEBPACK_IMPORTED_MODULE_4__.projectionTable[p][_projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.LON_LAT],
      t = _projectors_js__WEBPACK_IMPORTED_MODULE_4__.projectionTable[_projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.LON_LAT][P];
    return null != r && null != t && (r(n, 0, e, 0), t(e, 0, f, 0), (0,_localRotationUtils_js__WEBPACK_IMPORTED_MODULE_3__.computeENUToSphericalPCPFLocalRotation)(c * e[0], c * e[1], L), L[12] = f[0], L[13] = f[1], L[14] = f[2], !0);
  }
  if ((P === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.WEB_MERCATOR || P === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.PLATE_CARREE) && (p === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.WGS84 || p === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.CGCS2000 && P === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.PLATE_CARREE || p === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.SPHERICAL_ECEF || p === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.WEB_MERCATOR)) {
    const r = _projectors_js__WEBPACK_IMPORTED_MODULE_4__.projectionTable[p][_projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.LON_LAT],
      t = _projectors_js__WEBPACK_IMPORTED_MODULE_4__.projectionTable[_projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.LON_LAT][P];
    return null != r && null != t && (r(n, 0, e, 0), t(e, 0, f, 0), p === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.SPHERICAL_ECEF ? (0,_localRotationUtils_js__WEBPACK_IMPORTED_MODULE_3__.computeSphericalPCPFToENULocalRotation)(c * e[0], c * e[1], L) : (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.g)(L), L[12] = f[0], L[13] = f[1], L[14] = f[2], !0);
  }
  return !1;
}
function _(r) {
  return r === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.SPHERICAL_ECEF || r === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.SPHERICAL_MARS_PCPF || r === _projectors_js__WEBPACK_IMPORTED_MODULE_4__.ProjectionID.SPHERICAL_MOON_PCPF;
}
const c = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(1),
  e = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  f = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();


/***/ }),

/***/ 52182:
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/projection/localRotationUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "computeENUToSphericalPCPFLocalRotation": () => (/* binding */ n),
/* harmony export */   "computeSphericalPCPFToENULocalRotation": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/mat4.js */ 64544);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

function n(t, n, o) {
  const s = Math.sin(t),
    r = Math.cos(t),
    a = Math.sin(n),
    c = Math.cos(n),
    h = o;
  return h[0] = -s, h[4] = -a * r, h[8] = c * r, h[12] = 0, h[1] = r, h[5] = -a * s, h[9] = c * s, h[13] = 0, h[2] = 0, h[6] = c, h[10] = a, h[14] = 0, h[3] = 0, h[7] = 0, h[11] = 0, h[15] = 1, h;
}
function o(o, s, r) {
  return n(o, s, r), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.t)(r, r), r;
}


/***/ }),

/***/ 29200:
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "angle": () => (/* binding */ x),
/* harmony export */   "angleRad": () => (/* binding */ w),
/* harmony export */   "axis": () => (/* binding */ l),
/* harmony export */   "compose": () => (/* binding */ U),
/* harmony export */   "composeAxes": () => (/* binding */ g),
/* harmony export */   "copy": () => (/* binding */ b),
/* harmony export */   "create": () => (/* binding */ h),
/* harmony export */   "fromAxisAndAngle": () => (/* binding */ q),
/* harmony export */   "fromPoints": () => (/* binding */ v),
/* harmony export */   "fromValues": () => (/* binding */ d),
/* harmony export */   "setAngle": () => (/* binding */ y),
/* harmony export */   "up": () => (/* binding */ z),
/* harmony export */   "wrap": () => (/* binding */ j),
/* harmony export */   "wrapAxisAngle": () => (/* binding */ k)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ 93142);
/* harmony import */ var _chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/quat.js */ 50894);
/* harmony import */ var _chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/quatf64.js */ 29042);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ 77765);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





function h(n = z) {
  return [n[0], n[1], n[2], n[3]];
}
function j(n, r, t, u) {
  return d(n, r, t, u, C);
}
function k(n, r) {
  return d(n[0], n[1], n[2], r, C);
}
function b(n, r = h()) {
  return d(n[0], n[1], n[2], n[3], r);
}
function d(n, r, t, u, o = h()) {
  return o[0] = n, o[1] = r, o[2] = t, o[3] = u, o;
}
function q(n, r, t = h()) {
  return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(l(t), n), t[3] = r, t;
}
function v(n, r, t = h()) {
  return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)(t, n, r), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(t, t), t[3] = -(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.d)(n, r), t;
}
function U(r, s, c = h()) {
  return (0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__.s)(A, l(r), w(r)), (0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__.s)(B, l(s), w(s)), (0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__.m)(A, B, A), y(c, (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.rad2deg)((0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__.g)(l(c), A)));
}
function g(n, r, t, u = h()) {
  return q(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.U, n, D), q(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.b, r, E), q(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.d, t, F), U(D, E, D), U(D, F, u), u;
}
function l(n) {
  return n;
}
function x(n) {
  return n[3];
}
function w(n) {
  return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(n[3]);
}
function y(n, r) {
  return n[3] = r, n;
}
const z = [0, 0, 1, 0],
  A = (0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),
  B = (0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),
  C = h(),
  D = h(),
  E = h(),
  F = h();


/***/ }),

/***/ 84983:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Manipulator3D": () => (/* binding */ $)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ 6010);
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/compilerUtils.js */ 31385);
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Evented.js */ 95442);
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/handleUtils.js */ 70120);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/mathUtils.js */ 93142);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/maybe.js */ 53661);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/screenUtils.js */ 55798);
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../chunks/mat3.js */ 38974);
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../chunks/mat3f64.js */ 53251);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../chunks/vec2.js */ 80775);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/ellipsoidUtils.js */ 64004);
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/projection.js */ 89487);
/* harmony import */ var _geometry_projection_localRotationUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/projection/localRotationUtils.js */ 52182);
/* harmony import */ var _geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/projection/projectors.js */ 81616);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/support/lineSegment.js */ 19511);
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/support/plane.js */ 45903);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../geometry/support/ray.js */ 32684);
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../geometry/support/vectorStacks.js */ 73130);
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../layers/graphics/hydratedFeatures.js */ 52570);
/* harmony import */ var _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../support/ElevationProvider.js */ 72603);
/* harmony import */ var _support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../support/geometryUtils/ray.js */ 23954);
/* harmony import */ var _webgl_engine_lib_Camera_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../webgl-engine/lib/Camera.js */ 39695);
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../webgl-engine/lib/Object3D.js */ 80576);
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ 17821);
/* harmony import */ var _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../webgl-engine/lib/WebGLLayer.js */ 9014);
/* harmony import */ var _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../interactive/interfaces.js */ 89088);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../geometry/Point.js */ 72062);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
































class $ {
  constructor(e) {
    this.metadata = void 0, this._camera = new _webgl_engine_lib_Camera_js__WEBPACK_IMPORTED_MODULE_26__.Camera(), this._elevation = {
      offset: 0,
      override: null
    }, this.collisionType = {
      type: "point"
    }, this.collisionPriority = 0, this._renderObjects = new Array(), this.autoScaleRenderObjects = !0, this._available = !0, this._noDisplayCount = 0, this._radius = 10, this._worldSized = !1, this.focusMultiplier = 2, this.touchMultiplier = 2.5, this.worldOriented = !1, this._modelTransform = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.a)(), this._worldFrame = null, this._renderLocation = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.c)(), this._renderLocationDirty = !0, this._location = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_31__["default"]({
      x: 0,
      y: 0,
      z: 0
    }), this._elevationAlignedLocation = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_31__["default"](), this._elevationAlignedLocationDirty = !0, this.interactive = !0, this.selectable = !1, this.grabbable = !0, this.consumesClicks = !0, this.cursor = null, this.grabCursor = null, this._grabbing = !1, this.dragging = !1, this._hovering = !1, this._selected = !1, this._state = _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateCustomFlags.None, this._focused = !1, this.events = new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventEmitter(), this._screenLocation = {
      screenPointArray: (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__.createScreenPointArray)(),
      renderScreenPointArray: (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__.createRenderScreenPointArray3)(),
      pixelSize: 0
    }, this._screenLocationDirty = !0, this._engineResourcesAddedToStage = !1, this._attached = !1, this._location.spatialReference = e.view.spatialReference, Object.assign(this, e);
    const i = this.view.state?.camera;
    i && this._camera.copyFrom(i);
  }
  destroy() {
    this._applyObjectTransform = fe, this._removeResourcesFromStage(), this._engineResources = null, this.view = null, this._camera = null;
  }
  get _stage() {
    return this.view?._stage;
  }
  get elevationInfo() {
    return this._elevationInfo;
  }
  set elevationInfo(e) {
    this._elevationInfo = e, this._elevationAlignedLocationDirty = !0, this._renderLocationDirty = !0, this._updateEngineObject();
  }
  get renderObjects() {
    return this._renderObjects;
  }
  set renderObjects(e) {
    this._removeResourcesFromStage(), this._engineResources = null, this._renderObjects = e.slice(), this._updateEngineObject();
  }
  set available(e) {
    e !== this._available && (this._available = e, this._updateEngineObject());
  }
  get available() {
    return this._available;
  }
  disableDisplay() {
    return this._noDisplayCount++, 1 === this._noDisplayCount && this._updateEngineObject(), (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__.makeHandle)(() => {
      this._noDisplayCount--, 0 === this._noDisplayCount && this._updateEngineObject();
    });
  }
  set radius(e) {
    e !== this._radius && (this._radius = e, this._updateEngineObject());
  }
  get radius() {
    return this._radius;
  }
  set worldSized(e) {
    e !== this._worldSized && (this._worldSized = e, this._updateEngineObject());
  }
  get worldSized() {
    return this._worldSized;
  }
  get modelTransform() {
    return this._modelTransform;
  }
  set modelTransform(e) {
    ee(e) && (this._screenLocationDirty = !0), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__.h)(this._modelTransform, e), this._updateEngineObject();
  }
  get renderLocation() {
    return this._renderLocationDirty && (this._renderLocationDirty = !1, this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation, this._renderLocation), this.worldOriented ? (this._worldFrame || (this._worldFrame = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.a)()), te(this.view, this._renderLocation, this._worldFrame)) : this._worldFrame && (this._worldFrame = null)), this._renderLocation;
  }
  set renderLocation(e) {
    this.view.renderCoordsHelper.fromRenderCoords(e, this._location), this.elevationAlignedLocation = this._location;
  }
  get location() {
    return this._location;
  }
  set location(e) {
    (0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_23__.clonePoint)(e, this._location), this._notifyLocationChanged();
  }
  _notifyLocationChanged() {
    this._renderLocationDirty = !0, this._screenLocationDirty = !0, this._elevationAlignedLocationDirty = !0, this._updateEngineObject(), this.events.emit("location-update", {
      location: this._location
    });
  }
  get elevationAlignedLocation() {
    return this._elevationAlignedLocationDirty ? (this._evaluateElevationAlignment(), this._updateElevationAlignedLocation(), this._elevationAlignedLocation) : this._elevationAlignedLocation;
  }
  set elevationAlignedLocation(e) {
    (0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_23__.clonePoint)(e, this._location), this._evaluateElevationAlignment(), this._location.z -= this._elevation.offset, this._updateElevationAlignedLocation(), this._updateEngineObject(), this.events.emit("location-update", {
      location: this._location
    });
  }
  _updateElevationAlignedLocation() {
    const e = null != this._elevation.override ? this._elevation.override : this.location.z || 0;
    this._elevationAlignedLocation.x = this.location.x, this._elevationAlignedLocation.y = this.location.y, this._elevationAlignedLocation.z = e + this._elevation.offset, this._elevationAlignedLocation.spatialReference = (0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_23__.hydratedSpatialReference)(this.location.spatialReference), this._renderLocationDirty = !0, this._screenLocationDirty = !0, this._elevationAlignedLocationDirty = !1;
  }
  grabbableForEvent() {
    return !0;
  }
  get grabbing() {
    return this._grabbing;
  }
  set grabbing(e) {
    e !== this._grabbing && (this._grabbing = e, this._setFocused(this._hovering || this._grabbing), this._updateEngineObject());
  }
  get hovering() {
    return this._hovering;
  }
  set hovering(e) {
    e !== this._hovering && (this._hovering = e, this._setFocused(this._hovering || this._grabbing), this._updateEngineObject());
  }
  get selected() {
    return this._selected;
  }
  set selected(e) {
    e !== this._selected && (this._selected = e, this._updateEngineObject(), this.events.emit("select-changed", {
      action: e ? "select" : "deselect"
    }));
  }
  get state() {
    return this._state;
  }
  set state(e) {
    e !== this._state && (this._state = e, this._updateEngineObject());
  }
  updateStateEnabled(e, t) {
    t ? this.state |= e : this.state &= ~e;
  }
  _setFocused(e) {
    e !== this._focused && (this._focused = e, this.events.emit("focus-changed", {
      action: !0 === e ? "focus" : "unfocus"
    }));
  }
  get focused() {
    return this._focused;
  }
  get screenLocation() {
    return this._ensureScreenLocation(), this._screenLocation;
  }
  _ensureScreenLocation() {
    if (!this._screenLocationDirty) return;
    this._screenLocation.pixelSize = this._camera.computeScreenPixelSizeAt(this.renderLocation), this._screenLocationDirty = !1;
    let e;
    if (ee(this._modelTransform)) {
      const t = this._calculateModelTransformOffset(ge);
      e = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.g)(t, t, this.renderLocation);
    } else e = this.renderLocation;
    this._camera.projectToRenderScreen(e, this._screenLocation.renderScreenPointArray), this._camera.renderToScreen(this._screenLocation.renderScreenPointArray, this._screenLocation.screenPointArray);
  }
  get applyObjectTransform() {
    return this._applyObjectTransform;
  }
  set applyObjectTransform(e) {
    this._applyObjectTransform = e, this._screenLocationDirty = !0, this._updateEngineObject();
  }
  get attached() {
    return this._attached;
  }
  intersectionDistance(t, i) {
    if (!this.available) return null;
    const s = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__.screenPointObjectToArray)(t, ie),
      o = this._getCollisionRadius(i),
      n = -1 * this.collisionPriority;
    switch (this.collisionType.type) {
      case "point":
        if ((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_11__.k)(this.screenLocation.screenPointArray, s) < o * o) return this.screenLocation.renderScreenPointArray[2] + n;
        break;
      case "line":
        {
          const e = this.collisionType.paths,
            t = this._getWorldToScreenObjectScale(),
            i = this._calculateObjectTransform(t, ae),
            r = o * this.screenLocation.pixelSize,
            a = (0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_25__.fromScreen)(this._camera, s, oe);
          if (null == a) return null;
          for (const s of e) {
            if (0 === s.length) continue;
            const e = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.e)(le, s[0], i);
            for (let t = 1; t < s.length; t++) {
              const o = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.e)(he, s[t], i),
                l = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_19__.closestRayDistance2)((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_19__.fromPoints)(e, o, se), a);
              if (null != l && l < r * r) {
                const t = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.g)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_22__.sv3d.get(), e, o);
                (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.i)(t, t, .5);
                const i = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__.castRenderScreenPointArray)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_22__.sv3d.get());
                return this._camera.projectToRenderScreen(t, i), i[2] + n;
              }
              (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.c)(e, o);
            }
          }
          break;
        }
      case "disc":
        {
          const e = this.collisionType.direction,
            t = this.collisionType.offset ?? _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.Z,
            i = this._getWorldToScreenObjectScale(),
            r = this._calculateObjectTransform(i, ae),
            a = o * this.screenLocation.pixelSize,
            c = (0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_25__.fromScreen)(this._camera, s, oe);
          if (null == c) return null;
          const h = (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_7__.f)(ne, r),
            d = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.t)(_e, e, h),
            _ = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.e)(ue, t, r);
          (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__.fromPositionAndNormal)(_, d, ce);
          const u = de;
          if ((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__.intersectRay)(ce, c, u) && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.a)(u, _) < a * a) return this.screenLocation.renderScreenPointArray[2] + n;
          break;
        }
      case "ribbon":
        {
          const {
              paths: e,
              direction: t
            } = this.collisionType,
            i = this._getWorldToScreenObjectScale(),
            r = this._calculateObjectTransform(i, ae),
            a = o * this._camera.computeScreenPixelSizeAt(this.renderLocation),
            h = (0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_25__.fromScreen)(this._camera, s, oe);
          if (null == h) return null;
          const d = (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_7__.f)(ne, r),
            _ = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.t)(_e, t, d),
            u = this._calculateModelTransformPosition(ue);
          (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__.fromPositionAndNormal)(u, _, ce);
          const g = de;
          if (!(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__.intersectRay)(ce, h, g)) break;
          for (const s of e) {
            if (0 === s.length) continue;
            const e = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.e)(le, s[0], r);
            for (let t = 1; t < s.length; t++) {
              const i = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.e)(he, s[t], r),
                o = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_19__.distance2)((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_19__.fromPoints)(e, i, se), g);
              if (null != o && o < a * a) {
                const t = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.g)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_22__.sv3d.get(), e, i);
                (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.i)(t, t, .5);
                const s = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__.castRenderScreenPointArray)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_22__.sv3d.get());
                return this._camera.projectToRenderScreen(t, s), s[2] + n;
              }
              (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.c)(e, i);
            }
          }
          break;
        }
      default:
        (0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.neverReached)(this.collisionType);
    }
    return null;
  }
  attach(e = {
    manipulator3D: {}
  }) {
    const t = this._stage;
    if (!t) return;
    const i = e.manipulator3D;
    null == i.engineLayerId ? (this._engineLayer = new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_29__.WebGLLayer(t, {
      pickable: !1,
      updatePolicy: _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_28__.UpdatePolicy.SYNC
    }), i.engineLayerId = this._engineLayer.id) : t?.getObject && (this._engineLayer = t.getObject(i.engineLayerId)), i.engineLayerReferences = (i.engineLayerReferences || 0) + 1, this._materialIdReferences = i.materialIdReferences, null == this._materialIdReferences && (this._materialIdReferences = new Map(), i.materialIdReferences = this._materialIdReferences), this._camera.copyFrom(this.view.state.camera), this._attached = !0, this._updateEngineObject(), (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.canProjectWithoutEngine)(this._location.spatialReference, this.view.spatialReference) || (this.location = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_31__["default"]({
      x: 0,
      y: 0,
      z: 0,
      spatialReference: this.view.spatialReference
    }));
  }
  detach(e = {
    manipulator3D: {}
  }) {
    const t = e.manipulator3D;
    t.engineLayerReferences--;
    const i = 0 === t.engineLayerReferences;
    this._removeResourcesFromStage(), i && (t.engineLayerId = null, (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._engineLayer)), this._engineResources = null, this._engineLayer = null, this._materialIdReferences = null, this._attached = !1;
  }
  onViewChange() {
    this._camera.copyFrom(this.view.state.camera), this._screenLocationDirty = !0, this._updateEngineObject();
  }
  onElevationChange(e) {
    (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectPoint)(this.location, me, e.spatialReference) && (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_18__.containsPointObject)(e.extent, me) && this._notifyLocationChanged();
  }
  _evaluateElevationAlignment() {
    if (null == this.elevationInfo) return;
    let e = null,
      t = 0;
    const i = this.elevationInfo.offset ?? 0;
    switch (this.elevationInfo.mode) {
      case "on-the-ground":
        e = (0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_24__.getElevationAtPoint)(this.view.elevationProvider, this.location, "ground") ?? 0;
        break;
      case "relative-to-ground":
        t = ((0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_24__.getElevationAtPoint)(this.view.elevationProvider, this.location, "ground") ?? 0) + i;
        break;
      case "relative-to-scene":
        t = ((0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_24__.getElevationAtPoint)(this.view.elevationProvider, this.location, "scene") ?? 0) + i;
        break;
      case "absolute-height":
        t = i;
    }
    return t !== this._elevation.offset || e !== this._elevation.override ? (this._elevation.offset = t, void (this._elevation.override = e)) : void 0;
  }
  _updateEngineObject() {
    if (!this._attached) return;
    if (!this.available) return void this._removeResourcesFromStage();
    const e = this._getWorldToScreenObjectScale(),
      t = ae;
    if (!0 === this.autoScaleRenderObjects) {
      const i = this._getFocusedSize(this._radius, this.focused) * e;
      this._calculateObjectTransform(i, t);
    } else this._calculateObjectTransform(e, t);
    const {
        objectsByState: i
      } = this._ensureEngineResources(),
      s = (this.focused ? _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateFlags.Focused : _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateFlags.Unfocused) | (this.selected ? _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateFlags.Selected : _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateFlags.Unselected),
      o = this._noDisplayCount > 0;
    for (const {
      stateMask: n,
      objects: r
    } of i) {
      if (o) {
        for (const e of r) e.visible = !1;
        continue;
      }
      const e = (n & _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateFlags.All) !== _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateFlags.None,
        i = (n & _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateCustomFlags.All) !== _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateCustomFlags.None,
        a = !e || (s & n) == (n & _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateFlags.All),
        c = !i || (this.state & n) == (n & _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_30__.ManipulatorStateCustomFlags.All);
      if (a && c) for (const s of r) s.visible = !0, s.transformation = t;else for (const t of r) t.visible = !1;
    }
  }
  _ensureEngineResources() {
    if (null == this._engineResources) {
      const e = this._engineLayer,
        t = [],
        i = new Set();
      this.renderObjects.forEach(({
        geometry: {
          material: e
        }
      }) => {
        i.has(e) || (t.push(e), i.add(e));
      });
      const s = new Map();
      this._renderObjects.forEach(e => {
        const t = new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_27__.Object3D({
            castShadow: !1,
            geometries: [e.geometry]
          }),
          i = s.get(e.stateMask) || [];
        i.push(t), s.set(e.stateMask, i);
      });
      const o = [];
      s.forEach((e, t) => o.push({
        stateMask: t,
        objects: e
      })), this._engineResources = {
        objectsByState: o,
        layer: e,
        materials: t
      };
    }
    return this._addResourcesToStage(), this._engineResources;
  }
  _addResourcesToStage() {
    const e = this._stage;
    if (this._engineResourcesAddedToStage || null == this._engineResources || !e) return;
    const {
      objectsByState: t,
      layer: i,
      materials: s
    } = this._engineResources;
    s.forEach(t => {
      const i = this._materialIdReferences,
        s = i.get(t.id) || 0;
      0 === s && e.add(t), i.set(t.id, s + 1);
    }), t.forEach(({
      objects: t
    }) => {
      i.addMany(t), e.addMany(t);
    }), this._engineResourcesAddedToStage = !0;
  }
  _removeResourcesFromStage() {
    const e = this._stage;
    if (!this._engineResourcesAddedToStage || null == this._engineResources || !e) return;
    const {
      objectsByState: t,
      layer: i,
      materials: s
    } = this._engineResources;
    t.forEach(({
      objects: t
    }) => {
      i.removeMany(t), e.removeMany(t);
    }), s.forEach(t => {
      const i = this._materialIdReferences,
        s = i.get(t.id);
      1 === s ? (e.remove(t), i.delete(t.id)) : i.set(t.id, s - 1);
    }), this._engineResourcesAddedToStage = !1;
  }
  _getCollisionRadius(e) {
    return this._getFocusedSize(this.radius, !0) * ("touch" === e ? this.touchMultiplier : 1);
  }
  _getFocusedSize(e, t) {
    return e * (t ? this.focusMultiplier : 1);
  }
  _getWorldToScreenObjectScale() {
    return this._worldSized ? 1 : this.screenLocation.pixelSize;
  }
  _calculateModelTransformPosition(e) {
    const t = this._getWorldToScreenObjectScale(),
      i = this._calculateObjectTransform(t, re);
    return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.s)(e, i[12], i[13], i[14]);
  }
  _calculateModelTransformOffset(e) {
    const t = this._calculateModelTransformPosition(e);
    return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.f)(e, t, this.renderLocation);
  }
  _calculateObjectTransform(e, t) {
    return (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__.s)(t, e, 0, 0, 0, 0, e, 0, 0, 0, 0, e, 0, 0, 0, 0, 1), this._worldFrame && (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__.m)(t, t, this._worldFrame), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__.m)(t, t, this._modelTransform), t[12] += this.renderLocation[0], t[13] += this.renderLocation[1], t[14] += this.renderLocation[2], t[15] = 1, null != this._applyObjectTransform && this._applyObjectTransform(t), t;
  }
  get test() {
    let e = !1;
    if (null != this._engineResources) for (const t of this._engineResources.objectsByState) {
      for (const i of t.objects) if (i.visible) {
        e = !0;
        break;
      }
      if (e) break;
    }
    return {
      areAnyResourcesVisible: e
    };
  }
}
function ee(e) {
  return 0 !== e[12] || 0 !== e[13] || 0 !== e[14];
}
function te(e, t, i) {
  switch (e.viewingMode) {
    case "local":
      return (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__.g)(i), !0;
    case "global":
      {
        const o = (0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_14__.getReferenceEllipsoid)(e.renderCoordsHelper.spatialReference);
        return (0,_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_17__.sphericalPCPFtoLonLatElevation)(t, 0, le, 0, o.radius), (0,_geometry_projection_localRotationUtils_js__WEBPACK_IMPORTED_MODULE_16__.computeENUToSphericalPCPFLocalRotation)((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__.deg2rad)(le[0]), (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__.deg2rad)(le[1]), i), !0;
      }
  }
}
const ie = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__.createScreenPointArray)(),
  se = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_19__.create)(),
  oe = (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_21__.create)(),
  ne = (0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_8__.a)(),
  re = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.a)(),
  ae = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.a)(),
  ce = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__.create)(),
  le = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.c)(),
  he = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.c)(),
  de = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.c)(),
  _e = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.c)(),
  ue = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.c)(),
  ge = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.c)(),
  me = new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_31__["default"]({
    x: 0,
    y: 0,
    z: 0,
    spatialReference: null
  }),
  fe = () => {};


/***/ }),

/***/ 37716:
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/RenderObject.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RenderObject": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../interactive/interfaces.js */ 89088);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class e {
  constructor(e, s = _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.ManipulatorStateFlags.None) {
    this.geometry = e, this.stateMask = s;
  }
}


/***/ }),

/***/ 214:
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SnappingVisualizer3D": () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Color.js */ 25764);
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/colorUtils.js */ 44660);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/handleUtils.js */ 70120);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToVector.js */ 26849);
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ 64316);
/* harmony import */ var _visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./visualElements/ExtendedLineVisualElement.js */ 91956);
/* harmony import */ var _visualElements_ParallelLineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./visualElements/ParallelLineVisualElement.js */ 59256);
/* harmony import */ var _visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./visualElements/PointVisualElement.js */ 44817);
/* harmony import */ var _visualElements_RightAngleQuadVisualElement_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./visualElements/RightAngleQuadVisualElement.js */ 60720);
/* harmony import */ var _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../layers/interfaces.js */ 73976);
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../webgl-engine/lib/Material.js */ 32051);
/* harmony import */ var _interactive_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../interactive/sketch/normalizedPoint.js */ 88268);
/* harmony import */ var _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../interactive/snapping/Settings.js */ 87750);
/* harmony import */ var _interactive_snapping_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../interactive/snapping/SnappingDomain.js */ 76329);
/* harmony import */ var _interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../interactive/snapping/snappingUtils.js */ 72189);
/* harmony import */ var _interactive_snapping_SnappingVisualizer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../interactive/snapping/SnappingVisualizer.js */ 91522);
/* harmony import */ var _interactive_snapping_hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../interactive/snapping/hints/LineSnappingHint.js */ 4079);
/* harmony import */ var _interactive_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../interactive/support/viewUtils.js */ 98529);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





















class O extends _interactive_snapping_SnappingVisualizer_js__WEBPACK_IMPORTED_MODULE_18__.SnappingVisualizer {
  sortUniqueHints(e) {
    return e.sort((e, n) => (n instanceof _interactive_snapping_hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_19__.LineSnappingHint ? n.length : 0) - (e instanceof _interactive_snapping_hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_19__.LineSnappingHint ? e.length : 0));
  }
  visualizeIntersectionPoint(e, n) {
    const {
        spatialReference: t,
        view: r
      } = n,
      o = D(n);
    return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__.destroyHandle)(new _visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_10__.PointVisualElement({
      view: r,
      primitive: "circle",
      geometry: (0,_interactive_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_14__.toDehydratedPoint)(e.intersectionPoint, t),
      elevationInfo: e.isDraped ? _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_7__.onTheGroundElevationInfo : _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_7__.absoluteHeightElevationInfo,
      size: 20,
      outlineSize: 2,
      color: o.intersectionPointColor,
      outlineColor: o.intersectionPointOutlineColor,
      pixelSnappingEnabled: !1,
      isDecoration: !0,
      attached: !0
    }));
  }
  visualizePoint(e, n) {
    const {
        view: t,
        spatialReference: r
      } = n,
      o = D(n),
      a = R(e.point, e.domain, n);
    return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__.destroyHandle)(new _visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_10__.PointVisualElement({
      view: t,
      primitive: "circle",
      geometry: (0,_interactive_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_14__.toDehydratedPoint)(a, r),
      elevationInfo: A(e, n),
      size: 20,
      outlineSize: 2,
      color: o.pointColor,
      outlineColor: o.pointOutlineColor,
      pixelSnappingEnabled: !1,
      isDecoration: !0,
      attached: !0
    }));
  }
  visualizeLine(e, n) {
    const {
        view: t,
        spatialReference: r
      } = n,
      o = D(n),
      a = R(e.lineStart, e.domain, n),
      l = R(e.lineEnd, e.domain, n);
    return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__.destroyHandle)(this._createLineSegmentHint(e.type, a, l, r, A(e, n), t, o, e.isDraped, e.fadeLeft, e.fadeRight));
  }
  visualizeParallelSign(e, n) {
    const {
        view: r,
        spatialReference: o
      } = n,
      a = D(n),
      {
        isDraped: l
      } = e,
      s = A(e, n),
      p = R(e.lineStart, e.domain, n),
      d = R(e.lineEnd, e.domain, n),
      u = x(p, o, s, r, l),
      g = x(d, o, s, r, l),
      v = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.p)(g, u, g, .5),
      E = new _visualElements_ParallelLineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__.ParallelLineVisualElement({
        view: r,
        attached: !1,
        offset: _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.parallelLineHintOffset,
        length: _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.parallelLineHintLength,
        width: _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.parallelLineHintWidth,
        color: a.parallelSignColor,
        location: v,
        renderOccluded: l ? _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparent : _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.Opaque,
        isDraped: l,
        renderGroup: _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_12__.DrapedRenderGroup.SnappingHint,
        isDecoration: !0
      });
    return E.setDirectionFromPoints(u, v), E.attached = !0, (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__.destroyHandle)(E);
  }
  visualizeRightAngleQuad(e, n) {
    const {
        view: t,
        spatialReference: r
      } = n,
      o = D(n),
      a = A(e, n),
      {
        isDraped: l
      } = e,
      s = R(e.previousVertex, e.domain, n),
      p = R(e.centerVertex, e.domain, n),
      c = R(e.nextVertex, e.domain, n),
      d = x(s, r, a, t, l),
      g = x(p, r, a, t, l),
      v = x(c, r, a, t, l);
    return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__.destroyHandle)(new _visualElements_RightAngleQuadVisualElement_js__WEBPACK_IMPORTED_MODULE_11__.RightAngleQuadVisualElement({
      view: t,
      attached: !0,
      color: l ? o.rightAngleColorDraped : o.rightAngleColor,
      renderOccluded: l ? _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparent : _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.Transparent,
      outlineRenderOccluded: l ? _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparent : _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.Opaque,
      outlineColor: o.rightAngleOutlineColor,
      outlineSize: _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.rightAngleHintOutlineSize,
      size: _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.rightAngleHintSize,
      isDraped: l,
      geometry: {
        previous: d,
        center: g,
        next: v
      },
      renderGroup: _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_12__.DrapedRenderGroup.SnappingHint,
      isDecoration: !0
    }));
  }
  _createLineSegmentHint(e, n, i, t, r, o, a, l = !1, c = !0, d = !0) {
    const u = x(n, t, r, o, l),
      g = x(i, t, r, o, l),
      v = new _visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_8__.ExtendedLineVisualElement({
        view: o,
        extensionType: _visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_8__.ExtensionType.FADED,
        start: u,
        end: g,
        isDraped: l,
        color: a.lineColor,
        renderOccluded: l ? _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparent : _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.Opaque,
        renderGroup: _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_12__.DrapedRenderGroup.SnappingHint,
        isDecoration: !0
      });
    switch (e) {
      case _interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_17__.LineSegmentHintType.TARGET:
        v.width = _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.lineHintWidthTarget, v.fadedExtensions = {
          start: 0,
          end: _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.lineHintFadedExtensions
        };
        break;
      case _interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_17__.LineSegmentHintType.REFERENCE_EXTENSION:
        v.width = _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.lineHintWidthReference, v.fadedExtensions = {
          start: 0,
          end: 0
        };
        break;
      case _interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_17__.LineSegmentHintType.REFERENCE:
        v.width = _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.lineHintWidthReference, v.fadedExtensions = {
          start: c ? _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.lineHintFadedExtensions : 0,
          end: d ? _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_15__.defaults.lineHintFadedExtensions : 0
        };
    }
    return v.attached = !0, v;
  }
}
function D(i) {
  const {
      effectiveTheme: t
    } = i.view,
    r = _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(t.accentColor),
    o = [0, 0, 0, 0];
  return {
    intersectionPointColor: o,
    intersectionPointOutlineColor: r,
    pointColor: o,
    pointOutlineColor: r,
    lineColor: r,
    lineOutlineColor: void 0,
    parallelSignColor: r,
    rightAngleColor: r,
    rightAngleColorDraped: _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA((0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__.multiplyOpacity)(t.accentColor, .5)),
    rightAngleOutlineColor: r
  };
}
function R(e, n, i) {
  const t = H(n, i);
  return null == t ? e : (0,_interactive_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_14__.create)(e[0], e[1], t);
}
function A(e, n) {
  return null != H(e.domain, n) ? n.selfSnappingZ.elevationInfo : e.isDraped ? _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_7__.onTheGroundElevationInfo : _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_7__.absoluteHeightElevationInfo;
}
function H(e, {
  selfSnappingZ: n
}) {
  return e === _interactive_snapping_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_16__.SnappingDomain.SELF && null != n ? n.value : null;
}
function x(e, n, i, t, a, l = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)()) {
  if (a) {
    const i = t.basemapTerrain.overlayManager.renderer.spatialReference;
    (0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_6__.projectVectorToVector)(e, n, l, i);
  } else (0,_interactive_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_20__.vectorToRender)(e, n, i, t, l);
  return l;
}


/***/ }),

/***/ 8369:
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SurfaceType": () => (/* binding */ G),
/* harmony export */   "convertToMapCoordinates": () => (/* binding */ k),
/* harmony export */   "hideManipulatorWhileDragging": () => (/* binding */ A),
/* harmony export */   "projectToWorldUp": () => (/* binding */ h),
/* harmony export */   "screenToMap3D": () => (/* binding */ F),
/* harmony export */   "screenToMapXYAtLocation": () => (/* binding */ T),
/* harmony export */   "screenToMapXYForGraphic": () => (/* binding */ M),
/* harmony export */   "screenToMapXYForGraphicAtLocation": () => (/* binding */ D),
/* harmony export */   "screenToRenderPlane": () => (/* binding */ H),
/* harmony export */   "screenToRenderPlaneFromEvent": () => (/* binding */ U),
/* harmony export */   "screenToZConstrained": () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ 55798);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/projection.js */ 89487);
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ 45903);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ 32684);
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/vector.js */ 84877);
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ 73130);
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ 64316);
/* harmony import */ var _support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../support/geometryUtils/ray.js */ 23954);
/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl-engine/lib/Intersector.js */ 13414);
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ 51813);
/* harmony import */ var _webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/verticalOffsetUtils.js */ 62442);
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../interactive/dragEventPipeline.js */ 39160);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














function H(e, n) {
  return O(e, () => n);
}
function U(e) {
  return O(e, e => e.plane);
}
function O(r, t) {
  const o = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
    l = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();
  let s = !1;
  return c => {
    const u = t(c);
    if ("start" === c.action) {
      const t = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.screenPointObjectToArray)(c.screenStart, (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.castScreenPointArray)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv2d.get())),
        l = (0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_9__.fromScreen)(r.state.camera, t, B);
      null != l && (s = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_4__.intersectRay)(u, l, o));
    }
    if (!s) return null;
    const i = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.screenPointObjectToArray)(c.screenEnd, (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.castScreenPointArray)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv2d.get())),
      a = (0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_9__.fromScreen)(r.state.camera, i, B);
    return null == a ? null : (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_4__.intersectRay)(u, a, l) ? {
      ...c,
      renderStart: o,
      renderEnd: l,
      plane: u,
      ray: a
    } : null;
  };
}
function C(e, n, t = 0, o = null, l = null) {
  let s = null;
  return c => {
    if ("start" === c.action && (s = e.sceneIntersectionHelper.intersectElevationFromScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createScreenPointArray)(c.screenStart.x, c.screenStart.y), n, t, l), null != s && null != o && !(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_3__.projectPoint)(s, s, o))) return null;
    if (null == s) return null;
    const u = e.sceneIntersectionHelper.intersectElevationFromScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createScreenPointArray)(c.screenEnd.x, c.screenEnd.y), n, t, l);
    return null != u && (null == o || (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_3__.projectPoint)(u, u, o)) ? {
      ...c,
      mapStart: s,
      mapEnd: u
    } : null;
  };
}
function T(e, n, r, t = null, o = null) {
  return C(e, r, (0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__.getZForElevationMode)(n, e, r), t, o);
}
function D(e, n, r, t = null, o = null) {
  return T(e, r, (0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__.getGraphicEffectiveElevationInfo)(n), t, o);
}
function M(e, n, r, t) {
  const o = n.toMap(e.screenStart, {
    include: [r]
  });
  return null != o ? D(n, r, o, t) : null;
}
function N(e, n) {
  const r = q,
    t = z,
    o = (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_4__.create)();
  e.renderCoordsHelper.worldUpAtPosition(n, r);
  const c = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.b)(o, r, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(t, n, e.state.camera.eye));
  return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.b)(c, c, r), (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_4__.fromPositionAndNormal)(n, c, o);
}
function P(e, n, r) {
  let t = null;
  const o = new _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_13__.EventPipeline();
  return o.next(H(e, N(e, n))).next(h(e, n)).next(k(e, r)).next(e => {
    e.mapEnd.x = e.mapStart.x, e.mapEnd.y = e.mapStart.y, t = e;
  }), e => (t = null, o.execute(e), t);
}
function h(e, n) {
  const r = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
    l = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.l)(n);
  e.renderCoordsHelper.worldUpAtPosition(n, r);
  const p = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
    d = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
    m = o => {
      if ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(o, o, n), (0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_6__.projectPoint)(r, o, o), "global" === e.viewingMode) {
        (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.l)(o) * Math.sign((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)(r, o)) < .001 - l && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(o, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.i)(o, r, .001), n);
      }
      return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.g)(o, o, n), o;
    };
  return e => (e.renderStart = m((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(p, e.renderStart)), e.renderEnd = m((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(d, e.renderEnd)), e);
}
function k(e, n) {
  const r = e.renderCoordsHelper;
  return e => {
    const t = r.fromRenderCoords(e.renderStart, n),
      o = r.fromRenderCoords(e.renderEnd, n);
    return null != t && null != o ? {
      ...e,
      mapStart: t,
      mapEnd: o
    } : null;
  };
}
var G;
function A(e) {
  let n = null;
  return r => {
    switch (r.action) {
      case "start":
        n = e.disableDisplay();
        break;
      case "end":
      case "cancel":
        null != n && (n.remove(), n = null);
    }
    return r;
  };
}
function F(n, t = null) {
  const o = (0,_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_10__.newIntersector)(n.state.viewingMode);
  o.options.selectionMode = !0, o.options.store = _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_11__.StoreResults.MIN, o.options.hud = !1;
  const l = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createScreenPointArray)(),
    s = {
      requiresGroundFeedback: !0,
      enableDraped: !0,
      exclude: new Set()
    },
    c = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
    u = t ?? n.spatialReference,
    i = r => {
      n.map.ground && n.map.ground.opacity < 1 ? s.exclude.add(_webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_12__.terrainId) : s.exclude.delete(_webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_12__.terrainId), n.sceneIntersectionHelper.intersectIntersectorScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.screenPointObjectToArray)(r, l), o, s);
      const t = o.results.min;
      let i;
      if (t.getIntersectionPoint(c)) i = t.intersector === _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_11__.IntersectorType.TERRAIN ? G.GROUND : G.OTHER;else {
        if (!o.results.ground.getIntersectionPoint(c)) return null;
        i = G.GROUND;
      }
      return {
        location: n.renderCoordsHelper.fromRenderCoords(c, u),
        surfaceType: i
      };
    };
  let p;
  return e => {
    if ("start" === e.action) {
      const n = i(e.screenStart);
      p = null != n ? n.location : null;
    }
    if (null == p) return null;
    const n = i(e.screenEnd);
    return null != n?.location ? {
      ...e,
      mapStart: p,
      mapEnd: n.location,
      surfaceType: n.surfaceType
    } : null;
  };
}
!function (e) {
  e[e.GROUND = 0] = "GROUND", e[e.OTHER = 1] = "OTHER";
}(G || (G = {}));
const q = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  z = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  B = (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_5__.create)();


/***/ }),

/***/ 75787:
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "calculateInputRotationTransform": () => (/* binding */ F),
/* harmony export */   "calculateTranslateRotateFromBases": () => (/* binding */ M),
/* harmony export */   "createManipulatorMaterial": () => (/* binding */ w),
/* harmony export */   "createManipulatorOutlineMaterial": () => (/* binding */ b),
/* harmony export */   "createSphereManipulator": () => (/* binding */ y),
/* harmony export */   "getGraphicAttachmentOrigin": () => (/* binding */ k),
/* harmony export */   "placeAtGraphic": () => (/* binding */ v),
/* harmony export */   "rotateManipulatorDefaults": () => (/* binding */ O),
/* harmony export */   "worldScaledManipulatorSettings": () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/colorUtils.js */ 44660);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/vec3.js */ 92950);
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/vectorStacks.js */ 73130);
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../layers/graphics/hydratedFeatures.js */ 52570);
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Manipulator3D.js */ 84983);
/* harmony import */ var _RenderObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RenderObject.js */ 37716);
/* harmony import */ var _layers_graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layers/graphics/graphicUtils.js */ 67713);
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../webgl-engine/lib/basicInterfaces.js */ 2754);
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../webgl-engine/lib/GeometryUtil.js */ 25426);
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../webgl-engine/lib/Material.js */ 32051);
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../webgl-engine/materials/ColorMaterial.js */ 20600);
/* harmony import */ var _webgl_engine_materials_ShadedColorMaterial_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../webgl-engine/materials/ShadedColorMaterial.js */ 79086);
/* harmony import */ var _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../interactive/interfaces.js */ 89088);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














function w(t, r = _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_10__.RenderOccludedFlag.OccludeAndTransparent, n = !0) {
  const o = (0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_0__.colorVectorToColorAndOpacity)(t),
    c = !(t[3] < 1);
  return n ? new _webgl_engine_materials_ShadedColorMaterial_js__WEBPACK_IMPORTED_MODULE_12__.ShadedColorMaterial({
    color: o,
    writeDepth: c,
    cullFace: _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.CullFaceOptions.Back,
    renderOccluded: r,
    isDecoration: !0
  }) : new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_11__.ColorMaterial({
    color: o,
    writeDepth: c,
    cullFace: _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.CullFaceOptions.Back,
    renderOccluded: r,
    isDecoration: !0
  });
}
function b(t, r = _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_10__.RenderOccludedFlag.OccludeAndTransparent) {
  const n = (0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_0__.colorVectorToColorAndOpacity)(t);
  return new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_11__.ColorMaterial({
    color: n,
    writeDepth: !0,
    cullFace: _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.CullFaceOptions.Front,
    renderOccluded: r,
    isDecoration: !0
  });
}
const O = Object.freeze({
  calloutLength: 40,
  calloutWidth: 1,
  discRadius: 27,
  focusMultiplier: 1.1
});
function y(e, t, r = _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.ManipulatorStateCustomFlags.None) {
  const n = w(t),
    o = [new _RenderObject_js__WEBPACK_IMPORTED_MODULE_6__.RenderObject((0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_9__.createSphereGeometry)(n, 1, 32, 32), r)];
  return new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_5__.Manipulator3D({
    view: e,
    renderObjects: o
  });
}
const D = Object.freeze({
  autoScaleRenderObjects: !1,
  worldSized: !0
});
function F(e, c, l, s) {
  const u = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__.sv3d.get(), e, l),
    m = M(u, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.b)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__.sv3d.get(), s, u), l, _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__.sm4d.get());
  (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.i)(m, m);
  const p = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__.sv3d.get(), c, m);
  return Math.atan2(p[1], p[0]);
}
function M(e, t, r, o) {
  const a = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.n)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__.sv3d.get(), e),
    l = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.n)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__.sv3d.get(), t),
    s = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.b)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__.sv3d.get(), a, l);
  return o[0] = a[0], o[1] = a[1], o[2] = a[2], o[3] = 0, o[4] = l[0], o[5] = l[1], o[6] = l[2], o[7] = 0, o[8] = s[0], o[9] = s[1], o[10] = s[2], o[11] = 0, o[12] = r[0], o[13] = r[1], o[14] = r[2], o[15] = 1, o;
}
function k(e, t) {
  const r = e.getViewForGraphic(t);
  return null != r && "computeAttachmentOrigin" in r ? r.computeAttachmentOrigin(t, e.spatialReference) : null;
}
function v(e, t, r) {
  const n = k(e, r);
  null == n ? A(t, r.geometry) : t.elevationAlignedLocation = n;
}
function A(e, t) {
  if (null == t) return;
  const r = "mesh" === t.type ? t.anchor : (0,_layers_graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_7__.computeCentroid)(t);
  null != r && (e.location = (0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_4__.hydrateGeometry)(r));
}


/***/ }),

/***/ 39491:
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DrapedVisualElementResources": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ 2299);
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Identifiable.js */ 20711);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/interfaces.js */ 73976);
/* harmony import */ var _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl-engine/lib/ModelDirtyTypes.js */ 96572);
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ 17821);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/











class n {
  constructor(e) {
    this._resourceFactory = e, this._resources = null, this._visible = !0, this._attached = !1, this._renderGroup = _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.DrapedRenderGroup.Outline;
  }
  destroy() {
    this._destroyResources();
  }
  get resources() {
    return null != this._resources ? this._resources.external : null;
  }
  get visible() {
    return this._visible;
  }
  set visible(e) {
    e !== this._visible && (this._visible = e, this._syncGeometriesToRenderer());
  }
  get attached() {
    return this._attached;
  }
  set attached(e) {
    e !== this._attached && (this._attached = e, this._createOrDestroyResources());
  }
  get renderGroup() {
    return this._renderGroup;
  }
  set renderGroup(e) {
    this._renderGroup = e;
    const r = this._resources?.layerView;
    r && (r.renderGroup = e);
  }
  recreate() {
    this.attached && this._createResources();
  }
  recreateGeometry() {
    this._resourceFactory.recreateGeometry ? null != this._resources && (this._ensureRenderGeometriesRemoved(), this._resourceFactory.recreateGeometry(this._resources.external), this._syncGeometriesToRenderer()) : this.recreate();
  }
  _createOrDestroyResources() {
    this._attached ? null == this._resources && this._createResources() : this._destroyResources();
  }
  _createResources() {
    this._destroyResources();
    const e = this._resourceFactory.createResources(),
      r = new d({
        view: this._resourceFactory.view,
        renderGroup: this._renderGroup
      }),
      s = this._resourceFactory.view.basemapTerrain?.overlayManager;
    this._resources = {
      layerView: new d({
        view: this._resourceFactory.view,
        renderGroup: this._renderGroup
      }),
      external: e,
      geometriesAdded: !1
    }, s && (this._resources.drapeSourceRenderer = s.registerGeometryDrapeSource(r)), this._syncGeometriesToRenderer();
  }
  _destroyResources() {
    if (null == this._resources) return;
    this._ensureRenderGeometriesRemoved();
    const e = this._resourceFactory.view.basemapTerrain?.overlayManager;
    e && e.unregisterDrapeSource(this._resources.layerView), this._resourceFactory.destroyResources(this._resources.external), this._resources = null;
  }
  _syncGeometriesToRenderer() {
    this._visible ? this._ensureRenderGeometriesAdded() : this._ensureRenderGeometriesRemoved();
  }
  _ensureRenderGeometriesRemoved() {
    if (null == this._resources?.drapeSourceRenderer) return;
    if (!this._resources.geometriesAdded) return;
    this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries, _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_9__.DirtyOperation.UPDATE), this._resources.geometriesAdded = !1;
  }
  _ensureRenderGeometriesAdded() {
    if (null == this._resources?.drapeSourceRenderer) return;
    if (this._resources.geometriesAdded) return;
    this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries, _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_9__.DirtyOperation.UPDATE), this._resources.geometriesAdded = !0;
  }
}
let d = class extends (0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__.IdentifiableMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]) {
  constructor(e) {
    super(e), this.drapeSourceType = _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.DrapeSourceType.Features, this.updatePolicy = _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_10__.UpdatePolicy.SYNC, this.renderGroup = _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.DrapedRenderGroup.Outline;
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  constructOnly: !0
})], d.prototype, "view", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({
  readOnly: !0
})], d.prototype, "drapeSourceType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()], d.prototype, "renderGroup", void 0), d = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("DrapedVisualElementLayerView")], d);


/***/ }),

/***/ 55374:
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EngineVisualElement": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _DrapedVisualElementResources_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DrapedVisualElementResources.js */ 39491);
/* harmony import */ var _VisualElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VisualElement.js */ 31871);
/* harmony import */ var _VisualElementResources_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VisualElementResources.js */ 1039);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class t extends _VisualElement_js__WEBPACK_IMPORTED_MODULE_1__.VisualElement {
  constructor(s) {
    super(s), this._isDraped = !1, this.object3dResources = new _VisualElementResources_js__WEBPACK_IMPORTED_MODULE_2__.VisualElementResources(this.createObject3DResourceFactory(s.view)), this.drapedResources = new _DrapedVisualElementResources_js__WEBPACK_IMPORTED_MODULE_0__.DrapedVisualElementResources(this.createDrapedResourceFactory(s.view)), this.isDraped = s.isDraped ?? !1;
  }
  get isDraped() {
    return this._isDraped;
  }
  set isDraped(e) {
    e !== this._isDraped && (this._isDraped = e, this.object3dResources.attached = this.attached && !e, this.drapedResources.attached = this.attached && e);
  }
  get renderGroup() {
    return this.drapedResources.renderGroup;
  }
  set renderGroup(e) {
    this.drapedResources.renderGroup = e;
  }
  createResources() {
    this.object3dResources.attached = !this._isDraped, this.drapedResources.attached = this._isDraped;
  }
  destroyResources() {
    this.object3dResources.attached = !1, this.drapedResources.attached = !1;
  }
  recreate() {
    this.object3dResources.recreate(), this.drapedResources.recreate();
  }
  recreateGeometry() {
    this.object3dResources.recreateGeometry(), this.drapedResources.recreateGeometry();
  }
  destroy() {
    this.object3dResources.destroy(), this.drapedResources.destroy(), super.destroy();
  }
  updateVisibility(e) {
    this.object3dResources.visible = e, this.drapedResources.visible = e;
  }
}


/***/ }),

/***/ 91956:
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExtendedLineVisualElement": () => (/* binding */ G),
/* harmony export */   "ExtensionType": () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ 67087);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ 71943);
/* harmony import */ var _chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec4f32.js */ 74083);
/* harmony import */ var _geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/clipRay.js */ 46658);
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/frustum.js */ 68075);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ 19511);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ 32684);
/* harmony import */ var _EngineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EngineVisualElement.js */ 55374);
/* harmony import */ var _LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./LaserlineVisualElement.js */ 6804);
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ 86831);
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ 25426);
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ 32051);
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ 57662);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ 51663);
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ 75287);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

















class G extends _EngineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__.EngineVisualElement {
  constructor(e) {
    super(e), this._ray = (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_8__.create)(), this._isWorldDown = !1, this._start = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(), this._end = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(1, 0, 0), this._width = 1, this._color = (0,_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(1, 0, 1, 1), this._polygonOffset = !1, this._writeDepthEnabled = !0, this._innerWidth = 0, this._innerColor = (0,_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(1, 1, 1, 1), this._stipplePattern = null, this._stippleOffColor = null, this._stipplePreferContinuous = !0, this._falloff = 0, this._extensionType = V.LINE, this._laserlineStyle = null, this._laserlineEnabled = !1, this._renderOccluded = _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparent, this._fadedExtensions = T, this._laserline = new _LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_10__.LaserlineVisualElement({
      view: this.view,
      isDecoration: e.isDecoration
    }), this.applyProperties(e);
  }
  destroy() {
    this._laserline.destroy(), super.destroy();
  }
  createObject3DResourceFactory(e) {
    return {
      view: e,
      createResources: e => this._createObject3DResources(e),
      destroyResources: e => this._destroyExternalResources(e),
      recreateGeometry: (e, t) => this._recreateObject3DGeometry(e, t),
      cameraChanged: () => this._updateGeometry()
    };
  }
  createDrapedResourceFactory(e) {
    return {
      view: e,
      createResources: () => this._createDrapedResources(),
      destroyResources: e => this._destroyExternalResources(e),
      recreateGeometry: e => this._recreateDrapedGeometry(e)
    };
  }
  updateVisibility(e) {
    super.updateVisibility(e), this._laserline.visible = e;
  }
  onAttachedChange() {
    this._laserline.attached = this._laserlineAttached;
  }
  setStartEndFromWorldDownAtLocation(r) {
    this._isWorldDown = !0, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(this._start, r), this.view.renderCoordsHelper.worldUpAtPosition(r, this._end), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(this._end, r, this._end), (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(this._start, this._end, this._ray), this._updateGeometry();
  }
  get start() {
    return this._start;
  }
  set start(t) {
    this._isWorldDown = !1, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.h)(this._start, t) || ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(this._start, t), (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(this._start, this._end, this._ray), this._updateGeometry());
  }
  get end() {
    return this._end;
  }
  set end(t) {
    this._isWorldDown = !1, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.h)(this._end, t) || ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(this._end, t), (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(this._start, this._end, this._ray), this._updateGeometry());
  }
  get width() {
    return this._width;
  }
  set width(e) {
    e !== this._width && (this._width = e, this._updateMaterial());
  }
  get color() {
    return this._color;
  }
  set color(e) {
    (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.h)(e, this._color) || ((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.c)(this._color, e), this._updateMaterial());
  }
  get polygonOffset() {
    return this._polygonOffset;
  }
  set polygonOffset(e) {
    e !== this._polygonOffset && (this._polygonOffset = e, this._updateMaterial());
  }
  get writeDepthEnabled() {
    return this._writeDepthEnabled;
  }
  set writeDepthEnabled(e) {
    this._writeDepthEnabled !== e && (this._writeDepthEnabled = e, this._updateMaterial());
  }
  get innerWidth() {
    return this._innerWidth;
  }
  set innerWidth(e) {
    e !== this._innerWidth && (this._innerWidth = e, this._updateMaterial());
  }
  get innerColor() {
    return this._innerColor;
  }
  set innerColor(e) {
    (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.h)(e, this._innerColor) || ((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.c)(this._innerColor, e), this._updateMaterial());
  }
  get stipplePattern() {
    return this._stipplePattern;
  }
  set stipplePattern(e) {
    const t = null != e != (null != this._stipplePattern);
    this._stipplePattern = e, t ? this.recreate() : this._updateMaterial();
  }
  get stippleOffColor() {
    return this._stippleOffColor;
  }
  set stippleOffColor(e) {
    null != e && null != this._stippleOffColor && (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.h)(e, this._stippleOffColor) || (this._stippleOffColor = null != e ? (0,_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_4__.c)(e) : null, this._updateMaterial());
  }
  get stipplePreferContinuous() {
    return this._stipplePreferContinuous;
  }
  set stipplePreferContinuous(e) {
    e !== this._stipplePreferContinuous && (this._stipplePreferContinuous = e, this._updateMaterial());
  }
  get falloff() {
    return this._falloff;
  }
  set falloff(e) {
    e !== this._falloff && (this._falloff = e, this._updateMaterial());
  }
  get extensionType() {
    return this._extensionType;
  }
  set extensionType(e) {
    e !== this._extensionType && (this._extensionType = e, this.recreateGeometry());
  }
  get _laserlineAttached() {
    return this._laserlineEnabled && null != this._laserlineStyle && this.attached && !this.isDraped;
  }
  get laserlineStyle() {
    return this._laserlineStyle;
  }
  set laserlineStyle(e) {
    this._laserlineStyle = e, this._laserline.attached = this._laserlineAttached, null != e && (this._laserline.style = e);
  }
  get laserlineEnabled() {
    return this._laserlineEnabled;
  }
  set laserlineEnabled(e) {
    this._laserlineEnabled !== e && (this._laserlineEnabled = e, this._laserline.attached = this._laserlineAttached);
  }
  get renderOccluded() {
    return this._renderOccluded;
  }
  set renderOccluded(e) {
    e !== this._renderOccluded && (this._renderOccluded = e, this._updateMaterial());
  }
  get _normalizedRenderOccluded() {
    return this.isDraped && this._renderOccluded === _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparentStencil ? _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparent : this._renderOccluded;
  }
  get fadedExtensions() {
    return this._fadedExtensions;
  }
  set fadedExtensions(e) {
    this._fadedExtensions = e ?? T, this.recreateGeometry();
  }
  _updateMaterial() {
    const {
      materialParameters: e
    } = this;
    this.object3dResources.resources?.material.setParameters(e), this.drapedResources.resources?.material.setParameters(e);
  }
  get materialParameters() {
    return {
      width: this._width,
      color: this._color,
      stippleOffColor: this._stippleOffColor,
      stipplePattern: this._stipplePattern,
      stipplePreferContinuous: this._stipplePreferContinuous,
      innerWidth: this._innerWidth,
      innerColor: this._innerColor,
      falloff: this._falloff,
      hasPolygonOffset: this._polygonOffset,
      renderOccluded: this._normalizedRenderOccluded,
      isDecoration: this.isDecoration,
      writeDepth: this._writeDepthEnabled
    };
  }
  _createObject3DResources(e) {
    const t = new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_16__.RibbonLineMaterial(this.materialParameters),
      r = new Array();
    return this._createObject3DGeometry(t, e, r), {
      material: t,
      geometries: r,
      forEach: e => {
        e(t), r.forEach(e);
      }
    };
  }
  _destroyExternalResources(e) {
    e.geometries = [];
  }
  _recreateObject3DGeometry(e, t) {
    e.geometries.length = 0, this._createObject3DGeometry(e.material, t, e.geometries);
  }
  _createObject3DGeometry(e, t, r) {
    const s = this._createGeometry(e);
    r.push(s), t.addGeometry(s), this._updateVerticesObject3D(t);
  }
  _createDrapedResources() {
    const e = new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_16__.RibbonLineMaterial(this.materialParameters);
    return {
      material: e,
      geometries: [this._createDrapedGeometry(e)]
    };
  }
  _recreateDrapedGeometry(e) {
    e.geometries = [this._createDrapedGeometry(e.material)];
  }
  _createDrapedGeometry(e) {
    const t = this._createGeometry(e);
    return this._updateVerticesDraped(t), new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_14__.RenderGeometry(t);
  }
  _createGeometry(e) {
    const t = this.extensionType === V.FADED,
      r = t ? [(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(), (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(), (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(), (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()] : [(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(), (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()];
    return (0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__.createPolylineGeometry)(e, r, null, t ? [1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0] : null);
  }
  _updateGeometry() {
    if (this.isDraped) this.drapedResources.recreateGeometry();else {
      const e = this.object3dResources.object;
      e && this._updateVerticesObject3D(e);
    }
  }
  _updateVerticesObject3D(e) {
    const t = this._lineSegment;
    this._updateVertexAttributesObject3D(e, t), this._laserline.intersectsLine = t;
  }
  _updateVerticesDraped(e) {
    this._updateVertexAttributesDraped(e, this._lineSegment);
  }
  get _lineSegment() {
    return this._extensionType === V.FADED ? this._updateLineSegmentFinite(S) : this._updateLineSegmentInfinite(this._extensionType, S);
  }
  _updateLineSegmentFinite(e) {
    return (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.fromPoints)(this._start, this._end, e);
  }
  _updateLineSegmentInfinite(e, t) {
    const r = this.view.state.camera;
    switch ((0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_5__.fromRay)(this._ray, P), e) {
      case V.LINE:
        P.c0 = -Number.MAX_VALUE;
        break;
      case V.RAY:
      case V.GROUND_RAY:
        {
          const e = this._ray.origin,
            t = this.view.elevationProvider.getElevation(e[0], e[1], e[2], this.view.renderCoordsHelper.spatialReference, "ground") ?? 0,
            r = this.view.renderCoordsHelper.getAltitude(e);
          this._isWorldDown && r < t && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.E)(P.ray.direction, P.ray.direction), this._extensionType === V.GROUND_RAY && null != t && (P.c1 = Math.abs(r - t));
          break;
        }
    }
    if (!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_6__.intersectClipRay)(r.frustum, P)) return this._updateLineSegmentFinite(t);
    const i = (0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_5__.getStart)(P, x),
      n = (0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_5__.getEnd)(P, v);
    return (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.fromPoints)(i, n, t);
  }
  _updateVertexAttributesObject3D(e, t) {
    const r = e.geometries[0].getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_15__.VertexAttribute.POSITION)?.data;
    if (!r) return;
    let s = 0;
    for (const i of this._lineVertices(t)) r[s++] = i[0], r[s++] = i[1], r[s++] = i[2];
    e.geometryVertexAttributeUpdated(e.geometries[0], _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_15__.VertexAttribute.POSITION);
  }
  _updateVertexAttributesDraped(e, t) {
    const r = e.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_15__.VertexAttribute.POSITION)?.data;
    if (!r) return;
    let s = 0;
    for (const i of this._lineVertices(t)) r[s++] = i[0], r[s++] = i[1], r[s++] = _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_11__.drapedZ;
    e.invalidateBoundingInfo();
  }
  *_lineVertices(e) {
    this.extensionType === V.FADED ? (yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e, -this.fadedExtensions.start, x), yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e, 0, x), yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e, 1, x), yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e, 1 + this.fadedExtensions.end, x)) : (yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e, 0, x), yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e, 1, x));
  }
}
const P = (0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_5__.create)(),
  x = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  v = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),
  S = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.create)();
var V;
!function (e) {
  e[e.LINE = 0] = "LINE", e[e.RAY = 1] = "RAY", e[e.GROUND_RAY = 2] = "GROUND_RAY", e[e.FADED = 3] = "FADED";
}(V || (V = {}));
const M = 1 / 3,
  T = {
    start: M,
    end: M
  };


/***/ }),

/***/ 6804:
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LaserlineVisualElement": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ 19511);
/* harmony import */ var _VisualElement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./VisualElement.js */ 31871);
/* harmony import */ var _support_LaserLineRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../support/LaserLineRenderer.js */ 73510);
/* harmony import */ var _chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/Laserlines.glsl.js */ 99095);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






class c extends _VisualElement_js__WEBPACK_IMPORTED_MODULE_3__.VisualElement {
  constructor(e) {
    super(e), this._angleCutoff = _chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_5__.d, this._style = {}, this._heightManifoldTarget = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(), this._heightManifoldEnabled = !1, this._intersectsLine = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.create)(), this._intersectsLineEnabled = !1, this._intersectsLineInfinite = !1, this._lineVerticalPlaneSegment = null, this._pathVerticalPlaneBuffers = null, this._pointDistanceLine = null, this.applyProperties(e);
  }
  get testData() {
    return this._renderer;
  }
  createResources() {
    this._ensureRenderer();
  }
  destroyResources() {
    this._disposeRenderer();
  }
  updateVisibility() {
    this._syncRenderer(), this._syncHeightManifold(), this._syncIntersectsLine(), this._syncPathVerticalPlane(), this._syncLineVerticalPlane(), this._syncPointDistance();
  }
  get angleCutoff() {
    return this._angleCutoff;
  }
  set angleCutoff(e) {
    this._angleCutoff !== e && (this._angleCutoff = e, this._syncAngleCutoff());
  }
  get style() {
    return this._style;
  }
  set style(e) {
    this._style = e, this._syncStyle();
  }
  get heightManifoldTarget() {
    return this._heightManifoldEnabled ? this._heightManifoldTarget : null;
  }
  set heightManifoldTarget(t) {
    null != t ? ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.c)(this._heightManifoldTarget, t), this._heightManifoldEnabled = !0) : this._heightManifoldEnabled = !1, this._syncRenderer(), this._syncHeightManifold();
  }
  set intersectsWorldUpAtLocation(e) {
    if (null == e) return void (this.intersectsLine = null);
    const t = this.view.renderCoordsHelper.worldUpAtPosition(e, _);
    this.intersectsLine = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.fromValues)(e, t), this.intersectsLineInfinite = !0;
  }
  get intersectsLine() {
    return this._intersectsLineEnabled ? this._intersectsLine : null;
  }
  set intersectsLine(e) {
    null != e ? ((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.copy)(e, this._intersectsLine), this._intersectsLineEnabled = !0) : this._intersectsLineEnabled = !1, this._syncIntersectsLine(), this._syncRenderer();
  }
  get intersectsLineInfinite() {
    return this._intersectsLineInfinite;
  }
  set intersectsLineInfinite(e) {
    this._intersectsLineInfinite = e, this._syncIntersectsLineInfinite();
  }
  get lineVerticalPlaneSegment() {
    return this._lineVerticalPlaneSegment;
  }
  set lineVerticalPlaneSegment(e) {
    this._lineVerticalPlaneSegment = null != e ? (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.copy)(e) : null, this._syncLineVerticalPlane(), this._syncRenderer();
  }
  get pathVerticalPlane() {
    return this._pathVerticalPlaneBuffers;
  }
  set pathVerticalPlane(e) {
    this._pathVerticalPlaneBuffers = e, this._syncPathVerticalPlane(), this._syncLineVerticalPlane(), this._syncPointDistance(), this._syncRenderer();
  }
  get pointDistanceLine() {
    return this._pointDistanceLine;
  }
  set pointDistanceLine(e) {
    this._pointDistanceLine = null != e ? {
      origin: (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.origin),
      target: e.target ? (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.target) : null
    } : null, this._syncPointDistance(), this._syncRenderer();
  }
  _syncRenderer() {
    this.attached && this.visible && (this._intersectsLineEnabled || this._heightManifoldEnabled || null != this._pointDistanceLine || null != this._pathVerticalPlaneBuffers) ? this._ensureRenderer() : this._disposeRenderer();
  }
  _ensureRenderer() {
    null == this._renderer && (this._renderer = new _support_LaserLineRenderer_js__WEBPACK_IMPORTED_MODULE_4__.LaserLineRenderer({
      renderCoordsHelper: this.view.renderCoordsHelper,
      contrastControlEnabled: !0,
      _isDecoration: this.isDecoration
    }), this._renderer.viewingMode = this.view.state.viewingMode, this._syncStyle(), this._syncHeightManifold(), this._syncIntersectsLine(), this._syncIntersectsLineInfinite(), this._syncPathVerticalPlane(), this._syncLineVerticalPlane(), this._syncPointDistance(), this._syncAngleCutoff(), this.view._stage && this.view._stage.addRenderPlugin(this._renderer));
  }
  _syncStyle() {
    null != this._renderer && (this._renderer.setParameters(this._style), null != this._style.intersectsLineRadius && (this._renderer.intersectsLineRadius = this._style.intersectsLineRadius));
  }
  _syncAngleCutoff() {
    null != this._renderer && this._renderer.setParameters({
      angleCutoff: this._angleCutoff
    });
  }
  _syncHeightManifold() {
    null != this._renderer && (this._renderer.heightManifoldEnabled = this._heightManifoldEnabled && this.visible, this._heightManifoldEnabled && (this._renderer.heightManifoldTarget = this._heightManifoldTarget));
  }
  _syncIntersectsLine() {
    null != this._renderer && (this._renderer.intersectsLineEnabled = this._intersectsLineEnabled && this.visible, this._intersectsLineEnabled && (this._renderer.intersectsLineSegment = this._intersectsLine));
  }
  _syncIntersectsLineInfinite() {
    null != this._renderer && (this._renderer.intersectsLineInfinite = this._intersectsLineInfinite);
  }
  _syncPathVerticalPlane() {
    null != this._renderer && (this._renderer.pathVerticalPlaneEnabled = null != this._pathVerticalPlaneBuffers && this.visible, null != this._pathVerticalPlaneBuffers && (this._renderer.pathVerticalPlaneBuffers = this._pathVerticalPlaneBuffers));
  }
  _syncLineVerticalPlane() {
    null != this._renderer && (this._renderer.lineVerticalPlaneEnabled = null != this._lineVerticalPlaneSegment && this.visible, null != this._lineVerticalPlaneSegment && (this._renderer.lineVerticalPlaneSegment = this._lineVerticalPlaneSegment));
  }
  _syncPointDistance() {
    if (null == this._renderer) return;
    const e = this._pointDistanceLine,
      t = null != e;
    this._renderer.pointDistanceEnabled = t && null != e.target && this.visible, t && (this._renderer.pointDistanceOrigin = e.origin, null != e.target && (this._renderer.pointDistanceTarget = e.target));
  }
  _disposeRenderer() {
    null != this._renderer && this.view._stage && (this.view._stage.removeRenderPlugin(this._renderer), this._renderer = null);
  }
}
const _ = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ 27707:
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Object3DVisualElement": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _VisualElement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VisualElement.js */ 31871);
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ 80576);
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ 17821);
/* harmony import */ var _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/lib/WebGLLayer.js */ 9014);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/






class a extends _VisualElement_js__WEBPACK_IMPORTED_MODULE_2__.VisualElement {
  constructor(e) {
    super(e), this._resources = null, this._transform = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();
  }
  get object() {
    return null != this._resources ? this._resources.object : null;
  }
  get transform() {
    return this._transform;
  }
  set transform(s) {
    (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(this._transform, s), null != this._resources && (this._resources.object.transformation = this._transform);
  }
  recreate() {
    this.attached && this.createResources();
  }
  recreateGeometry() {
    if (null == this._resources) return;
    const e = this._resources.object,
      s = this.view._stage;
    s.removeMany(e.geometries), e.removeAllGeometries(), this.createGeometries(e), e.visible = this.visible, s.addMany(e.geometries);
  }
  createResources() {
    this.destroyResources();
    const e = this.view._stage;
    if (!e) return;
    const s = new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_5__.WebGLLayer(e, {
        pickable: !1,
        updatePolicy: _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_4__.UpdatePolicy.SYNC
      }),
      r = new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_3__.Object3D({
        castShadow: !1
      });
    r.transformation = this._transform, this.createExternalResources(), this.createGeometries(r), e.addMany(r.geometries), this.forEachExternalMaterial(s => e.add(s)), e.add(r), s.add(r), r.visible = this.visible, this._resources = {
      layer: s,
      object: r
    };
  }
  destroyResources() {
    const e = this.view._stage;
    null != this._resources && e && (e.remove(this._resources.object), this._resources.layer.destroy(), this.forEachExternalMaterial(s => {
      e.remove(s);
    }), e.removeMany(this._resources.object.geometries), this._resources.object.dispose(), this.destroyExternalResources(), this._resources = null);
  }
  updateVisibility(e) {
    null != this._resources && (this._resources.object.visible = e);
  }
}


/***/ }),

/***/ 59256:
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ParallelLineVisualElement": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ 55798);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ 80775);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec2f64.js */ 83457);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ 71943);
/* harmony import */ var _chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec4f32.js */ 74083);
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedPoint.js */ 86822);
/* harmony import */ var _EngineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EngineVisualElement.js */ 55374);
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ 86831);
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ 25426);
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ 32051);
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ 57662);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ 51663);
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ 75287);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
















class x extends _EngineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__.EngineVisualElement {
  constructor(e) {
    super(e), this._location = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(), this._direction = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.f)(1, 0, 0), this._width = 1, this._offset = 1, this._length = 18, this._color = (0,_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_7__.f)(1, 0, 1, 1), this._renderOccluded = _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_12__.RenderOccludedFlag.OccludeAndTransparent, this.applyProperties(e);
  }
  createObject3DResourceFactory(e) {
    return {
      view: e,
      createResources: e => this._createObject3DResources(e),
      destroyResources: e => this._destroyObject3DResources(e),
      recreateGeometry: (e, t) => this._recreateObject3DGeometry(e, t),
      cameraChanged: () => this._updateGeometry()
    };
  }
  createDrapedResourceFactory(e) {
    return {
      view: e,
      createResources: () => this._createDrapedResources(),
      destroyResources: e => this._destroyDrapedResources(e),
      recreateGeometry: e => this._recreateDrapedGeometry(e)
    };
  }
  get location() {
    return this._location;
  }
  set location(e) {
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.h)(this._location, e) || ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.c)(this._location, e), this._updateGeometry());
  }
  get direction() {
    return this._direction;
  }
  set direction(e) {
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.h)(this._direction, e) || ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.c)(this._direction, e), this._updateGeometry());
  }
  setDirectionFromPoints(e, t) {
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.n)(this._direction, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.f)(this._direction, t, e)), this._updateGeometry();
  }
  get width() {
    return this._width;
  }
  set width(e) {
    e !== this._width && (this._width = e, this._updateMaterial());
  }
  get offset() {
    return this._offset;
  }
  set offset(e) {
    e !== this._offset && (this._offset = e, this._updateGeometry());
  }
  get length() {
    return this._length;
  }
  set length(e) {
    e !== this._length && (this._length = e, this._updateGeometry());
  }
  get color() {
    return this._color;
  }
  set color(e) {
    (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_6__.h)(e, this._color) || ((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_6__.c)(this._color, e), this._updateMaterial());
  }
  get renderOccluded() {
    return this._renderOccluded;
  }
  set renderOccluded(e) {
    e !== this._renderOccluded && (this._renderOccluded = e, this._updateMaterial());
  }
  _createObject3DResources(e) {
    const t = new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_15__.RibbonLineMaterial(this.materialParameters),
      r = new Array();
    return this._createObject3DGeometry(t, e, r), {
      material: t,
      geometries: r,
      forEach: e => {
        e(t), r.forEach(e);
      }
    };
  }
  _destroyObject3DResources(e) {
    e.geometries.length = 0;
  }
  _recreateObject3DGeometry(e, t) {
    e.geometries.length = 0, this._createObject3DGeometry(e.material, t, e.geometries);
  }
  _createObject3DGeometry(e, t, r) {
    const [s, i] = this._createGeometries(e);
    t.addGeometry(s), t.addGeometry(i), r.push(s), r.push(i), this._updateVerticesObject3D(t);
  }
  _createDrapedResources() {
    const t = new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_15__.RibbonLineMaterial(this.materialParameters),
      r = (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__.watch)(() => this.view.state.contentPixelRatio, () => {
        this.drapedResources.recreateGeometry();
      });
    return {
      material: t,
      geometries: this._createDrapedGeometry(t),
      pixelRatioHandle: r
    };
  }
  _destroyDrapedResources(e) {
    e.pixelRatioHandle.remove(), e.geometries = [];
  }
  _recreateDrapedGeometry(e) {
    e.geometries = this._createDrapedGeometry(e.material);
  }
  _createDrapedGeometry(e) {
    const t = this._createGeometries(e);
    return this._updateVerticesDraped(t), t.map(e => new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_13__.RenderGeometry(e));
  }
  _createGeometries(e) {
    return [(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_11__.createPolylineGeometry)(e, [(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(), (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)()]), (0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_11__.createPolylineGeometry)(e, [(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(), (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)()])];
  }
  _updateMaterial() {
    const {
      materialParameters: e
    } = this;
    this.object3dResources.resources?.material.setParameters(e), this.drapedResources.resources?.material.setParameters(e);
  }
  get materialParameters() {
    return {
      width: this._width,
      color: this._color,
      renderOccluded: this._renderOccluded,
      isDecoration: this.isDecoration
    };
  }
  _updateGeometry() {
    if (this.isDraped) this.drapedResources.recreateGeometry();else {
      const e = this.object3dResources.object;
      e && this._updateVerticesObject3D(e);
    }
  }
  _updateVerticesObject3D(e) {
    const t = this.view.state.camera;
    t.projectToScreen(this.location, M), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(P, this.location, this.direction), t.projectToScreen(P, I), (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.e)(I, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.c)(I, I, M)), this._updateVertexAttributesObject3D(t, e, 0, M, I, 1), this._updateVertexAttributesObject3D(t, e, 1, M, I, -1);
  }
  _updateVertexAttributesObject3D(e, r, s, i, o, a) {
    const c = r.geometries[s],
      n = c.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.POSITION)?.data;
    if (!n) return;
    const {
      start: d,
      end: h
    } = this._computeStartEnd(o, i, a, this.offset, this.width, this.length);
    e.unprojectFromScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.castScreenPointArray)(d), P), n[0] = P[0], n[1] = P[1], n[2] = P[2], e.unprojectFromScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.castScreenPointArray)(h), P), n[3] = P[0], n[4] = P[1], n[5] = P[2], r.geometryVertexAttributeUpdated(c, _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.POSITION);
  }
  _updateVerticesDraped(e) {
    const {
        view: {
          basemapTerrain: {
            overlayManager: t
          },
          state: {
            contentPixelRatio: r
          }
        }
      } = this,
      {
        location: s,
        width: i,
        length: o,
        offset: a
      } = this,
      c = E;
    c.spatialReference = t.renderer.spatialReference, c.x = s[0], c.y = s[1];
    const n = this.view.overlayPixelSizeInMapUnits(c) * r,
      d = i * n,
      h = o * n,
      u = a * n;
    this._updateVertexAttributesDraped(e[0], d, h, u, -1), this._updateVertexAttributesDraped(e[1], d, h, u, 1);
  }
  _updateVertexAttributesDraped(e, t, r, s, i) {
    const o = e.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.VertexAttribute.POSITION)?.data;
    if (!o) return;
    const {
        location: a,
        direction: c
      } = this,
      {
        start: n,
        end: d
      } = this._computeStartEnd(c, a, i, s, t, r);
    o[0] = n[0], o[1] = n[1], o[2] = _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_10__.drapedZ, o[3] = d[0], o[4] = d[1], o[5] = _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_10__.drapedZ, e.invalidateBoundingInfo();
  }
  _computeStartEnd(e, t, r, s, i, n) {
    const d = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.a)(V, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.s)(V, e[1] * r, e[0] * -r), s + i / 2),
      h = (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.i)(A, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.i)(A, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.i)(A, t, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.a)(A, e, n / 2)), d), d);
    return {
      start: h,
      end: (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.i)(S, h, (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.a)(S, e, -n))
    };
  }
}
const P = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),
  V = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),
  A = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),
  S = (0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),
  M = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.createScreenPointArray)(),
  I = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.createScreenPointArray)(),
  E = (0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_8__.makeDehydratedPoint)(0, 0, void 0, null);


/***/ }),

/***/ 44817:
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointVisualElement": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ 93142);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ 71943);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/projection/projectVectorToVector.js */ 26849);
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ 73327);
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ 73130);
/* harmony import */ var _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Object3DVisualElement.js */ 27707);
/* harmony import */ var _layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/graphics/elevationAlignmentUtils.js */ 30653);
/* harmony import */ var _layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../layers/graphics/ElevationContext.js */ 56804);
/* harmony import */ var _support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../support/engineContent/sdfPrimitives.js */ 69356);
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ 25426);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ 51663);
/* harmony import */ var _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/materials/HUDMaterial.js */ 66036);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/















class x extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_8__.Object3DVisualElement {
  constructor(e) {
    super(e), this._material = null, this._texture = null, this._geometry = null, this._size = 3, this._color = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(1, 0, 1, 1), this._pixelSnappingEnabled = !0, this._primitive = "square", this._outlineSize = 1, this._outlineColor = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(1, 1, 1, 1), this._elevationInfo = null, this.applyProperties(e);
  }
  get geometry() {
    return this._geometry;
  }
  set geometry(e) {
    this._geometry = e, this.recreateGeometry();
  }
  get size() {
    return this._size;
  }
  set size(e) {
    if (e !== this._size) {
      const t = this._preferredTextureSize;
      this._size = e, t < this._preferredTextureSize ? this.recreate() : this._updateSizeAttribute();
    }
  }
  get color() {
    return this._color;
  }
  set color(e) {
    (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.h)(e, this._color) || ((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.c)(this._color, e), this._updateMaterial());
  }
  get pixelSnappingEnabled() {
    return this._pixelSnappingEnabled;
  }
  set pixelSnappingEnabled(e) {
    this._pixelSnappingEnabled !== e && (this._pixelSnappingEnabled = e, this._updateMaterial());
  }
  get primitive() {
    return this._primitive;
  }
  set primitive(e) {
    this._primitive !== e && (this._primitive = e, this.recreate());
  }
  get outlineSize() {
    return this._outlineSize;
  }
  set outlineSize(e) {
    e !== this._outlineSize && (this._outlineSize = e, this._updateMaterial());
  }
  get outlineColor() {
    return this._outlineColor;
  }
  set outlineColor(e) {
    (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.h)(e, this._outlineColor) || ((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.c)(this._outlineColor, e), this._updateMaterial());
  }
  get elevationInfo() {
    return this._elevationInfo;
  }
  set elevationInfo(e) {
    this._elevationInfo = e, this.recreateGeometry();
  }
  _updateMaterial() {
    this._material && this._material.setParameters(this._materialParameters);
  }
  _updateSizeAttribute() {
    const e = this.object;
    if (null == e) return;
    const t = e.geometries[0];
    if (null == t) return;
    const i = t.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.SIZE).data,
      r = this._geometrySize;
    i[0] = r, i[1] = r, e.geometryVertexAttributeUpdated(e.geometries[0], _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.SIZE);
  }
  get _materialParameters() {
    return {
      color: this._color,
      textureIsSignedDistanceField: !0,
      sampleSignedDistanceFieldTexelCenter: (0,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_11__.requiresHalfTexelOffset)(this._primitive),
      distanceFieldBoundingBox: v,
      occlusionTest: !1,
      outlineColor: this._outlineColor,
      outlineSize: this._outlineSize,
      textureId: this._texture?.id,
      polygonOffset: !1,
      shaderPolygonOffset: 0,
      drawInSecondSlot: !0,
      depthEnabled: !1,
      pixelSnappingEnabled: this.pixelSnappingEnabled,
      isDecoration: this.isDecoration
    };
  }
  get _geometrySize() {
    return this._size / S;
  }
  createExternalResources() {
    this._texture = (0,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_11__.createTexture)(this._primitive, this._preferredTextureSize), this._material = new _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_14__.HUDMaterial(this._materialParameters);
    const e = this.view._stage;
    this._texture.load(e.renderView.renderingContext), e.add(this._texture);
  }
  destroyExternalResources() {
    if (this._texture) {
      this.view._stage.remove(this._texture), this._texture.dispose(), this._texture = null;
    }
    this._material = null;
  }
  createGeometries(e) {
    const t = this._createRenderGeometry();
    null != t && e.addGeometry(t);
  }
  forEachExternalMaterial(e) {
    this._material && e(this._material);
  }
  get _preferredTextureSize() {
    return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(2 * this._geometrySize, 16, 128);
  }
  calculateMapBounds(e) {
    const t = this.object?.geometries[0];
    if (!t) return !1;
    const i = t.attributes.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION);
    return (0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_5__.projectVectorToVector)(i.data, this.view.renderCoordsHelper.spatialReference, y, this.view.spatialReference), (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_6__.expandWithBuffer)(e, y), !0;
  }
  _createRenderGeometry() {
    const {
      geometry: e,
      _material: i
    } = this;
    if (null == e || null == i) return null;
    const {
        renderCoordsHelper: r,
        elevationProvider: s
      } = this.view,
      o = (0,_layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_9__.evaluateElevationAlignmentAtPoint)(e, s, _layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_10__.ElevationContext.fromElevationInfo(this.elevationInfo), r),
      l = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.s)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get(), e.x, e.y, o),
      u = _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get();
    (0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_5__.projectVectorToVector)(l, e.spatialReference, u, r.spatialReference);
    const p = this._geometrySize;
    return (0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__.createPointGeometry)(i, null, u, null, [p, p], [0, 0, 0, 1]);
  }
}
const S = _support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_11__.defaultSymbolSizeRatio,
  v = [S / 2, S / 2, 1 - S / 2, 1 - S / 2],
  y = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();


/***/ }),

/***/ 60720:
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RightAngleQuadVisualElement": () => (/* binding */ z)
/* harmony export */ });
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ 64544);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ 23160);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ 71943);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ 73130);
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedPoint.js */ 86822);
/* harmony import */ var _EngineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EngineVisualElement.js */ 55374);
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ 86831);
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ 49197);
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ 4674);
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ 25426);
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ 32051);
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ 57662);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ 51663);
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/materials/ColorMaterial.js */ 20600);
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ 75287);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



















class z extends _EngineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__.EngineVisualElement {
  constructor(e) {
    super(e), this._maxSize = 0, this._position = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(), this._up = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(), this._right = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(), this._renderOccluded = _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_14__.RenderOccludedFlag.OccludeAndTransparent, this._color = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.f)(1, 0, 0, 1), this._outlineColor = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.f)(0, 0, 0, 1), this._outlineSize = 0, this._size = 32, this._outlineRenderOccluded = _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_14__.RenderOccludedFlag.Opaque, this.applyProperties(e);
  }
  createObject3DResourceFactory(e) {
    return {
      view: e,
      createResources: e => this._createObject3DResources(e),
      destroyResources: () => {},
      cameraChanged: () => this._updateTransformObject3D()
    };
  }
  createDrapedResourceFactory(e) {
    return {
      view: e,
      createResources: () => this._createDrapedResources(),
      destroyResources: e => this._destroyDrapedResources(e)
    };
  }
  get renderOccluded() {
    return this._renderOccluded;
  }
  set renderOccluded(e) {
    e !== this._renderOccluded && (this._renderOccluded = e, this._updateQuadMaterial());
  }
  get color() {
    return this._color;
  }
  set color(e) {
    (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__.c)(this._color, e), this._updateQuadMaterial();
  }
  get outlineColor() {
    return this._outlineColor;
  }
  set outlineColor(e) {
    (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__.c)(this._outlineColor, e), this._updateOutlineMaterial();
  }
  get outlineSize() {
    return this._outlineSize;
  }
  set outlineSize(e) {
    const t = 0 === this._outlineSize != (0 === e);
    this._outlineSize = e, t ? this.recreateGeometry() : this._updateOutlineMaterial();
  }
  get size() {
    return this._size;
  }
  set size(e) {
    e !== this._size && (this._size = e, this._updateTransform());
  }
  get outlineRenderOccluded() {
    return this._outlineRenderOccluded;
  }
  set outlineRenderOccluded(e) {
    this._outlineRenderOccluded = e, this._updateOutlineMaterial();
  }
  set geometry({
    previous: e,
    center: t,
    next: r
  }) {
    this._maxSize = Math.min((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(t, e), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(t, r)) / 3, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(this._up, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(this._up, e, t)), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(this._right, (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(this._right, r, t)), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(this._position, t), this.recreateGeometry();
  }
  _createObject3DResources(e) {
    const t = new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_17__.ColorMaterial(this._quadMaterialParameters),
      r = 0 === this._outlineSize ? void 0 : new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_18__.RibbonLineMaterial(this._outlineMaterialParameters);
    return this._createObject3DGeometries(e, t, r), {
      quadMaterial: t,
      outlineMaterial: r,
      forEach: e => {
        e(t), r && e(r);
      }
    };
  }
  _createObject3DGeometries(e, t, r) {
    if ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this._up, _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.Z) && (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this._right, _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.Z)) return;
    const i = this._createGeometries(t, r);
    for (const s of i) e.addGeometry(s);
    this._updateTransformObject3D(e);
  }
  _createDrapedResources() {
    const t = new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_17__.ColorMaterial(this._quadMaterialParameters),
      r = 0 === this._outlineSize ? void 0 : new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_18__.RibbonLineMaterial(this._outlineMaterialParameters),
      i = this._createGeometries(t, r).map(e => new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_15__.RenderGeometry(e));
    this._setTransformDraped(i);
    return {
      quadMaterial: t,
      outlineMaterial: r,
      geometries: i,
      pixelRatioHandle: (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__.watch)(() => this.view.state.contentPixelRatio, () => {
        this.drapedResources.recreateGeometry();
      })
    };
  }
  _destroyDrapedResources(e) {
    e.pixelRatioHandle.remove(), e.geometries = [];
  }
  _createGeometries(e, t) {
    const {
        up: r,
        right: i,
        corner: s
      } = this._getVertices(),
      a = this._quadGeometryData(r, i, s, e);
    if (!t) return [a];
    return [a, (0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_13__.createPolylineGeometry)(t, [r, s, i])];
  }
  _getVertices() {
    let e = this._up,
      t = this._right;
    const r = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get(), e, t);
    return this.isDraped && (e = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get(), e), t = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get(), t), e[2] = 0, t[2] = 0, r[2] = 0), {
      up: e,
      right: t,
      corner: r
    };
  }
  _updateTransform() {
    this.isDraped ? this.drapedResources.recreateGeometry() : this._updateTransformObject3D();
  }
  _updateTransformObject3D(e = this.object3dResources.object) {
    if (!e) return;
    const i = this.view.state.camera,
      s = this._size * i.computeScreenPixelSizeAt(this._position),
      a = Math.min(this._maxSize, s);
    (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.d)(P, this._position), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.b)(P, P, [a, a, a]), e.transformation = P;
  }
  _setTransformDraped(e) {
    if (0 === e.length) return;
    const {
        view: {
          basemapTerrain: {
            overlayManager: i
          },
          state: {
            contentPixelRatio: s
          }
        }
      } = this,
      {
        _position: a,
        _size: o
      } = this,
      c = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get(), a);
    c[2] = _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_10__.drapedZ;
    const u = v;
    u.spatialReference = i.renderer.spatialReference, u.x = c[0], u.y = c[1];
    const l = o * (this.view.overlayPixelSizeInMapUnits(u) * s),
      d = Math.min(this._maxSize, l);
    (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.d)(P, c), (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.b)(P, P, [d, d, 1]);
    for (const t of e) t.transformation = P;
  }
  _quadGeometryData(e, t, r, i) {
    return new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_12__.Geometry(i, [[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.POSITION, new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__.Attribute([0, 0, 0, ...t, ...e, ...r], [0, 1, 2, 1, 2, 3], 3, !0)]]);
  }
  get _quadMaterialParameters() {
    return {
      color: this._color,
      forceTransparentMode: !0,
      writeDepth: !1,
      polygonOffset: !0,
      renderOccluded: this._renderOccluded,
      isDecoration: this.isDecoration
    };
  }
  _updateQuadMaterial() {
    this.object3dResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters), this.drapedResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters);
  }
  get _outlineMaterialParameters() {
    return {
      color: this._outlineColor,
      width: this._outlineSize,
      renderOccluded: this._outlineRenderOccluded,
      isDecoration: this.isDecoration
    };
  }
  _updateOutlineMaterial() {
    this.object3dResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters), this.drapedResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters);
  }
}
const P = (0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),
  v = (0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_8__.makeDehydratedPoint)(0, 0, void 0, null);


/***/ }),

/***/ 31871:
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VisualElement": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ 7521);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/

class t {
  get isDecoration() {
    return this._isDecoration;
  }
  set isDecoration(e) {
    this._isDecoration = e;
  }
  constructor(t) {
    this._isDecoration = !1, this._attached = !1, this._resourcesCreated = !1, this._visible = !0, this.view = t.view, this._handle = (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__.watch)(() => t.view.ready, e => {
      this._resourcesCreated && (e ? this._createResources() : this._destroyResources());
    });
  }
  applyProperties(e) {
    let t = !1;
    for (const s in e) s in this ? "attached" === s ? t = e[s] : this[s] = e[s] : console.error("Cannot set unknown property", s);
    this.attached = t;
  }
  destroy() {
    this.attached = !1, this._handle.remove();
  }
  get attached() {
    return this._attached;
  }
  set attached(e) {
    e !== this._attached && this.view._stage && (this._attached = e, this._attached && !this._resourcesCreated ? this._createResources() : !this._attached && this._resourcesCreated && this._destroyResources(), this.onAttachedChange(e));
  }
  onAttachedChange(e) {}
  get visible() {
    return this._visible;
  }
  set visible(e) {
    e !== this._visible && (this._visible = e, this.attached && this.updateVisibility(e));
  }
  _createResources() {
    this.createResources(), this._resourcesCreated = !0, this.updateVisibility(this.visible);
  }
  _destroyResources() {
    this.destroyResources(), this._resourcesCreated = !1;
  }
}


/***/ }),

/***/ 1039:
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VisualElementResources": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl-engine/lib/ContentObjectType.js */ 25207);
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ 80576);
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ 17821);
/* harmony import */ var _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/WebGLLayer.js */ 9014);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class c {
  constructor(e) {
    this._resourceFactory = e, this._resources = null, this._visible = !0, this._attached = !1;
  }
  destroy() {
    this._destroyResources();
  }
  get object() {
    return null != this._resources ? this._resources.object : null;
  }
  get resources() {
    return null != this._resources ? this._resources.external : null;
  }
  get visible() {
    return this._visible;
  }
  set visible(e) {
    e !== this._visible && (this._visible = e, this._syncVisible());
  }
  get attached() {
    return this._attached;
  }
  set attached(e) {
    e !== this._attached && (this._attached = e, this._createOrDestroyResources());
  }
  recreate() {
    this.attached && this._createResources();
  }
  recreateGeometry() {
    if (!this._resourceFactory.recreateGeometry) return void this.recreate();
    const e = this._resourceFactory.view._stage;
    if (null == this._resources || !e) return;
    const s = this._resources.object;
    this._resources.external.forEach(s => {
      s.type !== _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Mesh && s.type !== _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Line && s.type !== _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Point || e.remove(s);
    }), s.removeAllGeometries(), this._resourceFactory.recreateGeometry(this._resources.external, s, this._resources.layer), this._resources.external.forEach(s => {
      s.type !== _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Mesh && s.type !== _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Line && s.type !== _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Point || e.add(s);
    });
  }
  _createOrDestroyResources() {
    this._attached ? this._resources || this._createResources() : this._destroyResources();
  }
  _createResources() {
    this._destroyResources();
    const c = this._resourceFactory,
      a = c.view,
      h = a._stage;
    if (!h) return;
    const u = new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_4__.WebGLLayer(h, {
        pickable: !1,
        updatePolicy: _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_3__.UpdatePolicy.SYNC
      }),
      l = new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_2__.Object3D({
        castShadow: !1
      }),
      n = c.createResources(l, u);
    n.forEach(e => {
      h.add(e), e.type === _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Texture && e.load(h.renderView.renderingContext);
    }), h.add(l), u.add(l);
    const _ = c.cameraChanged,
      y = _ ? (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__.watch)(() => a.state.camera, e => _(e), _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__.initial) : null;
    this._resources = {
      layer: u,
      object: l,
      external: n,
      cameraHandle: y
    }, this._syncVisible();
  }
  _destroyResources() {
    if (null == this._resources) return;
    const e = this._resourceFactory.view._stage;
    e && (e.remove(this._resources.object), this._resources.layer.destroy(), this._resources.external.forEach(s => {
      e.remove(s), s.type === _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Texture && s.unload();
    })), this._resources.object.dispose(), this._resources.cameraHandle?.remove(), this._resourceFactory.destroyResources(this._resources.external), this._resources = null;
  }
  _syncVisible() {
    null != this._resources && (this._resources.object.visible = this._visible);
  }
}


/***/ }),

/***/ 73510:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/LaserLineRenderer.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LaserLineRenderer": () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/maybe.js */ 53661);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ 20891);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../chunks/vec3.js */ 92950);
/* harmony import */ var _geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../geometry/support/clipRay.js */ 46658);
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/frustum.js */ 68075);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/support/lineSegment.js */ 19511);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/support/ray.js */ 32684);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ViewingMode.js */ 56108);
/* harmony import */ var _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./LaserlinePathData.js */ 24647);
/* harmony import */ var _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../webgl-engine/effects/RenderPlugin.js */ 44122);
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../webgl-engine/lib/RenderSlot.js */ 66176);
/* harmony import */ var _webgl_engine_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../webgl-engine/materials/internal/MaterialUtil.js */ 87578);
/* harmony import */ var _webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlinePathTechnique.js */ 27970);
/* harmony import */ var _webgl_engine_shaders_LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js */ 33248);
/* harmony import */ var _webgl_engine_shaders_LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlineTechnique.js */ 25672);
/* harmony import */ var _webgl_engine_shaders_LaserlineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlineTechniqueConfiguration.js */ 26826);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





















let D = class extends _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_14__.SyncPrepareRenderPlugin {
  constructor(e) {
    super(e), this._technique = null, this._heightManifoldEnabled = !1, this._pointDistanceEnabled = !1, this._lineVerticalPlaneEnabled = !1, this._intersectsLineEnabled = !1, this._intersectsLineInfinite = !1, this._viewingMode = _ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__.ViewingMode.Local, this._pathVerticalPlaneEnabled = !1, this._pathVerticalPlaneData = null, this._pathTechnique = null, this._passParameters = new _webgl_engine_shaders_LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_19__.LaserlinePassParameters(), this.produces = new Map([[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.LASERLINES, () => !this.contrastControlEnabled], [_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.LASERLINES_CONTRAST_CONTROL, () => this.contrastControlEnabled]]);
  }
  initialize() {
    this._passParameters.renderCoordsHelper = this.renderCoordsHelper;
  }
  consumes() {
    return _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_14__.ConsumesDepth;
  }
  get isDecoration() {
    return this._isDecoration;
  }
  get heightManifoldEnabled() {
    return this._heightManifoldEnabled;
  }
  set heightManifoldEnabled(e) {
    this._heightManifoldEnabled !== e && (this._heightManifoldEnabled = e, this._requestRender());
  }
  get heightManifoldTarget() {
    return this._passParameters.heightManifoldTarget;
  }
  set heightManifoldTarget(e) {
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.heightManifoldTarget, e), this._requestRender();
  }
  get pointDistanceEnabled() {
    return this._pointDistanceEnabled;
  }
  set pointDistanceEnabled(e) {
    e !== this._pointDistanceEnabled && (this._pointDistanceEnabled = e, this._requestRender());
  }
  get pointDistanceTarget() {
    return this._passParameters.pointDistanceTarget;
  }
  set pointDistanceTarget(e) {
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.pointDistanceTarget, e), this._requestRender();
  }
  get pointDistanceOrigin() {
    return this._passParameters.pointDistanceOrigin;
  }
  set pointDistanceOrigin(e) {
    (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.pointDistanceOrigin, e), this._requestRender();
  }
  get lineVerticalPlaneEnabled() {
    return this._lineVerticalPlaneEnabled;
  }
  set lineVerticalPlaneEnabled(e) {
    e !== this._lineVerticalPlaneEnabled && (this._lineVerticalPlaneEnabled = e, this._requestRender());
  }
  get lineVerticalPlaneSegment() {
    return this._passParameters.lineVerticalPlaneSegment;
  }
  set lineVerticalPlaneSegment(e) {
    (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__.copy)(e, this._passParameters.lineVerticalPlaneSegment), this._requestRender();
  }
  get intersectsLineEnabled() {
    return this._intersectsLineEnabled;
  }
  set intersectsLineEnabled(e) {
    e !== this._intersectsLineEnabled && (this._intersectsLineEnabled = e, this._requestRender());
  }
  get intersectsLineSegment() {
    return this._passParameters.intersectsLineSegment;
  }
  set intersectsLineSegment(e) {
    (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__.copy)(e, this._passParameters.intersectsLineSegment), this._requestRender();
  }
  get intersectsLineRadius() {
    return this._passParameters.intersectsLineRadius;
  }
  set intersectsLineRadius(e) {
    e !== this._passParameters.intersectsLineRadius && (this._passParameters.intersectsLineRadius = e, this._requestRender());
  }
  get intersectsLineInfinite() {
    return this._intersectsLineInfinite;
  }
  set intersectsLineInfinite(e) {
    e !== this._intersectsLineInfinite && (this._intersectsLineInfinite = e, this._requestRender());
  }
  get viewingMode() {
    return this._viewingMode;
  }
  set viewingMode(e) {
    e !== this._viewingMode && (this._viewingMode = e, this._requestRender());
  }
  get pathVerticalPlaneEnabled() {
    return this._pathVerticalPlaneEnabled;
  }
  set pathVerticalPlaneEnabled(e) {
    e !== this._pathVerticalPlaneEnabled && (this._pathVerticalPlaneEnabled = e, null != this._pathVerticalPlaneData && this._requestRender());
  }
  set pathVerticalPlaneVertices(e) {
    null == this._pathVerticalPlaneData && (this._pathVerticalPlaneData = new _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_13__.LaserlinePathData(this._passParameters.renderCoordsHelper)), this._pathVerticalPlaneData.vertices = e, this.pathVerticalPlaneEnabled && this._requestRender();
  }
  set pathVerticalPlaneBuffers(e) {
    null == this._pathVerticalPlaneData && (this._pathVerticalPlaneData = new _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_13__.LaserlinePathData(this._passParameters.renderCoordsHelper)), this._pathVerticalPlaneData.buffers = e, this.pathVerticalPlaneEnabled && this._requestRender();
  }
  setParameters(e) {
    (0,_webgl_engine_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_16__.updateParameters)(this._passParameters, e) && this._requestRender();
  }
  initializeRenderContext(e) {
    this._context = e, this._techniqueRepository = e.techniqueRepository, this._techniqueConfig = new _webgl_engine_shaders_LaserlineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__.LaserlineTechniqueConfiguration();
    const t = new _webgl_engine_shaders_LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.LaserlinePathTechniqueConfiguration();
    t.contrastControlEnabled = this.contrastControlEnabled, this._pathTechnique = this._techniqueRepository.acquire(_webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__.LaserlinePathTechnique, t);
  }
  uninitializeRenderContext() {
    this._technique = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.releaseMaybe)(this._technique), this._pathVerticalPlaneData = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._pathVerticalPlaneData), this._pathTechnique = (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.releaseMaybe)(this._pathTechnique);
  }
  prepareTechnique() {
    return this.heightManifoldEnabled || this.pointDistanceEnabled || this.lineVerticalPlaneSegment || this.intersectsLineEnabled ? (this._techniqueConfig.heightManifoldEnabled = this.heightManifoldEnabled, this._techniqueConfig.lineVerticalPlaneEnabled = this.lineVerticalPlaneEnabled, this._techniqueConfig.pointDistanceEnabled = this.pointDistanceEnabled, this._techniqueConfig.intersectsLineEnabled = this.intersectsLineEnabled, this._techniqueConfig.contrastControlEnabled = this.contrastControlEnabled, this._techniqueConfig.spherical = this._viewingMode === _ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__.ViewingMode.Global, this._technique = this._techniqueRepository.releaseAndAcquire(_webgl_engine_shaders_LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_19__.LaserlineTechnique, this._techniqueConfig, this._technique), this._technique) : this._pathTechnique;
  }
  renderNode(e, t) {
    (this.heightManifoldEnabled || this.pointDistanceEnabled || this.lineVerticalPlaneSegment || this.intersectsLineEnabled) && this._renderUnified(e, t), this.pathVerticalPlaneEnabled && this._renderPath(e);
  }
  _renderUnified(e, t) {
    const i = e.rctx;
    this._updatePassParameters(e), i.bindTechnique(t, this._passParameters, e.bindParameters), i.screen.draw();
  }
  _renderPath(e) {
    if (null == this._pathVerticalPlaneData || null == this._pathTechnique) return;
    const t = e.rctx,
      i = this._pathTechnique;
    t.bindTechnique(i, {
      ...this._passParameters,
      origin: this._pathVerticalPlaneData.origin
    }, e.bindParameters), this._pathVerticalPlaneData.draw(e.rctx);
  }
  _updatePassParameters(e) {
    if (!this._intersectsLineEnabled) return;
    const t = e.bindParameters.camera;
    if (this._intersectsLineInfinite) {
      if ((0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.fromRay)((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_11__.wrap)(this._passParameters.intersectsLineSegment.origin, this._passParameters.intersectsLineSegment.vector), S), S.c0 = -Number.MAX_VALUE, !(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_9__.intersectClipRay)(t.frustum, S)) return;
      (0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.getStart)(S, this._passParameters.lineStartWorld), (0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.getEnd)(S, this._passParameters.lineEndWorld);
    } else (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.lineStartWorld, this._passParameters.intersectsLineSegment.origin), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__.g)(this._passParameters.lineEndWorld, this._passParameters.intersectsLineSegment.origin, this._passParameters.intersectsLineSegment.vector);
  }
  _requestRender() {
    this._context && this._context.requestRender();
  }
  get test() {
    return {
      passParameters: this._passParameters
    };
  }
};
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  constructOnly: !0
})], D.prototype, "contrastControlEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  constructOnly: !0
})], D.prototype, "_isDecoration", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({
  constructOnly: !0
})], D.prototype, "renderCoordsHelper", void 0), D = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.support.LaserLineRenderer")], D);
const S = (0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.create)();


/***/ }),

/***/ 24647:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/LaserlinePathData.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LaserlinePathData": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/DoubleArray.js */ 10870);
/* harmony import */ var _buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./buffer/glUtil.js */ 36475);
/* harmony import */ var _buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./buffer/InterleavedLayout.js */ 61462);
/* harmony import */ var _webgl_engine_lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webgl-engine/lib/VertexArrayObject.js */ 97118);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../webgl-engine/lib/VertexAttribute.js */ 51663);
/* harmony import */ var _webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlinePathTechnique.js */ 27970);
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../webgl/BufferObject.js */ 10615);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl/enums.js */ 69923);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










class c {
  constructor(e) {
    this._renderCoordsHelper = e, this._buffers = null, this._origin = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(), this._dirty = !1, this._count = 0, this._vao = null;
  }
  set vertices(e) {
    const t = (0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__.newDoubleArray)(3 * e.length);
    let r = 0;
    for (const s of e) t[r++] = s[0], t[r++] = s[1], t[r++] = s[2];
    this.buffers = [t];
  }
  set buffers(t) {
    if (this._buffers = t, this._buffers.length > 0) {
      const t = this._buffers[0],
        r = 3 * Math.floor(t.length / 3 / 2);
      (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(this._origin, t[r], t[r + 1], t[r + 2]);
    } else (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(this._origin, 0, 0, 0);
    this._dirty = !0;
  }
  get origin() {
    return this._origin;
  }
  draw(e) {
    const t = this._ensureVAO(e);
    null != t && (e.bindVAO(t), e.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.PrimitiveType.TRIANGLES, 0, this._count));
  }
  dispose() {
    null != this._vao && this._vao.dispose();
  }
  _ensureVAO(e) {
    return null == this._buffers ? null : (null == this._vao && (this._vao = this._createVAO(e, this._buffers)), this._ensureVertexData(this._vao, this._buffers), this._vao);
  }
  _createVAO(e, t) {
    const r = this._createDataBuffer(t);
    return this._dirty = !1, new _webgl_engine_lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_5__.VertexArrayObject(e, _webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_7__.attributeLocations, {
      data: (0,_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__.glLayout)(b)
    }, {
      data: _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__.BufferObject.createVertex(e, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.Usage.STATIC_DRAW, r)
    });
  }
  _ensureVertexData(e, t) {
    if (!this._dirty) return;
    const r = this._createDataBuffer(t);
    e.vertexBuffers.data?.setData(r), this._dirty = !1;
  }
  _numberOfRenderVertices(e) {
    return 3 * (2 * (e.length / 3 - 1));
  }
  _createDataBuffer(r) {
    const s = r.reduce((e, t) => e + this._numberOfRenderVertices(t), 0);
    this._count = s;
    const i = b.createBuffer(s),
      o = this._origin;
    let n = 0,
      u = 0;
    for (const f of r) {
      for (let r = 0; r < f.length; r += 3) {
        const s = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(d, f[r], f[r + 1], f[r + 2]);
        0 === r ? u = this._renderCoordsHelper.getAltitude(s) : this._renderCoordsHelper.setAltitude(s, u);
        const a = this._renderCoordsHelper.worldUpAtPosition(s, _),
          l = n + 2 * r,
          h = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(d, s, o);
        if (r < f.length - 3) {
          i.up.setVec(l, a), i.up.setVec(l + 3, a), i.up.setVec(l + 5, a);
          for (let e = 0; e < 6; e++) i.start.setVec(l + e, h);
          i.extrude.setValues(l, 0, -1), i.extrude.setValues(l + 1, 1, -1), i.extrude.setValues(l + 2, 1, 1), i.extrude.setValues(l + 3, 0, -1), i.extrude.setValues(l + 4, 1, 1), i.extrude.setValues(l + 5, 0, 1);
        }
        if (r > 0) {
          i.up.setVec(l - 2, a), i.up.setVec(l - 4, a), i.up.setVec(l - 5, a);
          for (let e = -6; e < 0; e++) i.end.setVec(l + e, h);
        }
      }
      n += this._numberOfRenderVertices(f);
    }
    return i.buffer;
  }
}
const _ = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
  d = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
  b = (0,_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__.newLayout)().vec3f(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.START).vec3f(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.END).vec3f(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.UP).vec2f(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.EXTRUDE);


/***/ }),

/***/ 23954:
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fromRender": () => (/* binding */ p),
/* harmony export */   "fromRenderAtEye": () => (/* binding */ l),
/* harmony export */   "fromScreen": () => (/* binding */ g),
/* harmony export */   "fromScreenAtEye": () => (/* binding */ f),
/* harmony export */   "fromScreenNormalized": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ 55798);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ 80775);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ 32684);
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ 73130);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





function m(e, n, t = (0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_3__.create)()) {
  return g(e, (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.screenPointObjectToArray)(n), t), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.n)(t.direction, t.direction), t;
}
function g(r, n, o) {
  return p(r, r.screenToRender(n, (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.castRenderScreenPointArray3)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get())), o);
}
function p(r, o, c) {
  const i = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.castRenderScreenPointArray3)((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.j)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(), o));
  if (i[2] = 0, !r.unprojectFromRenderScreen(i, c.origin)) return null;
  const s = (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.castRenderScreenPointArray3)((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.j)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(), o));
  s[2] = 1;
  const m = r.unprojectFromRenderScreen(s, _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get());
  return null == m ? null : ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(c.direction, m, c.origin), c);
}
function f(r, n, o) {
  return l(r, r.screenToRender(n, (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.castRenderScreenPointArray3)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get())), o);
}
function l(r, e, n) {
  (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(n.origin, r.eye);
  const o = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(), e[0], e[1], 1),
    s = r.unprojectFromRenderScreen(o, _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get());
  return null == s ? null : ((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(n.direction, s, n.origin), n);
}


/***/ }),

/***/ 40821:
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Laserline": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./output/ReadLinearDepth.glsl.js */ 46018);
/* harmony import */ var _util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/CameraSpace.glsl.js */ 14302);
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shaderModules/Float2PassUniform.js */ 71882);
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shaderModules/Float3PassUniform.js */ 26615);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shaderModules/interfaces.js */ 99106);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shaderModules/Texture2DPassUniform.js */ 94391);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







function d(d, i) {
  const s = d.fragment;
  s.include(_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ReadLinearDepth), d.include(_util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_1__.CameraSpace), s.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("globalAlpha", o => o.globalAlpha), new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float3PassUniform("glowColor", o => o.glowColor), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("glowWidth", (o, e) => o.glowWidth * e.camera.pixelRatio), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("glowFalloff", o => o.glowFalloff), new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float3PassUniform("innerColor", o => o.innerColor), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("innerWidth", (o, e) => o.innerWidth * e.camera.pixelRatio), new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("depthMap", (o, e) => e.linearDepth?.colorTexture), new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float2PassUniform("nearFar", (o, e) => e.camera.nearFar), new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("frameColor", (o, e) => e.mainColor)), s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`vec4 blendPremultiplied(vec4 source, vec4 dest) {
float oneMinusSourceAlpha = 1.0 - source.a;
return vec4(
source.rgb + dest.rgb * oneMinusSourceAlpha,
source.a + dest.a * oneMinusSourceAlpha
);
}`), s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`vec4 premultipliedColor(vec3 rgb, float alpha) {
return vec4(rgb * alpha, alpha);
}`), s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`vec4 laserlineProfile(float dist) {
if (dist > glowWidth) {
return vec4(0.0);
}
float innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));
float glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);
return blendPremultiplied(
premultipliedColor(innerColor, innerAlpha),
premultipliedColor(glowColor, glowAlpha)
);
}`), s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {
float depth = linearDepthFromTexture(depthMap, uv, nearFar);
if (-depth == nearFar[0]) {
return false;
}
pos = reconstructPosition(gl_FragCoord.xy, depth);
normal = normalize(cross(dFdx(pos), dFdy(pos)));
float ddepth = fwidth(depth);
depthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);
return true;
}`), i.contrastControlEnabled ? (s.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("globalAlphaContrastBoost", o => null != o.globalAlphaContrastBoost ? o.globalAlphaContrastBoost : 1)), s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`float rgbToLuminance(vec3 color) {
return dot(vec3(0.2126, 0.7152, 0.0722), color);
}
vec4 laserlineOutput(vec4 color) {
float backgroundLuminance = rgbToLuminance(texture(frameColor, uv).rgb);
float alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);
return color * alpha;
}`)) : s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl`vec4 laserlineOutput(vec4 color) {
return color * globalAlpha;
}`);
}


/***/ }),

/***/ 49469:
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ScreenSizeScaling": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/View.glsl.js */ 19349);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderModules/FloatPassUniform.js */ 43282);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shaderModules/interfaces.js */ 99106);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



function o(o, c) {
  if (!c.screenSizeEnabled) return;
  const n = o.vertex;
  (0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addCameraPosition)(n, c), n.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.FloatPassUniform("perScreenPixelRatio", (e, i) => i.camera.perScreenPixelRatio), new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.FloatPassUniform("screenSizeScale", e => e.screenSizeScale)), n.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl`float computeRenderPixelSizeAt( vec3 pWorld ){
vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);
float viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));
return viewDirectionDistance * perScreenPixelRatio;
}
vec3 screenSizeScaling(vec3 position, vec3 anchor){
return position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;
}`);
}


/***/ }),

/***/ 79086:
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShadedColorMaterial": () => (/* binding */ j),
/* harmony export */   "ShadedColorMaterialParameters": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ 92950);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ 91746);
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ 73327);
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ 97498);
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ 61462);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ 2754);
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/GLMaterial.js */ 44272);
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/Material.js */ 32051);
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/RenderSlot.js */ 66176);
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/Util.js */ 12042);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ 51663);
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ 35919);
/* harmony import */ var _internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./internal/MaterialUtil.js */ 87578);
/* harmony import */ var _shaders_ShadedColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../shaders/ShadedColorMaterialTechnique.js */ 55084);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
















class j extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_9__.Material {
  constructor(e) {
    super(e, new v()), this.supportsEdges = !0, this._configuration = new _shaders_ShadedColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_15__.ShadedColorMaterialTechniqueConfiguration(), this._vertexAttributeLocations = _shaders_ShadedColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_15__.vertexAttributeLocations;
  }
  getConfiguration(e, t) {
    return this._configuration.output = e, this._configuration.cullFace = this.parameters.cullFace, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.transparent = this._isTransparent, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.screenSizeEnabled = this.parameters.screenSizeEnabled, this._configuration.shadingEnabled = this.parameters.shadingEnabled, this._configuration.transparencyPassType = t.transparencyPassType, this._configuration.multipassEnabled = t.multipassEnabled, this._configuration.cullAboveGround = t.multipassTerrain.cullAboveGround, this._configuration;
  }
  intersect(e, s, a, c, l, u) {
    if (this.parameters.screenSizeEnabled) {
      const s = e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.OFFSET),
        h = {
          applyToVertex: (e, n, o, c) => {
            const l = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(z, s.data[3 * c], s.data[3 * c + 1], s.data[3 * c + 2]),
              u = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(L, e, n, o);
            return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(l, l, this.parameters.screenSizeScale * a.camera.computeScreenPixelSizeAt(l)), (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(u, u, l), [u[0], u[1], u[2]];
          },
          applyToAabb: e => {
            const t = (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.center)(e, z);
            return (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.scale)(e, this.parameters.screenSizeScale * a.camera.computeScreenPixelSizeAt(t));
          }
        };
      (0,_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_14__.intersectTriangleGeometry)(e, a, c, l, h, u);
    } else (0,_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_14__.intersectTriangleGeometry)(e, a, c, l, void 0, u);
  }
  produces(e, t) {
    if (t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_6__.ShaderOutput.Highlight) return e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_10__.RenderSlot.OPAQUE_MATERIAL;
    if (t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_6__.ShaderOutput.Color || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_6__.ShaderOutput.Alpha || t === _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_6__.ShaderOutput.ObjectAndLayerIdColor) {
      let t = _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_10__.RenderSlot.OPAQUE_MATERIAL;
      return this._isTransparent && (t = this.parameters.writeDepth ? _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_10__.RenderSlot.TRANSPARENT_MATERIAL : _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_10__.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL), e === t || e === _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_10__.RenderSlot.DRAPED_MATERIAL;
    }
    return !1;
  }
  createGLMaterial(e) {
    return new O(e);
  }
  createBufferWriter() {
    return new w(this.parameters.screenSizeEnabled);
  }
  get _isTransparent() {
    return this.parameters.color[3] < 1 || this.parameters.forceTransparentMode;
  }
}
class O extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_8__["default"] {
  beginSlot(e) {
    return this.ensureTechnique(_shaders_ShadedColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_15__.ShadedColorMaterialTechnique, e);
  }
}
class v extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_9__.MaterialParameters {
  constructor() {
    super(...arguments), this.color = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(1, 1, 1, 1), this.shadingTint = (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(0, 0, 0, .25), this.shadingDirection = (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(), [.5, -.5, -.5]), this.screenSizeScale = 14, this.forceTransparentMode = !1, this.writeDepth = !0, this.hasSlicePlane = !1, this.cullFace = _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__.CullFaceOptions.None, this.screenSizeEnabled = !1, this.shadingEnabled = !0;
  }
}
class w {
  constructor(e) {
    this.screenSizeEnabled = e;
    const t = (0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_5__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.NORMAL);
    this.screenSizeEnabled && t.vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.OFFSET), this.vertexBufferLayout = t;
  }
  elementCount(e) {
    return e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION).indices.length;
  }
  write(e, t, r, i, s) {
    if ((0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_13__.writeDefaultAttributes)(r, this.vertexBufferLayout, e, t, i, s), this.screenSizeEnabled) {
      if (!r.attributes.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.OFFSET)) throw new Error(`${_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);
      {
        const e = r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.OFFSET);
        (0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_11__.assert)(3 === e.size);
        const a = i.getField(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.OFFSET, _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_4__.BufferViewVec3f);
        if (!a) throw new Error("unable to acquire view for " + _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.OFFSET);
        (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_13__.writePosition)(e, t, a, s);
      }
    }
  }
}
const z = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),
  L = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ 27970:
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LaserlinePathTechnique": () => (/* binding */ m),
/* harmony export */   "attributeLocations": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/Program.js */ 44505);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ 51663);
/* harmony import */ var _chunks_LaserlinePath_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/LaserlinePath.glsl.js */ 12938);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/







class m extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique {
  initializeProgram(e) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_2__.Program(e.rctx, m.shader.get().build(this.configuration), h);
  }
  initializePipeline() {
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.makePipelineState)({
      blending: (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.BlendFactor.ONE_MINUS_SRC_ALPHA),
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.defaultColorWriteParams
    });
  }
}
m.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_LaserlinePath_glsl_js__WEBPACK_IMPORTED_MODULE_4__.L, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_LaserlinePath_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./LaserlinePath.glsl.js */ 99949)));
const h = new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.START, 0], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.END, 1], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.UP, 2], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.EXTRUDE, 3]]);


/***/ }),

/***/ 33248:
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LaserlinePathTechniqueConfiguration": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ 88721);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/


class e extends _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechniqueConfiguration {
  constructor() {
    super(...arguments), this.contrastControlEnabled = !1;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()], e.prototype, "contrastControlEnabled", void 0);


/***/ }),

/***/ 25672:
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LaserlinePassParameters": () => (/* binding */ f),
/* harmony export */   "LaserlineTechnique": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ 93142);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ 77765);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ 19511);
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderModules/interfaces.js */ 99106);
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ 61089);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Program.js */ 44505);
/* harmony import */ var _chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/Laserlines.glsl.js */ 99095);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/











class f extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.NoParameters {
  constructor() {
    super(...arguments), this.innerColor = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.f)(1, 1, 1), this.innerWidth = 1, this.glowColor = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.f)(1, .5, 0), this.glowWidth = 8, this.glowFalloff = 8, this.globalAlpha = .75, this.globalAlphaContrastBoost = 2, this.angleCutoff = (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(6), this.pointDistanceOrigin = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(), this.pointDistanceTarget = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(), this.lineVerticalPlaneSegment = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.create)(), this.intersectsLineSegment = (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.create)(), this.intersectsLineRadius = 3, this.heightManifoldTarget = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(), this.lineStartWorld = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(), this.lineEndWorld = (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();
  }
}
class p extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_5__.ShaderTechnique {
  initializeProgram(e) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_7__.Program(e.rctx, p.shader.get().build(this.configuration), _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_6__.Default3D);
  }
  initializePipeline() {
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({
      blending: (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE, _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE_MINUS_SRC_ALPHA),
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWriteParams
    });
  }
}
p.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_4__.ReloadableShaderModule(_chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_8__.L, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_Laserlines_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./Laserlines.glsl.js */ 39188)));


/***/ }),

/***/ 26826:
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechniqueConfiguration.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LaserlineTechniqueConfiguration": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ 88721);
/* harmony import */ var _LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LaserlinePathTechniqueConfiguration.js */ 33248);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class n extends _LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.LaserlinePathTechniqueConfiguration {
  constructor() {
    super(...arguments), this.heightManifoldEnabled = !1, this.pointDistanceEnabled = !1, this.lineVerticalPlaneEnabled = !1, this.intersectsLineEnabled = !1, this.spherical = !1;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()], n.prototype, "heightManifoldEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()], n.prototype, "pointDistanceEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()], n.prototype, "lineVerticalPlaneEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()], n.prototype, "intersectsLineEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()], n.prototype, "spherical", void 0);


/***/ }),

/***/ 55084:
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShadedColorMaterialTechnique": () => (/* binding */ T),
/* harmony export */   "ShadedColorMaterialTechniqueConfiguration": () => (/* binding */ j),
/* harmony export */   "vertexAttributeLocations": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ 26573);
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ 42757);
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ 37362);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ 88721);
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ 2754);
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ 31700);
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Program.js */ 44505);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ 63984);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ 51663);
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ 58396);
/* harmony import */ var _chunks_ShadedColorMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/ShadedColorMaterial.glsl.js */ 35421);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../webgl/renderState.js */ 22473);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/














class T extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__.ShaderTechnique {
  initializeProgram(e) {
    return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_7__.Program(e.rctx, T.shader.get().build(this.configuration), v);
  }
  _setPipelineState(e) {
    const r = this.configuration,
      o = e === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__.TransparencyPassType.NONE,
      i = e === _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__.TransparencyPassType.FrontFace;
    return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_13__.makePipelineState)({
      blending: r.output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color && r.output !== _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha || !r.transparent ? null : o ? _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__.blendingDefault : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__.oitBlending)(e),
      culling: (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_13__.cullingParams)(r.cullFace),
      depthTest: {
        func: i ? _webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.CompareFunction.LESS : r.shadingEnabled ? _webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.CompareFunction.LEQUAL : _webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.CompareFunction.LESS
      },
      depthWrite: o ? r.writeDepth ? _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_13__.defaultDepthWriteParams : null : (0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__.oitDepthWrite)(e),
      colorWrite: _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_13__.defaultColorWriteParams,
      polygonOffset: o || i ? null : _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__.OITPolygonOffset
    });
  }
  initializePipeline() {
    return this._setPipelineState(this.configuration.transparencyPassType);
  }
}
T.shader = new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__.ReloadableShaderModule(_chunks_ShadedColorMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_11__.S, () => __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_ShadedColorMaterial_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./ShadedColorMaterial.glsl.js */ 47696)));
class j extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_10__.DefaultTechniqueConfiguration {
  constructor() {
    super(...arguments), this.output = _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color, this.cullFace = _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.CullFaceOptions.None, this.transparencyPassType = _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__.TransparencyPassType.NONE, this.hasSlicePlane = !1, this.transparent = !1, this.writeDepth = !0, this.screenSizeEnabled = !0, this.shadingEnabled = !0, this.multipassEnabled = !1, this.cullAboveGround = !1;
  }
}
(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)({
  count: _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT
})], j.prototype, "output", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)({
  count: _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.CullFaceOptions.COUNT
})], j.prototype, "cullFace", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)({
  count: _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_8__.TransparencyPassType.COUNT
})], j.prototype, "transparencyPassType", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()], j.prototype, "hasSlicePlane", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()], j.prototype, "transparent", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()], j.prototype, "writeDepth", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()], j.prototype, "screenSizeEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()], j.prototype, "shadingEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()], j.prototype, "multipassEnabled", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()], j.prototype, "cullAboveGround", void 0), (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)({
  constValue: !1
})], j.prototype, "occlusionPass", void 0);
const v = new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.POSITION, 0], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.NORMAL, 1], [_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.OFFSET, 2]]);


/***/ })

}]);
//# sourceMappingURL=default-node_modules_arcgis_core_geometry_projection_computeTranslationToOriginAndRotation_js-d30136.js.map