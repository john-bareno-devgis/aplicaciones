{"version":3,"file":"node_modules_arcgis_core_layers_MapImageLayer_js.js","mappings":"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","sources":["./node_modules/@arcgis/core/layers/MapImageLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../TimeExtent.js\";import i from\"../core/Error.js\";import{loadAll as o}from\"../core/loadAll.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as a,isAbortError as p}from\"../core/promiseUtils.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import{Integer as m}from\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{reader as l}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as u}from\"../core/accessorSupport/decorators/writer.js\";import{nameToId as y,OriginId as d}from\"../core/accessorSupport/PropertyOrigin.js\";import h from\"../geometry/Extent.js\";import{getScale as f}from\"../geometry/support/scaleUtils.js\";import{srToRESTValue as g}from\"../geometry/support/spatialReferenceUtils.js\";import b from\"./Layer.js\";import{APIKeyMixin as j}from\"./mixins/APIKeyMixin.js\";import{ArcGISMapService as v}from\"./mixins/ArcGISMapService.js\";import{ArcGISService as x}from\"./mixins/ArcGISService.js\";import{BlendLayer as S}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as I}from\"./mixins/CustomParametersMixin.js\";import{OperationalLayer as w}from\"./mixins/OperationalLayer.js\";import{PortalLayer as T}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as O}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as E}from\"./mixins/ScaleRangeLayer.js\";import{SublayersOwner as L}from\"./mixins/SublayersOwner.js\";import{TemporalLayer as M}from\"./mixins/TemporalLayer.js\";import{url as P}from\"./support/commonProperties.js\";import{ExportImageParameters as U}from\"./support/ExportImageParameters.js\";import{createBitmap as R}from\"./support/imageBitmapUtils.js\";import F from\"./support/Sublayer.js\";import{shouldWriteSublayerStructure as A}from\"./support/sublayerUtils.js\";import{serviceSupportsSpatialReference as N}from\"./support/versionUtils.js\";import{timeZoneProperty as q}from\"../time/timeZoneUtils.js\";let J=class extends(S(M(E(L(v(x(w(T(s(O(j(I(b))))))))))))){constructor(...e){super(...e),this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat=\"png24\",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType=\"ArcGISMapServiceLayer\",this.preferredTimeZone=null,this.sourceJSON=null,this.sublayers=null,this.type=\"map-image\",this.url=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Map Service\"]},e).catch(a).then((()=>this._fetchService(r)))),Promise.resolve(this)}readImageFormat(e,r){const t=r.supportedImageFormatTypes;return t&&t.includes(\"PNG32\")?\"png32\":\"png24\"}writeSublayers(e,r,t,i){if(!this.loaded||!e)return;const o=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray();let s=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap?.supportsDynamicLayers){const e=y(i.origin);if(e===d.PORTAL_ITEM){const e=this.createSublayersForOrigin(\"service\").sublayers;s=A(o,e,d.SERVICE)}else if(e>d.PORTAL_ITEM){const e=this.createSublayersForOrigin(\"portal-item\");s=A(o,e.sublayers,y(e.origin))}}const a=[],p={writeSublayerStructure:s,...i};let n=s;o.forEach((e=>{const r=e.write({},p);a.push(r),n=n||\"user\"===e.originOf(\"visible\")}));a.some((e=>Object.keys(e).length>1))&&(r.layers=a),n&&(r.visibleLayers=o.filter((e=>e.visible)).map((e=>e.id)))}createExportImageParameters(e,r,t,i){const o=i?.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian());const s=new U({layer:this,floors:i?.floors,scale:f({extent:e,width:r})*o}),a=s.toJSON();s.destroy();const p=!i?.rotation||this.version<10.3?{}:{rotation:-i.rotation},n=e?.spatialReference,m=g(n);a.dpi*=o;const l={};if(i?.timeExtent){const{start:e,end:r}=i.timeExtent.toJSON();l.time=e&&r&&e===r?\"\"+e:`${e??\"null\"},${r??\"null\"}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(l.time=\"null,null\");return{bbox:e&&e.xmin+\",\"+e.ymin+\",\"+e.xmax+\",\"+e.ymax,bboxSR:m,imageSR:m,size:r+\",\"+t,...a,...p,...l}}async fetchImage(e,r,t,i){const{data:o}=await this._fetchImage(\"image\",e,r,t,i);return o}async fetchImageBitmap(e,r,t,i){const{data:o,url:s}=await this._fetchImage(\"blob\",e,r,t,i);return R(o,s,i?.signal)}async fetchRecomputedExtents(e={}){const i={...e,query:{returnUpdates:!0,f:\"json\",...this.customParameters,token:this.apiKey}},{data:o}=await r(this.url,i),{extent:s,fullExtent:a,timeExtent:p}=o,n=s||a;return{fullExtent:n&&h.fromJSON(n),timeExtent:p&&t.fromJSON({start:p[0],end:p[1]})}}loadAll(){return o(this,(e=>{e(this.allSublayers)}))}serviceSupportsSpatialReference(e){return N(this,e)}async _fetchImage(e,t,o,s,a){const n={responseType:e,signal:a?.signal??null,query:{...this.parsedUrl.query,...this.createExportImageParameters(t,o,s,a),f:\"image\",...this.refreshParameters,...this.customParameters,token:this.apiKey}},m=this.parsedUrl.path+\"/export\";if(null!=n.query?.dynamicLayers&&!this.capabilities?.exportMap?.supportsDynamicLayers)throw new i(\"mapimagelayer:dynamiclayer-not-supported\",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:n.query});try{const{data:e}=await r(m,n);return{data:e,url:m}}catch(l){if(p(l))throw l;throw new i(\"mapimagelayer:image-fetch-error\",`Unable to load image: ${m}`,{error:l})}}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:\"service\",url:this.parsedUrl});const{data:t,ssl:i}=await r(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},signal:e});i&&(this.url=this.url.replace(/^http:/i,\"https:\")),this.sourceJSON=t,this.read(t,{origin:\"service\",url:this.parsedUrl})}};e([n(q(\"dateFieldsTimeReference\"))],J.prototype,\"dateFieldsTimeZone\",void 0),e([n({type:Boolean})],J.prototype,\"datesInUnknownTimezone\",void 0),e([n()],J.prototype,\"dpi\",void 0),e([n()],J.prototype,\"gdbVersion\",void 0),e([n()],J.prototype,\"imageFormat\",void 0),e([l(\"imageFormat\",[\"supportedImageFormatTypes\"])],J.prototype,\"readImageFormat\",null),e([n({json:{origins:{service:{read:{source:\"maxImageHeight\"}}}}})],J.prototype,\"imageMaxHeight\",void 0),e([n({json:{origins:{service:{read:{source:\"maxImageWidth\"}}}}})],J.prototype,\"imageMaxWidth\",void 0),e([n()],J.prototype,\"imageTransparency\",void 0),e([n({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],J.prototype,\"isReference\",void 0),e([n({json:{read:!1,write:!1}})],J.prototype,\"labelsVisible\",void 0),e([n({type:[\"ArcGISMapServiceLayer\"]})],J.prototype,\"operationalLayerType\",void 0),e([n({json:{read:!1,write:!1}})],J.prototype,\"popupEnabled\",void 0),e([n(q(\"preferredTimeReference\"))],J.prototype,\"preferredTimeZone\",void 0),e([n()],J.prototype,\"sourceJSON\",void 0),e([n({json:{write:{ignoreOrigin:!0}}})],J.prototype,\"sublayers\",void 0),e([u(\"sublayers\",{layers:{type:[F]},visibleLayers:{type:[m]}})],J.prototype,\"writeSublayers\",null),e([n({type:[\"show\",\"hide\",\"hide-children\"]})],J.prototype,\"listMode\",void 0),e([n({json:{read:!1},readOnly:!0,value:\"map-image\"})],J.prototype,\"type\",void 0),e([n(P)],J.prototype,\"url\",void 0),J=e([c(\"esri.layers.MapImageLayer\")],J);const _=J;export{_ as default};\n"],"names":["_","e","r","t","i","loadAll","o","MultiOriginJSONMixin","s","throwIfAbortError","a","isAbortError","p","property","n","Integer","m","reader","l","subclass","c","writer","u","nameToId","y","OriginId","d","h","getScale","f","srToRESTValue","g","b","APIKeyMixin","j","ArcGISMapService","v","ArcGISService","x","BlendLayer","S","CustomParametersMixin","I","OperationalLayer","w","PortalLayer","T","RefreshableLayer","O","ScaleRangeLayer","E","SublayersOwner","L","TemporalLayer","M","url","P","ExportImageParameters","U","createBitmap","R","F","shouldWriteSublayerStructure","A","serviceSupportsSpatialReference","N","timeZoneProperty","q","J","constructor","dateFieldsTimeZone","datesInUnknownTimezone","dpi","gdbVersion","imageFormat","imageMaxHeight","imageMaxWidth","imageTransparency","isReference","labelsVisible","operationalLayerType","preferredTimeZone","sourceJSON","sublayers","type","normalizeCtorArgs","load","signal","addResolvingPromise","loadFromPortal","supportedTypes","catch","then","_fetchService","Promise","resolve","readImageFormat","supportedImageFormatTypes","includes","writeSublayers","loaded","slice","reverse","flatten","toArray","capabilities","operations","supportsExportMap","exportMap","supportsDynamicLayers","origin","PORTAL_ITEM","createSublayersForOrigin","SERVICE","writeSublayerStructure","forEach","write","push","originOf","some","Object","keys","length","layers","visibleLayers","filter","visible","map","id","createExportImageParameters","pixelRatio","version","clone","shiftCentralMeridian","layer","floors","scale","extent","width","toJSON","destroy","rotation","spatialReference","timeExtent","start","end","time","timeInfo","hasLiveData","bbox","xmin","ymin","xmax","ymax","bboxSR","imageSR","size","fetchImage","data","_fetchImage","fetchImageBitmap","fetchRecomputedExtents","query","returnUpdates","customParameters","token","apiKey","fullExtent","fromJSON","allSublayers","responseType","parsedUrl","refreshParameters","path","dynamicLayers","error","read","ssl","replace","prototype","Boolean","json","origins","service","source","enabled","overridePolicy","ignoreOrigin","readOnly","value","default"],"sourceRoot":"webpack:///","x_google_ignoreList":[0]}