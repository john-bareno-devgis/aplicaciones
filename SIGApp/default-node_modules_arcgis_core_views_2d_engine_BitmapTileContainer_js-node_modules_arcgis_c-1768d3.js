"use strict";
(self["webpackChunkrealgis"] = self["webpackChunkrealgis"] || []).push([["default-node_modules_arcgis_core_views_2d_engine_BitmapTileContainer_js-node_modules_arcgis_c-1768d3"],{

/***/ 88770:
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/Bitmap.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Bitmap": () => (/* binding */ b),
/* harmony export */   "isImageSource": () => (/* binding */ f),
/* harmony export */   "rasterize": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ 30801);
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/mat3.js */ 38974);
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/mat3f32.js */ 40334);
/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec2f32.js */ 12288);
/* harmony import */ var _DisplayObject_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DisplayObject.js */ 99390);
/* harmony import */ var _ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ImageryBitmapSource.js */ 7585);
/* harmony import */ var _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl/contextUtils.js */ 40331);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../webgl/enums.js */ 69923);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl/Texture.js */ 74697);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl/TextureDescriptor.js */ 13229);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/










function f(t) {
  return t && "render" in t;
}
function w(t) {
  const e = document.createElement("canvas");
  return e.width = t.width, e.height = t.height, t.render(e.getContext("2d")), e;
}
function v(t) {
  return f(t) ? t instanceof _ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_6__["default"] ? t.getRenderedRasterPixels()?.renderedRasterPixels : w(t) : t;
}
class b extends _DisplayObject_js__WEBPACK_IMPORTED_MODULE_5__.DisplayObject {
  constructor(t = null, e = !1) {
    super(), this.blendFunction = "standard", this._sourceWidth = 0, this._sourceHeight = 0, this._textureInvalidated = !1, this._texture = null, this.stencilRef = 0, this.coordScale = [1, 1], this._height = void 0, this.pixelRatio = 1, this.resolution = 0, this.rotation = 0, this._source = null, this._width = void 0, this.x = 0, this.y = 0, this.immutable = e, this.source = t, this.requestRender = this.requestRender.bind(this);
  }
  destroy() {
    this._texture && (this._texture.dispose(), this._texture = null), null != this._uploadStatus && (this._uploadStatus.controller.abort(), this._uploadStatus = null);
  }
  get isSourceScaled() {
    return this.width !== this._sourceWidth || this.height !== this._sourceHeight;
  }
  get height() {
    return void 0 !== this._height ? this._height : this._sourceHeight;
  }
  set height(t) {
    this._height = t;
  }
  get source() {
    return this._source;
  }
  set source(t) {
    null == t && null == this._source || (this._source = t, this.invalidateTexture(), this.requestRender());
  }
  get width() {
    return void 0 !== this._width ? this._width : this._sourceWidth;
  }
  set width(t) {
    this._width = t;
  }
  beforeRender(t) {
    super.beforeRender(t), this.updateTexture(t);
  }
  setSourceAsync(s, i) {
    var _this = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      null != _this._uploadStatus && _this._uploadStatus.controller.abort();
      const r = new AbortController(),
        h = (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createResolver)();
      return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.onAbortOrThrow)(i, () => r.abort()), (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.onAbortOrThrow)(r, t => h.reject(t)), _this._uploadStatus = {
        controller: r,
        resolver: h
      }, _this.source = s, h.promise;
    })();
  }
  invalidateTexture() {
    this._textureInvalidated || (this._textureInvalidated = !0, this._source instanceof HTMLImageElement ? (this._sourceHeight = this._source.naturalHeight, this._sourceWidth = this._source.naturalWidth) : this._source && (this._sourceHeight = this._source.height, this._sourceWidth = this._source.width));
  }
  updateTransitionProperties(t, e) {
    t >= 64 && (this.fadeTransitionEnabled = !1, this.inFadeTransition = !1), super.updateTransitionProperties(t, e);
  }
  setTransform(t) {
    const e = (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.transforms.dvs),
      [s, a] = t.toScreenNoRotation([0, 0], [this.x, this.y]),
      d = this.resolution / this.pixelRatio / t.resolution,
      l = d * this.width,
      c = d * this.height,
      _ = Math.PI * this.rotation / 180;
    (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.h)(e, e, (0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(s, a)), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.h)(e, e, (0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(l / 2, c / 2)), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.r)(e, e, -_), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.h)(e, e, (0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(-l / 2, -c / 2)), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.l)(e, e, (0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(l, c)), (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.m)(this.transforms.dvs, t.displayViewMat3, e);
  }
  setSamplingProfile(t) {
    this._texture && (t.mips && !this._texture.descriptor.hasMipmap && this._texture.generateMipmap(), this._texture.setSamplingMode(t.samplingMode));
  }
  bind(t, e) {
    this._texture && t.bindTexture(this._texture, e);
  }
  updateTexture({
    context: t,
    painter: e
  }) {
    var _this2 = this;
    return (0,_home_ohnj_Documentos_realG4Life_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this2._textureInvalidated) return;
      if (_this2._textureInvalidated = !1, _this2._texture || (_this2._texture = _this2._createTexture(t)), !_this2.source) return void _this2._texture.setData(null);
      _this2._texture.resize(_this2._sourceWidth, _this2._sourceHeight);
      const i = v(_this2.source);
      try {
        if (null != _this2._uploadStatus) {
          const {
              controller: t,
              resolver: s
            } = _this2._uploadStatus,
            r = {
              signal: t.signal
            },
            {
              width: h,
              height: o
            } = _this2,
            u = _this2._texture,
            a = e.textureUploadManager;
          yield a.enqueueTextureUpdate({
            data: i,
            texture: u,
            width: h,
            height: o
          }, r), s.resolve(), _this2._uploadStatus = null;
        } else _this2._texture.setData(i);
        _this2.ready();
      } catch (r) {
        (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfNotAbortError)(r);
      }
    })();
  }
  onDetach() {
    this.destroy();
  }
  _createTransforms() {
    return {
      dvs: (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_3__.c)()
    };
  }
  _createTexture(t) {
    const e = this.immutable && t.type === _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_7__.ContextType.WEBGL2,
      s = new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_10__.TextureDescriptor();
    return s.internalFormat = e ? _webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__.SizedPixelFormat.RGBA8 : _webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__.PixelFormat.RGBA, s.wrapMode = _webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__.TextureWrapMode.CLAMP_TO_EDGE, s.isImmutable = e, s.width = this._sourceWidth, s.height = this._sourceHeight, new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_9__.Texture(t, s);
  }
}


/***/ }),

/***/ 54592:
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitmapTile": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/mat3f32.js */ 40334);
/* harmony import */ var _Bitmap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bitmap.js */ 88770);
/* harmony import */ var _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./webgl/TiledDisplayObject.js */ 11653);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



class r extends _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__.TiledDisplayObject {
  constructor(t, s, r, i, a, n, m = null) {
    super(t, s, r, i, a, n), this.bitmap = new _Bitmap_js__WEBPACK_IMPORTED_MODULE_1__.Bitmap(m), this.bitmap.coordScale = [a, n], this.bitmap.once("isReady", () => this.ready());
  }
  destroy() {
    super.destroy(), this.bitmap.destroy();
  }
  beforeRender(t) {
    this.bitmap.beforeRender(t), super.beforeRender(t);
  }
  afterRender(t) {
    this.bitmap.afterRender(t), super.afterRender(t);
  }
  set stencilRef(t) {
    this.bitmap.stencilRef = t;
  }
  get stencilRef() {
    return this.bitmap.stencilRef;
  }
  _createTransforms() {
    return {
      dvs: (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)(),
      tileMat3: (0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)()
    };
  }
  setTransform(t) {
    super.setTransform(t), this.bitmap.transforms.dvs = this.transforms.dvs;
  }
  onAttach() {
    this.bitmap.stage = this.stage;
  }
  onDetach() {
    this.bitmap && (this.bitmap.stage = null);
  }
}


/***/ }),

/***/ 73491:
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitmapTileContainer": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ 6848);
/* harmony import */ var _BitmapTile_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BitmapTile.js */ 54592);
/* harmony import */ var _brushes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./brushes.js */ 38690);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./webgl/enums.js */ 20753);
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webgl/TileContainer.js */ 53971);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/





class n extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_4__["default"] {
  get requiresDedicatedFBO() {
    return this.children.some(e => "additive" === e.bitmap.blendFunction);
  }
  createTile(r) {
    const t = this._tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(), r),
      s = this._tileInfoView.getTileResolution(r.level),
      [n, o] = this._tileInfoView.tileInfo.size;
    return new _BitmapTile_js__WEBPACK_IMPORTED_MODULE_1__.BitmapTile(r, s, t[0], t[3], n, o);
  }
  prepareRenderPasses(e) {
    const i = e.registerRenderPass({
      name: "bitmap (tile)",
      brushes: [_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.bitmap],
      target: () => this.children.map(e => e.bitmap),
      drawPhase: _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLDrawPhase.MAP
    });
    return [...super.prepareRenderPasses(e), i];
  }
  doRender(e) {
    this.visible && e.drawPhase === _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLDrawPhase.MAP && super.doRender(e);
  }
}


/***/ }),

/***/ 7585:
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class l {
  constructor(l, e, t) {
    this.pixelBlock = l, this.extent = e, this.originalPixelBlock = t;
  }
  get width() {
    return null != this.pixelBlock ? this.pixelBlock.width : 0;
  }
  get height() {
    return null != this.pixelBlock ? this.pixelBlock.height : 0;
  }
  render(l) {
    const e = this.pixelBlock;
    if (null == e) return;
    const t = this.filter({
      extent: this.extent,
      pixelBlock: this.originalPixelBlock ?? e
    });
    if (null == t.pixelBlock) return;
    t.pixelBlock.maskIsAlpha && (t.pixelBlock.premultiplyAlpha = !0);
    const i = t.pixelBlock.getAsRGBA(),
      h = l.createImageData(t.pixelBlock.width, t.pixelBlock.height);
    h.data.set(i), l.putImageData(h, 0, 0);
  }
  getRenderedRasterPixels() {
    const l = this.filter({
      extent: this.extent,
      pixelBlock: this.pixelBlock
    });
    return null == l.pixelBlock ? null : (l.pixelBlock.maskIsAlpha && (l.pixelBlock.premultiplyAlpha = !0), {
      width: l.pixelBlock.width,
      height: l.pixelBlock.height,
      renderedRasterPixels: new Uint8Array(l.pixelBlock.getAsRGBA().buffer)
    });
  }
}


/***/ }),

/***/ 34040:
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ 18100);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ 28191);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ 30801);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ 7521);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ 9497);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ 83382);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ 19420);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ 67087);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ 20891);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/









const a = a => {
  let c = class extends a {
    initialize() {
      this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)(() => this.layer, "refresh", r => {
        this.doRefresh(r.dataChanged).catch(r => {
          (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r) || _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r);
        });
      }), "RefreshableLayerView");
    }
  };
  return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()], c.prototype, "layer", void 0), c = (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.mixins.RefreshableLayerView")], c), c;
};


/***/ })

}]);
//# sourceMappingURL=default-node_modules_arcgis_core_views_2d_engine_BitmapTileContainer_js-node_modules_arcgis_c-1768d3.js.map